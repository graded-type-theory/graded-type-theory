<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Context.Properties.Update</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties of context updates.</a>
<a id="108" class="Comment">------------------------------------------------------------------------</a>

<a id="182" class="Keyword">import</a> <a id="189" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="206" class="Keyword">module</a> <a id="213" href="Graded.Context.Properties.Update.html" class="Module">Graded.Context.Properties.Update</a>
  <a id="248" class="Symbol">{</a><a id="249" href="Graded.Context.Properties.Update.html#249" class="Bound">a</a><a id="250" class="Symbol">}</a> <a id="252" class="Symbol">{</a><a id="253" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a> <a id="255" class="Symbol">:</a> <a id="257" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="261" href="Graded.Context.Properties.Update.html#249" class="Bound">a</a><a id="262" class="Symbol">}</a>
  <a id="266" class="Symbol">(</a><a id="267" class="Keyword">open</a> <a id="272" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="288" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="289" class="Symbol">)</a>
  <a id="293" class="Symbol">(</a><a id="294" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a> <a id="296" class="Symbol">:</a> <a id="298" href="Graded.Modality.html#9626" class="Record">Modality</a><a id="306" class="Symbol">)</a>
  <a id="310" class="Keyword">where</a>

<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="344" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Graded.Context.Properties.Equivalence.html" class="Module">Graded.Context.Properties.Equivalence</a> <a id="396" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Graded.Context.Properties.Lookup.html" class="Module">Graded.Context.Properties.Lookup</a> <a id="443" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="445" class="Keyword">open</a> <a id="450" class="Keyword">import</a> <a id="457" href="Graded.Context.Properties.Natrec.html" class="Module">Graded.Context.Properties.Natrec</a> <a id="490" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Graded.Context.Properties.PartialOrder.html" class="Module">Graded.Context.Properties.PartialOrder</a> <a id="543" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Graded.Modality.Nr-instances.html" class="Module">Graded.Modality.Nr-instances</a>
<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="625" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>

<a id="628" class="Keyword">open</a> <a id="633" class="Keyword">import</a> <a id="640" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="650" class="Keyword">open</a> <a id="655" class="Keyword">import</a> <a id="662" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="672" class="Keyword">using</a> <a id="678" class="Symbol">(</a><a id="679" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="682" class="Symbol">;</a> <a id="684" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a><a id="686" class="Symbol">)</a>
<a id="688" class="Keyword">open</a> <a id="693" class="Keyword">import</a> <a id="700" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="728" class="Symbol">as</a> <a id="731" class="Module">PE</a>
<a id="734" class="Keyword">import</a> <a id="741" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="770" class="Keyword">import</a> <a id="777" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="816" class="Keyword">open</a> <a id="821" href="Graded.Modality.html#9626" class="Module">Modality</a> <a id="830" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>

<a id="833" class="Keyword">private</a>
  <a id="843" class="Keyword">variable</a>
    <a id="856" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a> <a id="858" href="Graded.Context.Properties.Update.html#858" class="Generalizable">i</a> <a id="860" class="Symbol">:</a> <a id="862" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="870" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="872" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="874" href="Graded.Context.Properties.Update.html#874" class="Generalizable">r</a> <a id="876" class="Symbol">:</a> <a id="878" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a>
    <a id="884" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="886" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="888" class="Symbol">:</a> <a id="890" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="895" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a>
    <a id="901" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="903" class="Symbol">:</a> <a id="905" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="909" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a>

<a id="912" class="Comment">-- Updating a context with its own content has no effect</a>
<a id="969" class="Comment">-- (γ , x ≔ (γ ⟨ x ⟩)) ≡ γ</a>

<a id="update-self"></a><a id="997" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1009" class="Symbol">:</a> <a id="1011" class="Symbol">(</a><a id="1012" href="Graded.Context.Properties.Update.html#1012" class="Bound">γ</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="1021" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="1022" class="Symbol">)</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Graded.Context.Properties.Update.html#1025" class="Bound">x</a> <a id="1027" class="Symbol">:</a> <a id="1029" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1033" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="1034" class="Symbol">)</a> <a id="1036" class="Symbol">→</a> <a id="1038" class="Symbol">(</a><a id="1039" href="Graded.Context.Properties.Update.html#1012" class="Bound">γ</a> <a id="1041" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1043" href="Graded.Context.Properties.Update.html#1025" class="Bound">x</a> <a id="1045" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1047" class="Symbol">(</a><a id="1048" href="Graded.Context.Properties.Update.html#1012" class="Bound">γ</a> <a id="1050" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="1052" href="Graded.Context.Properties.Update.html#1025" class="Bound">x</a> <a id="1054" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="1055" class="Symbol">))</a> <a id="1058" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1060" href="Graded.Context.Properties.Update.html#1012" class="Bound">γ</a>
<a id="1062" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1074" href="Graded.Context.html#756" class="InductiveConstructor">ε</a>       <a id="1082" class="Symbol">()</a>
<a id="1085" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Graded.Context.Properties.Update.html#1098" class="Bound">γ</a> <a id="1100" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="1102" href="Graded.Context.Properties.Update.html#1102" class="Bound">p</a><a id="1103" class="Symbol">)</a> <a id="1105" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a>     <a id="1112" class="Symbol">=</a> <a id="1114" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="1122" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Graded.Context.Properties.Update.html#1135" class="Bound">γ</a> <a id="1137" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="1139" href="Graded.Context.Properties.Update.html#1139" class="Bound">p</a><a id="1140" class="Symbol">)</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Graded.Context.Properties.Update.html#1143" class="Bound">x</a> <a id="1145" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="1147" class="Symbol">)</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1156" class="Symbol">(</a><a id="1157" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="1160" class="Symbol">_)</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1176" href="Graded.Context.Properties.Update.html#1135" class="Bound">γ</a> <a id="1178" href="Graded.Context.Properties.Update.html#1143" class="Bound">x</a><a id="1179" class="Symbol">)</a>

<a id="1182" class="Comment">-- Updating a value in 𝟘ᶜ with 𝟘 has no effect.</a>

<a id="𝟘ᶜ,≔𝟘"></a><a id="1231" href="Graded.Context.Properties.Update.html#1231" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1237" class="Symbol">:</a> <a id="1239" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1242" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1244" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="1246" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1248" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="1250" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1252" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>
<a id="1255" href="Graded.Context.Properties.Update.html#1231" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1261" class="Symbol">{</a><a id="1262" class="Argument">x</a> <a id="1264" class="Symbol">=</a> <a id="1266" href="Graded.Context.Properties.Update.html#1266" class="Bound">x</a><a id="1267" class="Symbol">}</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="1279" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1282" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1284" href="Graded.Context.Properties.Update.html#1266" class="Bound">x</a> <a id="1286" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1288" href="Graded.Modality.html#995" class="Function">𝟘</a>         <a id="1298" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="1302" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1307" class="Symbol">(λ</a> <a id="1310" href="Graded.Context.Properties.Update.html#1310" class="Bound">p</a> <a id="1312" class="Symbol">→</a> <a id="1314" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1317" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1319" class="Symbol">_</a> <a id="1321" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1323" href="Graded.Context.Properties.Update.html#1310" class="Bound">p</a><a id="1324" class="Symbol">)</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Graded.Context.Properties.Lookup.html#919" class="Function">𝟘ᶜ-lookup</a> <a id="1337" href="Graded.Context.Properties.Update.html#1266" class="Bound">x</a><a id="1338" class="Symbol">)</a> <a id="1340" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
  <a id="1344" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1347" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1349" href="Graded.Context.Properties.Update.html#1266" class="Bound">x</a> <a id="1351" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1353" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1356" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="1358" href="Graded.Context.Properties.Update.html#1266" class="Bound">x</a> <a id="1360" href="Graded.Context.html#1320" class="Function Operator">⟩</a>  <a id="1363" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1366" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1378" class="Symbol">_</a> <a id="1380" class="Symbol">_</a> <a id="1382" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="1386" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>                 <a id="1405" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="1409" class="Keyword">where</a>
  <a id="1417" class="Keyword">open</a> <a id="1422" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1461" class="Comment">-- Updating a value in 𝟙ᶜ with 𝟙 has no effect.</a>

<a id="𝟙ᶜ,≔𝟙"></a><a id="1510" href="Graded.Context.Properties.Update.html#1510" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1516" class="Symbol">:</a> <a id="1518" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a> <a id="1521" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1523" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="1525" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1527" href="Graded.Modality.html#997" class="Function">𝟙</a> <a id="1529" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1531" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a>
<a id="1534" href="Graded.Context.Properties.Update.html#1510" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1540" class="Symbol">{</a><a id="1541" class="Argument">x</a> <a id="1543" class="Symbol">=</a> <a id="1545" href="Graded.Context.Properties.Update.html#1545" class="Bound">x</a><a id="1546" class="Symbol">}</a> <a id="1548" class="Symbol">=</a> <a id="1550" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="1558" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a> <a id="1561" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1563" href="Graded.Context.Properties.Update.html#1545" class="Bound">x</a> <a id="1565" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1567" href="Graded.Modality.html#997" class="Function">𝟙</a>         <a id="1577" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="1581" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1586" class="Symbol">(λ</a> <a id="1589" href="Graded.Context.Properties.Update.html#1589" class="Bound">p</a> <a id="1591" class="Symbol">→</a> <a id="1593" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a> <a id="1596" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1598" class="Symbol">_</a> <a id="1600" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1602" href="Graded.Context.Properties.Update.html#1589" class="Bound">p</a><a id="1603" class="Symbol">)</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Graded.Context.Properties.Lookup.html#1067" class="Function">𝟙ᶜ-lookup</a> <a id="1616" href="Graded.Context.Properties.Update.html#1545" class="Bound">x</a><a id="1617" class="Symbol">)</a> <a id="1619" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
  <a id="1623" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a> <a id="1626" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1628" href="Graded.Context.Properties.Update.html#1545" class="Bound">x</a> <a id="1630" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1632" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a> <a id="1635" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="1637" href="Graded.Context.Properties.Update.html#1545" class="Bound">x</a> <a id="1639" href="Graded.Context.html#1320" class="Function Operator">⟩</a>  <a id="1642" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1645" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="1657" class="Symbol">_</a> <a id="1659" class="Symbol">_</a> <a id="1661" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="1665" href="Graded.Context.html#2651" class="Function">𝟙ᶜ</a>                 <a id="1684" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="1688" class="Keyword">where</a>
  <a id="1696" class="Keyword">open</a> <a id="1701" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1740" class="Comment">-- If a given position is updated twice, then the first update has no</a>
<a id="1810" class="Comment">-- effect.</a>

<a id="update-twice"></a><a id="1822" href="Graded.Context.Properties.Update.html#1822" class="Function">update-twice</a> <a id="1835" class="Symbol">:</a> <a id="1837" class="Symbol">(</a><a id="1838" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="1840" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1842" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="1844" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1846" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="1847" class="Symbol">)</a> <a id="1849" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1851" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="1853" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1855" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="1857" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1859" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="1861" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="1863" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="1865" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="1867" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a>
<a id="1869" href="Graded.Context.Properties.Update.html#1822" class="Function">update-twice</a> <a id="1882" class="Symbol">{</a><a id="1883" class="Argument">γ</a> <a id="1885" class="Symbol">=</a> <a id="1887" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="1888" class="Symbol">}</a>     <a id="1894" class="Symbol">{</a><a id="1895" class="Argument">x</a> <a id="1897" class="Symbol">=</a> <a id="1899" class="Symbol">()}</a>
<a id="1903" href="Graded.Context.Properties.Update.html#1822" class="Function">update-twice</a> <a id="1916" class="Symbol">{</a><a id="1917" class="Argument">γ</a> <a id="1919" class="Symbol">=</a> <a id="1921" class="Symbol">_</a> <a id="1923" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="1925" class="Symbol">_}</a> <a id="1928" class="Symbol">{</a><a id="1929" class="Argument">x</a> <a id="1931" class="Symbol">=</a> <a id="1933" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="1935" class="Symbol">}</a>   <a id="1939" class="Symbol">=</a> <a id="1941" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="1949" href="Graded.Context.Properties.Update.html#1822" class="Function">update-twice</a> <a id="1962" class="Symbol">{</a><a id="1963" class="Argument">γ</a> <a id="1965" class="Symbol">=</a> <a id="1967" class="Symbol">_</a> <a id="1969" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="1971" class="Symbol">_}</a> <a id="1974" class="Symbol">{</a><a id="1975" class="Argument">x</a> <a id="1977" class="Symbol">=</a> <a id="1979" href="Graded.Context.Properties.Update.html#1979" class="Bound">x</a> <a id="1981" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="1983" class="Symbol">}</a> <a id="1985" class="Symbol">=</a> <a id="1987" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="1996" class="Symbol">_)</a> <a id="1999" href="Graded.Context.Properties.Update.html#1822" class="Function">update-twice</a>

<a id="2013" class="Comment">-- Context update is a monotone function with regards to the context</a>
<a id="2082" class="Comment">-- If γ ≤ᶜ δ then (γ , x ≔ p) ≤ᶜ (δ , x ≔ p)</a>

<a id="update-monotoneˡ"></a><a id="2128" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2145" class="Symbol">:</a> <a id="2147" class="Symbol">(</a><a id="2148" href="Graded.Context.Properties.Update.html#2148" class="Bound">x</a> <a id="2150" class="Symbol">:</a> <a id="2152" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="2156" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="2157" class="Symbol">)</a> <a id="2159" class="Symbol">→</a> <a id="2161" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2163" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="2166" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="2168" class="Symbol">→</a> <a id="2170" class="Symbol">(</a><a id="2171" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2173" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2175" href="Graded.Context.Properties.Update.html#2148" class="Bound">x</a> <a id="2177" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2179" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="2180" class="Symbol">)</a> <a id="2182" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="2188" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2190" href="Graded.Context.Properties.Update.html#2148" class="Bound">x</a> <a id="2192" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2194" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="2195" class="Symbol">)</a>
<a id="2197" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2214" class="Symbol">{</a><a id="2215" class="Argument">γ</a> <a id="2217" class="Symbol">=</a> <a id="2219" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="2220" class="Symbol">}</a>             <a id="2234" class="Symbol">()</a>
<a id="2237" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2254" class="Symbol">{</a><a id="2255" class="Argument">γ</a> <a id="2257" class="Symbol">=</a> <a id="2259" href="Graded.Context.Properties.Update.html#2259" class="Bound">γ</a> <a id="2261" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2263" href="Graded.Context.Properties.Update.html#2263" class="Bound">p</a><a id="2264" class="Symbol">}</a> <a id="2266" class="Symbol">{</a><a id="2267" href="Graded.Context.Properties.Update.html#2267" class="Bound">δ</a> <a id="2269" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2271" href="Graded.Context.Properties.Update.html#2271" class="Bound">q</a><a id="2272" class="Symbol">}</a> <a id="2274" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="2277" class="Symbol">(</a><a id="2278" href="Graded.Context.Properties.Update.html#2278" class="Bound">γ≤δ</a> <a id="2282" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2284" class="Symbol">_)</a>        <a id="2294" class="Symbol">=</a> <a id="2296" href="Graded.Context.Properties.Update.html#2278" class="Bound">γ≤δ</a> <a id="2300" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2302" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a>
<a id="2309" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2326" class="Symbol">{</a><a id="2327" class="Argument">γ</a> <a id="2329" class="Symbol">=</a> <a id="2331" href="Graded.Context.Properties.Update.html#2331" class="Bound">γ</a> <a id="2333" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2335" href="Graded.Context.Properties.Update.html#2335" class="Bound">p</a><a id="2336" class="Symbol">}</a> <a id="2338" class="Symbol">{</a><a id="2339" href="Graded.Context.Properties.Update.html#2339" class="Bound">δ</a> <a id="2341" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2343" href="Graded.Context.Properties.Update.html#2343" class="Bound">q</a><a id="2344" class="Symbol">}</a> <a id="2346" class="Symbol">(</a><a id="2347" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">_+1</a> <a id="2351" href="Graded.Context.Properties.Update.html#2351" class="Bound">x</a><a id="2352" class="Symbol">)</a> <a id="2354" class="Symbol">(</a><a id="2355" href="Graded.Context.Properties.Update.html#2355" class="Bound">γ≤δ</a> <a id="2359" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2361" href="Graded.Context.Properties.Update.html#2361" class="Bound">p≤q</a><a id="2364" class="Symbol">)</a> <a id="2366" class="Symbol">=</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2386" href="Graded.Context.Properties.Update.html#2351" class="Bound">x</a> <a id="2388" href="Graded.Context.Properties.Update.html#2355" class="Bound">γ≤δ</a><a id="2391" class="Symbol">)</a> <a id="2393" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2395" href="Graded.Context.Properties.Update.html#2361" class="Bound">p≤q</a>

<a id="2400" class="Comment">-- Context update is monotone with regards to the inserted element</a>
<a id="2467" class="Comment">-- If p ≤ q then( γ , x ≔ p) ≤ᶜ (γ , x ≔ q)</a>

<a id="update-monotoneʳ"></a><a id="2512" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2529" class="Symbol">:</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Graded.Context.Properties.Update.html#2532" class="Bound">x</a> <a id="2534" class="Symbol">:</a> <a id="2536" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="2540" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="2541" class="Symbol">)</a> <a id="2543" class="Symbol">→</a> <a id="2545" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="2547" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2549" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="2551" class="Symbol">→</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2556" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2558" href="Graded.Context.Properties.Update.html#2532" class="Bound">x</a> <a id="2560" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2562" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="2563" class="Symbol">)</a> <a id="2565" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2571" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2573" href="Graded.Context.Properties.Update.html#2532" class="Bound">x</a> <a id="2575" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2577" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a><a id="2578" class="Symbol">)</a>
<a id="2580" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2597" class="Symbol">{</a><a id="2598" class="Argument">γ</a> <a id="2600" class="Symbol">=</a> <a id="2602" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="2603" class="Symbol">}</a>     <a id="2609" class="Symbol">()</a>
<a id="2612" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2629" class="Symbol">{</a><a id="2630" class="Argument">γ</a> <a id="2632" class="Symbol">=</a> <a id="2634" href="Graded.Context.Properties.Update.html#2634" class="Bound">γ</a> <a id="2636" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2638" href="Graded.Context.Properties.Update.html#2638" class="Bound">p</a><a id="2639" class="Symbol">}</a> <a id="2641" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="2644" href="Graded.Context.Properties.Update.html#2644" class="Bound">p≤q</a>     <a id="2652" class="Symbol">=</a> <a id="2654" href="Graded.Context.Properties.PartialOrder.html#656" class="Function">≤ᶜ-refl</a> <a id="2662" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2664" href="Graded.Context.Properties.Update.html#2644" class="Bound">p≤q</a>
<a id="2668" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2685" class="Symbol">{</a><a id="2686" class="Argument">γ</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="Graded.Context.Properties.Update.html#2690" class="Bound">γ</a> <a id="2692" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="2694" href="Graded.Context.Properties.Update.html#2694" class="Bound">p</a><a id="2695" class="Symbol">}</a> <a id="2697" class="Symbol">(</a><a id="2698" href="Graded.Context.Properties.Update.html#2698" class="Bound">x</a> <a id="2700" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="2702" class="Symbol">)</a> <a id="2704" href="Graded.Context.Properties.Update.html#2704" class="Bound">p≤q</a> <a id="2708" class="Symbol">=</a> <a id="2710" class="Symbol">(</a><a id="2711" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2728" href="Graded.Context.Properties.Update.html#2698" class="Bound">x</a> <a id="2730" href="Graded.Context.Properties.Update.html#2704" class="Bound">p≤q</a><a id="2733" class="Symbol">)</a> <a id="2735" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="2737" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a>

<a id="2745" class="Comment">-- Context update is monotone.</a>

<a id="update-monotone"></a><a id="2777" href="Graded.Context.Properties.Update.html#2777" class="Function">update-monotone</a> <a id="2793" class="Symbol">:</a>
  <a id="2797" class="Symbol">(</a><a id="2798" href="Graded.Context.Properties.Update.html#2798" class="Bound">x</a> <a id="2800" class="Symbol">:</a> <a id="2802" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="2806" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="2807" class="Symbol">)</a> <a id="2809" class="Symbol">→</a> <a id="2811" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2813" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="2816" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="2818" class="Symbol">→</a> <a id="2820" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="2822" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2824" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="2826" class="Symbol">→</a> <a id="2828" class="Symbol">(</a><a id="2829" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="2831" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2833" href="Graded.Context.Properties.Update.html#2798" class="Bound">x</a> <a id="2835" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2837" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="2838" class="Symbol">)</a> <a id="2840" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="2846" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2848" href="Graded.Context.Properties.Update.html#2798" class="Bound">x</a> <a id="2850" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2852" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a><a id="2853" class="Symbol">)</a>
<a id="2855" href="Graded.Context.Properties.Update.html#2777" class="Function">update-monotone</a> <a id="2871" class="Symbol">{</a><a id="2872" class="Argument">γ</a> <a id="2874" class="Symbol">=</a> <a id="2876" href="Graded.Context.Properties.Update.html#2876" class="Bound">γ</a><a id="2877" class="Symbol">}</a> <a id="2879" class="Symbol">{</a><a id="2880" class="Argument">δ</a> <a id="2882" class="Symbol">=</a> <a id="2884" href="Graded.Context.Properties.Update.html#2884" class="Bound">δ</a><a id="2885" class="Symbol">}</a> <a id="2887" class="Symbol">{</a><a id="2888" class="Argument">p</a> <a id="2890" class="Symbol">=</a> <a id="2892" href="Graded.Context.Properties.Update.html#2892" class="Bound">p</a><a id="2893" class="Symbol">}</a> <a id="2895" class="Symbol">{</a><a id="2896" class="Argument">q</a> <a id="2898" class="Symbol">=</a> <a id="2900" href="Graded.Context.Properties.Update.html#2900" class="Bound">q</a><a id="2901" class="Symbol">}</a> <a id="2903" href="Graded.Context.Properties.Update.html#2903" class="Bound">x</a> <a id="2905" href="Graded.Context.Properties.Update.html#2905" class="Bound">γ≤δ</a> <a id="2909" href="Graded.Context.Properties.Update.html#2909" class="Bound">p≤q</a> <a id="2913" class="Symbol">=</a> <a id="2915" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="2923" href="Graded.Context.Properties.Update.html#2876" class="Bound">γ</a> <a id="2925" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2927" href="Graded.Context.Properties.Update.html#2903" class="Bound">x</a> <a id="2929" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2931" href="Graded.Context.Properties.Update.html#2892" class="Bound">p</a>  <a id="2934" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="2937" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="2954" class="Symbol">_</a> <a id="2956" href="Graded.Context.Properties.Update.html#2905" class="Bound">γ≤δ</a> <a id="2960" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="2964" href="Graded.Context.Properties.Update.html#2884" class="Bound">δ</a> <a id="2966" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="2968" href="Graded.Context.Properties.Update.html#2903" class="Bound">x</a> <a id="2970" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="2972" href="Graded.Context.Properties.Update.html#2892" class="Bound">p</a>  <a id="2975" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="2978" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="2995" class="Symbol">_</a> <a id="2997" href="Graded.Context.Properties.Update.html#2909" class="Bound">p≤q</a> <a id="3001" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
  <a id="3005" href="Graded.Context.Properties.Update.html#2884" class="Bound">δ</a> <a id="3007" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3009" href="Graded.Context.Properties.Update.html#2903" class="Bound">x</a> <a id="3011" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3013" href="Graded.Context.Properties.Update.html#2900" class="Bound">q</a>  <a id="3016" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="3020" class="Keyword">where</a>
  <a id="3028" class="Keyword">open</a> <a id="3033" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="3062" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>

<a id="3072" class="Comment">-- The update operation preserves equivalence in its first argument.</a>

<a id="update-congˡ"></a><a id="3142" href="Graded.Context.Properties.Update.html#3142" class="Function">update-congˡ</a> <a id="3155" class="Symbol">:</a> <a id="3157" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3159" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3162" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="3164" class="Symbol">→</a> <a id="3166" class="Symbol">(</a><a id="3167" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3169" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3171" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3173" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3175" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="3176" class="Symbol">)</a> <a id="3178" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3181" class="Symbol">(</a><a id="3182" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="3184" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3186" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3188" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3190" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="3191" class="Symbol">)</a>
<a id="3193" href="Graded.Context.Properties.Update.html#3142" class="Function">update-congˡ</a> <a id="3206" href="Graded.Context.Properties.Update.html#3206" class="Bound">γ≈ᶜδ</a> <a id="3211" class="Symbol">=</a>
  <a id="3215" href="Graded.Context.Properties.PartialOrder.html#1072" class="Function">≤ᶜ-antisym</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="3244" class="Symbol">_</a> <a id="3246" class="Symbol">(</a><a id="3247" href="Graded.Context.Properties.PartialOrder.html#1343" class="Function">≤ᶜ-reflexive</a> <a id="3260" href="Graded.Context.Properties.Update.html#3206" class="Bound">γ≈ᶜδ</a><a id="3264" class="Symbol">))</a>
    <a id="3271" class="Symbol">(</a><a id="3272" href="Graded.Context.Properties.Update.html#2128" class="Function">update-monotoneˡ</a> <a id="3289" class="Symbol">_</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Graded.Context.Properties.PartialOrder.html#1343" class="Function">≤ᶜ-reflexive</a> <a id="3305" class="Symbol">(</a><a id="3306" href="Graded.Context.Properties.Equivalence.html#976" class="Function">≈ᶜ-sym</a> <a id="3313" href="Graded.Context.Properties.Update.html#3206" class="Bound">γ≈ᶜδ</a><a id="3317" class="Symbol">)))</a>

<a id="3322" class="Comment">-- The update operation preserves equivalence in its third argument.</a>

<a id="update-congʳ"></a><a id="3392" href="Graded.Context.Properties.Update.html#3392" class="Function">update-congʳ</a> <a id="3405" class="Symbol">:</a> <a id="3407" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="3409" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3411" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="3413" class="Symbol">→</a> <a id="3415" class="Symbol">(</a><a id="3416" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3418" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3420" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3422" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3424" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="3425" class="Symbol">)</a> <a id="3427" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3430" class="Symbol">(</a><a id="3431" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3433" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3435" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3437" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3439" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a><a id="3440" class="Symbol">)</a>
<a id="3442" href="Graded.Context.Properties.Update.html#3392" class="Function">update-congʳ</a> <a id="3455" href="Graded.Context.Properties.Update.html#3455" class="Bound">p≡q</a> <a id="3459" class="Symbol">=</a>
  <a id="3463" href="Graded.Context.Properties.PartialOrder.html#1072" class="Function">≤ᶜ-antisym</a> <a id="3474" class="Symbol">(</a><a id="3475" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="3492" class="Symbol">_</a> <a id="3494" class="Symbol">(</a><a id="3495" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="3507" href="Graded.Context.Properties.Update.html#3455" class="Bound">p≡q</a><a id="3510" class="Symbol">))</a>
    <a id="3517" class="Symbol">(</a><a id="3518" href="Graded.Context.Properties.Update.html#2512" class="Function">update-monotoneʳ</a> <a id="3535" class="Symbol">_</a> <a id="3537" class="Symbol">(</a><a id="3538" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="3550" class="Symbol">(</a><a id="3551" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3555" href="Graded.Context.Properties.Update.html#3455" class="Bound">p≡q</a><a id="3558" class="Symbol">)))</a>

<a id="3563" class="Comment">-- The update operation preserves equivalence in its first and third</a>
<a id="3632" class="Comment">-- arguments.</a>

<a id="update-cong"></a><a id="3647" href="Graded.Context.Properties.Update.html#3647" class="Function">update-cong</a> <a id="3659" class="Symbol">:</a> <a id="3661" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3663" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3666" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="3668" class="Symbol">→</a> <a id="3670" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="3672" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3674" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="3676" class="Symbol">→</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="3681" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3683" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3685" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3687" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="3688" class="Symbol">)</a> <a id="3690" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3693" class="Symbol">(</a><a id="3694" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="3696" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3698" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="3700" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3702" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a><a id="3703" class="Symbol">)</a>
<a id="3705" href="Graded.Context.Properties.Update.html#3647" class="Function">update-cong</a> <a id="3717" href="Graded.Context.Properties.Update.html#3717" class="Bound">γ≈ᶜδ</a> <a id="3722" href="Graded.Context.Properties.Update.html#3722" class="Bound">p≡q</a> <a id="3726" class="Symbol">=</a>
  <a id="3730" href="Graded.Context.Properties.Equivalence.html#704" class="Function">≈ᶜ-trans</a> <a id="3739" class="Symbol">(</a><a id="3740" href="Graded.Context.Properties.Update.html#3142" class="Function">update-congˡ</a> <a id="3753" href="Graded.Context.Properties.Update.html#3717" class="Bound">γ≈ᶜδ</a><a id="3757" class="Symbol">)</a> <a id="3759" class="Symbol">(</a><a id="3760" href="Graded.Context.Properties.Update.html#3392" class="Function">update-congʳ</a> <a id="3773" href="Graded.Context.Properties.Update.html#3722" class="Bound">p≡q</a><a id="3776" class="Symbol">)</a>

<a id="3779" class="Comment">-- Context update distributes over addition</a>
<a id="3823" class="Comment">-- (γ +ᶜ δ) , x ≔ (p + q) ≡ (γ , x ≔ p) +ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-+ᶜ"></a><a id="3879" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="3897" class="Symbol">:</a> <a id="3899" class="Symbol">(</a><a id="3900" href="Graded.Context.Properties.Update.html#3900" class="Bound">γ</a> <a id="3902" href="Graded.Context.Properties.Update.html#3902" class="Bound">δ</a> <a id="3904" class="Symbol">:</a> <a id="3906" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="3911" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="3912" class="Symbol">)</a> <a id="3914" class="Symbol">(</a><a id="3915" href="Graded.Context.Properties.Update.html#3915" class="Bound">p</a> <a id="3917" href="Graded.Context.Properties.Update.html#3917" class="Bound">q</a> <a id="3919" class="Symbol">:</a> <a id="3921" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="3922" class="Symbol">)</a> <a id="3924" class="Symbol">(</a><a id="3925" href="Graded.Context.Properties.Update.html#3925" class="Bound">x</a> <a id="3927" class="Symbol">:</a> <a id="3929" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="3933" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="3934" class="Symbol">)</a>
                  <a id="3954" class="Symbol">→</a> <a id="3956" class="Symbol">(</a><a id="3957" href="Graded.Context.Properties.Update.html#3900" class="Bound">γ</a> <a id="3959" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3962" href="Graded.Context.Properties.Update.html#3902" class="Bound">δ</a><a id="3963" class="Symbol">)</a> <a id="3965" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3967" href="Graded.Context.Properties.Update.html#3925" class="Bound">x</a> <a id="3969" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3971" class="Symbol">(</a><a id="3972" href="Graded.Context.Properties.Update.html#3915" class="Bound">p</a> <a id="3974" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="3976" href="Graded.Context.Properties.Update.html#3917" class="Bound">q</a><a id="3977" class="Symbol">)</a> <a id="3979" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Graded.Context.Properties.Update.html#3900" class="Bound">γ</a> <a id="3984" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="3986" href="Graded.Context.Properties.Update.html#3925" class="Bound">x</a> <a id="3988" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="3990" href="Graded.Context.Properties.Update.html#3915" class="Bound">p</a><a id="3991" class="Symbol">)</a> <a id="3993" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3996" class="Symbol">(</a><a id="3997" href="Graded.Context.Properties.Update.html#3902" class="Bound">δ</a> <a id="3999" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4001" href="Graded.Context.Properties.Update.html#3925" class="Bound">x</a> <a id="4003" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4005" href="Graded.Context.Properties.Update.html#3917" class="Bound">q</a><a id="4006" class="Symbol">)</a>
<a id="4008" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="4026" href="Graded.Context.html#756" class="InductiveConstructor">ε</a>        <a id="4035" class="Symbol">_</a>        <a id="4044" class="Symbol">_</a> <a id="4046" class="Symbol">_</a> <a id="4048" class="Symbol">()</a>
<a id="4051" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Graded.Context.Properties.Update.html#4070" class="Bound">γ</a> <a id="4072" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4074" href="Graded.Context.Properties.Update.html#4074" class="Bound">p′</a><a id="4076" class="Symbol">)</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Graded.Context.Properties.Update.html#4079" class="Bound">δ</a> <a id="4081" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4083" href="Graded.Context.Properties.Update.html#4083" class="Bound">q′</a><a id="4085" class="Symbol">)</a> <a id="4087" href="Graded.Context.Properties.Update.html#4087" class="Bound">p</a> <a id="4089" href="Graded.Context.Properties.Update.html#4089" class="Bound">q</a> <a id="4091" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a>     <a id="4098" class="Symbol">=</a> <a id="4100" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="4108" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="4126" class="Symbol">(</a><a id="4127" href="Graded.Context.Properties.Update.html#4127" class="Bound">γ</a> <a id="4129" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4131" href="Graded.Context.Properties.Update.html#4131" class="Bound">p′</a><a id="4133" class="Symbol">)</a> <a id="4135" class="Symbol">(</a><a id="4136" href="Graded.Context.Properties.Update.html#4136" class="Bound">δ</a> <a id="4138" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4140" href="Graded.Context.Properties.Update.html#4140" class="Bound">q′</a><a id="4142" class="Symbol">)</a> <a id="4144" href="Graded.Context.Properties.Update.html#4144" class="Bound">p</a> <a id="4146" href="Graded.Context.Properties.Update.html#4146" class="Bound">q</a> <a id="4148" class="Symbol">(</a><a id="4149" href="Graded.Context.Properties.Update.html#4149" class="Bound">x</a> <a id="4151" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="4153" class="Symbol">)</a> <a id="4155" class="Symbol">=</a> <a id="4157" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4162" class="Symbol">(</a><a id="4163" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="4166" class="Symbol">_)</a> <a id="4169" class="Symbol">(</a><a id="4170" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="4188" href="Graded.Context.Properties.Update.html#4127" class="Bound">γ</a> <a id="4190" href="Graded.Context.Properties.Update.html#4136" class="Bound">δ</a> <a id="4192" href="Graded.Context.Properties.Update.html#4144" class="Bound">p</a> <a id="4194" href="Graded.Context.Properties.Update.html#4146" class="Bound">q</a> <a id="4196" href="Graded.Context.Properties.Update.html#4149" class="Bound">x</a><a id="4197" class="Symbol">)</a>

<a id="4200" class="Comment">-- Context update distributes over multiplication</a>
<a id="4250" class="Comment">-- (p ·ᶜ γ) , x ≔ (p · q) ≡ p ·ᶜ (γ , x ≔ q)</a>

<a id="update-distrib-·ᶜ"></a><a id="4296" href="Graded.Context.Properties.Update.html#4296" class="Function">update-distrib-·ᶜ</a> <a id="4314" class="Symbol">:</a> <a id="4316" class="Symbol">(</a><a id="4317" href="Graded.Context.Properties.Update.html#4317" class="Bound">γ</a> <a id="4319" class="Symbol">:</a> <a id="4321" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="4326" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="4327" class="Symbol">)</a> <a id="4329" class="Symbol">(</a><a id="4330" href="Graded.Context.Properties.Update.html#4330" class="Bound">p</a> <a id="4332" href="Graded.Context.Properties.Update.html#4332" class="Bound">q</a> <a id="4334" class="Symbol">:</a> <a id="4336" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="4337" class="Symbol">)</a> <a id="4339" class="Symbol">(</a><a id="4340" href="Graded.Context.Properties.Update.html#4340" class="Bound">x</a> <a id="4342" class="Symbol">:</a> <a id="4344" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="4348" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="4349" class="Symbol">)</a>
                  <a id="4369" class="Symbol">→</a> <a id="4371" class="Symbol">(</a><a id="4372" href="Graded.Context.Properties.Update.html#4330" class="Bound">p</a> <a id="4374" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4377" href="Graded.Context.Properties.Update.html#4317" class="Bound">γ</a><a id="4378" class="Symbol">)</a> <a id="4380" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4382" href="Graded.Context.Properties.Update.html#4340" class="Bound">x</a> <a id="4384" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4386" class="Symbol">(</a><a id="4387" href="Graded.Context.Properties.Update.html#4330" class="Bound">p</a> <a id="4389" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="4391" href="Graded.Context.Properties.Update.html#4332" class="Bound">q</a><a id="4392" class="Symbol">)</a> <a id="4394" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4396" href="Graded.Context.Properties.Update.html#4330" class="Bound">p</a> <a id="4398" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4401" class="Symbol">(</a><a id="4402" href="Graded.Context.Properties.Update.html#4317" class="Bound">γ</a> <a id="4404" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4406" href="Graded.Context.Properties.Update.html#4340" class="Bound">x</a> <a id="4408" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4410" href="Graded.Context.Properties.Update.html#4332" class="Bound">q</a><a id="4411" class="Symbol">)</a>
<a id="4413" href="Graded.Context.Properties.Update.html#4296" class="Function">update-distrib-·ᶜ</a> <a id="4431" href="Graded.Context.html#756" class="InductiveConstructor">ε</a>       <a id="4439" class="Symbol">_</a> <a id="4441" class="Symbol">_</a> <a id="4443" class="Symbol">()</a>
<a id="4446" href="Graded.Context.Properties.Update.html#4296" class="Function">update-distrib-·ᶜ</a> <a id="4464" class="Symbol">(</a><a id="4465" href="Graded.Context.Properties.Update.html#4465" class="Bound">γ</a> <a id="4467" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4469" href="Graded.Context.Properties.Update.html#4469" class="Bound">r</a><a id="4470" class="Symbol">)</a> <a id="4472" href="Graded.Context.Properties.Update.html#4472" class="Bound">p</a> <a id="4474" href="Graded.Context.Properties.Update.html#4474" class="Bound">q</a> <a id="4476" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a>     <a id="4483" class="Symbol">=</a> <a id="4485" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="4493" href="Graded.Context.Properties.Update.html#4296" class="Function">update-distrib-·ᶜ</a> <a id="4511" class="Symbol">(</a><a id="4512" href="Graded.Context.Properties.Update.html#4512" class="Bound">γ</a> <a id="4514" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4516" href="Graded.Context.Properties.Update.html#4516" class="Bound">r</a><a id="4517" class="Symbol">)</a> <a id="4519" href="Graded.Context.Properties.Update.html#4519" class="Bound">p</a> <a id="4521" href="Graded.Context.Properties.Update.html#4521" class="Bound">q</a> <a id="4523" class="Symbol">(</a><a id="4524" href="Graded.Context.Properties.Update.html#4524" class="Bound">x</a> <a id="4526" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="4528" class="Symbol">)</a> <a id="4530" class="Symbol">=</a> <a id="4532" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4537" class="Symbol">(</a><a id="4538" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="4541" class="Symbol">_)</a> <a id="4544" class="Symbol">(</a><a id="4545" href="Graded.Context.Properties.Update.html#4296" class="Function">update-distrib-·ᶜ</a> <a id="4563" href="Graded.Context.Properties.Update.html#4512" class="Bound">γ</a> <a id="4565" href="Graded.Context.Properties.Update.html#4519" class="Bound">p</a> <a id="4567" href="Graded.Context.Properties.Update.html#4521" class="Bound">q</a> <a id="4569" href="Graded.Context.Properties.Update.html#4524" class="Bound">x</a><a id="4570" class="Symbol">)</a>

<a id="4573" class="Comment">-- Context update distributes over meet</a>
<a id="4613" class="Comment">-- (γ ∧ᶜ δ) , x ≔ (p ∧ q) ≡ (γ , x ≔ p) ∧ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-∧ᶜ"></a><a id="4669" href="Graded.Context.Properties.Update.html#4669" class="Function">update-distrib-∧ᶜ</a> <a id="4687" class="Symbol">:</a> <a id="4689" class="Symbol">(</a><a id="4690" href="Graded.Context.Properties.Update.html#4690" class="Bound">γ</a> <a id="4692" href="Graded.Context.Properties.Update.html#4692" class="Bound">δ</a> <a id="4694" class="Symbol">:</a> <a id="4696" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="4701" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="4702" class="Symbol">)</a> <a id="4704" class="Symbol">(</a><a id="4705" href="Graded.Context.Properties.Update.html#4705" class="Bound">p</a> <a id="4707" href="Graded.Context.Properties.Update.html#4707" class="Bound">q</a> <a id="4709" class="Symbol">:</a> <a id="4711" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="4712" class="Symbol">)</a> <a id="4714" class="Symbol">(</a><a id="4715" href="Graded.Context.Properties.Update.html#4715" class="Bound">x</a> <a id="4717" class="Symbol">:</a> <a id="4719" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="4723" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="4724" class="Symbol">)</a>
                  <a id="4744" class="Symbol">→</a> <a id="4746" class="Symbol">(</a><a id="4747" href="Graded.Context.Properties.Update.html#4690" class="Bound">γ</a> <a id="4749" href="Graded.Context.html#1694" class="Function Operator">∧ᶜ</a> <a id="4752" href="Graded.Context.Properties.Update.html#4692" class="Bound">δ</a><a id="4753" class="Symbol">)</a> <a id="4755" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4757" href="Graded.Context.Properties.Update.html#4715" class="Bound">x</a> <a id="4759" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Graded.Context.Properties.Update.html#4705" class="Bound">p</a> <a id="4764" href="Graded.Modality.html#979" class="Function Operator">∧</a> <a id="4766" href="Graded.Context.Properties.Update.html#4707" class="Bound">q</a><a id="4767" class="Symbol">)</a> <a id="4769" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4771" class="Symbol">(</a><a id="4772" href="Graded.Context.Properties.Update.html#4690" class="Bound">γ</a> <a id="4774" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4776" href="Graded.Context.Properties.Update.html#4715" class="Bound">x</a> <a id="4778" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4780" href="Graded.Context.Properties.Update.html#4705" class="Bound">p</a><a id="4781" class="Symbol">)</a> <a id="4783" href="Graded.Context.html#1694" class="Function Operator">∧ᶜ</a> <a id="4786" class="Symbol">(</a><a id="4787" href="Graded.Context.Properties.Update.html#4692" class="Bound">δ</a> <a id="4789" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4791" href="Graded.Context.Properties.Update.html#4715" class="Bound">x</a> <a id="4793" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4795" href="Graded.Context.Properties.Update.html#4707" class="Bound">q</a><a id="4796" class="Symbol">)</a>
<a id="4798" href="Graded.Context.Properties.Update.html#4669" class="Function">update-distrib-∧ᶜ</a> <a id="4816" href="Graded.Context.html#756" class="InductiveConstructor">ε</a>        <a id="4825" class="Symbol">_</a>        <a id="4834" class="Symbol">_</a> <a id="4836" class="Symbol">_</a> <a id="4838" class="Symbol">()</a>
<a id="4841" href="Graded.Context.Properties.Update.html#4669" class="Function">update-distrib-∧ᶜ</a> <a id="4859" class="Symbol">(</a><a id="4860" href="Graded.Context.Properties.Update.html#4860" class="Bound">γ</a> <a id="4862" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4864" href="Graded.Context.Properties.Update.html#4864" class="Bound">p′</a><a id="4866" class="Symbol">)</a> <a id="4868" class="Symbol">(</a><a id="4869" href="Graded.Context.Properties.Update.html#4869" class="Bound">δ</a> <a id="4871" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4873" href="Graded.Context.Properties.Update.html#4873" class="Bound">q′</a><a id="4875" class="Symbol">)</a> <a id="4877" href="Graded.Context.Properties.Update.html#4877" class="Bound">p</a> <a id="4879" href="Graded.Context.Properties.Update.html#4879" class="Bound">q</a> <a id="4881" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="4884" class="Symbol">=</a> <a id="4886" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="4894" href="Graded.Context.Properties.Update.html#4669" class="Function">update-distrib-∧ᶜ</a> <a id="4912" class="Symbol">(</a><a id="4913" href="Graded.Context.Properties.Update.html#4913" class="Bound">γ</a> <a id="4915" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4917" href="Graded.Context.Properties.Update.html#4917" class="Bound">p′</a><a id="4919" class="Symbol">)</a> <a id="4921" class="Symbol">(</a><a id="4922" href="Graded.Context.Properties.Update.html#4922" class="Bound">δ</a> <a id="4924" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="4926" href="Graded.Context.Properties.Update.html#4926" class="Bound">q′</a><a id="4928" class="Symbol">)</a> <a id="4930" href="Graded.Context.Properties.Update.html#4930" class="Bound">p</a> <a id="4932" href="Graded.Context.Properties.Update.html#4932" class="Bound">q</a> <a id="4934" class="Symbol">(</a><a id="4935" href="Graded.Context.Properties.Update.html#4935" class="Bound">x</a> <a id="4937" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="4939" class="Symbol">)</a> <a id="4941" class="Symbol">=</a> <a id="4943" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4948" class="Symbol">(</a><a id="4949" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="4952" class="Symbol">_)</a> <a id="4955" class="Symbol">(</a><a id="4956" href="Graded.Context.Properties.Update.html#4669" class="Function">update-distrib-∧ᶜ</a> <a id="4974" href="Graded.Context.Properties.Update.html#4913" class="Bound">γ</a> <a id="4976" href="Graded.Context.Properties.Update.html#4922" class="Bound">δ</a> <a id="4978" href="Graded.Context.Properties.Update.html#4930" class="Bound">p</a> <a id="4980" href="Graded.Context.Properties.Update.html#4932" class="Bound">q</a> <a id="4982" href="Graded.Context.Properties.Update.html#4935" class="Bound">x</a><a id="4983" class="Symbol">)</a>

<a id="4986" class="Comment">-- Context update distributes over ⊛ᶜ</a>
<a id="5024" class="Comment">-- γ ⊛ᶜ δ ▷ r , x ≔ p ⊛ q ▷ r ≡ (γ , x ≔ p) ⊛ᶜ (δ , x ≔ q) ▷ r</a>

<a id="update-distrib-⊛ᶜ"></a><a id="5088" href="Graded.Context.Properties.Update.html#5088" class="Function">update-distrib-⊛ᶜ</a> <a id="5106" class="Symbol">:</a>
  <a id="5110" class="Symbol">⦃</a> <a id="5112" href="Graded.Context.Properties.Update.html#5112" class="Bound">has-star</a> <a id="5121" class="Symbol">:</a> <a id="5123" href="Graded.Modality.html#8394" class="Record">Has-star</a> <a id="5132" href="Graded.Modality.html#9767" class="Field">semiring-with-meet</a> <a id="5151" class="Symbol">⦄</a> <a id="5153" class="Symbol">→</a>
  <a id="5157" class="Symbol">(</a><a id="5158" href="Graded.Context.Properties.Update.html#5158" class="Bound">γ</a> <a id="5160" href="Graded.Context.Properties.Update.html#5160" class="Bound">δ</a> <a id="5162" class="Symbol">:</a> <a id="5164" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="5169" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="5170" class="Symbol">)</a> <a id="5172" class="Symbol">(</a><a id="5173" href="Graded.Context.Properties.Update.html#5173" class="Bound">r</a> <a id="5175" href="Graded.Context.Properties.Update.html#5175" class="Bound">p</a> <a id="5177" href="Graded.Context.Properties.Update.html#5177" class="Bound">q</a> <a id="5179" class="Symbol">:</a> <a id="5181" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="5182" class="Symbol">)</a> <a id="5184" class="Symbol">(</a><a id="5185" href="Graded.Context.Properties.Update.html#5185" class="Bound">x</a> <a id="5187" class="Symbol">:</a> <a id="5189" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="5193" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="5194" class="Symbol">)</a> <a id="5196" class="Symbol">→</a>
  <a id="5200" href="Graded.Context.Properties.Update.html#5158" class="Bound">γ</a> <a id="5202" href="Graded.Context.html#2382" class="Function Operator">⊛ᶜ</a> <a id="5205" href="Graded.Context.Properties.Update.html#5160" class="Bound">δ</a> <a id="5207" href="Graded.Context.html#2382" class="Function Operator">▷</a> <a id="5209" href="Graded.Context.Properties.Update.html#5173" class="Bound">r</a> <a id="5211" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5213" href="Graded.Context.Properties.Update.html#5185" class="Bound">x</a> <a id="5215" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5217" class="Symbol">(</a><a id="5218" href="Graded.Context.Properties.Update.html#5175" class="Bound">p</a> <a id="5220" href="Graded.Modality.html#8563" class="Field Operator">⊛</a> <a id="5222" href="Graded.Context.Properties.Update.html#5177" class="Bound">q</a> <a id="5224" href="Graded.Modality.html#8563" class="Field Operator">▷</a> <a id="5226" href="Graded.Context.Properties.Update.html#5173" class="Bound">r</a><a id="5227" class="Symbol">)</a> <a id="5229" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5231" class="Symbol">(</a><a id="5232" href="Graded.Context.Properties.Update.html#5158" class="Bound">γ</a> <a id="5234" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5236" href="Graded.Context.Properties.Update.html#5185" class="Bound">x</a> <a id="5238" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5240" href="Graded.Context.Properties.Update.html#5175" class="Bound">p</a><a id="5241" class="Symbol">)</a> <a id="5243" href="Graded.Context.html#2382" class="Function Operator">⊛ᶜ</a> <a id="5246" class="Symbol">(</a><a id="5247" href="Graded.Context.Properties.Update.html#5160" class="Bound">δ</a> <a id="5249" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5251" href="Graded.Context.Properties.Update.html#5185" class="Bound">x</a> <a id="5253" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5255" href="Graded.Context.Properties.Update.html#5177" class="Bound">q</a><a id="5256" class="Symbol">)</a> <a id="5258" href="Graded.Context.html#2382" class="Function Operator">▷</a> <a id="5260" href="Graded.Context.Properties.Update.html#5173" class="Bound">r</a>
<a id="5262" href="Graded.Context.Properties.Update.html#5088" class="Function">update-distrib-⊛ᶜ</a> <a id="5280" href="Graded.Context.html#756" class="InductiveConstructor">ε</a>       <a id="5288" class="Symbol">_</a>       <a id="5296" class="Symbol">_</a> <a id="5298" class="Symbol">_</a> <a id="5300" class="Symbol">_</a> <a id="5302" class="Symbol">()</a>
<a id="5305" href="Graded.Context.Properties.Update.html#5088" class="Function">update-distrib-⊛ᶜ</a> <a id="5323" class="Symbol">(</a><a id="5324" href="Graded.Context.Properties.Update.html#5324" class="Bound">γ</a> <a id="5326" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5328" class="Symbol">_)</a> <a id="5331" class="Symbol">(</a><a id="5332" href="Graded.Context.Properties.Update.html#5332" class="Bound">δ</a> <a id="5334" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5336" class="Symbol">_)</a> <a id="5339" href="Graded.Context.Properties.Update.html#5339" class="Bound">r</a> <a id="5341" href="Graded.Context.Properties.Update.html#5341" class="Bound">p</a> <a id="5343" href="Graded.Context.Properties.Update.html#5343" class="Bound">q</a> <a id="5345" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="5348" class="Symbol">=</a> <a id="5350" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>
<a id="5358" href="Graded.Context.Properties.Update.html#5088" class="Function">update-distrib-⊛ᶜ</a> <a id="5376" class="Symbol">(</a><a id="5377" href="Graded.Context.Properties.Update.html#5377" class="Bound">γ</a> <a id="5379" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5381" class="Symbol">_)</a> <a id="5384" class="Symbol">(</a><a id="5385" href="Graded.Context.Properties.Update.html#5385" class="Bound">δ</a> <a id="5387" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5389" class="Symbol">_)</a> <a id="5392" href="Graded.Context.Properties.Update.html#5392" class="Bound">r</a> <a id="5394" href="Graded.Context.Properties.Update.html#5394" class="Bound">p</a> <a id="5396" href="Graded.Context.Properties.Update.html#5396" class="Bound">q</a> <a id="5398" class="Symbol">(</a><a id="5399" href="Graded.Context.Properties.Update.html#5399" class="Bound">x</a> <a id="5401" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="5403" class="Symbol">)</a> <a id="5405" class="Symbol">=</a>
  <a id="5409" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="5414" class="Symbol">(</a><a id="5415" href="Graded.Context.html#771" class="InductiveConstructor Operator">_∙</a> <a id="5418" class="Symbol">_)</a> <a id="5421" class="Symbol">(</a><a id="5422" href="Graded.Context.Properties.Update.html#5088" class="Function">update-distrib-⊛ᶜ</a> <a id="5440" href="Graded.Context.Properties.Update.html#5377" class="Bound">γ</a> <a id="5442" href="Graded.Context.Properties.Update.html#5385" class="Bound">δ</a> <a id="5444" href="Graded.Context.Properties.Update.html#5392" class="Bound">r</a> <a id="5446" href="Graded.Context.Properties.Update.html#5394" class="Bound">p</a> <a id="5448" href="Graded.Context.Properties.Update.html#5396" class="Bound">q</a> <a id="5450" href="Graded.Context.Properties.Update.html#5399" class="Bound">x</a><a id="5451" class="Symbol">)</a>

<a id="5454" class="Keyword">opaque</a>

  <a id="5464" class="Comment">-- Context update distributes over nrᵢᶜ</a>

  <a id="update-distrib-nrᵢᶜ"></a><a id="5507" href="Graded.Context.Properties.Update.html#5507" class="Function">update-distrib-nrᵢᶜ</a> <a id="5527" class="Symbol">:</a>
    <a id="5533" class="Symbol">∀</a> <a id="5535" href="Graded.Context.Properties.Update.html#5535" class="Bound">x</a> <a id="5537" class="Symbol">→</a> <a id="5539" href="Graded.Context.Properties.Natrec.html#5622" class="Function">nrᵢᶜ</a> <a id="5544" href="Graded.Context.Properties.Update.html#874" class="Generalizable">r</a> <a id="5546" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="5548" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="5550" href="Graded.Context.Properties.Update.html#858" class="Generalizable">i</a> <a id="5552" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5554" href="Graded.Context.Properties.Update.html#5535" class="Bound">x</a> <a id="5556" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5558" href="Graded.Modality.html#2824" class="Function">nrᵢ</a> <a id="5562" href="Graded.Context.Properties.Update.html#874" class="Generalizable">r</a> <a id="5564" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a> <a id="5566" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a> <a id="5568" href="Graded.Context.Properties.Update.html#858" class="Generalizable">i</a> <a id="5570" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="5573" href="Graded.Context.Properties.Natrec.html#5622" class="Function">nrᵢᶜ</a> <a id="5578" href="Graded.Context.Properties.Update.html#874" class="Generalizable">r</a> <a id="5580" class="Symbol">(</a><a id="5581" href="Graded.Context.Properties.Update.html#884" class="Generalizable">γ</a> <a id="5583" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5585" href="Graded.Context.Properties.Update.html#5535" class="Bound">x</a> <a id="5587" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5589" href="Graded.Context.Properties.Update.html#870" class="Generalizable">p</a><a id="5590" class="Symbol">)</a> <a id="5592" class="Symbol">(</a><a id="5593" href="Graded.Context.Properties.Update.html#886" class="Generalizable">δ</a> <a id="5595" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5597" href="Graded.Context.Properties.Update.html#5535" class="Bound">x</a> <a id="5599" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5601" href="Graded.Context.Properties.Update.html#872" class="Generalizable">q</a><a id="5602" class="Symbol">)</a> <a id="5604" href="Graded.Context.Properties.Update.html#858" class="Generalizable">i</a>
  <a id="5608" href="Graded.Context.Properties.Update.html#5507" class="Function">update-distrib-nrᵢᶜ</a> <a id="5628" class="Symbol">{</a><a id="5629" class="Argument">γ</a> <a id="5631" class="Symbol">=</a> <a id="5633" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="5634" class="Symbol">}</a> <a id="5636" class="Symbol">{(</a><a id="5638" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="5639" class="Symbol">)}</a> <a id="5642" class="Symbol">()</a>
  <a id="5647" href="Graded.Context.Properties.Update.html#5507" class="Function">update-distrib-nrᵢᶜ</a> <a id="5667" class="Symbol">{</a><a id="5668" class="Argument">γ</a> <a id="5670" class="Symbol">=</a> <a id="5672" class="Symbol">_</a> <a id="5674" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5676" class="Symbol">_}</a> <a id="5679" class="Symbol">{_</a> <a id="5682" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5684" class="Symbol">_}</a> <a id="5687" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="5690" class="Symbol">=</a> <a id="5692" href="Graded.Context.Properties.Equivalence.html#572" class="Function">≈ᶜ-refl</a>
  <a id="5702" href="Graded.Context.Properties.Update.html#5507" class="Function">update-distrib-nrᵢᶜ</a> <a id="5722" class="Symbol">{</a><a id="5723" class="Argument">γ</a> <a id="5725" class="Symbol">=</a> <a id="5727" class="Symbol">_</a> <a id="5729" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5731" class="Symbol">_}</a> <a id="5734" class="Symbol">{(_</a> <a id="5738" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5740" class="Symbol">_)}</a> <a id="5744" class="Symbol">(</a><a id="5745" href="Graded.Context.Properties.Update.html#5745" class="Bound">x</a> <a id="5747" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="5749" class="Symbol">)</a> <a id="5751" class="Symbol">=</a>
    <a id="5757" href="Graded.Context.Properties.Update.html#5507" class="Function">update-distrib-nrᵢᶜ</a> <a id="5777" href="Graded.Context.Properties.Update.html#5745" class="Bound">x</a> <a id="5779" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="5781" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="5787" class="Comment">-- Updating the head of a context leaves the tail untouched</a>
<a id="5847" class="Comment">-- γ , x0 ≔ p ≡ tailₘ γ ∙ p</a>

<a id="update-head"></a><a id="5876" href="Graded.Context.Properties.Update.html#5876" class="Function">update-head</a> <a id="5888" class="Symbol">:</a> <a id="5890" class="Symbol">(</a><a id="5891" href="Graded.Context.Properties.Update.html#5891" class="Bound">γ</a> <a id="5893" class="Symbol">:</a> <a id="5895" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="5900" class="Symbol">(</a><a id="5901" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="5904" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="5905" class="Symbol">))</a> <a id="5908" class="Symbol">(</a><a id="5909" href="Graded.Context.Properties.Update.html#5909" class="Bound">p</a> <a id="5911" class="Symbol">:</a> <a id="5913" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="5914" class="Symbol">)</a> <a id="5916" class="Symbol">→</a> <a id="5918" href="Graded.Context.Properties.Update.html#5891" class="Bound">γ</a> <a id="5920" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="5922" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="5925" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="5927" href="Graded.Context.Properties.Update.html#5909" class="Bound">p</a> <a id="5929" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5931" href="Graded.Context.html#1042" class="Function">tailₘ</a> <a id="5937" href="Graded.Context.Properties.Update.html#5891" class="Bound">γ</a> <a id="5939" class="InductiveConstructor Operator">∙</a> <a id="5941" href="Graded.Context.Properties.Update.html#5909" class="Bound">p</a>
<a id="5943" href="Graded.Context.Properties.Update.html#5876" class="Function">update-head</a> <a id="5955" class="Symbol">(</a><a id="5956" href="Graded.Context.Properties.Update.html#5956" class="Bound">γ</a> <a id="5958" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="5960" href="Graded.Context.Properties.Update.html#5960" class="Bound">q</a><a id="5961" class="Symbol">)</a> <a id="5963" href="Graded.Context.Properties.Update.html#5963" class="Bound">p</a> <a id="5965" class="Symbol">=</a> <a id="5967" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>

<a id="5976" class="Comment">-- Updating the tail of a context leaves the head untouched</a>
<a id="6036" class="Comment">-- γ , (x +1) ≔ p ≡ (tailₘ γ , x ≔ p) ∙ headₘ γ</a>

<a id="update-step"></a><a id="6085" href="Graded.Context.Properties.Update.html#6085" class="Function">update-step</a> <a id="6097" class="Symbol">:</a> <a id="6099" class="Symbol">(</a><a id="6100" href="Graded.Context.Properties.Update.html#6100" class="Bound">γ</a> <a id="6102" class="Symbol">:</a> <a id="6104" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="6109" class="Symbol">(</a><a id="6110" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="6113" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="6114" class="Symbol">))</a> <a id="6117" class="Symbol">(</a><a id="6118" href="Graded.Context.Properties.Update.html#6118" class="Bound">p</a> <a id="6120" class="Symbol">:</a> <a id="6122" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="6123" class="Symbol">)</a> <a id="6125" class="Symbol">(</a><a id="6126" href="Graded.Context.Properties.Update.html#6126" class="Bound">x</a> <a id="6128" class="Symbol">:</a> <a id="6130" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="6134" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="6135" class="Symbol">)</a>
            <a id="6149" class="Symbol">→</a> <a id="6151" href="Graded.Context.Properties.Update.html#6100" class="Bound">γ</a> <a id="6153" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="6155" class="Symbol">(</a><a id="6156" href="Graded.Context.Properties.Update.html#6126" class="Bound">x</a> <a id="6158" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="6160" class="Symbol">)</a> <a id="6162" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="6164" href="Graded.Context.Properties.Update.html#6118" class="Bound">p</a> <a id="6166" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6168" class="Symbol">(</a><a id="6169" href="Graded.Context.html#1042" class="Function">tailₘ</a> <a id="6175" href="Graded.Context.Properties.Update.html#6100" class="Bound">γ</a> <a id="6177" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="6179" href="Graded.Context.Properties.Update.html#6126" class="Bound">x</a> <a id="6181" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="6183" href="Graded.Context.Properties.Update.html#6118" class="Bound">p</a><a id="6184" class="Symbol">)</a> <a id="6186" class="InductiveConstructor Operator">∙</a> <a id="6188" href="Graded.Context.html#993" class="Function">headₘ</a> <a id="6194" href="Graded.Context.Properties.Update.html#6100" class="Bound">γ</a>
<a id="6196" href="Graded.Context.Properties.Update.html#6085" class="Function">update-step</a> <a id="6208" class="Symbol">(</a><a id="6209" href="Graded.Context.Properties.Update.html#6209" class="Bound">γ</a> <a id="6211" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="6213" href="Graded.Context.Properties.Update.html#6213" class="Bound">q</a><a id="6214" class="Symbol">)</a> <a id="6216" href="Graded.Context.Properties.Update.html#6216" class="Bound">p</a> <a id="6218" href="Graded.Context.Properties.Update.html#6218" class="Bound">x</a> <a id="6220" class="Symbol">=</a> <a id="6222" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a>

<a id="6231" class="Keyword">opaque</a>

  <a id="6241" class="Comment">-- Looking up x0 is the same as headₘ.</a>

  <a id="headₘ-⟨⟩"></a><a id="6283" href="Graded.Context.Properties.Update.html#6283" class="Function">headₘ-⟨⟩</a> <a id="6292" class="Symbol">:</a> <a id="6294" class="Symbol">(</a><a id="6295" href="Graded.Context.Properties.Update.html#6295" class="Bound">γ</a> <a id="6297" class="Symbol">:</a> <a id="6299" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="6304" class="Symbol">(</a><a id="6305" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="6308" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="6309" class="Symbol">))</a> <a id="6312" class="Symbol">→</a> <a id="6314" href="Graded.Context.Properties.Update.html#6295" class="Bound">γ</a> <a id="6316" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="6318" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="6321" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="6323" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6325" href="Graded.Context.html#993" class="Function">headₘ</a> <a id="6331" href="Graded.Context.Properties.Update.html#6295" class="Bound">γ</a>
  <a id="6335" href="Graded.Context.Properties.Update.html#6283" class="Function">headₘ-⟨⟩</a> <a id="6344" class="Symbol">(</a><a id="6345" href="Graded.Context.Properties.Update.html#6345" class="Bound">γ</a> <a id="6347" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="6349" href="Graded.Context.Properties.Update.html#6349" class="Bound">p</a><a id="6350" class="Symbol">)</a> <a id="6352" class="Symbol">=</a> <a id="6354" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="6360" class="Keyword">opaque</a>

  <a id="6370" class="Comment">-- Looking up x +1 in γ is the same as looking up</a>
  <a id="6422" class="Comment">-- x in tailₘ γ.</a>

  <a id="tailₘ-⟨⟩"></a><a id="6442" href="Graded.Context.Properties.Update.html#6442" class="Function">tailₘ-⟨⟩</a> <a id="6451" class="Symbol">:</a> <a id="6453" class="Symbol">(</a><a id="6454" href="Graded.Context.Properties.Update.html#6454" class="Bound">γ</a> <a id="6456" class="Symbol">:</a> <a id="6458" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="6463" class="Symbol">(</a><a id="6464" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="6467" href="Graded.Context.Properties.Update.html#856" class="Generalizable">n</a><a id="6468" class="Symbol">))</a> <a id="6471" class="Symbol">→</a> <a id="6473" href="Graded.Context.Properties.Update.html#6454" class="Bound">γ</a> <a id="6475" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="6477" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="6479" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a> <a id="6482" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="6484" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6486" href="Graded.Context.html#1042" class="Function">tailₘ</a> <a id="6492" href="Graded.Context.Properties.Update.html#6454" class="Bound">γ</a> <a id="6494" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="6496" href="Graded.Context.Properties.Update.html#901" class="Generalizable">x</a> <a id="6498" href="Graded.Context.html#1320" class="Function Operator">⟩</a>
  <a id="6502" href="Graded.Context.Properties.Update.html#6442" class="Function">tailₘ-⟨⟩</a> <a id="6511" class="Symbol">(</a><a id="6512" href="Graded.Context.Properties.Update.html#6512" class="Bound">γ</a> <a id="6514" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="6516" href="Graded.Context.Properties.Update.html#6516" class="Bound">p</a><a id="6517" class="Symbol">)</a> <a id="6519" class="Symbol">=</a> <a id="6521" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>