<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Resource correctness of the heap semantics.</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a>
<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="403" class="Keyword">module</a> <a id="410" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a>
  <a id="434" class="Symbol">{</a><a id="435" href="Graded.Heap.Soundness.html#435" class="Bound">a</a><a id="436" class="Symbol">}</a> <a id="438" class="Symbol">{</a><a id="439" href="Graded.Heap.Soundness.html#439" class="Bound">M</a> <a id="441" class="Symbol">:</a> <a id="443" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="447" href="Graded.Heap.Soundness.html#435" class="Bound">a</a><a id="448" class="Symbol">}</a> <a id="450" class="Symbol">{</a><a id="451" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a> <a id="453" class="Symbol">:</a> <a id="455" href="Graded.Modality.html#9432" class="Record">Modality</a> <a id="464" href="Graded.Heap.Soundness.html#439" class="Bound">M</a><a id="465" class="Symbol">}</a>
  <a id="469" class="Symbol">(</a><a id="470" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="473" class="Symbol">:</a> <a id="475" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="494" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a><a id="495" class="Symbol">)</a>
  <a id="499" class="Symbol">(</a><a id="500" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="503" class="Symbol">:</a> <a id="505" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="523" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a><a id="524" class="Symbol">)</a>
  <a id="528" class="Symbol">(</a><a id="529" class="Keyword">open</a> <a id="534" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="553" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a><a id="555" class="Symbol">)</a>
  <a id="559" class="Symbol">(</a><a id="560" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a> <a id="573" class="Symbol">:</a>
    <a id="579" class="Symbol">⦃</a> <a id="581" href="Graded.Heap.Soundness.html#581" class="Bound">has-nr</a> <a id="588" class="Symbol">:</a> <a id="590" href="Graded.Usage.Restrictions.html#3514" class="Function">Nr-available</a> <a id="603" class="Symbol">⦄</a> <a id="605" class="Symbol">→</a>
    <a id="611" href="Graded.Modality.html#7108" class="Record">Is-factoring-nr</a> <a id="627" href="Graded.Heap.Soundness.html#439" class="Bound">M</a> <a id="629" class="Symbol">(</a><a id="630" href="Graded.Usage.Restrictions.Natrec.html#2401" class="Function">Natrec-mode-Has-nr</a> <a id="649" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a> <a id="651" href="Graded.Heap.Soundness.html#581" class="Bound">has-nr</a><a id="657" class="Symbol">))</a>
  <a id="662" class="Symbol">(</a><a id="663" class="Keyword">open</a> <a id="668" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a> <a id="693" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="696" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="699" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a><a id="711" class="Symbol">)</a>
  <a id="715" class="Symbol">(</a><a id="716" href="Graded.Heap.Soundness.html#716" class="Bound">As</a> <a id="719" class="Symbol">:</a> <a id="721" href="Graded.Heap.Bisimilarity.html#2493" class="Record">Assumptions</a><a id="732" class="Symbol">)</a>
  <a id="736" class="Keyword">where</a>

<a id="743" class="Keyword">open</a> <a id="748" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="766" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="769" class="Keyword">open</a> <a id="774" href="Graded.Modality.html#9432" class="Module">Modality</a> <a id="783" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="785" class="Keyword">open</a> <a id="790" href="Graded.Heap.Bisimilarity.html#2493" class="Module">Assumptions</a> <a id="802" href="Graded.Heap.Soundness.html#716" class="Bound">As</a>

<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="830" class="Keyword">open</a> <a id="835" class="Keyword">import</a> <a id="842" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="857" class="Keyword">open</a> <a id="862" class="Keyword">import</a> <a id="869" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="879" class="Keyword">open</a> <a id="884" class="Keyword">import</a> <a id="891" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="905" class="Keyword">import</a> <a id="912" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="940" class="Symbol">as</a> <a id="943" class="Module">PE</a>
<a id="946" class="Keyword">open</a> <a id="951" class="Keyword">import</a> <a id="958" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="973" class="Keyword">import</a> <a id="980" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="1009" class="Symbol">as</a> <a id="1012" class="Module">RPo</a>

<a id="1017" class="Keyword">open</a> <a id="1022" class="Keyword">import</a> <a id="1029" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="1048" href="Graded.Heap.Soundness.html#439" class="Bound">M</a>
<a id="1050" class="Keyword">open</a> <a id="1055" class="Keyword">import</a> <a id="1062" href="Definition.Untyped.Neutral.html" class="Module">Definition.Untyped.Neutral</a> <a id="1089" href="Graded.Heap.Soundness.html#439" class="Bound">M</a> <a id="1091" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a>
<a id="1104" class="Keyword">open</a> <a id="1109" class="Keyword">import</a> <a id="1116" href="Definition.Untyped.Inversion.html" class="Module">Definition.Untyped.Inversion</a> <a id="1145" href="Graded.Heap.Soundness.html#439" class="Bound">M</a>
<a id="1147" class="Keyword">open</a> <a id="1152" class="Keyword">import</a> <a id="1159" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a> <a id="1189" href="Graded.Heap.Soundness.html#439" class="Bound">M</a>
<a id="1191" class="Keyword">open</a> <a id="1196" class="Keyword">import</a> <a id="1203" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1220" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1223" class="Keyword">open</a> <a id="1228" class="Keyword">import</a> <a id="1235" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="1276" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1279" class="Keyword">open</a> <a id="1284" class="Keyword">import</a> <a id="1291" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="1322" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1325" class="Keyword">open</a> <a id="1330" class="Keyword">import</a> <a id="1337" href="Definition.Typed.Inversion.html" class="Module">Definition.Typed.Inversion</a> <a id="1364" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1367" class="Keyword">open</a> <a id="1372" class="Keyword">import</a> <a id="1379" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="1406" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1409" class="Keyword">open</a> <a id="1414" class="Keyword">import</a> <a id="1421" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a> <a id="1473" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>
<a id="1476" class="Keyword">open</a> <a id="1481" class="Keyword">import</a> <a id="1488" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html" class="Module">Definition.LogicalRelation.Substitution.Introductions.Nat</a> <a id="1546" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a>

<a id="1550" class="Keyword">open</a> <a id="1555" class="Keyword">import</a> <a id="1562" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="1577" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="1579" class="Keyword">open</a> <a id="1584" class="Keyword">import</a> <a id="1591" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1617" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="1619" class="Keyword">open</a> <a id="1624" class="Keyword">import</a> <a id="1631" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="1656" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="1658" class="Keyword">open</a> <a id="1663" class="Keyword">import</a> <a id="1670" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1682" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="1684" class="Keyword">open</a> <a id="1689" class="Keyword">import</a> <a id="1696" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="1716" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a>
<a id="1718" class="Keyword">open</a> <a id="1723" class="Keyword">import</a> <a id="1730" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1743" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a> <a id="1745" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a>
<a id="1748" class="Keyword">open</a> <a id="1753" class="Keyword">import</a> <a id="1760" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1783" href="Graded.Heap.Soundness.html#451" class="Bound">𝕄</a> <a id="1785" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a>

<a id="1789" class="Keyword">open</a> <a id="1794" class="Keyword">import</a> <a id="1801" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1821" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1834" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="1837" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="1850" class="Keyword">open</a> <a id="1855" class="Keyword">import</a> <a id="1862" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1893" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1906" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="1909" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="1922" class="Keyword">open</a> <a id="1927" class="Keyword">import</a> <a id="1934" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1952" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1965" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="1968" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="1981" class="Keyword">open</a> <a id="1986" class="Keyword">import</a> <a id="1993" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="2021" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2034" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2037" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2050" class="Keyword">open</a> <a id="2055" class="Keyword">import</a> <a id="2062" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="2091" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2104" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2107" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2120" class="Keyword">open</a> <a id="2125" class="Keyword">import</a> <a id="2132" href="Graded.Heap.Usage.Reduction.html" class="Module">Graded.Heap.Usage.Reduction</a> <a id="2160" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2173" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2176" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a> <a id="2189" href="Graded.Heap.Bisimilarity.html#2573" class="Field">Unitʷ-η→</a> <a id="2198" href="Graded.Heap.Bisimilarity.html#2639" class="Field">¬Nr-not-available₁</a>
<a id="2217" class="Keyword">open</a> <a id="2222" class="Keyword">import</a> <a id="2229" href="Graded.Heap.Termination.html" class="Module">Graded.Heap.Termination</a> <a id="2253" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2256" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="2259" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a> <a id="2272" href="Graded.Heap.Soundness.html#716" class="Bound">As</a>
<a id="2275" class="Keyword">open</a> <a id="2280" class="Keyword">import</a> <a id="2287" href="Graded.Heap.Typed.html" class="Module">Graded.Heap.Typed</a> <a id="2305" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2308" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="2311" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2324" class="Keyword">open</a> <a id="2329" class="Keyword">import</a> <a id="2336" href="Graded.Heap.Typed.Inversion.html" class="Module">Graded.Heap.Typed.Inversion</a> <a id="2364" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2367" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="2370" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2383" class="Keyword">open</a> <a id="2388" class="Keyword">import</a> <a id="2395" href="Graded.Heap.Typed.Reduction.html" class="Module">Graded.Heap.Typed.Reduction</a> <a id="2423" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2426" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="2429" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2442" class="Keyword">open</a> <a id="2447" class="Keyword">import</a> <a id="2454" href="Graded.Heap.Typed.Properties.html" class="Module">Graded.Heap.Typed.Properties</a> <a id="2483" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2486" href="Graded.Heap.Soundness.html#500" class="Bound">TR</a> <a id="2489" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2502" class="Keyword">open</a> <a id="2507" class="Keyword">import</a> <a id="2514" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="2536" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2549" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2552" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>
<a id="2565" class="Keyword">open</a> <a id="2570" class="Keyword">import</a> <a id="2577" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="2610" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2623" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a> <a id="2626" href="Graded.Heap.Soundness.html#560" class="Bound">factoring-nr</a>

<a id="2640" class="Keyword">private</a> <a id="2648" class="Keyword">variable</a>
  <a id="2659" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a> <a id="2661" class="Symbol">:</a> <a id="2663" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="2669" href="Graded.Heap.Soundness.html#2669" class="Generalizable">n</a> <a id="2671" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="2673" href="Graded.Heap.Soundness.html#2673" class="Generalizable">A</a> <a id="2675" class="Symbol">:</a> <a id="2677" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2682" class="Symbol">_</a>
  <a id="2686" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="2688" class="Symbol">:</a> <a id="2690" href="Graded.Heap.Untyped.html#10133" class="Record">State</a> <a id="2696" class="Symbol">_</a> <a id="2698" class="Symbol">_</a> <a id="2700" class="Symbol">_</a>
  <a id="2704" href="Graded.Heap.Soundness.html#2704" class="Generalizable">γ</a> <a id="2706" href="Graded.Heap.Soundness.html#2706" class="Generalizable">δ</a> <a id="2708" href="Graded.Heap.Soundness.html#2708" class="Generalizable">η</a> <a id="2710" class="Symbol">:</a> <a id="2712" href="Graded.Context.html#746" class="Datatype">Conₘ</a> <a id="2717" class="Symbol">_</a>
  <a id="2721" href="Graded.Heap.Soundness.html#2721" class="Generalizable">Γ</a> <a id="2723" href="Graded.Heap.Soundness.html#2723" class="Generalizable">Δ</a> <a id="2725" class="Symbol">:</a> <a id="2727" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2731" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2736" class="Symbol">_</a>
  <a id="2740" href="Graded.Heap.Soundness.html#2740" class="Generalizable">H</a> <a id="2742" class="Symbol">:</a> <a id="2744" href="Graded.Heap.Untyped.html#7197" class="Datatype">Heap</a> <a id="2749" class="Symbol">_</a> <a id="2751" class="Symbol">_</a>
  <a id="2755" href="Graded.Heap.Soundness.html#2755" class="Generalizable">ρ</a> <a id="2757" class="Symbol">:</a> <a id="2759" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="2762" class="Symbol">_</a> <a id="2764" class="Symbol">_</a>
  <a id="2768" href="Graded.Heap.Soundness.html#2768" class="Generalizable">S</a> <a id="2770" class="Symbol">:</a> <a id="2772" href="Graded.Heap.Untyped.html#5714" class="Datatype">Stack</a> <a id="2778" class="Symbol">_</a>
  <a id="2782" href="Graded.Heap.Soundness.html#2782" class="Generalizable">m</a> <a id="2784" class="Symbol">:</a> <a id="2786" href="Graded.Mode.html#1062" class="Datatype">Mode</a>

<a id="2792" class="Keyword">opaque</a>

  <a id="2802" class="Comment">-- All well-resourced states of type ℕ that are in</a>
  <a id="2855" class="Comment">-- the logical relation reduce to numerals.</a>

  <a id="redNumeral′"></a><a id="2902" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a> <a id="2914" class="Symbol">:</a> <a id="2916" class="Symbol">{</a><a id="2917" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a> <a id="2919" class="Symbol">:</a> <a id="2921" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2925" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2930" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a><a id="2931" class="Symbol">}</a>
                <a id="2949" class="Symbol">⦃</a> <a id="2951" href="Graded.Heap.Soundness.html#2951" class="Bound">ok</a> <a id="2954" class="Symbol">:</a> <a id="2956" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="2979" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="2988" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a> <a id="2990" class="Symbol">⦄</a>
             <a id="3005" class="Symbol">→</a> <a id="3007" class="Symbol">(</a><a id="3008" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="3025" class="InductiveConstructor">𝟙ᵐ</a> <a id="3028" href="Graded.Modality.html#1012" class="Function">𝟘</a> <a id="3030" class="Symbol">→</a> <a id="3032" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="3043" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a><a id="3044" class="Symbol">)</a>
             <a id="3059" class="Symbol">→</a> <a id="3061" class="Symbol">(</a><a id="3062" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a> <a id="3064" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="3069" class="Number">0</a> <a id="3071" class="Symbol">→</a> <a id="3073" href="Graded.Restrictions.html#13385" class="Function">No-erased-matches′</a> <a id="3092" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="3105" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a><a id="3107" class="Symbol">)</a>
             <a id="3122" class="Symbol">→</a> <a id="3124" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a> <a id="3126" href="Definition.LogicalRelation.html#3767" class="Record Operator">⊩ℕ</a> <a id="3129" href="Graded.Heap.Soundness.html#2669" class="Generalizable">n</a> <a id="3131" href="Definition.LogicalRelation.html#3767" class="Record Operator">∷ℕ</a> <a id="3134" class="Symbol">→</a> <a id="3136" href="Graded.Heap.Soundness.html#2669" class="Generalizable">n</a> <a id="3138" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="3143" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦅</a> <a id="3145" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="3147" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦆</a> <a id="3149" class="Symbol">→</a> <a id="3151" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a> <a id="3153" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">⊢ₛ</a> <a id="3156" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="3158" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">∷</a> <a id="3160" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="3162" class="Symbol">→</a> <a id="3164" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="3166" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a>
             <a id="3181" class="Symbol">→</a> <a id="3183" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="3186" class="Symbol">λ</a> <a id="3188" href="Graded.Heap.Soundness.html#3188" class="Bound">m</a> <a id="3190" href="Graded.Heap.Soundness.html#3190" class="Bound">n</a> <a id="3192" href="Graded.Heap.Soundness.html#3192" class="Bound">H</a> <a id="3194" class="Symbol">(</a><a id="3195" href="Graded.Heap.Soundness.html#3195" class="Bound">ρ</a> <a id="3197" class="Symbol">:</a> <a id="3199" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="3202" href="Graded.Heap.Soundness.html#3188" class="Bound">m</a> <a id="3204" href="Graded.Heap.Soundness.html#3190" class="Bound">n</a><a id="3205" class="Symbol">)</a> <a id="3207" href="Graded.Heap.Soundness.html#3207" class="Bound">t</a> <a id="3209" class="Symbol">→</a> <a id="3211" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="3213" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="3216" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="3218" href="Graded.Heap.Soundness.html#3192" class="Bound">H</a> <a id="3220" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3222" href="Graded.Heap.Soundness.html#3207" class="Bound">t</a> <a id="3224" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3226" href="Graded.Heap.Soundness.html#3195" class="Bound">ρ</a> <a id="3228" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3230" class="InductiveConstructor">ε</a> <a id="3232" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a> <a id="3234" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="3251" href="Definition.Untyped.html#3475" class="Datatype">Numeral</a> <a id="3259" href="Graded.Heap.Soundness.html#3207" class="Bound">t</a> <a id="3261" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3263" href="Graded.Heap.Soundness.html#2917" class="Bound">Δ</a> <a id="3265" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="3267" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦅</a> <a id="3269" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="3271" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦆</a> <a id="3273" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="3275" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="3278" href="Graded.Heap.Soundness.html#3195" class="Bound">ρ</a> <a id="3280" href="Graded.Heap.Soundness.html#3207" class="Bound">t</a> <a id="3282" href="Graded.Heap.Untyped.html#9290" class="Function Operator">[</a> <a id="3284" href="Graded.Heap.Soundness.html#3192" class="Bound">H</a> <a id="3286" href="Graded.Heap.Untyped.html#9290" class="Function Operator">]ₕ</a> <a id="3289" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="3291" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="3293" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="3310" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="3312" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="3314" href="Graded.Heap.Soundness.html#3192" class="Bound">H</a> <a id="3316" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3318" href="Graded.Heap.Soundness.html#3207" class="Bound">t</a> <a id="3320" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3322" href="Graded.Heap.Soundness.html#3195" class="Bound">ρ</a> <a id="3324" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="3326" class="InductiveConstructor">ε</a> <a id="3328" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a>
  <a id="3332" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a> <a id="3344" href="Graded.Heap.Soundness.html#3344" class="Bound">consistent</a> <a id="3355" href="Graded.Heap.Soundness.html#3355" class="Bound">nem</a> <a id="3359" class="Symbol">(</a><a id="3360" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="3363" class="Symbol">_</a> <a id="3365" href="Graded.Heap.Soundness.html#3365" class="Bound">d</a> <a id="3367" href="Graded.Heap.Soundness.html#3367" class="Bound">n≡n</a> <a id="3371" class="Symbol">(</a><a id="3372" href="Definition.LogicalRelation.html#4102" class="InductiveConstructor">sucᵣ</a> <a id="3377" href="Graded.Heap.Soundness.html#3377" class="Bound">x</a><a id="3378" class="Symbol">))</a> <a id="3381" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3389" href="Graded.Heap.Soundness.html#3389" class="Bound">⊢s</a> <a id="3392" href="Graded.Heap.Soundness.html#3392" class="Bound">▸s</a> <a id="3395" class="Symbol">=</a>
    <a id="3401" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3406" href="Graded.Heap.Termination.html#4018" class="Function">whBisim</a> <a id="3414" href="Graded.Heap.Soundness.html#3344" class="Bound">consistent</a> <a id="3425" href="Graded.Heap.Soundness.html#3355" class="Bound">nem</a> <a id="3429" href="Graded.Heap.Soundness.html#3389" class="Bound">⊢s</a> <a id="3432" href="Graded.Heap.Soundness.html#3392" class="Bound">▸s</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Graded.Heap.Soundness.html#3365" class="Bound">d</a> <a id="3438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3440" href="Definition.Untyped.Neutral.html#2555" class="InductiveConstructor">sucₙ</a><a id="3444" class="Symbol">)</a> <a id="3446" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3449" class="Symbol">λ</a>
      <a id="3457" class="Symbol">(_</a> <a id="3460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3462" class="Symbol">_</a> <a id="3464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3466" href="Graded.Heap.Soundness.html#3466" class="Bound">H</a> <a id="3468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3470" href="Graded.Heap.Soundness.html#3470" class="Bound">t</a> <a id="3472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3474" href="Graded.Heap.Soundness.html#3474" class="Bound">ρ</a> <a id="3476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a> <a id="3482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3484" class="Symbol">_)</a> <a id="3487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3489" href="Graded.Heap.Soundness.html#3489" class="Bound">≡u</a> <a id="3492" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3494" href="Graded.Heap.Soundness.html#3494" class="Bound">v</a><a id="3495" class="Symbol">)</a> <a id="3497" class="Symbol">→</a>
    <a id="3503" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3508" href="Definition.Untyped.Inversion.html#35528" class="Function">subst-suc</a> <a id="3518" class="Symbol">{</a><a id="3519" class="Argument">t</a> <a id="3521" class="Symbol">=</a> <a id="3523" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="3526" href="Graded.Heap.Soundness.html#3474" class="Bound">ρ</a> <a id="3528" href="Graded.Heap.Soundness.html#3470" class="Bound">t</a><a id="3529" class="Symbol">}</a> <a id="3531" href="Graded.Heap.Soundness.html#3489" class="Bound">≡u</a> <a id="3534" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3537" class="Symbol">λ</a> <a id="3539" class="Symbol">{</a>
      <a id="3547" class="Symbol">(</a><a id="3548" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3553" class="Symbol">(</a><a id="3554" href="Graded.Heap.Soundness.html#3554" class="Bound">x</a> <a id="3556" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3558" href="Graded.Heap.Soundness.html#3558" class="Bound">≡x</a><a id="3560" class="Symbol">))</a> <a id="3563" class="Symbol">→</a>
    <a id="3569" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3574" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="3581" href="Graded.Heap.Soundness.html#3558" class="Bound">≡x</a> <a id="3584" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3587" class="Symbol">λ</a> <a id="3589" class="Symbol">{</a>
      <a id="3597" class="Symbol">(_</a> <a id="3600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3602" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3612" class="Symbol">_)</a> <a id="3615" class="Symbol">→</a>
    <a id="3621" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3626" href="Graded.Heap.Soundness.html#3494" class="Bound">v</a> <a id="3628" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3631" class="Symbol">λ</a> <a id="3633" class="Symbol">()};</a>
      <a id="3644" class="Symbol">(</a><a id="3645" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3650" class="Symbol">(</a><a id="3651" href="Graded.Heap.Soundness.html#3651" class="Bound">n′</a> <a id="3654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3656" href="Graded.Heap.Soundness.html#3656" class="Bound">≡suc</a> <a id="3661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3663" href="Graded.Heap.Soundness.html#3663" class="Bound">≡n</a><a id="3665" class="Symbol">))</a> <a id="3668" class="Symbol">→</a>
    <a id="3674" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3679" href="Definition.Untyped.Inversion.html#34569" class="Function">wk-suc</a> <a id="3686" href="Graded.Heap.Soundness.html#3656" class="Bound">≡suc</a> <a id="3691" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3694" class="Symbol">λ</a> <a id="3696" class="Symbol">{</a>
      <a id="3704" class="Symbol">(</a><a id="3705" href="Graded.Heap.Soundness.html#3705" class="Bound">n″</a> <a id="3708" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3710" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3718" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3720" href="Graded.Heap.Soundness.html#3720" class="Bound">≡n′</a><a id="3723" class="Symbol">)</a> <a id="3725" class="Symbol">→</a>
    <a id="3731" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3736" href="Graded.Heap.Typed.Reduction.html#28205" class="Function">⇾*→≡</a> <a id="3741" href="Graded.Heap.Soundness.html#3389" class="Bound">⊢s</a> <a id="3744" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a> <a id="3747" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3750" class="Symbol">λ</a>
      <a id="3758" href="Graded.Heap.Soundness.html#3758" class="Bound">s≡</a> <a id="3761" class="Symbol">→</a>
    <a id="3767" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3772" href="Definition.Untyped.Properties.html#72131" class="Function">isNumeral?</a> <a id="3783" href="Graded.Heap.Soundness.html#3705" class="Bound">n″</a> <a id="3786" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3789" class="Symbol">λ</a> <a id="3791" class="Symbol">{</a>
      <a id="3799" class="Symbol">(</a><a id="3800" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3804" href="Graded.Heap.Soundness.html#3804" class="Bound">num</a><a id="3807" class="Symbol">)</a> <a id="3809" class="Symbol">→</a>
    <a id="3815" class="Symbol">_</a> <a id="3817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3819" class="Symbol">_</a> <a id="3821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3823" class="Symbol">_</a> <a id="3825" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3827" class="Symbol">_</a> <a id="3829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3831" class="Symbol">_</a> <a id="3833" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3835" href="Graded.Heap.Reduction.Properties.html#21522" class="Function">⇾*→↠*</a> <a id="3841" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a> <a id="3844" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3846" href="Definition.Untyped.html#3541" class="InductiveConstructor">sucₙ</a> <a id="3851" href="Graded.Heap.Soundness.html#3804" class="Bound">num</a> <a id="3855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3857" href="Graded.Heap.Soundness.html#3758" class="Bound">s≡</a> <a id="3860" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3862" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="3867" href="Graded.Heap.Soundness.html#3392" class="Bound">▸s</a> <a id="3870" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a> <a id="3873" class="Symbol">;</a>
      <a id="3881" class="Symbol">(</a><a id="3882" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3885" href="Graded.Heap.Soundness.html#3885" class="Bound">¬num</a><a id="3889" class="Symbol">)</a> <a id="3891" class="Symbol">→</a>
    <a id="3897" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3902" href="Graded.Heap.Typed.Inversion.html#7716" class="Function">⊢ₛ-inv</a> <a id="3909" class="Symbol">(</a><a id="3910" href="Graded.Heap.Typed.Reduction.html#19697" class="Function">⊢ₛ-⇾*</a> <a id="3916" href="Graded.Heap.Soundness.html#3389" class="Bound">⊢s</a> <a id="3919" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a><a id="3921" class="Symbol">)</a> <a id="3923" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3926" class="Symbol">λ</a>
      <a id="3934" class="Symbol">(_</a> <a id="3937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3939" class="Symbol">_</a> <a id="3941" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3943" href="Graded.Heap.Soundness.html#3943" class="Bound">⊢H</a> <a id="3946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3948" href="Graded.Heap.Soundness.html#3948" class="Bound">⊢t</a> <a id="3951" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3953" href="Graded.Heap.Soundness.html#3953" class="Bound">⊢S</a><a id="3955" class="Symbol">)</a> <a id="3957" class="Symbol">→</a>
    <a id="3963" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3968" href="Definition.Typed.Inversion.Primitive.html#3186" class="Function">inversion-suc</a> <a id="3982" href="Graded.Heap.Soundness.html#3948" class="Bound">⊢t</a> <a id="3985" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3988" class="Symbol">λ</a>
      <a id="3996" class="Symbol">(</a><a id="3997" href="Graded.Heap.Soundness.html#3997" class="Bound">⊢n″</a> <a id="4001" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4003" href="Graded.Heap.Soundness.html#4003" class="Bound">≡ℕ</a><a id="4005" class="Symbol">)</a> <a id="4007" class="Symbol">→</a>
    <a id="4013" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4018" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="4025" class="Symbol">(</a><a id="4026" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="4031" href="Graded.Heap.Soundness.html#3392" class="Bound">▸s</a> <a id="4034" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a><a id="4036" class="Symbol">)</a> <a id="4038" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4041" class="Symbol">λ</a>
      <a id="4049" class="Symbol">(_</a> <a id="4052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4054" class="Symbol">_</a> <a id="4056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4058" class="Symbol">_</a> <a id="4060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4062" href="Graded.Heap.Soundness.html#4062" class="Bound">▸H</a> <a id="4065" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4067" href="Graded.Heap.Soundness.html#4067" class="Bound">▸t</a> <a id="4070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4072" href="Graded.Heap.Soundness.html#4072" class="Bound">▸ε</a> <a id="4075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4077" href="Graded.Heap.Soundness.html#4077" class="Bound">γ≤</a><a id="4079" class="Symbol">)</a> <a id="4081" class="Symbol">→</a>
    <a id="4087" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4092" href="Graded.Usage.Inversion.html#8502" class="Function">inv-usage-suc</a> <a id="4106" href="Graded.Heap.Soundness.html#4067" class="Bound">▸t</a> <a id="4109" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4112" class="Symbol">λ</a>
      <a id="4120" class="Symbol">(</a><a id="4121" href="Graded.Usage.Inversion.html#8376" class="InductiveConstructor">invUsageSuc</a> <a id="4133" href="Graded.Heap.Soundness.html#4133" class="Bound">▸n″</a> <a id="4137" href="Graded.Heap.Soundness.html#4137" class="Bound">δ≤</a><a id="4139" class="Symbol">)</a>  <a id="4142" class="Symbol">→</a>
    <a id="4148" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4153" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a> <a id="4165" class="Symbol">{</a><a id="4166" class="Argument">s</a> <a id="4168" class="Symbol">=</a> <a id="4170" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="4172" href="Graded.Heap.Soundness.html#3466" class="Bound">H</a> <a id="4174" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="4176" href="Graded.Heap.Soundness.html#3705" class="Bound">n″</a> <a id="4179" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="4181" href="Graded.Heap.Soundness.html#3474" class="Bound">ρ</a> <a id="4183" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="4185" href="Graded.Heap.Untyped.html#5746" class="InductiveConstructor">ε</a> <a id="4187" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a><a id="4188" class="Symbol">}</a> <a id="4190" href="Graded.Heap.Soundness.html#3344" class="Bound">consistent</a> <a id="4201" href="Graded.Heap.Soundness.html#3355" class="Bound">nem</a> <a id="4205" href="Graded.Heap.Soundness.html#3377" class="Bound">x</a>
          <a id="4217" class="Symbol">(</a><a id="4218" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">PE.sym</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="4235" class="Symbol">(</a><a id="4236" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="4244" class="Symbol">(</a><a id="4245" href="Graded.Heap.Untyped.html#9290" class="Function Operator">_[</a> <a id="4248" href="Graded.Heap.Soundness.html#3466" class="Bound">H</a> <a id="4250" href="Graded.Heap.Untyped.html#9290" class="Function Operator">]ₕ</a><a id="4252" class="Symbol">)</a> <a id="4254" href="Graded.Heap.Soundness.html#3720" class="Bound">≡n′</a><a id="4257" class="Symbol">)</a> <a id="4259" href="Graded.Heap.Soundness.html#3663" class="Bound">≡n</a><a id="4261" class="Symbol">))</a>
          <a id="4274" class="Symbol">(</a><a id="4275" href="Graded.Heap.Typed.html#3993" class="InductiveConstructor">⊢ₛ</a> <a id="4278" href="Graded.Heap.Soundness.html#3943" class="Bound">⊢H</a> <a id="4281" href="Graded.Heap.Soundness.html#3997" class="Bound">⊢n″</a> <a id="4285" href="Graded.Heap.Typed.html#3728" class="InductiveConstructor">ε</a><a id="4286" class="Symbol">)</a>
          <a id="4298" class="Symbol">(</a><a id="4299" href="Graded.Heap.Usage.html#3890" class="InductiveConstructor">▸ₛ</a> <a id="4302" href="Graded.Heap.Soundness.html#4062" class="Bound">▸H</a> <a id="4305" href="Graded.Heap.Soundness.html#4133" class="Bound">▸n″</a> <a id="4309" href="Graded.Heap.Soundness.html#4072" class="Bound">▸ε</a> <a id="4312" class="Symbol">(</a><a id="4313" href="Graded.Context.Properties.PartialOrder.html#790" class="Function">≤ᶜ-trans</a> <a id="4322" href="Graded.Heap.Soundness.html#4077" class="Bound">γ≤</a> <a id="4325" class="Symbol">(</a><a id="4326" href="Graded.Context.Properties.Addition.html#2897" class="Function">+ᶜ-monotoneˡ</a> <a id="4339" class="Symbol">(</a><a id="4340" href="Graded.Context.Properties.Multiplication.html#3380" class="Function">·ᶜ-monotoneʳ</a> <a id="4353" class="Symbol">(</a><a id="4354" href="Graded.Context.Weakening.html#3505" class="Function">wk-≤ᶜ</a> <a id="4360" href="Graded.Heap.Soundness.html#3474" class="Bound">ρ</a> <a id="4362" href="Graded.Heap.Soundness.html#4137" class="Bound">δ≤</a><a id="4364" class="Symbol">)))))</a> <a id="4370" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4373" class="Symbol">λ</a>
      <a id="4381" class="Symbol">(_</a> <a id="4384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4386" class="Symbol">_</a> <a id="4388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4390" href="Graded.Heap.Soundness.html#4390" class="Bound">H′</a> <a id="4393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4395" href="Graded.Heap.Soundness.html#4395" class="Bound">ρ′</a> <a id="4398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4400" href="Graded.Heap.Soundness.html#4400" class="Bound">t′</a> <a id="4403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4405" href="Graded.Heap.Soundness.html#4405" class="Bound">d₀</a> <a id="4408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4410" href="Graded.Heap.Soundness.html#4410" class="Bound">n</a> <a id="4412" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4414" href="Graded.Heap.Soundness.html#4414" class="Bound">s′≡</a> <a id="4418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4420" href="Graded.Heap.Soundness.html#4420" class="Bound">▸s′</a><a id="4423" class="Symbol">)</a> <a id="4425" class="Symbol">→</a>
    <a id="4431" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4436" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="4443" href="Graded.Heap.Soundness.html#4420" class="Bound">▸s′</a> <a id="4447" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4450" class="Symbol">λ</a>
      <a id="4458" class="Symbol">(_</a> <a id="4461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4463" class="Symbol">_</a> <a id="4465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4467" class="Symbol">_</a> <a id="4469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4471" href="Graded.Heap.Soundness.html#4471" class="Bound">▸H</a> <a id="4474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4476" href="Graded.Heap.Soundness.html#4476" class="Bound">▸t</a> <a id="4479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4481" href="Graded.Heap.Soundness.html#4481" class="Bound">▸S</a> <a id="4484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4486" href="Graded.Heap.Soundness.html#4486" class="Bound">γ≤</a><a id="4488" class="Symbol">)</a> <a id="4490" class="Symbol">→</a>
    <a id="4496" class="Symbol">_</a> <a id="4498" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4500" class="Symbol">_</a> <a id="4502" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4504" class="Symbol">_</a> <a id="4506" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4508" class="Symbol">_</a> <a id="4510" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4512" class="Symbol">_</a>
      <a id="4520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4522" href="Graded.Heap.Reduction.Properties.html#1680" class="Function">↠*-concat</a> <a id="4532" class="Symbol">(</a><a id="4533" href="Graded.Heap.Reduction.Properties.html#21522" class="Function">⇾*→↠*</a> <a id="4539" href="Graded.Heap.Soundness.html#3479" class="Bound">d′</a><a id="4541" class="Symbol">)</a>
          <a id="4553" class="Symbol">(</a><a id="4554" href="Graded.Heap.Reduction.html#6688" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4557" href="Graded.Heap.Reduction.html#6013" class="InductiveConstructor">sucₕ</a> <a id="4562" href="Graded.Heap.Soundness.html#3885" class="Bound">¬num</a> <a id="4567" href="Graded.Heap.Reduction.html#7224" class="InductiveConstructor Operator">⇨</a> <a id="4569" href="Graded.Heap.Reduction.Properties.html#1680" class="Function">↠*-concat</a> <a id="4579" class="Symbol">(</a><a id="4580" href="Graded.Heap.Reduction.Properties.html#16531" class="Function">++sucₛ-↠*</a> <a id="4590" href="Graded.Heap.Soundness.html#4405" class="Bound">d₀</a><a id="4592" class="Symbol">)</a> <a id="4594" class="Symbol">(</a><a id="4595" href="Graded.Heap.Reduction.html#6688" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Graded.Heap.Reduction.html#6105" class="InductiveConstructor">numₕ</a> <a id="4604" href="Graded.Heap.Soundness.html#4410" class="Bound">n</a><a id="4605" class="Symbol">)</a> <a id="4607" href="Graded.Heap.Reduction.html#7224" class="InductiveConstructor Operator">⇨</a> <a id="4609" href="Graded.Heap.Reduction.html#7207" class="InductiveConstructor">id</a><a id="4611" class="Symbol">))</a>
      <a id="4620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4622" href="Definition.Untyped.html#3541" class="InductiveConstructor">sucₙ</a> <a id="4627" href="Graded.Heap.Soundness.html#4410" class="Bound">n</a> <a id="4629" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4631" href="Definition.Typed.html#5469" class="InductiveConstructor">trans</a> <a id="4637" href="Graded.Heap.Soundness.html#3758" class="Bound">s≡</a> <a id="4640" class="Symbol">(</a><a id="4641" href="Definition.Typed.html#8689" class="InductiveConstructor">suc-cong</a> <a id="4650" href="Graded.Heap.Soundness.html#4414" class="Bound">s′≡</a><a id="4653" class="Symbol">)</a>
      <a id="4661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4663" href="Graded.Heap.Usage.html#3890" class="InductiveConstructor">▸ₛ</a> <a id="4666" href="Graded.Heap.Soundness.html#4471" class="Bound">▸H</a> <a id="4669" class="Symbol">(</a><a id="4670" href="Graded.Usage.html#9458" class="InductiveConstructor">sucₘ</a> <a id="4675" href="Graded.Heap.Soundness.html#4476" class="Bound">▸t</a><a id="4677" class="Symbol">)</a> <a id="4679" href="Graded.Heap.Soundness.html#4481" class="Bound">▸S</a> <a id="4682" href="Graded.Heap.Soundness.html#4486" class="Bound">γ≤</a> <a id="4685" class="Symbol">}}}</a>

  <a id="4692" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a> <a id="4704" href="Graded.Heap.Soundness.html#4704" class="Bound">consistent</a> <a id="4715" href="Graded.Heap.Soundness.html#4715" class="Bound">nem</a> <a id="4719" class="Symbol">(</a><a id="4720" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="4723" class="Symbol">_</a> <a id="4725" href="Graded.Heap.Soundness.html#4725" class="Bound">d</a> <a id="4727" href="Graded.Heap.Soundness.html#4727" class="Bound">n≡n</a> <a id="4731" href="Definition.LogicalRelation.html#4157" class="InductiveConstructor">zeroᵣ</a><a id="4736" class="Symbol">)</a> <a id="4738" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4746" href="Graded.Heap.Soundness.html#4746" class="Bound">⊢s</a> <a id="4749" href="Graded.Heap.Soundness.html#4749" class="Bound">▸s</a> <a id="4752" class="Symbol">=</a>
    <a id="4758" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4763" href="Graded.Heap.Termination.html#4018" class="Function">whBisim</a> <a id="4771" href="Graded.Heap.Soundness.html#4704" class="Bound">consistent</a> <a id="4782" href="Graded.Heap.Soundness.html#4715" class="Bound">nem</a> <a id="4786" href="Graded.Heap.Soundness.html#4746" class="Bound">⊢s</a> <a id="4789" href="Graded.Heap.Soundness.html#4749" class="Bound">▸s</a> <a id="4792" class="Symbol">(</a><a id="4793" href="Graded.Heap.Soundness.html#4725" class="Bound">d</a> <a id="4795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4797" href="Definition.Untyped.Neutral.html#2535" class="InductiveConstructor">zeroₙ</a><a id="4802" class="Symbol">)</a> <a id="4804" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4807" class="Symbol">λ</a>
      <a id="4815" class="Symbol">(_</a> <a id="4818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4820" class="Symbol">_</a> <a id="4822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4824" href="Graded.Heap.Soundness.html#4824" class="Bound">H</a> <a id="4826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4828" href="Graded.Heap.Soundness.html#4828" class="Bound">t</a> <a id="4830" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4832" href="Graded.Heap.Soundness.html#4832" class="Bound">ρ</a> <a id="4834" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4836" class="Symbol">(</a><a id="4837" href="Graded.Heap.Soundness.html#4837" class="Bound">d′</a> <a id="4840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4842" class="Symbol">_)</a> <a id="4845" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4847" href="Graded.Heap.Soundness.html#4847" class="Bound">≡u</a> <a id="4850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4852" href="Graded.Heap.Soundness.html#4852" class="Bound">v</a><a id="4853" class="Symbol">)</a> <a id="4855" class="Symbol">→</a>
    <a id="4861" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4866" href="Definition.Untyped.Inversion.html#33484" class="Function">subst-zero</a> <a id="4877" class="Symbol">{</a><a id="4878" class="Argument">t</a> <a id="4880" class="Symbol">=</a> <a id="4882" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="4885" href="Graded.Heap.Soundness.html#4832" class="Bound">ρ</a> <a id="4887" href="Graded.Heap.Soundness.html#4828" class="Bound">t</a><a id="4888" class="Symbol">}</a> <a id="4890" href="Graded.Heap.Soundness.html#4847" class="Bound">≡u</a> <a id="4893" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4896" class="Symbol">λ</a> <a id="4898" class="Symbol">{</a>
      <a id="4906" class="Symbol">(</a><a id="4907" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="4912" class="Symbol">(</a><a id="4913" href="Graded.Heap.Soundness.html#4913" class="Bound">x</a> <a id="4915" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4917" href="Graded.Heap.Soundness.html#4917" class="Bound">≡x</a><a id="4919" class="Symbol">))</a> <a id="4922" class="Symbol">→</a>
    <a id="4928" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4933" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="4940" href="Graded.Heap.Soundness.html#4917" class="Bound">≡x</a> <a id="4943" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4946" class="Symbol">λ</a> <a id="4948" class="Symbol">{</a>
      <a id="4956" class="Symbol">(_</a> <a id="4959" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4961" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4971" href="Graded.Heap.Soundness.html#4971" class="Bound">w</a><a id="4972" class="Symbol">)</a> <a id="4974" class="Symbol">→</a>
    <a id="4980" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4985" href="Graded.Heap.Soundness.html#4852" class="Bound">v</a> <a id="4987" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4990" class="Symbol">λ</a> <a id="4992" class="Symbol">()}</a> <a id="4996" class="Symbol">;</a>
      <a id="5004" class="Symbol">(</a><a id="5005" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5010" href="Graded.Heap.Soundness.html#5010" class="Bound">≡zero</a><a id="5015" class="Symbol">)</a> <a id="5017" class="Symbol">→</a>
    <a id="5023" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5028" href="Definition.Untyped.Inversion.html#32542" class="Function">wk-zero</a> <a id="5036" href="Graded.Heap.Soundness.html#5010" class="Bound">≡zero</a> <a id="5042" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5045" class="Symbol">λ</a> <a id="5047" class="Symbol">{</a>
      <a id="5055" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5063" class="Symbol">→</a>
    <a id="5069" class="Symbol">_</a> <a id="5071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5073" class="Symbol">_</a> <a id="5075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5077" class="Symbol">_</a> <a id="5079" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5081" class="Symbol">_</a> <a id="5083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5085" class="Symbol">_</a> <a id="5087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5089" href="Graded.Heap.Reduction.Properties.html#21522" class="Function">⇾*→↠*</a> <a id="5095" href="Graded.Heap.Soundness.html#4837" class="Bound">d′</a> <a id="5098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5100" href="Definition.Untyped.html#3518" class="InductiveConstructor">zeroₙ</a> <a id="5106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5108" href="Graded.Heap.Typed.Reduction.html#28205" class="Function">⇾*→≡</a> <a id="5113" href="Graded.Heap.Soundness.html#4746" class="Bound">⊢s</a> <a id="5116" href="Graded.Heap.Soundness.html#4837" class="Bound">d′</a> <a id="5119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5121" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="5126" href="Graded.Heap.Soundness.html#4749" class="Bound">▸s</a> <a id="5129" href="Graded.Heap.Soundness.html#4837" class="Bound">d′</a> <a id="5132" class="Symbol">}}</a>

  <a id="5138" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a>
    <a id="5154" class="Symbol">{</a><a id="5155" href="Graded.Heap.Soundness.html#5155" class="Bound">s</a><a id="5156" class="Symbol">}</a>
    <a id="5162" href="Graded.Heap.Soundness.html#5162" class="Bound">consistent</a> <a id="5173" href="Graded.Heap.Soundness.html#5173" class="Bound">nem</a> <a id="5177" class="Symbol">(</a><a id="5178" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="5181" class="Symbol">_</a> <a id="5183" href="Graded.Heap.Soundness.html#5183" class="Bound">d</a> <a id="5185" href="Graded.Heap.Soundness.html#5185" class="Bound">n≡n</a> <a id="5189" class="Symbol">(</a><a id="5190" href="Definition.LogicalRelation.html#4189" class="InductiveConstructor">ne</a> <a id="5193" class="Symbol">(</a><a id="5194" href="Definition.LogicalRelation.html#2529" class="InductiveConstructor">neNfₜ</a> <a id="5200" class="Symbol">_</a> <a id="5202" href="Graded.Heap.Soundness.html#5202" class="Bound">neK</a> <a id="5206" href="Graded.Heap.Soundness.html#5206" class="Bound">k≡k</a><a id="5209" class="Symbol">)))</a> <a id="5213" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5221" href="Graded.Heap.Soundness.html#5221" class="Bound">⊢s</a> <a id="5224" href="Graded.Heap.Soundness.html#5224" class="Bound">▸s</a> <a id="5227" class="Symbol">=</a>
    <a id="5233" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5238" href="Graded.Heap.Termination.html#4018" class="Function">whBisim</a> <a id="5246" class="Symbol">{</a><a id="5247" class="Argument">s</a> <a id="5249" class="Symbol">=</a> <a id="5251" href="Graded.Heap.Soundness.html#5155" class="Bound">s</a><a id="5252" class="Symbol">}</a> <a id="5254" href="Graded.Heap.Soundness.html#5162" class="Bound">consistent</a> <a id="5265" href="Graded.Heap.Soundness.html#5173" class="Bound">nem</a> <a id="5269" href="Graded.Heap.Soundness.html#5221" class="Bound">⊢s</a> <a id="5272" href="Graded.Heap.Soundness.html#5224" class="Bound">▸s</a> <a id="5275" class="Symbol">(</a><a id="5276" href="Graded.Heap.Soundness.html#5183" class="Bound">d</a> <a id="5278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5280" href="Definition.Untyped.Neutral.html#2679" class="InductiveConstructor">ne</a> <a id="5283" href="Graded.Heap.Soundness.html#5202" class="Bound">neK</a><a id="5286" class="Symbol">)</a> <a id="5288" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5291" class="Symbol">λ</a> <a id="5293" class="Symbol">{</a>
      <a id="5301" class="Symbol">(_</a> <a id="5304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5306" class="Symbol">_</a> <a id="5308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5310" href="Graded.Heap.Soundness.html#5310" class="Bound">H</a> <a id="5312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5314" href="Graded.Heap.Soundness.html#5314" class="Bound">t</a> <a id="5316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5318" href="Graded.Heap.Soundness.html#5318" class="Bound">ρ</a> <a id="5320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5322" href="Graded.Heap.Soundness.html#5322" class="Bound">d′</a> <a id="5325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5327" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5337" href="Graded.Heap.Soundness.html#5337" class="Bound">v</a><a id="5338" class="Symbol">)</a> <a id="5340" class="Symbol">→</a>
    <a id="5346" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="5353" class="Symbol">(</a><a id="5354" href="Graded.Heap.Untyped.Properties.html#2933" class="Function">Value→¬Neutral</a> <a id="5369" class="Symbol">(</a><a id="5370" href="Graded.Heap.Untyped.Properties.html#2466" class="Function">substValue</a> <a id="5381" class="Symbol">(</a><a id="5382" href="Graded.Heap.Untyped.html#9063" class="Function">toSubstₕ</a> <a id="5391" href="Graded.Heap.Soundness.html#5310" class="Bound">H</a><a id="5392" class="Symbol">)</a> <a id="5394" class="Symbol">(</a><a id="5395" href="Graded.Heap.Untyped.Properties.html#2026" class="Function">wkValue</a> <a id="5403" href="Graded.Heap.Soundness.html#5318" class="Bound">ρ</a> <a id="5405" href="Graded.Heap.Soundness.html#5337" class="Bound">v</a><a id="5406" class="Symbol">))</a> <a id="5409" href="Graded.Heap.Soundness.html#5202" class="Bound">neK</a><a id="5412" class="Symbol">)</a> <a id="5414" class="Symbol">}</a>


<a id="5418" class="Keyword">opaque</a>

  <a id="5428" class="Comment">-- All well-resourced, well-typed states of type ℕ reduce to numerals.</a>

  <a id="redNumeral"></a><a id="5502" href="Graded.Heap.Soundness.html#5502" class="Function">redNumeral</a> <a id="5513" class="Symbol">:</a> <a id="5515" class="Symbol">{</a><a id="5516" href="Graded.Heap.Soundness.html#5516" class="Bound">Δ</a> <a id="5518" class="Symbol">:</a> <a id="5520" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5524" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="5529" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a><a id="5530" class="Symbol">}</a>
               <a id="5547" class="Symbol">⦃</a> <a id="5549" href="Graded.Heap.Soundness.html#5549" class="Bound">ok</a> <a id="5552" class="Symbol">:</a> <a id="5554" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="5577" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="5586" href="Graded.Heap.Soundness.html#5516" class="Bound">Δ</a> <a id="5588" class="Symbol">⦄</a>
             <a id="5603" class="Symbol">→</a> <a id="5605" class="Symbol">(</a><a id="5606" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="5623" class="InductiveConstructor">𝟙ᵐ</a> <a id="5626" href="Graded.Modality.html#1012" class="Function">𝟘</a> <a id="5628" class="Symbol">→</a> <a id="5630" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="5641" href="Graded.Heap.Soundness.html#5516" class="Bound">Δ</a><a id="5642" class="Symbol">)</a>
             <a id="5657" class="Symbol">→</a> <a id="5659" class="Symbol">(</a><a id="5660" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a> <a id="5662" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5667" class="Number">0</a> <a id="5669" class="Symbol">→</a> <a id="5671" href="Graded.Restrictions.html#13385" class="Function">No-erased-matches′</a> <a id="5690" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="5703" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a><a id="5705" class="Symbol">)</a>
             <a id="5720" class="Symbol">→</a> <a id="5722" href="Graded.Heap.Soundness.html#5516" class="Bound">Δ</a> <a id="5724" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">⊢ₛ</a> <a id="5727" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="5729" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">∷</a> <a id="5731" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5733" class="Symbol">→</a> <a id="5735" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="5737" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a>
             <a id="5752" class="Symbol">→</a> <a id="5754" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="5757" class="Symbol">λ</a> <a id="5759" href="Graded.Heap.Soundness.html#5759" class="Bound">m</a> <a id="5761" href="Graded.Heap.Soundness.html#5761" class="Bound">n</a> <a id="5763" href="Graded.Heap.Soundness.html#5763" class="Bound">H</a> <a id="5765" class="Symbol">(</a><a id="5766" href="Graded.Heap.Soundness.html#5766" class="Bound">ρ</a> <a id="5768" class="Symbol">:</a> <a id="5770" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="5773" href="Graded.Heap.Soundness.html#5759" class="Bound">m</a> <a id="5775" href="Graded.Heap.Soundness.html#5761" class="Bound">n</a><a id="5776" class="Symbol">)</a> <a id="5778" href="Graded.Heap.Soundness.html#5778" class="Bound">t</a> <a id="5780" class="Symbol">→</a> <a id="5782" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="5784" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="5787" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="5789" href="Graded.Heap.Soundness.html#5763" class="Bound">H</a> <a id="5791" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5793" href="Graded.Heap.Soundness.html#5778" class="Bound">t</a> <a id="5795" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5797" href="Graded.Heap.Soundness.html#5766" class="Bound">ρ</a> <a id="5799" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5801" class="InductiveConstructor">ε</a> <a id="5803" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a> <a id="5805" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5822" href="Definition.Untyped.html#3475" class="Datatype">Numeral</a> <a id="5830" href="Graded.Heap.Soundness.html#5778" class="Bound">t</a> <a id="5832" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5834" href="Graded.Heap.Soundness.html#5516" class="Bound">Δ</a> <a id="5836" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="5838" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦅</a> <a id="5840" href="Graded.Heap.Soundness.html#2686" class="Generalizable">s</a> <a id="5842" href="Graded.Heap.Untyped.html#11220" class="Function Operator">⦆</a> <a id="5844" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="5846" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="5849" href="Graded.Heap.Soundness.html#5766" class="Bound">ρ</a> <a id="5851" href="Graded.Heap.Soundness.html#5778" class="Bound">t</a> <a id="5853" href="Graded.Heap.Untyped.html#9290" class="Function Operator">[</a> <a id="5855" href="Graded.Heap.Soundness.html#5763" class="Bound">H</a> <a id="5857" href="Graded.Heap.Untyped.html#9290" class="Function Operator">]ₕ</a> <a id="5860" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="5862" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5864" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5881" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="5883" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="5885" href="Graded.Heap.Soundness.html#5763" class="Bound">H</a> <a id="5887" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5889" href="Graded.Heap.Soundness.html#5778" class="Bound">t</a> <a id="5891" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5893" href="Graded.Heap.Soundness.html#5766" class="Bound">ρ</a> <a id="5895" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="5897" class="InductiveConstructor">ε</a> <a id="5899" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a>
  <a id="5903" href="Graded.Heap.Soundness.html#5502" class="Function">redNumeral</a> <a id="5914" class="Symbol">{</a><a id="5915" href="Graded.Heap.Soundness.html#5915" class="Bound">s</a><a id="5916" class="Symbol">}</a> <a id="5918" href="Graded.Heap.Soundness.html#5918" class="Bound">consistent</a> <a id="5929" href="Graded.Heap.Soundness.html#5929" class="Bound">nem</a> <a id="5933" href="Graded.Heap.Soundness.html#5933" class="Bound">⊢s</a> <a id="5936" href="Graded.Heap.Soundness.html#5936" class="Bound">▸s</a> <a id="5939" class="Symbol">=</a>
    <a id="5945" href="Graded.Heap.Soundness.html#2902" class="Function">redNumeral′</a> <a id="5957" href="Graded.Heap.Soundness.html#5918" class="Bound">consistent</a> <a id="5968" href="Graded.Heap.Soundness.html#5929" class="Bound">nem</a>
      <a id="5978" class="Symbol">(</a><a id="5979" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html#2632" class="Function">⊩∷ℕ⇔</a> <a id="5984" class="Symbol">.</a><a id="5985" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5991" class="Symbol">(</a><a id="5992" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1451" class="Function">reducible-⊩∷</a> <a id="6005" class="Symbol">(</a><a id="6006" href="Graded.Heap.Typed.Properties.html#3374" class="Function">⊢⦅⦆</a> <a id="6010" class="Symbol">{</a><a id="6011" class="Argument">s</a> <a id="6013" class="Symbol">=</a> <a id="6015" href="Graded.Heap.Soundness.html#5915" class="Bound">s</a><a id="6016" class="Symbol">}</a> <a id="6018" href="Graded.Heap.Soundness.html#5933" class="Bound">⊢s</a><a id="6020" class="Symbol">)</a> <a id="6022" class="Symbol">.</a><a id="6023" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="6028" class="Symbol">))</a>
      <a id="6037" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="6045" href="Graded.Heap.Soundness.html#5933" class="Bound">⊢s</a> <a id="6048" href="Graded.Heap.Soundness.html#5936" class="Bound">▸s</a>

<a id="6052" class="Keyword">opaque</a>

  <a id="6062" class="Comment">-- Given some assumptions, all well-typed and erased terms of type ℕ reduce to some</a>
  <a id="6148" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="6225" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness"></a><a id="6307" href="Graded.Heap.Soundness.html#6307" class="Function">soundness</a> <a id="6317" class="Symbol">:</a> <a id="6319" class="Symbol">{</a><a id="6320" href="Graded.Heap.Soundness.html#6320" class="Bound">Δ</a> <a id="6322" class="Symbol">:</a> <a id="6324" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="6328" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="6333" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a><a id="6334" class="Symbol">}</a>
              <a id="6350" class="Symbol">⦃</a> <a id="6352" href="Graded.Heap.Soundness.html#6352" class="Bound">ok</a> <a id="6355" class="Symbol">:</a> <a id="6357" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="6380" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="6389" href="Graded.Heap.Soundness.html#6320" class="Bound">Δ</a> <a id="6391" class="Symbol">⦄</a>
            <a id="6405" class="Symbol">→</a> <a id="6407" class="Symbol">(</a><a id="6408" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="6425" class="InductiveConstructor">𝟙ᵐ</a> <a id="6428" href="Graded.Modality.html#1012" class="Function">𝟘</a> <a id="6430" class="Symbol">→</a> <a id="6432" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="6443" href="Graded.Heap.Soundness.html#6320" class="Bound">Δ</a><a id="6444" class="Symbol">)</a>
            <a id="6458" class="Symbol">→</a> <a id="6460" class="Symbol">(</a><a id="6461" href="Graded.Heap.Soundness.html#2659" class="Generalizable">k</a> <a id="6463" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="6468" class="Number">0</a> <a id="6470" class="Symbol">→</a> <a id="6472" href="Graded.Restrictions.html#13385" class="Function">No-erased-matches′</a> <a id="6491" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="6504" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a><a id="6506" class="Symbol">)</a>
            <a id="6520" class="Symbol">→</a> <a id="6522" href="Graded.Heap.Soundness.html#6320" class="Bound">Δ</a> <a id="6524" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="6526" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="6528" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="6530" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="6532" class="Symbol">→</a> <a id="6534" href="Graded.Context.html#2588" class="Function">𝟘ᶜ</a> <a id="6537" href="Graded.Usage.html#16359" class="Function Operator">▸</a> <a id="6539" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a>
            <a id="6553" class="Symbol">→</a> <a id="6555" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="6558" class="Symbol">λ</a> <a id="6560" href="Graded.Heap.Soundness.html#6560" class="Bound">m</a> <a id="6562" href="Graded.Heap.Soundness.html#6562" class="Bound">n</a> <a id="6564" href="Graded.Heap.Soundness.html#6564" class="Bound">H</a> <a id="6566" href="Graded.Heap.Soundness.html#6566" class="Bound">k</a> <a id="6568" class="Symbol">(</a><a id="6569" href="Graded.Heap.Soundness.html#6569" class="Bound">ρ</a> <a id="6571" class="Symbol">:</a> <a id="6573" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="6576" href="Graded.Heap.Soundness.html#6560" class="Bound">m</a> <a id="6578" href="Graded.Heap.Soundness.html#6562" class="Bound">n</a><a id="6579" class="Symbol">)</a> <a id="6581" class="Symbol">→</a>
              <a id="6597" href="Graded.Heap.Untyped.html#11392" class="Function">initial</a> <a id="6605" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="6607" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="6610" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="6612" href="Graded.Heap.Soundness.html#6564" class="Bound">H</a> <a id="6614" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="6616" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="6621" href="Graded.Heap.Soundness.html#6566" class="Bound">k</a> <a id="6623" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="6625" href="Graded.Heap.Soundness.html#6569" class="Bound">ρ</a> <a id="6627" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="6629" class="InductiveConstructor">ε</a> <a id="6631" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a> <a id="6633" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6649" class="Symbol">(</a><a id="6650" href="Graded.Heap.Soundness.html#6320" class="Bound">Δ</a> <a id="6652" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="6654" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="6656" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="6658" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="6663" href="Graded.Heap.Soundness.html#6566" class="Bound">k</a> <a id="6665" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="6667" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="6668" class="Symbol">)</a> <a id="6670" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6686" href="Graded.Heap.Soundness.html#6564" class="Bound">H</a> <a id="6688" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="6691" href="Graded.Modality.html#1012" class="Function">𝟘</a>
  <a id="6695" href="Graded.Heap.Soundness.html#6307" class="Function">soundness</a> <a id="6705" class="Symbol">{</a><a id="6706" href="Graded.Heap.Soundness.html#6706" class="Bound">k</a><a id="6707" class="Symbol">}</a> <a id="6709" class="Symbol">{</a><a id="6710" href="Graded.Heap.Soundness.html#6710" class="Bound">t</a><a id="6711" class="Symbol">}</a> <a id="6713" class="Symbol">{</a><a id="6714" href="Graded.Heap.Soundness.html#6714" class="Bound">Δ</a><a id="6715" class="Symbol">}</a> <a id="6717" href="Graded.Heap.Soundness.html#6717" class="Bound">consistent</a> <a id="6728" href="Graded.Heap.Soundness.html#6728" class="Bound">nem</a> <a id="6732" href="Graded.Heap.Soundness.html#6732" class="Bound">⊢t</a> <a id="6735" href="Graded.Heap.Soundness.html#6735" class="Bound">▸t</a> <a id="6738" class="Symbol">=</a>
    <a id="6744" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6749" href="Graded.Heap.Usage.Properties.html#2008" class="Function">▸initial</a> <a id="6758" href="Graded.Heap.Soundness.html#6735" class="Bound">▸t</a> <a id="6761" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6764" class="Symbol">λ</a>
      <a id="6772" href="Graded.Heap.Soundness.html#6772" class="Bound">▸s</a> <a id="6775" class="Symbol">→</a>
    <a id="6781" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6786" href="Graded.Heap.Soundness.html#5502" class="Function">redNumeral</a> <a id="6797" href="Graded.Heap.Soundness.html#6717" class="Bound">consistent</a> <a id="6808" href="Graded.Heap.Soundness.html#6728" class="Bound">nem</a> <a id="6812" class="Symbol">(</a><a id="6813" href="Graded.Heap.Typed.Properties.html#2028" class="Function">⊢initial</a> <a id="6822" href="Graded.Heap.Soundness.html#6732" class="Bound">⊢t</a><a id="6824" class="Symbol">)</a> <a id="6826" href="Graded.Heap.Soundness.html#6772" class="Bound">▸s</a> <a id="6829" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6832" class="Symbol">λ</a>
      <a id="6840" class="Symbol">(_</a> <a id="6843" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6845" class="Symbol">_</a> <a id="6847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6849" href="Graded.Heap.Soundness.html#6849" class="Bound">H</a> <a id="6851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6853" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="6855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6857" href="Graded.Heap.Soundness.html#6857" class="Bound">t</a> <a id="6859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6861" href="Graded.Heap.Soundness.html#6861" class="Bound">d</a> <a id="6863" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6865" href="Graded.Heap.Soundness.html#6865" class="Bound">num</a> <a id="6869" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6871" href="Graded.Heap.Soundness.html#6871" class="Bound">s≡</a> <a id="6874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6876" href="Graded.Heap.Soundness.html#6876" class="Bound">▸s′</a><a id="6879" class="Symbol">)</a> <a id="6881" class="Symbol">→</a>
    <a id="6887" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6892" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="6899" href="Graded.Heap.Soundness.html#6876" class="Bound">▸s′</a> <a id="6903" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6906" class="Symbol">λ</a>
      <a id="6914" class="Symbol">(</a><a id="6915" href="Graded.Heap.Soundness.html#6915" class="Bound">γ</a> <a id="6917" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6919" href="Graded.Heap.Soundness.html#6919" class="Bound">δ</a> <a id="6921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6923" href="Graded.Heap.Soundness.html#6923" class="Bound">η</a> <a id="6925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6927" href="Graded.Heap.Soundness.html#6927" class="Bound">▸H</a> <a id="6930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6932" href="Graded.Heap.Soundness.html#6932" class="Bound">▸n</a> <a id="6935" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6937" href="Graded.Heap.Soundness.html#6937" class="Bound">▸ε</a> <a id="6940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6942" href="Graded.Heap.Soundness.html#6942" class="Bound">γ≤</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">→</a>
    <a id="6952" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6957" href="Definition.Untyped.Properties.html#73503" class="Function">Numeral→sucᵏ</a> <a id="6970" href="Graded.Heap.Soundness.html#6865" class="Bound">num</a> <a id="6974" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6977" class="Symbol">λ</a>
      <a id="6985" class="Symbol">(</a><a id="6986" href="Graded.Heap.Soundness.html#6986" class="Bound">k</a> <a id="6988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6990" href="Graded.Heap.Soundness.html#6990" class="Bound">≡sucᵏ</a><a id="6995" class="Symbol">)</a> <a id="6997" class="Symbol">→</a>
    <a id="7003" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7008" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">PE.subst</a> <a id="7017" class="Symbol">(λ</a> <a id="7020" href="Graded.Heap.Soundness.html#7020" class="Bound">x</a> <a id="7022" class="Symbol">→</a> <a id="7024" class="Symbol">_</a> <a id="7026" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="7029" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="7031" class="Symbol">_</a> <a id="7033" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="7035" href="Graded.Heap.Soundness.html#7020" class="Bound">x</a> <a id="7037" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="7039" class="Symbol">_</a> <a id="7041" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="7043" class="Symbol">_</a> <a id="7045" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a><a id="7046" class="Symbol">)</a> <a id="7048" href="Graded.Heap.Soundness.html#6990" class="Bound">≡sucᵏ</a> <a id="7054" href="Graded.Heap.Soundness.html#6861" class="Bound">d</a> <a id="7056" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7059" class="Symbol">λ</a>
      <a id="7067" href="Graded.Heap.Soundness.html#7067" class="Bound">d′</a> <a id="7070" class="Symbol">→</a>
    <a id="7076" class="Keyword">let</a> <a id="7080" class="Keyword">open</a> <a id="7085" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="7089" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a> <a id="7098" class="Keyword">in</a>
    <a id="7105" class="Symbol">_</a> <a id="7107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7109" class="Symbol">_</a> <a id="7111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7113" class="Symbol">_</a> <a id="7115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7117" class="Symbol">_</a> <a id="7119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7121" class="Symbol">_</a>
      <a id="7129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7131" href="Graded.Heap.Soundness.html#7067" class="Bound">d′</a>
      <a id="7140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7142" href="Relation.Binary.PropositionalEquality.Core.html#2044" class="Function">PE.subst₂</a> <a id="7152" class="Symbol">(_</a> <a id="7155" href="Definition.Typed.html#5241" class="Datatype Operator">⊢_≡_∷</a> <a id="7161" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="7162" class="Symbol">)</a>
          <a id="7174" class="Symbol">(</a><a id="7175" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7184" class="Symbol">(</a><a id="7185" href="Graded.Heap.Untyped.Properties.html#24194" class="Function">erasedHeap-subst</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="7206" href="Definition.Untyped.NotParametrised.html#2977" class="InductiveConstructor">id</a> <a id="7209" class="Symbol">_))</a> <a id="7213" class="Symbol">(</a><a id="7214" href="Definition.Untyped.Properties.html#9540" class="Function">wk-id</a> <a id="7220" class="Symbol">_))</a>
          <a id="7234" class="Symbol">(</a><a id="7235" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7244" class="Symbol">(</a><a id="7245" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="7253" class="Symbol">(λ</a> <a id="7256" href="Graded.Heap.Soundness.html#7256" class="Bound">x</a> <a id="7258" class="Symbol">→</a> <a id="7260" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="7263" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7265" href="Graded.Heap.Soundness.html#7256" class="Bound">x</a> <a id="7267" href="Graded.Heap.Untyped.html#9290" class="Function Operator">[</a> <a id="7269" href="Graded.Heap.Soundness.html#6849" class="Bound">H</a> <a id="7271" href="Graded.Heap.Untyped.html#9290" class="Function Operator">]ₕ</a><a id="7273" class="Symbol">)</a> <a id="7275" href="Graded.Heap.Soundness.html#6990" class="Bound">≡sucᵏ</a><a id="7280" class="Symbol">)</a>
            <a id="7294" class="Symbol">(</a><a id="7295" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7304" class="Symbol">(</a><a id="7305" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="7313" class="Symbol">(</a><a id="7314" href="Graded.Heap.Untyped.html#9290" class="Function Operator">_[</a> <a id="7317" href="Graded.Heap.Soundness.html#6849" class="Bound">H</a> <a id="7319" href="Graded.Heap.Untyped.html#9290" class="Function Operator">]ₕ</a><a id="7321" class="Symbol">)</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Definition.Untyped.Properties.html#73914" class="Function">wk-sucᵏ</a> <a id="7332" href="Graded.Heap.Soundness.html#6986" class="Bound">k</a><a id="7333" class="Symbol">))</a> <a id="7336" class="Symbol">(</a><a id="7337" href="Definition.Untyped.Properties.html#73743" class="Function">subst-sucᵏ</a> <a id="7348" href="Graded.Heap.Soundness.html#6986" class="Bound">k</a><a id="7349" class="Symbol">)))</a>
          <a id="7363" href="Graded.Heap.Soundness.html#6871" class="Bound">s≡</a>
      <a id="7372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7374" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="7382" class="Symbol">(</a><a id="7383" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="7388" href="Graded.Heap.Soundness.html#6927" class="Bound">▸H</a> <a id="7391" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7393" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
          <a id="7409" href="Graded.Heap.Soundness.html#6915" class="Bound">γ</a>                      <a id="7432" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7435" href="Graded.Heap.Soundness.html#6942" class="Bound">γ≤</a> <a id="7438" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7450" href="Graded.Modality.html#1014" class="Function">𝟙</a> <a id="7452" href="Graded.Context.html#1823" class="Function Operator">·ᶜ</a> <a id="7455" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7462" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7464" href="Graded.Heap.Soundness.html#6919" class="Bound">δ</a> <a id="7466" href="Graded.Context.html#1591" class="Function Operator">+ᶜ</a> <a id="7469" href="Graded.Heap.Soundness.html#6923" class="Bound">η</a>   <a id="7473" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7476" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7485" class="Symbol">(</a><a id="7486" href="Graded.Heap.Usage.Inversion.html#1755" class="Function">▸ˢ-ε-inv</a> <a id="7495" href="Graded.Heap.Soundness.html#6937" class="Bound">▸ε</a><a id="7497" class="Symbol">)</a> <a id="7499" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7511" href="Graded.Modality.html#1014" class="Function">𝟙</a> <a id="7513" href="Graded.Context.html#1823" class="Function Operator">·ᶜ</a> <a id="7516" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7523" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7525" href="Graded.Heap.Soundness.html#6919" class="Bound">δ</a> <a id="7527" href="Graded.Context.html#1591" class="Function Operator">+ᶜ</a> <a id="7530" href="Graded.Context.html#2588" class="Function">𝟘ᶜ</a>  <a id="7534" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7537" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="7550" class="Symbol">_</a> <a id="7552" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7564" href="Graded.Modality.html#1014" class="Function">𝟙</a> <a id="7566" href="Graded.Context.html#1823" class="Function Operator">·ᶜ</a> <a id="7569" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7576" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7578" href="Graded.Heap.Soundness.html#6919" class="Bound">δ</a>        <a id="7587" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7590" href="Graded.Context.Properties.Multiplication.html#701" class="Function">·ᶜ-identityˡ</a> <a id="7603" class="Symbol">_</a> <a id="7605" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7617" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7624" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7626" href="Graded.Heap.Soundness.html#6919" class="Bound">δ</a>             <a id="7640" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7643" href="Graded.Context.Weakening.html#3505" class="Function">wk-≤ᶜ</a> <a id="7649" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7651" class="Symbol">(</a><a id="7652" href="Graded.Usage.Inversion.html#8773" class="Function">inv-usage-numeral</a> <a id="7670" href="Graded.Heap.Soundness.html#6932" class="Bound">▸n</a> <a id="7673" href="Graded.Heap.Soundness.html#6865" class="Bound">num</a><a id="7676" class="Symbol">)</a> <a id="7678" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7690" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7697" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7699" href="Graded.Context.html#2588" class="Function">𝟘ᶜ</a>            <a id="7713" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7716" href="Graded.Context.Weakening.html#1158" class="Function">wk-𝟘ᶜ</a> <a id="7722" href="Graded.Heap.Soundness.html#6853" class="Bound">ρ</a> <a id="7724" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
          <a id="7736" href="Graded.Context.html#2588" class="Function">𝟘ᶜ</a>                     <a id="7759" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7761" class="Symbol">)</a>

<a id="7764" class="Keyword">opaque</a>

  <a id="7774" class="Comment">-- The soundness property above specialized to closed terms</a>
  <a id="7836" class="Comment">-- All closed, well-typed and well-resourced terms of type ℕ reduce to some</a>
  <a id="7914" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="7991" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-closed"></a><a id="8073" href="Graded.Heap.Soundness.html#8073" class="Function">soundness-closed</a> <a id="8090" class="Symbol">:</a> <a id="8092" class="InductiveConstructor">ε</a> <a id="8094" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="8096" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="8098" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="8100" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="8102" class="Symbol">→</a> <a id="8104" class="InductiveConstructor">ε</a> <a id="8106" href="Graded.Usage.html#16359" class="Function Operator">▸</a> <a id="8108" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a>
                   <a id="8129" class="Symbol">→</a> <a id="8131" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="8134" class="Symbol">λ</a> <a id="8136" href="Graded.Heap.Soundness.html#8136" class="Bound">m</a> <a id="8138" href="Graded.Heap.Soundness.html#8138" class="Bound">n</a> <a id="8140" href="Graded.Heap.Soundness.html#8140" class="Bound">H</a> <a id="8142" href="Graded.Heap.Soundness.html#8142" class="Bound">k</a> <a id="8144" class="Symbol">(</a><a id="8145" href="Graded.Heap.Soundness.html#8145" class="Bound">ρ</a> <a id="8147" class="Symbol">:</a> <a id="8149" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="8152" href="Graded.Heap.Soundness.html#8136" class="Bound">m</a> <a id="8154" href="Graded.Heap.Soundness.html#8138" class="Bound">n</a><a id="8155" class="Symbol">)</a> <a id="8157" class="Symbol">→</a>
                   <a id="8178" href="Graded.Heap.Untyped.html#11392" class="Function">initial</a> <a id="8186" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="8188" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="8191" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="8193" href="Graded.Heap.Soundness.html#8140" class="Bound">H</a> <a id="8195" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="8197" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8202" href="Graded.Heap.Soundness.html#8142" class="Bound">k</a> <a id="8204" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="8206" href="Graded.Heap.Soundness.html#8145" class="Bound">ρ</a> <a id="8208" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="8210" class="InductiveConstructor">ε</a> <a id="8212" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a> <a id="8214" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8235" class="Symbol">(</a><a id="8236" class="InductiveConstructor">ε</a> <a id="8238" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="8240" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="8242" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="8244" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8249" href="Graded.Heap.Soundness.html#8142" class="Bound">k</a> <a id="8251" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="8253" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="8254" class="Symbol">)</a> <a id="8256" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8277" href="Graded.Heap.Soundness.html#8140" class="Bound">H</a> <a id="8279" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="8282" href="Graded.Modality.html#1012" class="Function">𝟘</a>
  <a id="8286" href="Graded.Heap.Soundness.html#8073" class="Function">soundness-closed</a> <a id="8303" class="Symbol">=</a>
    <a id="8309" href="Graded.Heap.Soundness.html#6307" class="Function">soundness</a> <a id="8319" class="Symbol">⦃</a> <a id="8321" class="Argument">ok</a> <a id="8324" class="Symbol">=</a> <a id="8326" href="Definition.Untyped.NotParametrised.html#1380" class="InductiveConstructor">ε</a> <a id="8328" class="Symbol">⦄</a> <a id="8330" class="Symbol">(λ</a> <a id="8333" href="Graded.Heap.Soundness.html#8333" class="Bound">_</a> <a id="8335" href="Graded.Heap.Soundness.html#8335" class="Bound">_</a> <a id="8337" class="Symbol">→</a> <a id="8339" href="Definition.Typed.Consequences.Canonicity.html#1853" class="Function">¬Empty</a><a id="8345" class="Symbol">)</a> <a id="8347" class="Symbol">(λ</a> <a id="8350" href="Graded.Heap.Soundness.html#8350" class="Bound">0≢0</a> <a id="8354" class="Symbol">→</a> <a id="8356" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="8363" class="Symbol">(</a><a id="8364" href="Graded.Heap.Soundness.html#8350" class="Bound">0≢0</a> <a id="8368" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="8375" class="Symbol">))</a>

<a id="8379" class="Keyword">opaque</a>

  <a id="8389" class="Comment">-- The soundness property above specialized to open terms</a>
  <a id="8449" class="Comment">-- Given some assumptions, all well-typed and erased types of type ℕ reduce to some</a>
  <a id="8535" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘</a>

  <a id="8611" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-open"></a><a id="8693" href="Graded.Heap.Soundness.html#8693" class="Function">soundness-open</a> <a id="8708" class="Symbol">:</a> <a id="8710" class="Symbol">⦃</a> <a id="8712" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="8735" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="8744" href="Graded.Heap.Soundness.html#2723" class="Generalizable">Δ</a> <a id="8746" class="Symbol">⦄</a>
                   <a id="8767" class="Symbol">→</a> <a id="8769" class="Symbol">(</a><a id="8770" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="8787" class="InductiveConstructor">𝟙ᵐ</a> <a id="8790" href="Graded.Modality.html#1012" class="Function">𝟘</a> <a id="8792" class="Symbol">→</a> <a id="8794" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="8805" href="Graded.Heap.Soundness.html#2723" class="Generalizable">Δ</a><a id="8806" class="Symbol">)</a>
                   <a id="8827" class="Symbol">→</a> <a id="8829" href="Graded.Restrictions.html#13385" class="Function">No-erased-matches′</a> <a id="8848" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="8861" href="Graded.Heap.Soundness.html#470" class="Bound">UR</a>
                   <a id="8883" class="Symbol">→</a> <a id="8885" href="Graded.Heap.Soundness.html#2723" class="Generalizable">Δ</a> <a id="8887" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="8889" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="8891" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="8893" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="8895" class="Symbol">→</a> <a id="8897" href="Graded.Context.html#2588" class="Function">𝟘ᶜ</a> <a id="8900" href="Graded.Usage.html#16359" class="Function Operator">▸</a> <a id="8902" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a>
                   <a id="8923" class="Symbol">→</a> <a id="8925" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="8928" class="Symbol">λ</a> <a id="8930" href="Graded.Heap.Soundness.html#8930" class="Bound">m</a> <a id="8932" href="Graded.Heap.Soundness.html#8932" class="Bound">n</a> <a id="8934" href="Graded.Heap.Soundness.html#8934" class="Bound">H</a> <a id="8936" href="Graded.Heap.Soundness.html#8936" class="Bound">k</a> <a id="8938" class="Symbol">(</a><a id="8939" href="Graded.Heap.Soundness.html#8939" class="Bound">ρ</a> <a id="8941" class="Symbol">:</a> <a id="8943" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="8946" href="Graded.Heap.Soundness.html#8930" class="Bound">m</a> <a id="8948" href="Graded.Heap.Soundness.html#8932" class="Bound">n</a><a id="8949" class="Symbol">)</a> <a id="8951" class="Symbol">→</a>
                   <a id="8972" href="Graded.Heap.Untyped.html#11392" class="Function">initial</a> <a id="8980" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="8982" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="8985" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟨</a> <a id="8987" href="Graded.Heap.Soundness.html#8934" class="Bound">H</a> <a id="8989" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="8991" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8996" href="Graded.Heap.Soundness.html#8936" class="Bound">k</a> <a id="8998" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="9000" href="Graded.Heap.Soundness.html#8939" class="Bound">ρ</a> <a id="9002" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">,</a> <a id="9004" class="InductiveConstructor">ε</a> <a id="9006" href="Graded.Heap.Untyped.html#10209" class="InductiveConstructor Operator">⟩</a> <a id="9008" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="9029" class="Symbol">(</a><a id="9030" href="Graded.Heap.Soundness.html#2723" class="Generalizable">Δ</a> <a id="9032" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="9034" href="Graded.Heap.Soundness.html#2671" class="Generalizable">t</a> <a id="9036" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="9038" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="9043" href="Graded.Heap.Soundness.html#8936" class="Bound">k</a> <a id="9045" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="9047" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="9048" class="Symbol">)</a> <a id="9050" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="9071" href="Graded.Heap.Soundness.html#8934" class="Bound">H</a> <a id="9073" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="9076" href="Graded.Modality.html#1012" class="Function">𝟘</a>
  <a id="9080" href="Graded.Heap.Soundness.html#8693" class="Function">soundness-open</a> <a id="9095" href="Graded.Heap.Soundness.html#9095" class="Bound">consistent</a> <a id="9106" href="Graded.Heap.Soundness.html#9106" class="Bound">erased</a> <a id="9113" class="Symbol">=</a> <a id="9115" href="Graded.Heap.Soundness.html#6307" class="Function">soundness</a> <a id="9125" href="Graded.Heap.Soundness.html#9095" class="Bound">consistent</a> <a id="9136" class="Symbol">λ</a> <a id="9138" href="Graded.Heap.Soundness.html#9138" class="Bound">_</a> <a id="9140" class="Symbol">→</a> <a id="9142" href="Graded.Heap.Soundness.html#9106" class="Bound">erased</a>
</pre></body></html>