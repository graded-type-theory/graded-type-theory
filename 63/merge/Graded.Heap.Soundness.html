<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Resource correctness of the heap semantics.</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a>
<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Graded.Heap.Assumptions.html" class="Module">Graded.Heap.Assumptions</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="407" class="Keyword">module</a> <a id="414" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a>
  <a id="438" class="Symbol">{</a><a id="439" href="Graded.Heap.Soundness.html#439" class="Bound">a</a><a id="440" class="Symbol">}</a> <a id="442" class="Symbol">{</a><a id="443" href="Graded.Heap.Soundness.html#443" class="Bound">M</a> <a id="445" class="Symbol">:</a> <a id="447" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="451" href="Graded.Heap.Soundness.html#439" class="Bound">a</a><a id="452" class="Symbol">}</a> <a id="454" class="Symbol">{</a><a id="455" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a> <a id="457" class="Symbol">:</a> <a id="459" href="Graded.Modality.html#9626" class="Record">Modality</a> <a id="468" href="Graded.Heap.Soundness.html#443" class="Bound">M</a><a id="469" class="Symbol">}</a>
  <a id="473" class="Symbol">(</a><a id="474" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="477" class="Symbol">:</a> <a id="479" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="498" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a><a id="499" class="Symbol">)</a>
  <a id="503" class="Symbol">(</a><a id="504" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="507" class="Symbol">:</a> <a id="509" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="527" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a><a id="528" class="Symbol">)</a>
  <a id="532" class="Symbol">(</a><a id="533" href="Graded.Heap.Soundness.html#533" class="Bound">As</a> <a id="536" class="Symbol">:</a> <a id="538" href="Graded.Heap.Assumptions.html#1092" class="Record">Assumptions</a> <a id="550" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="553" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a><a id="555" class="Symbol">)</a>
  <a id="559" class="Keyword">where</a>

<a id="566" class="Keyword">open</a> <a id="571" href="Graded.Heap.Assumptions.html#1092" class="Module">Assumptions</a> <a id="583" href="Graded.Heap.Soundness.html#533" class="Bound">As</a>
<a id="586" class="Keyword">open</a> <a id="591" href="Graded.Modality.html#9626" class="Module">Modality</a> <a id="600" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="602" class="Keyword">open</a> <a id="607" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="625" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="628" class="Keyword">open</a> <a id="633" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="652" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a>

<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="680" class="Keyword">open</a> <a id="685" class="Keyword">import</a> <a id="692" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="729" class="Keyword">open</a> <a id="734" class="Keyword">import</a> <a id="741" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="755" class="Keyword">import</a> <a id="762" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="790" class="Symbol">as</a> <a id="793" class="Module">PE</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="823" class="Keyword">import</a> <a id="830" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="859" class="Symbol">as</a> <a id="862" class="Module">RPo</a>

<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="898" href="Graded.Heap.Soundness.html#443" class="Bound">M</a>
<a id="900" class="Keyword">open</a> <a id="905" class="Keyword">import</a> <a id="912" href="Definition.Untyped.Neutral.html" class="Module">Definition.Untyped.Neutral</a> <a id="939" href="Graded.Heap.Soundness.html#443" class="Bound">M</a> <a id="941" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Definition.Untyped.Inversion.html" class="Module">Definition.Untyped.Inversion</a> <a id="995" href="Graded.Heap.Soundness.html#443" class="Bound">M</a>
<a id="997" class="Keyword">open</a> <a id="1002" class="Keyword">import</a> <a id="1009" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a> <a id="1039" href="Graded.Heap.Soundness.html#443" class="Bound">M</a>
<a id="1041" class="Keyword">open</a> <a id="1046" class="Keyword">import</a> <a id="1053" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1070" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1073" class="Keyword">open</a> <a id="1078" class="Keyword">import</a> <a id="1085" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="1126" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1129" class="Keyword">open</a> <a id="1134" class="Keyword">import</a> <a id="1141" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="1172" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1175" class="Keyword">open</a> <a id="1180" class="Keyword">import</a> <a id="1187" href="Definition.Typed.Inversion.html" class="Module">Definition.Typed.Inversion</a> <a id="1214" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1217" class="Keyword">open</a> <a id="1222" class="Keyword">import</a> <a id="1229" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="1256" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1259" class="Keyword">open</a> <a id="1264" class="Keyword">import</a> <a id="1271" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a> <a id="1323" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1326" class="Keyword">open</a> <a id="1331" class="Keyword">import</a> <a id="1338" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html" class="Module">Definition.LogicalRelation.Substitution.Introductions.Nat</a> <a id="1396" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>

<a id="1400" class="Keyword">open</a> <a id="1405" class="Keyword">import</a> <a id="1412" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="1427" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="1429" class="Keyword">open</a> <a id="1434" class="Keyword">import</a> <a id="1441" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1467" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="1469" class="Keyword">open</a> <a id="1474" class="Keyword">import</a> <a id="1481" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="1506" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="1508" class="Keyword">open</a> <a id="1513" class="Keyword">import</a> <a id="1520" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1532" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="1534" class="Keyword">open</a> <a id="1539" class="Keyword">import</a> <a id="1546" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="1566" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a>
<a id="1568" class="Keyword">open</a> <a id="1573" class="Keyword">import</a> <a id="1580" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1593" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a> <a id="1595" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a>
<a id="1598" class="Keyword">open</a> <a id="1603" class="Keyword">import</a> <a id="1610" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1633" href="Graded.Heap.Soundness.html#455" class="Bound">𝕄</a> <a id="1635" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a>

<a id="1639" class="Keyword">open</a> <a id="1644" class="Keyword">import</a> <a id="1651" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a> <a id="1676" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="1679" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a>
<a id="1682" class="Keyword">open</a> <a id="1687" class="Keyword">import</a> <a id="1694" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1714" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1727" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="1730" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="1743" class="Keyword">open</a> <a id="1748" class="Keyword">import</a> <a id="1755" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1786" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1799" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="1802" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="1815" class="Keyword">open</a> <a id="1820" class="Keyword">import</a> <a id="1827" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1845" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1858" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="1861" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="1874" class="Keyword">open</a> <a id="1879" class="Keyword">import</a> <a id="1886" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="1914" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1927" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="1930" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="1943" class="Keyword">open</a> <a id="1948" class="Keyword">import</a> <a id="1955" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="1984" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="1997" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2000" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2013" class="Keyword">open</a> <a id="2018" class="Keyword">import</a> <a id="2025" href="Graded.Heap.Usage.Reduction.html" class="Module">Graded.Heap.Usage.Reduction</a> <a id="2053" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2066" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2069" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a> <a id="2082" href="Graded.Heap.Assumptions.html#1300" class="Field">Unitʷ-η→</a> <a id="2091" href="Graded.Heap.Assumptions.html#1928" class="Function">¬Nr-not-available</a>
<a id="2109" class="Keyword">open</a> <a id="2114" class="Keyword">import</a> <a id="2121" href="Graded.Heap.Termination.html" class="Module">Graded.Heap.Termination</a> <a id="2145" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2148" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="2151" href="Graded.Heap.Soundness.html#533" class="Bound">As</a>
<a id="2154" class="Keyword">open</a> <a id="2159" class="Keyword">import</a> <a id="2166" href="Graded.Heap.Typed.html" class="Module">Graded.Heap.Typed</a> <a id="2184" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2187" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="2190" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2203" class="Keyword">open</a> <a id="2208" class="Keyword">import</a> <a id="2215" href="Graded.Heap.Typed.Inversion.html" class="Module">Graded.Heap.Typed.Inversion</a> <a id="2243" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2246" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="2249" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2262" class="Keyword">open</a> <a id="2267" class="Keyword">import</a> <a id="2274" href="Graded.Heap.Typed.Reduction.html" class="Module">Graded.Heap.Typed.Reduction</a> <a id="2302" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2305" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="2308" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2321" class="Keyword">open</a> <a id="2326" class="Keyword">import</a> <a id="2333" href="Graded.Heap.Typed.Properties.html" class="Module">Graded.Heap.Typed.Properties</a> <a id="2362" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2365" href="Graded.Heap.Soundness.html#504" class="Bound">TR</a> <a id="2368" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2381" class="Keyword">open</a> <a id="2386" class="Keyword">import</a> <a id="2393" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="2415" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2428" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2431" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>
<a id="2444" class="Keyword">open</a> <a id="2449" class="Keyword">import</a> <a id="2456" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="2489" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2502" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a> <a id="2505" href="Graded.Heap.Assumptions.html#2235" class="Function">factoring-nr</a>

<a id="2519" class="Keyword">private</a> <a id="2527" class="Keyword">variable</a>
  <a id="2538" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a> <a id="2540" class="Symbol">:</a> <a id="2542" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="2548" href="Graded.Heap.Soundness.html#2548" class="Generalizable">n</a> <a id="2550" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="2552" href="Graded.Heap.Soundness.html#2552" class="Generalizable">A</a> <a id="2554" class="Symbol">:</a> <a id="2556" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2561" class="Symbol">_</a>
  <a id="2565" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="2567" class="Symbol">:</a> <a id="2569" href="Graded.Heap.Untyped.html#10303" class="Record">State</a> <a id="2575" class="Symbol">_</a> <a id="2577" class="Symbol">_</a> <a id="2579" class="Symbol">_</a>
  <a id="2583" href="Graded.Heap.Soundness.html#2583" class="Generalizable">γ</a> <a id="2585" href="Graded.Heap.Soundness.html#2585" class="Generalizable">δ</a> <a id="2587" href="Graded.Heap.Soundness.html#2587" class="Generalizable">η</a> <a id="2589" class="Symbol">:</a> <a id="2591" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="2596" class="Symbol">_</a>
  <a id="2600" href="Graded.Heap.Soundness.html#2600" class="Generalizable">Γ</a> <a id="2602" href="Graded.Heap.Soundness.html#2602" class="Generalizable">Δ</a> <a id="2604" class="Symbol">:</a> <a id="2606" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2610" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2615" class="Symbol">_</a>
  <a id="2619" href="Graded.Heap.Soundness.html#2619" class="Generalizable">H</a> <a id="2621" class="Symbol">:</a> <a id="2623" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="2628" class="Symbol">_</a> <a id="2630" class="Symbol">_</a>
  <a id="2634" href="Graded.Heap.Soundness.html#2634" class="Generalizable">ρ</a> <a id="2636" class="Symbol">:</a> <a id="2638" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="2641" class="Symbol">_</a> <a id="2643" class="Symbol">_</a>
  <a id="2647" href="Graded.Heap.Soundness.html#2647" class="Generalizable">S</a> <a id="2649" class="Symbol">:</a> <a id="2651" href="Graded.Heap.Untyped.html#5884" class="Datatype">Stack</a> <a id="2657" class="Symbol">_</a>
  <a id="2661" href="Graded.Heap.Soundness.html#2661" class="Generalizable">m</a> <a id="2663" class="Symbol">:</a> <a id="2665" href="Graded.Mode.html#1062" class="Datatype">Mode</a>

<a id="2671" class="Keyword">opaque</a>

  <a id="2681" class="Comment">-- All well-resourced states of type ℕ that are in</a>
  <a id="2734" class="Comment">-- the logical relation reduce to numerals.</a>

  <a id="redNumeral′"></a><a id="2781" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a> <a id="2793" class="Symbol">:</a> <a id="2795" class="Symbol">{</a><a id="2796" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a> <a id="2798" class="Symbol">:</a> <a id="2800" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2804" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2809" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a><a id="2810" class="Symbol">}</a>
                <a id="2828" class="Symbol">⦃</a> <a id="2830" href="Graded.Heap.Soundness.html#2830" class="Bound">ok</a> <a id="2833" class="Symbol">:</a> <a id="2835" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="2858" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="2867" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a> <a id="2869" class="Symbol">⦄</a>
             <a id="2884" class="Symbol">→</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="2904" class="InductiveConstructor">𝟙ᵐ</a> <a id="2907" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2909" class="Symbol">→</a> <a id="2911" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="2922" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a><a id="2923" class="Symbol">)</a>
             <a id="2938" class="Symbol">→</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a> <a id="2943" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="2948" class="Number">0</a> <a id="2950" class="Symbol">→</a> <a id="2952" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="2971" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="2984" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a><a id="2986" class="Symbol">)</a>
             <a id="3001" class="Symbol">→</a> <a id="3003" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a> <a id="3005" href="Definition.LogicalRelation.html#3767" class="Record Operator">⊩ℕ</a> <a id="3008" href="Graded.Heap.Soundness.html#2548" class="Generalizable">n</a> <a id="3010" href="Definition.LogicalRelation.html#3767" class="Record Operator">∷ℕ</a> <a id="3013" class="Symbol">→</a> <a id="3015" href="Graded.Heap.Soundness.html#2548" class="Generalizable">n</a> <a id="3017" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="3022" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦅</a> <a id="3024" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="3026" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦆</a> <a id="3028" class="Symbol">→</a> <a id="3030" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a> <a id="3032" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">⊢ₛ</a> <a id="3035" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="3037" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">∷</a> <a id="3039" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="3041" class="Symbol">→</a> <a id="3043" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="3045" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a>
             <a id="3060" class="Symbol">→</a> <a id="3062" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="3065" class="Symbol">λ</a> <a id="3067" href="Graded.Heap.Soundness.html#3067" class="Bound">m</a> <a id="3069" href="Graded.Heap.Soundness.html#3069" class="Bound">n</a> <a id="3071" href="Graded.Heap.Soundness.html#3071" class="Bound">H</a> <a id="3073" class="Symbol">(</a><a id="3074" href="Graded.Heap.Soundness.html#3074" class="Bound">ρ</a> <a id="3076" class="Symbol">:</a> <a id="3078" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="3081" href="Graded.Heap.Soundness.html#3067" class="Bound">m</a> <a id="3083" href="Graded.Heap.Soundness.html#3069" class="Bound">n</a><a id="3084" class="Symbol">)</a> <a id="3086" href="Graded.Heap.Soundness.html#3086" class="Bound">t</a> <a id="3088" class="Symbol">→</a> <a id="3090" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="3092" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="3095" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="3097" href="Graded.Heap.Soundness.html#3071" class="Bound">H</a> <a id="3099" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3101" href="Graded.Heap.Soundness.html#3086" class="Bound">t</a> <a id="3103" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3105" href="Graded.Heap.Soundness.html#3074" class="Bound">ρ</a> <a id="3107" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3109" class="InductiveConstructor">ε</a> <a id="3111" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="3113" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="3130" href="Definition.Untyped.html#3475" class="Datatype">Numeral</a> <a id="3138" href="Graded.Heap.Soundness.html#3086" class="Bound">t</a> <a id="3140" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3142" href="Graded.Heap.Soundness.html#2796" class="Bound">Δ</a> <a id="3144" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="3146" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦅</a> <a id="3148" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="3150" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦆</a> <a id="3152" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="3154" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="3157" href="Graded.Heap.Soundness.html#3074" class="Bound">ρ</a> <a id="3159" href="Graded.Heap.Soundness.html#3086" class="Bound">t</a> <a id="3161" href="Graded.Heap.Untyped.html#9460" class="Function Operator">[</a> <a id="3163" href="Graded.Heap.Soundness.html#3071" class="Bound">H</a> <a id="3165" href="Graded.Heap.Untyped.html#9460" class="Function Operator">]ₕ</a> <a id="3168" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="3170" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="3172" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="3189" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="3191" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="3193" href="Graded.Heap.Soundness.html#3071" class="Bound">H</a> <a id="3195" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3197" href="Graded.Heap.Soundness.html#3086" class="Bound">t</a> <a id="3199" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3201" href="Graded.Heap.Soundness.html#3074" class="Bound">ρ</a> <a id="3203" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="3205" class="InductiveConstructor">ε</a> <a id="3207" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
  <a id="3211" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a> <a id="3223" href="Graded.Heap.Soundness.html#3223" class="Bound">consistent</a> <a id="3234" href="Graded.Heap.Soundness.html#3234" class="Bound">nem</a> <a id="3238" class="Symbol">(</a><a id="3239" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="3242" class="Symbol">_</a> <a id="3244" href="Graded.Heap.Soundness.html#3244" class="Bound">d</a> <a id="3246" href="Graded.Heap.Soundness.html#3246" class="Bound">n≡n</a> <a id="3250" class="Symbol">(</a><a id="3251" href="Definition.LogicalRelation.html#4102" class="InductiveConstructor">sucᵣ</a> <a id="3256" href="Graded.Heap.Soundness.html#3256" class="Bound">x</a><a id="3257" class="Symbol">))</a> <a id="3260" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3268" href="Graded.Heap.Soundness.html#3268" class="Bound">⊢s</a> <a id="3271" href="Graded.Heap.Soundness.html#3271" class="Bound">▸s</a> <a id="3274" class="Symbol">=</a>
    <a id="3280" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3285" href="Graded.Heap.Termination.html#3910" class="Function">whBisim</a> <a id="3293" href="Graded.Heap.Soundness.html#3223" class="Bound">consistent</a> <a id="3304" href="Graded.Heap.Soundness.html#3234" class="Bound">nem</a> <a id="3308" href="Graded.Heap.Soundness.html#3268" class="Bound">⊢s</a> <a id="3311" href="Graded.Heap.Soundness.html#3271" class="Bound">▸s</a> <a id="3314" class="Symbol">(</a><a id="3315" href="Graded.Heap.Soundness.html#3244" class="Bound">d</a> <a id="3317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3319" href="Definition.Untyped.Neutral.html#2555" class="InductiveConstructor">sucₙ</a><a id="3323" class="Symbol">)</a> <a id="3325" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3328" class="Symbol">λ</a>
      <a id="3336" class="Symbol">(_</a> <a id="3339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3341" class="Symbol">_</a> <a id="3343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3345" href="Graded.Heap.Soundness.html#3345" class="Bound">H</a> <a id="3347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3349" href="Graded.Heap.Soundness.html#3349" class="Bound">t</a> <a id="3351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3353" href="Graded.Heap.Soundness.html#3353" class="Bound">ρ</a> <a id="3355" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3357" class="Symbol">(</a><a id="3358" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a> <a id="3361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3363" class="Symbol">_)</a> <a id="3366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3368" href="Graded.Heap.Soundness.html#3368" class="Bound">≡u</a> <a id="3371" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3373" href="Graded.Heap.Soundness.html#3373" class="Bound">v</a><a id="3374" class="Symbol">)</a> <a id="3376" class="Symbol">→</a>
    <a id="3382" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3387" href="Definition.Untyped.Inversion.html#35528" class="Function">subst-suc</a> <a id="3397" class="Symbol">{</a><a id="3398" class="Argument">t</a> <a id="3400" class="Symbol">=</a> <a id="3402" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="3405" href="Graded.Heap.Soundness.html#3353" class="Bound">ρ</a> <a id="3407" href="Graded.Heap.Soundness.html#3349" class="Bound">t</a><a id="3408" class="Symbol">}</a> <a id="3410" href="Graded.Heap.Soundness.html#3368" class="Bound">≡u</a> <a id="3413" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3416" class="Symbol">λ</a> <a id="3418" class="Symbol">{</a>
      <a id="3426" class="Symbol">(</a><a id="3427" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Graded.Heap.Soundness.html#3433" class="Bound">x</a> <a id="3435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3437" href="Graded.Heap.Soundness.html#3437" class="Bound">≡x</a><a id="3439" class="Symbol">))</a> <a id="3442" class="Symbol">→</a>
    <a id="3448" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3453" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="3460" href="Graded.Heap.Soundness.html#3437" class="Bound">≡x</a> <a id="3463" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3466" class="Symbol">λ</a> <a id="3468" class="Symbol">{</a>
      <a id="3476" class="Symbol">(_</a> <a id="3479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3481" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3491" class="Symbol">_)</a> <a id="3494" class="Symbol">→</a>
    <a id="3500" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3505" href="Graded.Heap.Soundness.html#3373" class="Bound">v</a> <a id="3507" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3510" class="Symbol">λ</a> <a id="3512" class="Symbol">()};</a>
      <a id="3523" class="Symbol">(</a><a id="3524" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Graded.Heap.Soundness.html#3530" class="Bound">n′</a> <a id="3533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3535" href="Graded.Heap.Soundness.html#3535" class="Bound">≡suc</a> <a id="3540" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3542" href="Graded.Heap.Soundness.html#3542" class="Bound">≡n</a><a id="3544" class="Symbol">))</a> <a id="3547" class="Symbol">→</a>
    <a id="3553" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3558" href="Definition.Untyped.Inversion.html#34569" class="Function">wk-suc</a> <a id="3565" href="Graded.Heap.Soundness.html#3535" class="Bound">≡suc</a> <a id="3570" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3573" class="Symbol">λ</a> <a id="3575" class="Symbol">{</a>
      <a id="3583" class="Symbol">(</a><a id="3584" href="Graded.Heap.Soundness.html#3584" class="Bound">n″</a> <a id="3587" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3589" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3599" href="Graded.Heap.Soundness.html#3599" class="Bound">≡n′</a><a id="3602" class="Symbol">)</a> <a id="3604" class="Symbol">→</a>
    <a id="3610" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3615" href="Graded.Heap.Typed.Reduction.html#28205" class="Function">⇾*→≡</a> <a id="3620" href="Graded.Heap.Soundness.html#3268" class="Bound">⊢s</a> <a id="3623" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a> <a id="3626" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3629" class="Symbol">λ</a>
      <a id="3637" href="Graded.Heap.Soundness.html#3637" class="Bound">s≡</a> <a id="3640" class="Symbol">→</a>
    <a id="3646" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3651" href="Definition.Untyped.Properties.html#72131" class="Function">isNumeral?</a> <a id="3662" href="Graded.Heap.Soundness.html#3584" class="Bound">n″</a> <a id="3665" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3668" class="Symbol">λ</a> <a id="3670" class="Symbol">{</a>
      <a id="3678" class="Symbol">(</a><a id="3679" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3683" href="Graded.Heap.Soundness.html#3683" class="Bound">num</a><a id="3686" class="Symbol">)</a> <a id="3688" class="Symbol">→</a>
    <a id="3694" class="Symbol">_</a> <a id="3696" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3698" class="Symbol">_</a> <a id="3700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3702" class="Symbol">_</a> <a id="3704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3706" class="Symbol">_</a> <a id="3708" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3710" class="Symbol">_</a> <a id="3712" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3714" href="Graded.Heap.Reduction.Properties.html#21529" class="Function">⇾*→↠*</a> <a id="3720" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a> <a id="3723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3725" href="Definition.Untyped.html#3541" class="InductiveConstructor">sucₙ</a> <a id="3730" href="Graded.Heap.Soundness.html#3683" class="Bound">num</a> <a id="3734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3736" href="Graded.Heap.Soundness.html#3637" class="Bound">s≡</a> <a id="3739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3741" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="3746" href="Graded.Heap.Soundness.html#3271" class="Bound">▸s</a> <a id="3749" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a> <a id="3752" class="Symbol">;</a>
      <a id="3760" class="Symbol">(</a><a id="3761" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3764" href="Graded.Heap.Soundness.html#3764" class="Bound">¬num</a><a id="3768" class="Symbol">)</a> <a id="3770" class="Symbol">→</a>
    <a id="3776" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3781" href="Graded.Heap.Typed.Inversion.html#7716" class="Function">⊢ₛ-inv</a> <a id="3788" class="Symbol">(</a><a id="3789" href="Graded.Heap.Typed.Reduction.html#19697" class="Function">⊢ₛ-⇾*</a> <a id="3795" href="Graded.Heap.Soundness.html#3268" class="Bound">⊢s</a> <a id="3798" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a><a id="3800" class="Symbol">)</a> <a id="3802" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3805" class="Symbol">λ</a>
      <a id="3813" class="Symbol">(_</a> <a id="3816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3818" class="Symbol">_</a> <a id="3820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3822" href="Graded.Heap.Soundness.html#3822" class="Bound">⊢H</a> <a id="3825" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3827" href="Graded.Heap.Soundness.html#3827" class="Bound">⊢t</a> <a id="3830" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3832" href="Graded.Heap.Soundness.html#3832" class="Bound">⊢S</a><a id="3834" class="Symbol">)</a> <a id="3836" class="Symbol">→</a>
    <a id="3842" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3847" href="Definition.Typed.Inversion.Primitive.html#3186" class="Function">inversion-suc</a> <a id="3861" href="Graded.Heap.Soundness.html#3827" class="Bound">⊢t</a> <a id="3864" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3867" class="Symbol">λ</a>
      <a id="3875" class="Symbol">(</a><a id="3876" href="Graded.Heap.Soundness.html#3876" class="Bound">⊢n″</a> <a id="3880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3882" href="Graded.Heap.Soundness.html#3882" class="Bound">≡ℕ</a><a id="3884" class="Symbol">)</a> <a id="3886" class="Symbol">→</a>
    <a id="3892" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3897" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="3904" class="Symbol">(</a><a id="3905" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="3910" href="Graded.Heap.Soundness.html#3271" class="Bound">▸s</a> <a id="3913" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a><a id="3915" class="Symbol">)</a> <a id="3917" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3920" class="Symbol">λ</a>
      <a id="3928" class="Symbol">(_</a> <a id="3931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3933" class="Symbol">_</a> <a id="3935" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3937" class="Symbol">_</a> <a id="3939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3941" href="Graded.Heap.Soundness.html#3941" class="Bound">▸H</a> <a id="3944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3946" href="Graded.Heap.Soundness.html#3946" class="Bound">▸t</a> <a id="3949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3951" href="Graded.Heap.Soundness.html#3951" class="Bound">▸ε</a> <a id="3954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3956" href="Graded.Heap.Soundness.html#3956" class="Bound">γ≤</a><a id="3958" class="Symbol">)</a> <a id="3960" class="Symbol">→</a>
    <a id="3966" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3971" href="Graded.Usage.Inversion.html#8502" class="Function">inv-usage-suc</a> <a id="3985" href="Graded.Heap.Soundness.html#3946" class="Bound">▸t</a> <a id="3988" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3991" class="Symbol">λ</a>
      <a id="3999" class="Symbol">(</a><a id="4000" href="Graded.Usage.Inversion.html#8376" class="InductiveConstructor">invUsageSuc</a> <a id="4012" href="Graded.Heap.Soundness.html#4012" class="Bound">▸n″</a> <a id="4016" href="Graded.Heap.Soundness.html#4016" class="Bound">δ≤</a><a id="4018" class="Symbol">)</a>  <a id="4021" class="Symbol">→</a>
    <a id="4027" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4032" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a> <a id="4044" class="Symbol">{</a><a id="4045" class="Argument">s</a> <a id="4047" class="Symbol">=</a> <a id="4049" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="4051" href="Graded.Heap.Soundness.html#3345" class="Bound">H</a> <a id="4053" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="4055" href="Graded.Heap.Soundness.html#3584" class="Bound">n″</a> <a id="4058" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="4060" href="Graded.Heap.Soundness.html#3353" class="Bound">ρ</a> <a id="4062" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="4064" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a> <a id="4066" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a><a id="4067" class="Symbol">}</a> <a id="4069" href="Graded.Heap.Soundness.html#3223" class="Bound">consistent</a> <a id="4080" href="Graded.Heap.Soundness.html#3234" class="Bound">nem</a> <a id="4084" href="Graded.Heap.Soundness.html#3256" class="Bound">x</a>
          <a id="4096" class="Symbol">(</a><a id="4097" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">PE.sym</a> <a id="4104" class="Symbol">(</a><a id="4105" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="4114" class="Symbol">(</a><a id="4115" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="4123" class="Symbol">(</a><a id="4124" href="Graded.Heap.Untyped.html#9460" class="Function Operator">_[</a> <a id="4127" href="Graded.Heap.Soundness.html#3345" class="Bound">H</a> <a id="4129" href="Graded.Heap.Untyped.html#9460" class="Function Operator">]ₕ</a><a id="4131" class="Symbol">)</a> <a id="4133" href="Graded.Heap.Soundness.html#3599" class="Bound">≡n′</a><a id="4136" class="Symbol">)</a> <a id="4138" href="Graded.Heap.Soundness.html#3542" class="Bound">≡n</a><a id="4140" class="Symbol">))</a>
          <a id="4153" class="Symbol">(</a><a id="4154" href="Graded.Heap.Typed.html#3993" class="InductiveConstructor">⊢ₛ</a> <a id="4157" href="Graded.Heap.Soundness.html#3822" class="Bound">⊢H</a> <a id="4160" href="Graded.Heap.Soundness.html#3876" class="Bound">⊢n″</a> <a id="4164" href="Graded.Heap.Typed.html#3728" class="InductiveConstructor">ε</a><a id="4165" class="Symbol">)</a>
          <a id="4177" class="Symbol">(</a><a id="4178" href="Graded.Heap.Usage.html#3890" class="InductiveConstructor">▸ₛ</a> <a id="4181" href="Graded.Heap.Soundness.html#3941" class="Bound">▸H</a> <a id="4184" href="Graded.Heap.Soundness.html#4012" class="Bound">▸n″</a> <a id="4188" href="Graded.Heap.Soundness.html#3951" class="Bound">▸ε</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Graded.Context.Properties.PartialOrder.html#790" class="Function">≤ᶜ-trans</a> <a id="4201" href="Graded.Heap.Soundness.html#3956" class="Bound">γ≤</a> <a id="4204" class="Symbol">(</a><a id="4205" href="Graded.Context.Properties.Addition.html#2897" class="Function">+ᶜ-monotoneˡ</a> <a id="4218" class="Symbol">(</a><a id="4219" href="Graded.Context.Properties.Multiplication.html#3380" class="Function">·ᶜ-monotoneʳ</a> <a id="4232" class="Symbol">(</a><a id="4233" href="Graded.Context.Weakening.html#3514" class="Function">wk-≤ᶜ</a> <a id="4239" href="Graded.Heap.Soundness.html#3353" class="Bound">ρ</a> <a id="4241" href="Graded.Heap.Soundness.html#4016" class="Bound">δ≤</a><a id="4243" class="Symbol">)))))</a> <a id="4249" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4252" class="Symbol">λ</a>
      <a id="4260" class="Symbol">(_</a> <a id="4263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4265" class="Symbol">_</a> <a id="4267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4269" href="Graded.Heap.Soundness.html#4269" class="Bound">H′</a> <a id="4272" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4274" href="Graded.Heap.Soundness.html#4274" class="Bound">ρ′</a> <a id="4277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4279" href="Graded.Heap.Soundness.html#4279" class="Bound">t′</a> <a id="4282" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4284" href="Graded.Heap.Soundness.html#4284" class="Bound">d₀</a> <a id="4287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4289" href="Graded.Heap.Soundness.html#4289" class="Bound">n</a> <a id="4291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4293" href="Graded.Heap.Soundness.html#4293" class="Bound">s′≡</a> <a id="4297" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4299" href="Graded.Heap.Soundness.html#4299" class="Bound">▸s′</a><a id="4302" class="Symbol">)</a> <a id="4304" class="Symbol">→</a>
    <a id="4310" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4315" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="4322" href="Graded.Heap.Soundness.html#4299" class="Bound">▸s′</a> <a id="4326" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4329" class="Symbol">λ</a>
      <a id="4337" class="Symbol">(_</a> <a id="4340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4342" class="Symbol">_</a> <a id="4344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4346" class="Symbol">_</a> <a id="4348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4350" href="Graded.Heap.Soundness.html#4350" class="Bound">▸H</a> <a id="4353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4355" href="Graded.Heap.Soundness.html#4355" class="Bound">▸t</a> <a id="4358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4360" href="Graded.Heap.Soundness.html#4360" class="Bound">▸S</a> <a id="4363" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4365" href="Graded.Heap.Soundness.html#4365" class="Bound">γ≤</a><a id="4367" class="Symbol">)</a> <a id="4369" class="Symbol">→</a>
    <a id="4375" class="Symbol">_</a> <a id="4377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4379" class="Symbol">_</a> <a id="4381" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4383" class="Symbol">_</a> <a id="4385" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4387" class="Symbol">_</a> <a id="4389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4391" class="Symbol">_</a>
      <a id="4399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4401" href="Graded.Heap.Reduction.Properties.html#1680" class="Function">↠*-concat</a> <a id="4411" class="Symbol">(</a><a id="4412" href="Graded.Heap.Reduction.Properties.html#21529" class="Function">⇾*→↠*</a> <a id="4418" href="Graded.Heap.Soundness.html#3358" class="Bound">d′</a><a id="4420" class="Symbol">)</a>
          <a id="4432" class="Symbol">(</a><a id="4433" href="Graded.Heap.Reduction.html#6688" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4436" href="Graded.Heap.Reduction.html#6013" class="InductiveConstructor">sucₕ</a> <a id="4441" href="Graded.Heap.Soundness.html#3764" class="Bound">¬num</a> <a id="4446" href="Graded.Heap.Reduction.html#7224" class="InductiveConstructor Operator">⇨</a> <a id="4448" href="Graded.Heap.Reduction.Properties.html#1680" class="Function">↠*-concat</a> <a id="4458" class="Symbol">(</a><a id="4459" href="Graded.Heap.Reduction.Properties.html#16538" class="Function">++sucₛ-↠*</a> <a id="4469" href="Graded.Heap.Soundness.html#4284" class="Bound">d₀</a><a id="4471" class="Symbol">)</a> <a id="4473" class="Symbol">(</a><a id="4474" href="Graded.Heap.Reduction.html#6688" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4477" class="Symbol">(</a><a id="4478" href="Graded.Heap.Reduction.html#6105" class="InductiveConstructor">numₕ</a> <a id="4483" href="Graded.Heap.Soundness.html#4289" class="Bound">n</a><a id="4484" class="Symbol">)</a> <a id="4486" href="Graded.Heap.Reduction.html#7224" class="InductiveConstructor Operator">⇨</a> <a id="4488" href="Graded.Heap.Reduction.html#7207" class="InductiveConstructor">id</a><a id="4490" class="Symbol">))</a>
      <a id="4499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4501" href="Definition.Untyped.html#3541" class="InductiveConstructor">sucₙ</a> <a id="4506" href="Graded.Heap.Soundness.html#4289" class="Bound">n</a> <a id="4508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4510" href="Definition.Typed.html#5469" class="InductiveConstructor">trans</a> <a id="4516" href="Graded.Heap.Soundness.html#3637" class="Bound">s≡</a> <a id="4519" class="Symbol">(</a><a id="4520" href="Definition.Typed.html#8689" class="InductiveConstructor">suc-cong</a> <a id="4529" href="Graded.Heap.Soundness.html#4293" class="Bound">s′≡</a><a id="4532" class="Symbol">)</a>
      <a id="4540" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4542" href="Graded.Heap.Usage.html#3890" class="InductiveConstructor">▸ₛ</a> <a id="4545" href="Graded.Heap.Soundness.html#4350" class="Bound">▸H</a> <a id="4548" class="Symbol">(</a><a id="4549" href="Graded.Usage.html#9873" class="InductiveConstructor">sucₘ</a> <a id="4554" href="Graded.Heap.Soundness.html#4355" class="Bound">▸t</a><a id="4556" class="Symbol">)</a> <a id="4558" href="Graded.Heap.Soundness.html#4360" class="Bound">▸S</a> <a id="4561" href="Graded.Heap.Soundness.html#4365" class="Bound">γ≤</a> <a id="4564" class="Symbol">}}}</a>

  <a id="4571" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a> <a id="4583" href="Graded.Heap.Soundness.html#4583" class="Bound">consistent</a> <a id="4594" href="Graded.Heap.Soundness.html#4594" class="Bound">nem</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="4602" class="Symbol">_</a> <a id="4604" href="Graded.Heap.Soundness.html#4604" class="Bound">d</a> <a id="4606" href="Graded.Heap.Soundness.html#4606" class="Bound">n≡n</a> <a id="4610" href="Definition.LogicalRelation.html#4157" class="InductiveConstructor">zeroᵣ</a><a id="4615" class="Symbol">)</a> <a id="4617" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4625" href="Graded.Heap.Soundness.html#4625" class="Bound">⊢s</a> <a id="4628" href="Graded.Heap.Soundness.html#4628" class="Bound">▸s</a> <a id="4631" class="Symbol">=</a>
    <a id="4637" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4642" href="Graded.Heap.Termination.html#3910" class="Function">whBisim</a> <a id="4650" href="Graded.Heap.Soundness.html#4583" class="Bound">consistent</a> <a id="4661" href="Graded.Heap.Soundness.html#4594" class="Bound">nem</a> <a id="4665" href="Graded.Heap.Soundness.html#4625" class="Bound">⊢s</a> <a id="4668" href="Graded.Heap.Soundness.html#4628" class="Bound">▸s</a> <a id="4671" class="Symbol">(</a><a id="4672" href="Graded.Heap.Soundness.html#4604" class="Bound">d</a> <a id="4674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4676" href="Definition.Untyped.Neutral.html#2535" class="InductiveConstructor">zeroₙ</a><a id="4681" class="Symbol">)</a> <a id="4683" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4686" class="Symbol">λ</a>
      <a id="4694" class="Symbol">(_</a> <a id="4697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4699" class="Symbol">_</a> <a id="4701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4703" href="Graded.Heap.Soundness.html#4703" class="Bound">H</a> <a id="4705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4707" href="Graded.Heap.Soundness.html#4707" class="Bound">t</a> <a id="4709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4711" href="Graded.Heap.Soundness.html#4711" class="Bound">ρ</a> <a id="4713" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4715" class="Symbol">(</a><a id="4716" href="Graded.Heap.Soundness.html#4716" class="Bound">d′</a> <a id="4719" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4721" class="Symbol">_)</a> <a id="4724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4726" href="Graded.Heap.Soundness.html#4726" class="Bound">≡u</a> <a id="4729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4731" href="Graded.Heap.Soundness.html#4731" class="Bound">v</a><a id="4732" class="Symbol">)</a> <a id="4734" class="Symbol">→</a>
    <a id="4740" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4745" href="Definition.Untyped.Inversion.html#33484" class="Function">subst-zero</a> <a id="4756" class="Symbol">{</a><a id="4757" class="Argument">t</a> <a id="4759" class="Symbol">=</a> <a id="4761" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="4764" href="Graded.Heap.Soundness.html#4711" class="Bound">ρ</a> <a id="4766" href="Graded.Heap.Soundness.html#4707" class="Bound">t</a><a id="4767" class="Symbol">}</a> <a id="4769" href="Graded.Heap.Soundness.html#4726" class="Bound">≡u</a> <a id="4772" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4775" class="Symbol">λ</a> <a id="4777" class="Symbol">{</a>
      <a id="4785" class="Symbol">(</a><a id="4786" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Graded.Heap.Soundness.html#4792" class="Bound">x</a> <a id="4794" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4796" href="Graded.Heap.Soundness.html#4796" class="Bound">≡x</a><a id="4798" class="Symbol">))</a> <a id="4801" class="Symbol">→</a>
    <a id="4807" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4812" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="4819" href="Graded.Heap.Soundness.html#4796" class="Bound">≡x</a> <a id="4822" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4825" class="Symbol">λ</a> <a id="4827" class="Symbol">{</a>
      <a id="4835" class="Symbol">(_</a> <a id="4838" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4840" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4850" href="Graded.Heap.Soundness.html#4850" class="Bound">w</a><a id="4851" class="Symbol">)</a> <a id="4853" class="Symbol">→</a>
    <a id="4859" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4864" href="Graded.Heap.Soundness.html#4731" class="Bound">v</a> <a id="4866" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4869" class="Symbol">λ</a> <a id="4871" class="Symbol">()}</a> <a id="4875" class="Symbol">;</a>
      <a id="4883" class="Symbol">(</a><a id="4884" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4889" href="Graded.Heap.Soundness.html#4889" class="Bound">≡zero</a><a id="4894" class="Symbol">)</a> <a id="4896" class="Symbol">→</a>
    <a id="4902" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4907" href="Definition.Untyped.Inversion.html#32542" class="Function">wk-zero</a> <a id="4915" href="Graded.Heap.Soundness.html#4889" class="Bound">≡zero</a> <a id="4921" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4924" class="Symbol">λ</a> <a id="4926" class="Symbol">{</a>
      <a id="4934" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4942" class="Symbol">→</a>
    <a id="4948" class="Symbol">_</a> <a id="4950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4952" class="Symbol">_</a> <a id="4954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4956" class="Symbol">_</a> <a id="4958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4960" class="Symbol">_</a> <a id="4962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4964" class="Symbol">_</a> <a id="4966" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4968" href="Graded.Heap.Reduction.Properties.html#21529" class="Function">⇾*→↠*</a> <a id="4974" href="Graded.Heap.Soundness.html#4716" class="Bound">d′</a> <a id="4977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4979" href="Definition.Untyped.html#3518" class="InductiveConstructor">zeroₙ</a> <a id="4985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4987" href="Graded.Heap.Typed.Reduction.html#28205" class="Function">⇾*→≡</a> <a id="4992" href="Graded.Heap.Soundness.html#4625" class="Bound">⊢s</a> <a id="4995" href="Graded.Heap.Soundness.html#4716" class="Bound">d′</a> <a id="4998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5000" href="Graded.Heap.Usage.Reduction.html#49223" class="Function">▸-⇾*</a> <a id="5005" href="Graded.Heap.Soundness.html#4628" class="Bound">▸s</a> <a id="5008" href="Graded.Heap.Soundness.html#4716" class="Bound">d′</a> <a id="5011" class="Symbol">}}</a>

  <a id="5017" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a>
    <a id="5033" class="Symbol">{</a><a id="5034" href="Graded.Heap.Soundness.html#5034" class="Bound">s</a><a id="5035" class="Symbol">}</a>
    <a id="5041" href="Graded.Heap.Soundness.html#5041" class="Bound">consistent</a> <a id="5052" href="Graded.Heap.Soundness.html#5052" class="Bound">nem</a> <a id="5056" class="Symbol">(</a><a id="5057" href="Definition.LogicalRelation.html#3880" class="InductiveConstructor">ℕₜ</a> <a id="5060" class="Symbol">_</a> <a id="5062" href="Graded.Heap.Soundness.html#5062" class="Bound">d</a> <a id="5064" href="Graded.Heap.Soundness.html#5064" class="Bound">n≡n</a> <a id="5068" class="Symbol">(</a><a id="5069" href="Definition.LogicalRelation.html#4189" class="InductiveConstructor">ne</a> <a id="5072" class="Symbol">(</a><a id="5073" href="Definition.LogicalRelation.html#2529" class="InductiveConstructor">neNfₜ</a> <a id="5079" class="Symbol">_</a> <a id="5081" href="Graded.Heap.Soundness.html#5081" class="Bound">neK</a> <a id="5085" href="Graded.Heap.Soundness.html#5085" class="Bound">k≡k</a><a id="5088" class="Symbol">)))</a> <a id="5092" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5100" href="Graded.Heap.Soundness.html#5100" class="Bound">⊢s</a> <a id="5103" href="Graded.Heap.Soundness.html#5103" class="Bound">▸s</a> <a id="5106" class="Symbol">=</a>
    <a id="5112" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5117" href="Graded.Heap.Termination.html#3910" class="Function">whBisim</a> <a id="5125" class="Symbol">{</a><a id="5126" class="Argument">s</a> <a id="5128" class="Symbol">=</a> <a id="5130" href="Graded.Heap.Soundness.html#5034" class="Bound">s</a><a id="5131" class="Symbol">}</a> <a id="5133" href="Graded.Heap.Soundness.html#5041" class="Bound">consistent</a> <a id="5144" href="Graded.Heap.Soundness.html#5052" class="Bound">nem</a> <a id="5148" href="Graded.Heap.Soundness.html#5100" class="Bound">⊢s</a> <a id="5151" href="Graded.Heap.Soundness.html#5103" class="Bound">▸s</a> <a id="5154" class="Symbol">(</a><a id="5155" href="Graded.Heap.Soundness.html#5062" class="Bound">d</a> <a id="5157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5159" href="Definition.Untyped.Neutral.html#2679" class="InductiveConstructor">ne</a> <a id="5162" href="Graded.Heap.Soundness.html#5081" class="Bound">neK</a><a id="5165" class="Symbol">)</a> <a id="5167" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5170" class="Symbol">λ</a> <a id="5172" class="Symbol">{</a>
      <a id="5180" class="Symbol">(_</a> <a id="5183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5185" class="Symbol">_</a> <a id="5187" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5189" href="Graded.Heap.Soundness.html#5189" class="Bound">H</a> <a id="5191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5193" href="Graded.Heap.Soundness.html#5193" class="Bound">t</a> <a id="5195" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5197" href="Graded.Heap.Soundness.html#5197" class="Bound">ρ</a> <a id="5199" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5201" href="Graded.Heap.Soundness.html#5201" class="Bound">d′</a> <a id="5204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5206" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5216" href="Graded.Heap.Soundness.html#5216" class="Bound">v</a><a id="5217" class="Symbol">)</a> <a id="5219" class="Symbol">→</a>
    <a id="5225" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="5232" class="Symbol">(</a><a id="5233" href="Graded.Heap.Untyped.Properties.html#2933" class="Function">Value→¬Neutral</a> <a id="5248" class="Symbol">(</a><a id="5249" href="Graded.Heap.Untyped.Properties.html#2466" class="Function">substValue</a> <a id="5260" class="Symbol">(</a><a id="5261" href="Graded.Heap.Untyped.html#9233" class="Function">toSubstₕ</a> <a id="5270" href="Graded.Heap.Soundness.html#5189" class="Bound">H</a><a id="5271" class="Symbol">)</a> <a id="5273" class="Symbol">(</a><a id="5274" href="Graded.Heap.Untyped.Properties.html#2026" class="Function">wkValue</a> <a id="5282" href="Graded.Heap.Soundness.html#5197" class="Bound">ρ</a> <a id="5284" href="Graded.Heap.Soundness.html#5216" class="Bound">v</a><a id="5285" class="Symbol">))</a> <a id="5288" href="Graded.Heap.Soundness.html#5081" class="Bound">neK</a><a id="5291" class="Symbol">)</a> <a id="5293" class="Symbol">}</a>


<a id="5297" class="Keyword">opaque</a>

  <a id="5307" class="Comment">-- All well-resourced, well-typed states of type ℕ reduce to numerals.</a>

  <a id="redNumeral"></a><a id="5381" href="Graded.Heap.Soundness.html#5381" class="Function">redNumeral</a> <a id="5392" class="Symbol">:</a> <a id="5394" class="Symbol">{</a><a id="5395" href="Graded.Heap.Soundness.html#5395" class="Bound">Δ</a> <a id="5397" class="Symbol">:</a> <a id="5399" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5403" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="5408" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a><a id="5409" class="Symbol">}</a>
               <a id="5426" class="Symbol">⦃</a> <a id="5428" href="Graded.Heap.Soundness.html#5428" class="Bound">ok</a> <a id="5431" class="Symbol">:</a> <a id="5433" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="5456" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="5465" href="Graded.Heap.Soundness.html#5395" class="Bound">Δ</a> <a id="5467" class="Symbol">⦄</a>
             <a id="5482" class="Symbol">→</a> <a id="5484" class="Symbol">(</a><a id="5485" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="5502" class="InductiveConstructor">𝟙ᵐ</a> <a id="5505" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="5507" class="Symbol">→</a> <a id="5509" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="5520" href="Graded.Heap.Soundness.html#5395" class="Bound">Δ</a><a id="5521" class="Symbol">)</a>
             <a id="5536" class="Symbol">→</a> <a id="5538" class="Symbol">(</a><a id="5539" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a> <a id="5541" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5546" class="Number">0</a> <a id="5548" class="Symbol">→</a> <a id="5550" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="5569" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="5582" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a><a id="5584" class="Symbol">)</a>
             <a id="5599" class="Symbol">→</a> <a id="5601" href="Graded.Heap.Soundness.html#5395" class="Bound">Δ</a> <a id="5603" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">⊢ₛ</a> <a id="5606" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="5608" href="Graded.Heap.Typed.html#3914" class="Datatype Operator">∷</a> <a id="5610" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5612" class="Symbol">→</a> <a id="5614" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="5616" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a>
             <a id="5631" class="Symbol">→</a> <a id="5633" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="5636" class="Symbol">λ</a> <a id="5638" href="Graded.Heap.Soundness.html#5638" class="Bound">m</a> <a id="5640" href="Graded.Heap.Soundness.html#5640" class="Bound">n</a> <a id="5642" href="Graded.Heap.Soundness.html#5642" class="Bound">H</a> <a id="5644" class="Symbol">(</a><a id="5645" href="Graded.Heap.Soundness.html#5645" class="Bound">ρ</a> <a id="5647" class="Symbol">:</a> <a id="5649" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="5652" href="Graded.Heap.Soundness.html#5638" class="Bound">m</a> <a id="5654" href="Graded.Heap.Soundness.html#5640" class="Bound">n</a><a id="5655" class="Symbol">)</a> <a id="5657" href="Graded.Heap.Soundness.html#5657" class="Bound">t</a> <a id="5659" class="Symbol">→</a> <a id="5661" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="5663" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="5666" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="5668" href="Graded.Heap.Soundness.html#5642" class="Bound">H</a> <a id="5670" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5672" href="Graded.Heap.Soundness.html#5657" class="Bound">t</a> <a id="5674" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5676" href="Graded.Heap.Soundness.html#5645" class="Bound">ρ</a> <a id="5678" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5680" class="InductiveConstructor">ε</a> <a id="5682" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="5684" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5701" href="Definition.Untyped.html#3475" class="Datatype">Numeral</a> <a id="5709" href="Graded.Heap.Soundness.html#5657" class="Bound">t</a> <a id="5711" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5713" href="Graded.Heap.Soundness.html#5395" class="Bound">Δ</a> <a id="5715" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="5717" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦅</a> <a id="5719" href="Graded.Heap.Soundness.html#2565" class="Generalizable">s</a> <a id="5721" href="Graded.Heap.Untyped.html#11390" class="Function Operator">⦆</a> <a id="5723" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="5725" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="5728" href="Graded.Heap.Soundness.html#5645" class="Bound">ρ</a> <a id="5730" href="Graded.Heap.Soundness.html#5657" class="Bound">t</a> <a id="5732" href="Graded.Heap.Untyped.html#9460" class="Function Operator">[</a> <a id="5734" href="Graded.Heap.Soundness.html#5642" class="Bound">H</a> <a id="5736" href="Graded.Heap.Untyped.html#9460" class="Function Operator">]ₕ</a> <a id="5739" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="5741" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5743" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5760" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="5762" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="5764" href="Graded.Heap.Soundness.html#5642" class="Bound">H</a> <a id="5766" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5768" href="Graded.Heap.Soundness.html#5657" class="Bound">t</a> <a id="5770" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5772" href="Graded.Heap.Soundness.html#5645" class="Bound">ρ</a> <a id="5774" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="5776" class="InductiveConstructor">ε</a> <a id="5778" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
  <a id="5782" href="Graded.Heap.Soundness.html#5381" class="Function">redNumeral</a> <a id="5793" class="Symbol">{</a><a id="5794" href="Graded.Heap.Soundness.html#5794" class="Bound">s</a><a id="5795" class="Symbol">}</a> <a id="5797" href="Graded.Heap.Soundness.html#5797" class="Bound">consistent</a> <a id="5808" href="Graded.Heap.Soundness.html#5808" class="Bound">nem</a> <a id="5812" href="Graded.Heap.Soundness.html#5812" class="Bound">⊢s</a> <a id="5815" href="Graded.Heap.Soundness.html#5815" class="Bound">▸s</a> <a id="5818" class="Symbol">=</a>
    <a id="5824" href="Graded.Heap.Soundness.html#2781" class="Function">redNumeral′</a> <a id="5836" href="Graded.Heap.Soundness.html#5797" class="Bound">consistent</a> <a id="5847" href="Graded.Heap.Soundness.html#5808" class="Bound">nem</a>
      <a id="5857" class="Symbol">(</a><a id="5858" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html#2632" class="Function">⊩∷ℕ⇔</a> <a id="5863" class="Symbol">.</a><a id="5864" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5870" class="Symbol">(</a><a id="5871" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1451" class="Function">reducible-⊩∷</a> <a id="5884" class="Symbol">(</a><a id="5885" href="Graded.Heap.Typed.Properties.html#3374" class="Function">⊢⦅⦆</a> <a id="5889" class="Symbol">{</a><a id="5890" class="Argument">s</a> <a id="5892" class="Symbol">=</a> <a id="5894" href="Graded.Heap.Soundness.html#5794" class="Bound">s</a><a id="5895" class="Symbol">}</a> <a id="5897" href="Graded.Heap.Soundness.html#5812" class="Bound">⊢s</a><a id="5899" class="Symbol">)</a> <a id="5901" class="Symbol">.</a><a id="5902" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5907" class="Symbol">))</a>
      <a id="5916" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5924" href="Graded.Heap.Soundness.html#5812" class="Bound">⊢s</a> <a id="5927" href="Graded.Heap.Soundness.html#5815" class="Bound">▸s</a>

<a id="5931" class="Keyword">opaque</a>

  <a id="5941" class="Comment">-- Given some assumptions, all well-typed and erased terms of type ℕ reduce to some</a>
  <a id="6027" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="6104" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness"></a><a id="6186" href="Graded.Heap.Soundness.html#6186" class="Function">soundness</a> <a id="6196" class="Symbol">:</a> <a id="6198" class="Symbol">{</a><a id="6199" href="Graded.Heap.Soundness.html#6199" class="Bound">Δ</a> <a id="6201" class="Symbol">:</a> <a id="6203" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="6207" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="6212" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a><a id="6213" class="Symbol">}</a>
              <a id="6229" class="Symbol">⦃</a> <a id="6231" href="Graded.Heap.Soundness.html#6231" class="Bound">ok</a> <a id="6234" class="Symbol">:</a> <a id="6236" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="6259" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="6268" href="Graded.Heap.Soundness.html#6199" class="Bound">Δ</a> <a id="6270" class="Symbol">⦄</a>
            <a id="6284" class="Symbol">→</a> <a id="6286" class="Symbol">(</a><a id="6287" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="6304" class="InductiveConstructor">𝟙ᵐ</a> <a id="6307" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="6309" class="Symbol">→</a> <a id="6311" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="6322" href="Graded.Heap.Soundness.html#6199" class="Bound">Δ</a><a id="6323" class="Symbol">)</a>
            <a id="6337" class="Symbol">→</a> <a id="6339" class="Symbol">(</a><a id="6340" href="Graded.Heap.Soundness.html#2538" class="Generalizable">k</a> <a id="6342" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="6347" class="Number">0</a> <a id="6349" class="Symbol">→</a> <a id="6351" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="6370" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="6383" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a><a id="6385" class="Symbol">)</a>
            <a id="6399" class="Symbol">→</a> <a id="6401" href="Graded.Heap.Soundness.html#6199" class="Bound">Δ</a> <a id="6403" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="6405" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="6407" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="6409" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="6411" class="Symbol">→</a> <a id="6413" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="6416" href="Graded.Usage.html#16774" class="Function Operator">▸</a> <a id="6418" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a>
            <a id="6432" class="Symbol">→</a> <a id="6434" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="6437" class="Symbol">λ</a> <a id="6439" href="Graded.Heap.Soundness.html#6439" class="Bound">m</a> <a id="6441" href="Graded.Heap.Soundness.html#6441" class="Bound">n</a> <a id="6443" href="Graded.Heap.Soundness.html#6443" class="Bound">H</a> <a id="6445" href="Graded.Heap.Soundness.html#6445" class="Bound">k</a> <a id="6447" class="Symbol">(</a><a id="6448" href="Graded.Heap.Soundness.html#6448" class="Bound">ρ</a> <a id="6450" class="Symbol">:</a> <a id="6452" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="6455" href="Graded.Heap.Soundness.html#6439" class="Bound">m</a> <a id="6457" href="Graded.Heap.Soundness.html#6441" class="Bound">n</a><a id="6458" class="Symbol">)</a> <a id="6460" class="Symbol">→</a>
              <a id="6476" href="Graded.Heap.Untyped.html#11562" class="Function">initial</a> <a id="6484" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="6486" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="6489" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="6491" href="Graded.Heap.Soundness.html#6443" class="Bound">H</a> <a id="6493" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6495" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="6500" href="Graded.Heap.Soundness.html#6445" class="Bound">k</a> <a id="6502" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6504" href="Graded.Heap.Soundness.html#6448" class="Bound">ρ</a> <a id="6506" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6508" class="InductiveConstructor">ε</a> <a id="6510" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="6512" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6528" class="Symbol">(</a><a id="6529" href="Graded.Heap.Soundness.html#6199" class="Bound">Δ</a> <a id="6531" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="6533" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="6535" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="6537" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="6542" href="Graded.Heap.Soundness.html#6445" class="Bound">k</a> <a id="6544" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="6546" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="6547" class="Symbol">)</a> <a id="6549" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6565" href="Graded.Heap.Soundness.html#6443" class="Bound">H</a> <a id="6567" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="6570" href="Graded.Modality.html#995" class="Function">𝟘</a>
  <a id="6574" href="Graded.Heap.Soundness.html#6186" class="Function">soundness</a> <a id="6584" class="Symbol">{</a><a id="6585" href="Graded.Heap.Soundness.html#6585" class="Bound">k</a><a id="6586" class="Symbol">}</a> <a id="6588" class="Symbol">{</a><a id="6589" href="Graded.Heap.Soundness.html#6589" class="Bound">t</a><a id="6590" class="Symbol">}</a> <a id="6592" class="Symbol">{</a><a id="6593" href="Graded.Heap.Soundness.html#6593" class="Bound">Δ</a><a id="6594" class="Symbol">}</a> <a id="6596" href="Graded.Heap.Soundness.html#6596" class="Bound">consistent</a> <a id="6607" href="Graded.Heap.Soundness.html#6607" class="Bound">nem</a> <a id="6611" href="Graded.Heap.Soundness.html#6611" class="Bound">⊢t</a> <a id="6614" href="Graded.Heap.Soundness.html#6614" class="Bound">▸t</a> <a id="6617" class="Symbol">=</a>
    <a id="6623" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6628" href="Graded.Heap.Usage.Properties.html#2008" class="Function">▸initial</a> <a id="6637" href="Graded.Heap.Soundness.html#6614" class="Bound">▸t</a> <a id="6640" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6643" class="Symbol">λ</a>
      <a id="6651" href="Graded.Heap.Soundness.html#6651" class="Bound">▸s</a> <a id="6654" class="Symbol">→</a>
    <a id="6660" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6665" href="Graded.Heap.Soundness.html#5381" class="Function">redNumeral</a> <a id="6676" href="Graded.Heap.Soundness.html#6596" class="Bound">consistent</a> <a id="6687" href="Graded.Heap.Soundness.html#6607" class="Bound">nem</a> <a id="6691" class="Symbol">(</a><a id="6692" href="Graded.Heap.Typed.Properties.html#2028" class="Function">⊢initial</a> <a id="6701" href="Graded.Heap.Soundness.html#6611" class="Bound">⊢t</a><a id="6703" class="Symbol">)</a> <a id="6705" href="Graded.Heap.Soundness.html#6651" class="Bound">▸s</a> <a id="6708" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6711" class="Symbol">λ</a>
      <a id="6719" class="Symbol">(_</a> <a id="6722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6724" class="Symbol">_</a> <a id="6726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6728" href="Graded.Heap.Soundness.html#6728" class="Bound">H</a> <a id="6730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6732" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="6734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6736" href="Graded.Heap.Soundness.html#6736" class="Bound">t</a> <a id="6738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6740" href="Graded.Heap.Soundness.html#6740" class="Bound">d</a> <a id="6742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6744" href="Graded.Heap.Soundness.html#6744" class="Bound">num</a> <a id="6748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6750" href="Graded.Heap.Soundness.html#6750" class="Bound">s≡</a> <a id="6753" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6755" href="Graded.Heap.Soundness.html#6755" class="Bound">▸s′</a><a id="6758" class="Symbol">)</a> <a id="6760" class="Symbol">→</a>
    <a id="6766" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6771" href="Graded.Heap.Usage.Inversion.html#1849" class="Function">▸ₛ-inv</a> <a id="6778" href="Graded.Heap.Soundness.html#6755" class="Bound">▸s′</a> <a id="6782" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6785" class="Symbol">λ</a>
      <a id="6793" class="Symbol">(</a><a id="6794" href="Graded.Heap.Soundness.html#6794" class="Bound">γ</a> <a id="6796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6798" href="Graded.Heap.Soundness.html#6798" class="Bound">δ</a> <a id="6800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6802" href="Graded.Heap.Soundness.html#6802" class="Bound">η</a> <a id="6804" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6806" href="Graded.Heap.Soundness.html#6806" class="Bound">▸H</a> <a id="6809" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6811" href="Graded.Heap.Soundness.html#6811" class="Bound">▸n</a> <a id="6814" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6816" href="Graded.Heap.Soundness.html#6816" class="Bound">▸ε</a> <a id="6819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6821" href="Graded.Heap.Soundness.html#6821" class="Bound">γ≤</a><a id="6823" class="Symbol">)</a> <a id="6825" class="Symbol">→</a>
    <a id="6831" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6836" href="Definition.Untyped.Properties.html#73503" class="Function">Numeral→sucᵏ</a> <a id="6849" href="Graded.Heap.Soundness.html#6744" class="Bound">num</a> <a id="6853" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6856" class="Symbol">λ</a>
      <a id="6864" class="Symbol">(</a><a id="6865" href="Graded.Heap.Soundness.html#6865" class="Bound">k</a> <a id="6867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6869" href="Graded.Heap.Soundness.html#6869" class="Bound">≡sucᵏ</a><a id="6874" class="Symbol">)</a> <a id="6876" class="Symbol">→</a>
    <a id="6882" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6887" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">PE.subst</a> <a id="6896" class="Symbol">(λ</a> <a id="6899" href="Graded.Heap.Soundness.html#6899" class="Bound">x</a> <a id="6901" class="Symbol">→</a> <a id="6903" class="Symbol">_</a> <a id="6905" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="6908" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="6910" class="Symbol">_</a> <a id="6912" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6914" href="Graded.Heap.Soundness.html#6899" class="Bound">x</a> <a id="6916" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6918" class="Symbol">_</a> <a id="6920" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6922" class="Symbol">_</a> <a id="6924" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a><a id="6925" class="Symbol">)</a> <a id="6927" href="Graded.Heap.Soundness.html#6869" class="Bound">≡sucᵏ</a> <a id="6933" href="Graded.Heap.Soundness.html#6740" class="Bound">d</a> <a id="6935" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6938" class="Symbol">λ</a>
      <a id="6946" href="Graded.Heap.Soundness.html#6946" class="Bound">d′</a> <a id="6949" class="Symbol">→</a>
    <a id="6955" class="Keyword">let</a> <a id="6959" class="Keyword">open</a> <a id="6964" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="6968" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a> <a id="6977" class="Keyword">in</a>
    <a id="6984" class="Symbol">_</a> <a id="6986" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6988" class="Symbol">_</a> <a id="6990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6992" class="Symbol">_</a> <a id="6994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6996" class="Symbol">_</a> <a id="6998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7000" class="Symbol">_</a>
      <a id="7008" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7010" href="Graded.Heap.Soundness.html#6946" class="Bound">d′</a>
      <a id="7019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7021" href="Relation.Binary.PropositionalEquality.Core.html#2044" class="Function">PE.subst₂</a> <a id="7031" class="Symbol">(_</a> <a id="7034" href="Definition.Typed.html#5241" class="Datatype Operator">⊢_≡_∷</a> <a id="7040" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="7041" class="Symbol">)</a>
          <a id="7053" class="Symbol">(</a><a id="7054" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7063" class="Symbol">(</a><a id="7064" href="Graded.Heap.Untyped.Properties.html#24194" class="Function">erasedHeap-subst</a> <a id="7081" class="Symbol">(</a><a id="7082" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="7085" href="Definition.Untyped.NotParametrised.html#2977" class="InductiveConstructor">id</a> <a id="7088" class="Symbol">_))</a> <a id="7092" class="Symbol">(</a><a id="7093" href="Definition.Untyped.Properties.html#9540" class="Function">wk-id</a> <a id="7099" class="Symbol">_))</a>
          <a id="7113" class="Symbol">(</a><a id="7114" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7123" class="Symbol">(</a><a id="7124" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="7132" class="Symbol">(λ</a> <a id="7135" href="Graded.Heap.Soundness.html#7135" class="Bound">x</a> <a id="7137" class="Symbol">→</a> <a id="7139" href="Definition.Untyped.html#9240" class="Function">wk</a> <a id="7142" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7144" href="Graded.Heap.Soundness.html#7135" class="Bound">x</a> <a id="7146" href="Graded.Heap.Untyped.html#9460" class="Function Operator">[</a> <a id="7148" href="Graded.Heap.Soundness.html#6728" class="Bound">H</a> <a id="7150" href="Graded.Heap.Untyped.html#9460" class="Function Operator">]ₕ</a><a id="7152" class="Symbol">)</a> <a id="7154" href="Graded.Heap.Soundness.html#6869" class="Bound">≡sucᵏ</a><a id="7159" class="Symbol">)</a>
            <a id="7173" class="Symbol">(</a><a id="7174" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="7183" class="Symbol">(</a><a id="7184" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="7192" class="Symbol">(</a><a id="7193" href="Graded.Heap.Untyped.html#9460" class="Function Operator">_[</a> <a id="7196" href="Graded.Heap.Soundness.html#6728" class="Bound">H</a> <a id="7198" href="Graded.Heap.Untyped.html#9460" class="Function Operator">]ₕ</a><a id="7200" class="Symbol">)</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Definition.Untyped.Properties.html#73914" class="Function">wk-sucᵏ</a> <a id="7211" href="Graded.Heap.Soundness.html#6865" class="Bound">k</a><a id="7212" class="Symbol">))</a> <a id="7215" class="Symbol">(</a><a id="7216" href="Definition.Untyped.Properties.html#73743" class="Function">subst-sucᵏ</a> <a id="7227" href="Graded.Heap.Soundness.html#6865" class="Bound">k</a><a id="7228" class="Symbol">)))</a>
          <a id="7242" href="Graded.Heap.Soundness.html#6750" class="Bound">s≡</a>
      <a id="7251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7253" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="7261" class="Symbol">(</a><a id="7262" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="7267" href="Graded.Heap.Soundness.html#6806" class="Bound">▸H</a> <a id="7270" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="7272" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
          <a id="7288" href="Graded.Heap.Soundness.html#6794" class="Bound">γ</a>                      <a id="7311" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7314" href="Graded.Heap.Soundness.html#6821" class="Bound">γ≤</a> <a id="7317" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7329" href="Graded.Modality.html#997" class="Function">𝟙</a> <a id="7331" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7334" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="7341" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7343" href="Graded.Heap.Soundness.html#6798" class="Bound">δ</a> <a id="7345" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7348" href="Graded.Heap.Soundness.html#6802" class="Bound">η</a>   <a id="7352" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7355" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7364" class="Symbol">(</a><a id="7365" href="Graded.Heap.Usage.Inversion.html#1755" class="Function">▸ˢ-ε-inv</a> <a id="7374" href="Graded.Heap.Soundness.html#6816" class="Bound">▸ε</a><a id="7376" class="Symbol">)</a> <a id="7378" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7390" href="Graded.Modality.html#997" class="Function">𝟙</a> <a id="7392" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7395" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="7402" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7404" href="Graded.Heap.Soundness.html#6798" class="Bound">δ</a> <a id="7406" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7409" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>  <a id="7413" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7416" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="7429" class="Symbol">_</a> <a id="7431" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7443" href="Graded.Modality.html#997" class="Function">𝟙</a> <a id="7445" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7448" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="7455" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7457" href="Graded.Heap.Soundness.html#6798" class="Bound">δ</a>        <a id="7466" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7469" href="Graded.Context.Properties.Multiplication.html#701" class="Function">·ᶜ-identityˡ</a> <a id="7482" class="Symbol">_</a> <a id="7484" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7496" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="7503" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7505" href="Graded.Heap.Soundness.html#6798" class="Bound">δ</a>             <a id="7519" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7522" href="Graded.Context.Weakening.html#3514" class="Function">wk-≤ᶜ</a> <a id="7528" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7530" class="Symbol">(</a><a id="7531" href="Graded.Usage.Inversion.html#8773" class="Function">inv-usage-numeral</a> <a id="7549" href="Graded.Heap.Soundness.html#6811" class="Bound">▸n</a> <a id="7552" href="Graded.Heap.Soundness.html#6744" class="Bound">num</a><a id="7555" class="Symbol">)</a> <a id="7557" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7569" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="7576" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7578" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>            <a id="7592" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7595" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="7601" href="Graded.Heap.Soundness.html#6732" class="Bound">ρ</a> <a id="7603" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
          <a id="7615" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>                     <a id="7638" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7640" class="Symbol">)</a>

<a id="7643" class="Keyword">opaque</a>

  <a id="7653" class="Comment">-- The soundness property above specialized to closed terms</a>
  <a id="7715" class="Comment">-- All closed, well-typed and well-resourced terms of type ℕ reduce to some</a>
  <a id="7793" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="7870" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-closed"></a><a id="7952" href="Graded.Heap.Soundness.html#7952" class="Function">soundness-closed</a> <a id="7969" class="Symbol">:</a> <a id="7971" class="InductiveConstructor">ε</a> <a id="7973" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="7975" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="7977" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="7979" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="7981" class="Symbol">→</a> <a id="7983" class="InductiveConstructor">ε</a> <a id="7985" href="Graded.Usage.html#16774" class="Function Operator">▸</a> <a id="7987" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a>
                   <a id="8008" class="Symbol">→</a> <a id="8010" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="8013" class="Symbol">λ</a> <a id="8015" href="Graded.Heap.Soundness.html#8015" class="Bound">m</a> <a id="8017" href="Graded.Heap.Soundness.html#8017" class="Bound">n</a> <a id="8019" href="Graded.Heap.Soundness.html#8019" class="Bound">H</a> <a id="8021" href="Graded.Heap.Soundness.html#8021" class="Bound">k</a> <a id="8023" class="Symbol">(</a><a id="8024" href="Graded.Heap.Soundness.html#8024" class="Bound">ρ</a> <a id="8026" class="Symbol">:</a> <a id="8028" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="8031" href="Graded.Heap.Soundness.html#8015" class="Bound">m</a> <a id="8033" href="Graded.Heap.Soundness.html#8017" class="Bound">n</a><a id="8034" class="Symbol">)</a> <a id="8036" class="Symbol">→</a>
                   <a id="8057" href="Graded.Heap.Untyped.html#11562" class="Function">initial</a> <a id="8065" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="8067" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="8070" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="8072" href="Graded.Heap.Soundness.html#8019" class="Bound">H</a> <a id="8074" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8076" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8081" href="Graded.Heap.Soundness.html#8021" class="Bound">k</a> <a id="8083" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8085" href="Graded.Heap.Soundness.html#8024" class="Bound">ρ</a> <a id="8087" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8089" class="InductiveConstructor">ε</a> <a id="8091" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="8093" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8114" class="Symbol">(</a><a id="8115" class="InductiveConstructor">ε</a> <a id="8117" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="8119" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="8121" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="8123" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8128" href="Graded.Heap.Soundness.html#8021" class="Bound">k</a> <a id="8130" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="8132" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="8133" class="Symbol">)</a> <a id="8135" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8156" href="Graded.Heap.Soundness.html#8019" class="Bound">H</a> <a id="8158" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="8161" href="Graded.Modality.html#995" class="Function">𝟘</a>
  <a id="8165" href="Graded.Heap.Soundness.html#7952" class="Function">soundness-closed</a> <a id="8182" class="Symbol">=</a>
    <a id="8188" href="Graded.Heap.Soundness.html#6186" class="Function">soundness</a> <a id="8198" class="Symbol">⦃</a> <a id="8200" class="Argument">ok</a> <a id="8203" class="Symbol">=</a> <a id="8205" href="Definition.Untyped.NotParametrised.html#1380" class="InductiveConstructor">ε</a> <a id="8207" class="Symbol">⦄</a> <a id="8209" class="Symbol">(λ</a> <a id="8212" href="Graded.Heap.Soundness.html#8212" class="Bound">_</a> <a id="8214" href="Graded.Heap.Soundness.html#8214" class="Bound">_</a> <a id="8216" class="Symbol">→</a> <a id="8218" href="Definition.Typed.Consequences.Canonicity.html#1853" class="Function">¬Empty</a><a id="8224" class="Symbol">)</a> <a id="8226" class="Symbol">(λ</a> <a id="8229" href="Graded.Heap.Soundness.html#8229" class="Bound">0≢0</a> <a id="8233" class="Symbol">→</a> <a id="8235" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="8242" class="Symbol">(</a><a id="8243" href="Graded.Heap.Soundness.html#8229" class="Bound">0≢0</a> <a id="8247" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="8254" class="Symbol">))</a>

<a id="8258" class="Keyword">opaque</a>

  <a id="8268" class="Comment">-- The soundness property above specialized to open terms</a>
  <a id="8328" class="Comment">-- Given some assumptions, all well-typed and erased types of type ℕ reduce to some</a>
  <a id="8414" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘</a>

  <a id="8490" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-open"></a><a id="8572" href="Graded.Heap.Soundness.html#8572" class="Function">soundness-open</a> <a id="8587" class="Symbol">:</a> <a id="8589" class="Symbol">⦃</a> <a id="8591" href="Definition.Typed.Restrictions.html#3219" class="Datatype">No-equality-reflection</a> <a id="8614" href="Definition.Untyped.NotParametrised.html#1265" class="Datatype Operator">or-empty</a> <a id="8623" href="Graded.Heap.Soundness.html#2602" class="Generalizable">Δ</a> <a id="8625" class="Symbol">⦄</a>
                   <a id="8646" class="Symbol">→</a> <a id="8648" class="Symbol">(</a><a id="8649" href="Graded.Usage.Restrictions.html#1782" class="Function">Emptyrec-allowed</a> <a id="8666" class="InductiveConstructor">𝟙ᵐ</a> <a id="8669" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8671" class="Symbol">→</a> <a id="8673" href="Definition.Typed.html#18998" class="Function">Consistent</a> <a id="8684" href="Graded.Heap.Soundness.html#2602" class="Generalizable">Δ</a><a id="8685" class="Symbol">)</a>
                   <a id="8706" class="Symbol">→</a> <a id="8708" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="8727" href="Definition.Typed.Restrictions.html#955" class="Function">type-variant</a> <a id="8740" href="Graded.Heap.Soundness.html#474" class="Bound">UR</a>
                   <a id="8762" class="Symbol">→</a> <a id="8764" href="Graded.Heap.Soundness.html#2602" class="Generalizable">Δ</a> <a id="8766" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="8768" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="8770" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="8772" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="8774" class="Symbol">→</a> <a id="8776" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="8779" href="Graded.Usage.html#16774" class="Function Operator">▸</a> <a id="8781" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a>
                   <a id="8802" class="Symbol">→</a> <a id="8804" href="Tools.Product.html#1022" class="Function">∃₅</a> <a id="8807" class="Symbol">λ</a> <a id="8809" href="Graded.Heap.Soundness.html#8809" class="Bound">m</a> <a id="8811" href="Graded.Heap.Soundness.html#8811" class="Bound">n</a> <a id="8813" href="Graded.Heap.Soundness.html#8813" class="Bound">H</a> <a id="8815" href="Graded.Heap.Soundness.html#8815" class="Bound">k</a> <a id="8817" class="Symbol">(</a><a id="8818" href="Graded.Heap.Soundness.html#8818" class="Bound">ρ</a> <a id="8820" class="Symbol">:</a> <a id="8822" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="8825" href="Graded.Heap.Soundness.html#8809" class="Bound">m</a> <a id="8827" href="Graded.Heap.Soundness.html#8811" class="Bound">n</a><a id="8828" class="Symbol">)</a> <a id="8830" class="Symbol">→</a>
                   <a id="8851" href="Graded.Heap.Untyped.html#11562" class="Function">initial</a> <a id="8859" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="8861" href="Graded.Heap.Reduction.html#7151" class="Datatype Operator">↠*</a> <a id="8864" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="8866" href="Graded.Heap.Soundness.html#8813" class="Bound">H</a> <a id="8868" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8870" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8875" href="Graded.Heap.Soundness.html#8815" class="Bound">k</a> <a id="8877" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8879" href="Graded.Heap.Soundness.html#8818" class="Bound">ρ</a> <a id="8881" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="8883" class="InductiveConstructor">ε</a> <a id="8885" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="8887" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8908" class="Symbol">(</a><a id="8909" href="Graded.Heap.Soundness.html#2602" class="Generalizable">Δ</a> <a id="8911" href="Definition.Typed.html#5241" class="Datatype Operator">⊢</a> <a id="8913" href="Graded.Heap.Soundness.html#2550" class="Generalizable">t</a> <a id="8915" href="Definition.Typed.html#5241" class="Datatype Operator">≡</a> <a id="8917" href="Definition.Untyped.html#3643" class="Function">sucᵏ</a> <a id="8922" href="Graded.Heap.Soundness.html#8815" class="Bound">k</a> <a id="8924" href="Definition.Typed.html#5241" class="Datatype Operator">∷</a> <a id="8926" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a><a id="8927" class="Symbol">)</a> <a id="8929" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8950" href="Graded.Heap.Soundness.html#8813" class="Bound">H</a> <a id="8952" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="8955" href="Graded.Modality.html#995" class="Function">𝟘</a>
  <a id="8959" href="Graded.Heap.Soundness.html#8572" class="Function">soundness-open</a> <a id="8974" href="Graded.Heap.Soundness.html#8974" class="Bound">consistent</a> <a id="8985" href="Graded.Heap.Soundness.html#8985" class="Bound">erased</a> <a id="8992" class="Symbol">=</a> <a id="8994" href="Graded.Heap.Soundness.html#6186" class="Function">soundness</a> <a id="9004" href="Graded.Heap.Soundness.html#8974" class="Bound">consistent</a> <a id="9015" class="Symbol">λ</a> <a id="9017" href="Graded.Heap.Soundness.html#9017" class="Bound">_</a> <a id="9019" class="Symbol">→</a> <a id="9021" href="Graded.Heap.Soundness.html#8985" class="Bound">erased</a>
</pre></body></html>