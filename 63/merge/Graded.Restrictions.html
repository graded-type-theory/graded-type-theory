<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="226" class="Keyword">module</a> <a id="233" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="255" class="Symbol">{</a><a id="256" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="257" class="Symbol">}</a> <a id="259" class="Symbol">{</a><a id="260" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="268" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="269" class="Symbol">}</a>
  <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="295" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Symbol">(</a><a id="301" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="303" class="Symbol">:</a> <a id="305" href="Graded.Modality.html#9626" class="Record">Modality</a><a id="313" class="Symbol">)</a>
  <a id="317" class="Keyword">where</a>

<a id="324" class="Keyword">open</a> <a id="329" href="Graded.Modality.html#9626" class="Module">Modality</a> <a id="338" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="465" class="Symbol">as</a> <a id="468" class="Module">Σ</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="537" class="Symbol">as</a> <a id="540" class="Module">Dec</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Tools.Sum.html" class="Module">Tools.Sum</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="629" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="655" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="657" class="Symbol">as</a> <a id="Mode"></a><a id="660" href="Graded.Restrictions.html#660" class="Module">Mode</a> <a id="665" class="Keyword">hiding</a> <a id="672" class="Symbol">(</a><a id="673" href="Graded.Mode.html#5569" class="Function Operator">_≟_</a><a id="676" class="Symbol">)</a>
<a id="678" class="Keyword">import</a> <a id="685" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="720" class="Symbol">as</a> <a id="723" class="Module">UD</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="766" class="Keyword">open</a> <a id="771" class="Keyword">import</a> <a id="778" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="804" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a> <a id="851" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="853" class="Keyword">open</a> <a id="858" class="Keyword">import</a> <a id="865" href="Graded.Usage.Restrictions.Natrec.Instance.html" class="Module">Graded.Usage.Restrictions.Natrec.Instance</a> <a id="907" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="910" class="Keyword">import</a> <a id="917" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="963" class="Symbol">as</a> <a id="966" class="Module">TD</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="1011" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="1013" class="Keyword">open</a> <a id="1018" class="Keyword">import</a> <a id="1025" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="1050" class="Keyword">open</a> <a id="1055" class="Keyword">import</a> <a id="1062" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1097" class="Keyword">open</a> <a id="1102" class="Keyword">import</a> <a id="1109" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1156" class="Keyword">private</a> <a id="1164" class="Keyword">variable</a>
  <a id="1175" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="1178" class="Symbol">:</a> <a id="1180" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
  <a id="1200" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
  <a id="1226" href="Graded.Restrictions.html#1226" class="Generalizable">b</a>  <a id="1229" class="Symbol">:</a> <a id="1231" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1238" href="Graded.Restrictions.html#1238" class="Generalizable">ok</a> <a id="1241" class="Symbol">:</a> <a id="1243" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1245" class="Symbol">_</a>
  <a id="1249" href="Graded.Restrictions.html#1249" class="Generalizable">s</a>  <a id="1252" class="Symbol">:</a> <a id="1254" href="Definition.Untyped.NotParametrised.html#1964" class="Datatype">Strength</a>
  <a id="1265" href="Graded.Restrictions.html#1265" class="Generalizable">nm</a> <a id="1268" class="Symbol">:</a> <a id="1270" href="Graded.Usage.Restrictions.Natrec.html#1000" class="Datatype">Natrec-mode</a>

<a id="1283" class="Comment">------------------------------------------------------------------------</a>
<a id="1356" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1403" class="Comment">-- No type restrictions except that</a>
<a id="1439" class="Comment">-- * if the modality is trivial, then []-cong is not allowed,</a>
<a id="1501" class="Comment">-- * the K rule is allowed if and only if the first boolean is true,</a>
<a id="1570" class="Comment">-- * η-equality is not allowed for weak unit types, and</a>
<a id="1626" class="Comment">-- * equality reflection is allowed if and only if the second boolean</a>
<a id="1696" class="Comment">--   is true.</a>

<a id="no-type-restrictions"></a><a id="1711" href="Graded.Restrictions.html#1711" class="Function">no-type-restrictions</a> <a id="1732" class="Symbol">:</a> <a id="1734" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1739" class="Symbol">→</a> <a id="1741" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1746" class="Symbol">→</a> <a id="1748" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="1766" href="Graded.Restrictions.html#1711" class="Function">no-type-restrictions</a> <a id="1787" href="Graded.Restrictions.html#1787" class="Bound">k</a> <a id="1789" href="Graded.Restrictions.html#1789" class="Bound">equality-reflection</a> <a id="1809" class="Symbol">=</a> <a id="1811" class="Symbol">λ</a> <a id="1813" class="Keyword">where</a>
    <a id="1823" class="Symbol">.</a><a id="1824" href="Definition.Typed.Restrictions.html#1127" class="Field">Unit-allowed</a>         <a id="1845" class="Symbol">→</a> <a id="1847" class="Symbol">λ</a> <a id="1849" href="Graded.Restrictions.html#1849" class="Bound">_</a> <a id="1851" class="Symbol">→</a> <a id="1853" href="Level.html#409" class="Record">Lift</a> <a id="1858" class="Symbol">_</a> <a id="1860" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1866" class="Symbol">.</a><a id="1867" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a>           <a id="1888" class="Symbol">→</a> <a id="1890" class="Symbol">λ</a> <a id="1892" href="Graded.Restrictions.html#1892" class="Bound">_</a> <a id="1894" href="Graded.Restrictions.html#1894" class="Bound">_</a> <a id="1896" href="Graded.Restrictions.html#1896" class="Bound">_</a> <a id="1898" class="Symbol">→</a> <a id="1900" href="Level.html#409" class="Record">Lift</a> <a id="1905" class="Symbol">_</a> <a id="1907" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1913" class="Symbol">.</a><a id="1914" href="Definition.Typed.Restrictions.html#2359" class="Field">K-allowed</a>            <a id="1935" class="Symbol">→</a> <a id="1937" href="Level.html#409" class="Record">Lift</a> <a id="1942" class="Symbol">_</a> <a id="1944" class="Symbol">(</a><a id="1945" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1947" href="Graded.Restrictions.html#1787" class="Bound">k</a><a id="1948" class="Symbol">)</a>
    <a id="1954" class="Symbol">.</a><a id="1955" href="Definition.Typed.Restrictions.html#2559" class="Field">[]-cong-allowed</a>      <a id="1976" class="Symbol">→</a> <a id="1978" class="Symbol">λ</a> <a id="1980" href="Graded.Restrictions.html#1980" class="Bound">_</a> <a id="1982" class="Symbol">→</a> <a id="1984" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1986" href="Graded.Modality.html#2075" class="Function">Trivial</a>
    <a id="1998" class="Symbol">.</a><a id="1999" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a>       <a id="2020" class="Symbol">→</a> <a id="2022" class="Symbol">_</a>
    <a id="2028" class="Symbol">.</a><a id="2029" href="Definition.Typed.Restrictions.html#2784" class="Field">[]-cong→¬Trivial</a>     <a id="2050" class="Symbol">→</a> <a id="2052" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="2060" class="Symbol">.</a><a id="2061" href="Definition.Typed.Restrictions.html#3013" class="Field">Equality-reflection</a>  <a id="2082" class="Symbol">→</a> <a id="2084" href="Level.html#409" class="Record">Lift</a> <a id="2089" class="Symbol">_</a> <a id="2091" class="Symbol">(</a><a id="2092" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="2094" href="Graded.Restrictions.html#1789" class="Bound">equality-reflection</a><a id="2113" class="Symbol">)</a>
    <a id="2119" class="Symbol">.</a><a id="2120" href="Definition.Typed.Restrictions.html#3085" class="Field">Equality-reflection?</a> <a id="2141" class="Symbol">→</a> <a id="2143" href="Tools.Level.html#435" class="Function">Lift?</a> <a id="2149" class="Symbol">(</a><a id="2150" href="Relation.Nullary.Decidable.Core.html#2959" class="Function">T?</a> <a id="2153" href="Graded.Restrictions.html#1789" class="Bound">equality-reflection</a><a id="2172" class="Symbol">)</a>
    <a id="2178" class="Symbol">.</a><a id="2179" href="Definition.Typed.Restrictions.html#955" class="Field">type-variant</a>         <a id="2200" class="Symbol">→</a> <a id="2202" class="Symbol">λ</a> <a id="2204" class="Keyword">where</a>
      <a id="2216" class="Symbol">.</a><a id="2217" href="Definition.Typed.Variant.html#719" class="Field">Type-variant.η-for-Unitʷ</a> <a id="2242" class="Symbol">→</a> <a id="2244" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="2252" class="Keyword">where</a>
  <a id="2260" class="Keyword">open</a> <a id="2265" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a>

<a id="2284" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="2353" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="2385" href="Graded.Restrictions.html#2385" class="Function">equal-binder-quantities</a> <a id="2409" class="Symbol">:</a> <a id="2411" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="2429" class="Symbol">→</a> <a id="2431" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="2449" href="Graded.Restrictions.html#2385" class="Function">equal-binder-quantities</a> <a id="2473" href="Graded.Restrictions.html#2473" class="Bound">R</a> <a id="2475" class="Symbol">=</a> <a id="2477" class="Keyword">record</a> <a id="2484" href="Graded.Restrictions.html#2473" class="Bound">R</a>
  <a id="2488" class="Symbol">{</a> <a id="2490" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a>     <a id="2505" class="Symbol">=</a> <a id="2507" class="Symbol">λ</a> <a id="2509" href="Graded.Restrictions.html#2509" class="Bound">b</a> <a id="2511" href="Graded.Restrictions.html#2511" class="Bound">p</a> <a id="2513" href="Graded.Restrictions.html#2513" class="Bound">q</a> <a id="2515" class="Symbol">→</a> <a id="2517" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="2528" href="Graded.Restrictions.html#2509" class="Bound">b</a> <a id="2530" href="Graded.Restrictions.html#2511" class="Bound">p</a> <a id="2532" href="Graded.Restrictions.html#2513" class="Bound">q</a> <a id="2534" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2536" href="Graded.Restrictions.html#2511" class="Bound">p</a> <a id="2538" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2540" href="Graded.Restrictions.html#2513" class="Bound">q</a>
  <a id="2544" class="Symbol">;</a> <a id="2546" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="2561" class="Symbol">=</a> <a id="2563" class="Symbol">λ</a> <a id="2565" href="Graded.Restrictions.html#2565" class="Bound">ok</a> <a id="2568" class="Symbol">→</a>
      <a id="2576" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="2591" href="Graded.Restrictions.html#2565" class="Bound">ok</a> <a id="2594" class="Symbol">.</a><a id="2595" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2603" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="2618" href="Graded.Restrictions.html#2565" class="Bound">ok</a> <a id="2621" class="Symbol">.</a><a id="2622" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2630" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2637" class="Symbol">}</a>
  <a id="2641" class="Keyword">where</a>
  <a id="2649" class="Keyword">open</a> <a id="2654" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="2672" href="Graded.Restrictions.html#2473" class="Bound">R</a>

<a id="2675" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2739" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2790" href="Graded.Restrictions.html#2790" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2813" class="Symbol">:</a>
  <a id="2817" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="2835" class="Symbol">→</a> <a id="2837" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="2855" href="Graded.Restrictions.html#2790" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2878" href="Graded.Restrictions.html#2878" class="Bound">R</a> <a id="2880" class="Symbol">=</a> <a id="2882" class="Keyword">record</a> <a id="2889" href="Graded.Restrictions.html#2878" class="Bound">R</a>
  <a id="2893" class="Symbol">{</a> <a id="2895" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a>     <a id="2910" class="Symbol">=</a> <a id="2912" class="Symbol">λ</a> <a id="2914" href="Graded.Restrictions.html#2914" class="Bound">b</a> <a id="2916" href="Graded.Restrictions.html#2916" class="Bound">p</a> <a id="2918" href="Graded.Restrictions.html#2918" class="Bound">q</a> <a id="2920" class="Symbol">→</a> <a id="2922" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="2933" href="Graded.Restrictions.html#2914" class="Bound">b</a> <a id="2935" href="Graded.Restrictions.html#2916" class="Bound">p</a> <a id="2937" href="Graded.Restrictions.html#2918" class="Bound">q</a> <a id="2939" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2941" href="Graded.Restrictions.html#2918" class="Bound">q</a> <a id="2943" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2945" href="Graded.Modality.html#995" class="Function">𝟘</a>
  <a id="2949" class="Symbol">;</a> <a id="2951" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="2966" class="Symbol">=</a> <a id="2968" class="Symbol">λ</a> <a id="2970" href="Graded.Restrictions.html#2970" class="Bound">ok</a> <a id="2973" class="Symbol">→</a>
      <a id="2981" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="2996" href="Graded.Restrictions.html#2970" class="Bound">ok</a> <a id="2999" class="Symbol">.</a><a id="3000" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3008" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="3023" href="Graded.Restrictions.html#2970" class="Bound">ok</a> <a id="3026" class="Symbol">.</a><a id="3027" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3033" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3035" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3042" class="Symbol">}</a>
  <a id="3046" class="Keyword">where</a>
  <a id="3054" class="Keyword">open</a> <a id="3059" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="3077" href="Graded.Restrictions.html#2878" class="Bound">R</a>

<a id="3080" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="3147" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="3217" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="3285" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="3348" href="Graded.Restrictions.html#3348" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3376" class="Symbol">:</a>
  <a id="3380" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="3398" class="Symbol">→</a> <a id="3400" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="3418" href="Graded.Restrictions.html#3348" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3446" href="Graded.Restrictions.html#3446" class="Bound">R</a> <a id="3448" class="Symbol">=</a> <a id="3450" class="Keyword">record</a> <a id="3457" href="Graded.Restrictions.html#3446" class="Bound">R</a>
  <a id="3461" class="Symbol">{</a> <a id="3463" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="3474" class="Symbol">=</a> <a id="3476" class="Symbol">λ</a> <a id="3478" href="Graded.Restrictions.html#3478" class="Bound">b</a> <a id="3480" href="Graded.Restrictions.html#3480" class="Bound">p</a> <a id="3482" href="Graded.Restrictions.html#3482" class="Bound">q</a> <a id="3484" class="Symbol">→</a>
      <a id="3492" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="3503" href="Graded.Restrictions.html#3478" class="Bound">b</a> <a id="3505" href="Graded.Restrictions.html#3480" class="Bound">p</a> <a id="3507" href="Graded.Restrictions.html#3482" class="Bound">q</a> <a id="3509" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3517" class="Symbol">(</a><a id="3518" href="Graded.Restrictions.html#3480" class="Bound">p</a> <a id="3520" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3522" href="Graded.Modality.html#999" class="Function">ω</a> <a id="3524" class="Symbol">→</a> <a id="3526" href="Graded.Restrictions.html#3482" class="Bound">q</a> <a id="3528" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3530" href="Graded.Modality.html#999" class="Function">ω</a><a id="3531" class="Symbol">)</a> <a id="3533" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3541" class="Symbol">(</a><a id="3542" href="Graded.Restrictions.html#3480" class="Bound">p</a> <a id="3544" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3546" href="Graded.Modality.html#999" class="Function">ω</a> <a id="3548" class="Symbol">→</a> <a id="3550" href="Graded.Restrictions.html#3482" class="Bound">q</a> <a id="3552" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3554" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="3555" class="Symbol">)</a>
  <a id="3559" class="Symbol">;</a> <a id="3561" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="3576" class="Symbol">=</a> <a id="3578" class="Symbol">λ</a> <a id="3580" href="Graded.Restrictions.html#3580" class="Bound">ok</a> <a id="3583" class="Symbol">→</a>
        <a id="3593" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="3608" href="Graded.Restrictions.html#3580" class="Bound">ok</a> <a id="3611" class="Symbol">.</a><a id="3612" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3626" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="3641" href="Graded.Restrictions.html#3580" class="Bound">ok</a> <a id="3644" class="Symbol">.</a><a id="3645" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3659" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3671" class="Symbol">λ</a> <a id="3673" href="Graded.Restrictions.html#3673" class="Bound">_</a> <a id="3675" class="Symbol">→</a> <a id="3677" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3684" class="Symbol">}</a>
  <a id="3688" class="Keyword">where</a>
  <a id="3696" class="Keyword">open</a> <a id="3701" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="3719" href="Graded.Restrictions.html#3446" class="Bound">R</a>

<a id="3722" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3794" href="Graded.Restrictions.html#3794" class="Function">strong-types-restricted′</a> <a id="3819" class="Symbol">:</a>
  <a id="3823" class="Symbol">(</a><a id="3824" href="Graded.Restrictions.html#3824" class="Bound">P</a> <a id="3826" class="Symbol">:</a> <a id="3828" href="Definition.Untyped.NotParametrised.html#2027" class="Datatype">BinderMode</a> <a id="3839" class="Symbol">→</a> <a id="3841" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="3843" class="Symbol">→</a> <a id="3845" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3849" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="3850" class="Symbol">)</a> <a id="3852" class="Symbol">→</a>
  <a id="3856" class="Symbol">(∀</a> <a id="3859" class="Symbol">{</a><a id="3860" href="Graded.Restrictions.html#3860" class="Bound">s</a><a id="3861" class="Symbol">}</a> <a id="3863" class="Symbol">→</a> <a id="3865" href="Graded.Restrictions.html#3860" class="Bound">s</a> <a id="3867" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3869" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="3871" class="Symbol">→</a> <a id="3873" href="Graded.Restrictions.html#3824" class="Bound">P</a> <a id="3875" class="Symbol">(</a><a id="3876" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="3880" href="Graded.Restrictions.html#3860" class="Bound">s</a><a id="3881" class="Symbol">)</a> <a id="3883" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="3884" class="Symbol">)</a> <a id="3886" class="Symbol">→</a>
  <a id="3890" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="3908" class="Symbol">→</a> <a id="3910" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="3928" href="Graded.Restrictions.html#3794" class="Function">strong-types-restricted′</a> <a id="3953" href="Graded.Restrictions.html#3953" class="Bound">P</a> <a id="3955" href="Graded.Restrictions.html#3955" class="Bound">hyp</a> <a id="3959" href="Graded.Restrictions.html#3959" class="Bound">R</a> <a id="3961" class="Symbol">=</a> <a id="3963" class="Keyword">record</a> <a id="3970" href="Graded.Restrictions.html#3959" class="Bound">R</a>
  <a id="3974" class="Symbol">{</a> <a id="3976" href="Definition.Typed.Restrictions.html#1127" class="Field">Unit-allowed</a> <a id="3989" class="Symbol">=</a> <a id="3991" class="Symbol">λ</a> <a id="3993" href="Graded.Restrictions.html#3993" class="Bound">s</a> <a id="3995" class="Symbol">→</a>
      <a id="4003" href="Definition.Typed.Restrictions.html#1127" class="Field">Unit-allowed</a> <a id="4016" href="Graded.Restrictions.html#3993" class="Bound">s</a> <a id="4018" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4020" href="Graded.Restrictions.html#3993" class="Bound">s</a> <a id="4022" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4024" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a>
  <a id="4028" class="Symbol">;</a> <a id="4030" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="4041" class="Symbol">=</a> <a id="4043" class="Symbol">λ</a> <a id="4045" href="Graded.Restrictions.html#4045" class="Bound">b</a> <a id="4047" href="Graded.Restrictions.html#4047" class="Bound">p</a> <a id="4049" href="Graded.Restrictions.html#4049" class="Bound">q</a> <a id="4051" class="Symbol">→</a>
      <a id="4059" href="Definition.Typed.Restrictions.html#1213" class="Field">ΠΣ-allowed</a> <a id="4070" href="Graded.Restrictions.html#4045" class="Bound">b</a> <a id="4072" href="Graded.Restrictions.html#4047" class="Bound">p</a> <a id="4074" href="Graded.Restrictions.html#4049" class="Bound">q</a> <a id="4076" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4078" href="Graded.Restrictions.html#3953" class="Bound">P</a> <a id="4080" href="Graded.Restrictions.html#4045" class="Bound">b</a> <a id="4082" href="Graded.Restrictions.html#4047" class="Bound">p</a>
  <a id="4086" class="Symbol">;</a> <a id="4088" href="Definition.Typed.Restrictions.html#2559" class="Field">[]-cong-allowed</a> <a id="4104" class="Symbol">=</a> <a id="4106" class="Symbol">λ</a> <a id="4108" href="Graded.Restrictions.html#4108" class="Bound">s</a> <a id="4110" class="Symbol">→</a>
      <a id="4118" href="Definition.Typed.Restrictions.html#2559" class="Field">[]-cong-allowed</a> <a id="4134" href="Graded.Restrictions.html#4108" class="Bound">s</a> <a id="4136" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4138" href="Graded.Restrictions.html#4108" class="Bound">s</a> <a id="4140" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4142" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a>
  <a id="4146" class="Symbol">;</a> <a id="4148" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="4163" class="Symbol">=</a> <a id="4165" class="Symbol">λ</a> <a id="4167" class="Symbol">(</a><a id="4168" href="Graded.Restrictions.html#4168" class="Bound">ok</a> <a id="4171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4173" href="Graded.Restrictions.html#4173" class="Bound">s≢𝕤</a><a id="4176" class="Symbol">)</a> <a id="4178" class="Symbol">→</a>
        <a id="4188" class="Symbol">(</a><a id="4189" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="4204" href="Graded.Restrictions.html#4168" class="Bound">ok</a> <a id="4207" class="Symbol">.</a><a id="4208" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4216" href="Graded.Restrictions.html#4173" class="Bound">s≢𝕤</a><a id="4219" class="Symbol">)</a>
      <a id="4227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4229" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="4244" href="Graded.Restrictions.html#4168" class="Bound">ok</a> <a id="4247" class="Symbol">.</a><a id="4248" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="4260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4262" href="Graded.Restrictions.html#3955" class="Bound">hyp</a> <a id="4266" href="Graded.Restrictions.html#4173" class="Bound">s≢𝕤</a>
  <a id="4272" class="Symbol">;</a> <a id="4274" href="Definition.Typed.Restrictions.html#2784" class="Field">[]-cong→¬Trivial</a> <a id="4291" class="Symbol">=</a>
      <a id="4299" href="Definition.Typed.Restrictions.html#2784" class="Field">[]-cong→¬Trivial</a> <a id="4316" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4319" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4327" class="Symbol">}</a>
  <a id="4331" class="Keyword">where</a>
  <a id="4339" class="Keyword">open</a> <a id="4344" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="4362" href="Graded.Restrictions.html#3959" class="Bound">R</a>

<a id="4365" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="4424" class="Comment">-- restrictions:</a>
<a id="4441" class="Comment">--</a>
<a id="4444" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4484" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4545" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4581" href="Graded.Restrictions.html#4581" class="Function">strong-types-restricted</a> <a id="4605" class="Symbol">:</a>
  <a id="4609" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="4627" class="Symbol">→</a> <a id="4629" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="4647" href="Graded.Restrictions.html#4581" class="Function">strong-types-restricted</a> <a id="4671" class="Symbol">=</a>
  <a id="4675" href="Graded.Restrictions.html#3794" class="Function">strong-types-restricted′</a> <a id="4700" class="Symbol">(λ</a> <a id="4703" href="Graded.Restrictions.html#4703" class="Bound">b</a> <a id="4705" href="Graded.Restrictions.html#4705" class="Bound">p</a> <a id="4707" class="Symbol">→</a> <a id="4709" href="Graded.Restrictions.html#4703" class="Bound">b</a> <a id="4711" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4713" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="4717" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="4719" class="Symbol">→</a> <a id="4721" href="Graded.Restrictions.html#4705" class="Bound">p</a> <a id="4723" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4725" href="Graded.Modality.html#997" class="Function">𝟙</a><a id="4726" class="Symbol">)</a>
    <a id="4732" class="Symbol">(λ</a> <a id="4735" class="Symbol">{</a> <a id="4737" href="Graded.Restrictions.html#4737" class="Bound">hyp</a> <a id="4741" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4746" class="Symbol">→</a> <a id="4748" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4755" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4757" href="Graded.Restrictions.html#4737" class="Bound">hyp</a> <a id="4761" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4766" class="Symbol">})</a>

<a id="4770" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4835" class="Comment">--</a>
<a id="4838" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4878" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4915" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4951" href="Graded.Restrictions.html#4951" class="Function">no-strong-types</a> <a id="4967" class="Symbol">:</a>
  <a id="4971" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="4989" class="Symbol">→</a> <a id="4991" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="5009" href="Graded.Restrictions.html#4951" class="Function">no-strong-types</a> <a id="5025" class="Symbol">=</a>
  <a id="5029" href="Graded.Restrictions.html#3794" class="Function">strong-types-restricted′</a> <a id="5054" class="Symbol">(λ</a> <a id="5057" href="Graded.Restrictions.html#5057" class="Bound">b</a> <a id="5059" href="Graded.Restrictions.html#5059" class="Bound">_</a> <a id="5061" class="Symbol">→</a> <a id="5063" href="Level.html#409" class="Record">Lift</a> <a id="5068" class="Symbol">_</a> <a id="5070" class="Symbol">(</a><a id="5071" href="Graded.Restrictions.html#5057" class="Bound">b</a> <a id="5073" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5075" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="5079" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="5080" class="Symbol">))</a>
    <a id="5087" class="Symbol">(λ</a> <a id="5090" href="Graded.Restrictions.html#5090" class="Bound">hyp</a> <a id="5094" class="Symbol">→</a> <a id="5096" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="5101" class="Symbol">(λ</a> <a id="5104" class="Symbol">{</a> <a id="5106" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5111" class="Symbol">→</a> <a id="5113" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="5120" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5122" href="Graded.Restrictions.html#5090" class="Bound">hyp</a> <a id="5126" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5131" class="Symbol">}))</a>

<a id="5136" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="5201" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="5237" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="5258" class="Symbol">:</a> <a id="5260" href="Definition.Untyped.NotParametrised.html#1964" class="Datatype">Strength</a> <a id="5269" class="Symbol">→</a> <a id="5271" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="5289" class="Symbol">→</a> <a id="5291" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="5309" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="5330" href="Graded.Restrictions.html#5330" class="Bound">s</a> <a id="5332" href="Graded.Restrictions.html#5332" class="Bound">TR</a> <a id="5335" class="Symbol">=</a> <a id="5337" class="Keyword">record</a> <a id="5344" href="Graded.Restrictions.html#5332" class="Bound">TR</a>
  <a id="5349" class="Symbol">{</a> <a id="5351" href="Definition.Typed.Restrictions.html#2559" class="Field">[]-cong-allowed</a>  <a id="5368" class="Symbol">=</a> <a id="5370" class="Symbol">λ</a> <a id="5372" href="Graded.Restrictions.html#5372" class="Bound">s′</a> <a id="5375" class="Symbol">→</a> <a id="5377" href="Definition.Typed.Restrictions.html#2559" class="Field">[]-cong-allowed</a> <a id="5393" href="Graded.Restrictions.html#5372" class="Bound">s′</a> <a id="5396" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5398" href="Graded.Restrictions.html#5372" class="Bound">s′</a> <a id="5401" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5403" href="Graded.Restrictions.html#5330" class="Bound">s</a>
  <a id="5407" class="Symbol">;</a> <a id="5409" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a>   <a id="5426" class="Symbol">=</a> <a id="5428" href="Definition.Typed.Restrictions.html#2653" class="Field">[]-cong→Erased</a> <a id="5443" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5446" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5454" class="Symbol">;</a> <a id="5456" href="Definition.Typed.Restrictions.html#2784" class="Field">[]-cong→¬Trivial</a> <a id="5473" class="Symbol">=</a> <a id="5475" href="Definition.Typed.Restrictions.html#2784" class="Field">[]-cong→¬Trivial</a> <a id="5492" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5495" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5503" class="Symbol">}</a>
  <a id="5507" class="Keyword">where</a>
  <a id="5515" class="Keyword">open</a> <a id="5520" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="5538" href="Graded.Restrictions.html#5332" class="Bound">TR</a>

<a id="5542" class="Comment">-- The function _with-η-for-Unitʷ enables η-equality for weak unit</a>
<a id="5609" class="Comment">-- types.</a>

<a id="_with-η-for-Unitʷ"></a><a id="5620" href="Graded.Restrictions.html#5620" class="Function Operator">_with-η-for-Unitʷ</a> <a id="5638" class="Symbol">:</a> <a id="5640" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="5658" class="Symbol">→</a> <a id="5660" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a>
<a id="5678" href="Graded.Restrictions.html#5678" class="Bound">TR</a> <a id="5681" href="Graded.Restrictions.html#5620" class="Function Operator">with-η-for-Unitʷ</a> <a id="5698" class="Symbol">=</a> <a id="5700" class="Keyword">record</a> <a id="5707" href="Graded.Restrictions.html#5678" class="Bound">TR</a>
  <a id="5712" class="Symbol">{</a> <a id="5714" href="Definition.Typed.Restrictions.html#955" class="Field">type-variant</a> <a id="5727" class="Symbol">=</a> <a id="5729" class="Keyword">record</a> <a id="5736" href="Definition.Typed.Restrictions.html#955" class="Field">type-variant</a>
    <a id="5753" class="Symbol">{</a> <a id="5755" href="Definition.Typed.Variant.html#719" class="Field">η-for-Unitʷ</a> <a id="5767" class="Symbol">=</a> <a id="5769" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="5778" class="Symbol">}</a>
  <a id="5782" class="Symbol">}</a>
  <a id="5786" class="Keyword">where</a>
  <a id="5794" class="Keyword">open</a> <a id="5799" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="5817" href="Graded.Restrictions.html#5678" class="Bound">TR</a>

<a id="5821" class="Comment">------------------------------------------------------------------------</a>
<a id="5894" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5942" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="6006" class="Comment">-- matches are allowed for J and K, the natrec mode can be anything,</a>
<a id="6075" class="Comment">-- Id-erased is inhabited if the first boolean is true, and starˢ</a>
<a id="6141" class="Comment">-- is treated as a sink if the second boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="6197" href="Graded.Restrictions.html#6197" class="Function">no-usage-restrictions</a> <a id="6219" class="Symbol">:</a> <a id="6221" href="Graded.Usage.Restrictions.Natrec.html#1000" class="Datatype">Natrec-mode</a> <a id="6233" class="Symbol">→</a> <a id="6235" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6240" class="Symbol">→</a> <a id="6242" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6247" class="Symbol">→</a> <a id="6249" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="6268" href="Graded.Restrictions.html#6197" class="Function">no-usage-restrictions</a> <a id="6290" href="Graded.Restrictions.html#6290" class="Bound">nm</a> <a id="6293" href="Graded.Restrictions.html#6293" class="Bound">erased</a> <a id="6300" href="Graded.Restrictions.html#6300" class="Bound">sink</a> <a id="6305" class="Symbol">=</a> <a id="6307" class="Symbol">λ</a> <a id="6309" class="Keyword">where</a>
    <a id="6319" class="Symbol">.</a><a id="6320" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a>                            <a id="6359" class="Symbol">→</a> <a id="6361" href="Graded.Restrictions.html#6290" class="Bound">nm</a>
    <a id="6368" class="Symbol">.</a><a id="6369" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a>                        <a id="6408" class="Symbol">→</a> <a id="6410" class="Symbol">λ</a> <a id="6412" href="Graded.Restrictions.html#6412" class="Bound">_</a> <a id="6414" href="Graded.Restrictions.html#6414" class="Bound">_</a> <a id="6416" href="Graded.Restrictions.html#6416" class="Bound">_</a> <a id="6418" href="Graded.Restrictions.html#6418" class="Bound">_</a> <a id="6420" class="Symbol">→</a> <a id="6422" href="Level.html#409" class="Record">Lift</a> <a id="6427" class="Symbol">_</a> <a id="6429" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6435" class="Symbol">.</a><a id="6436" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a>       <a id="6475" class="Symbol">→</a> <a id="6477" class="Symbol">_</a>
    <a id="6483" class="Symbol">.</a><a id="6484" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a>                        <a id="6523" class="Symbol">→</a> <a id="6525" class="Symbol">λ</a> <a id="6527" href="Graded.Restrictions.html#6527" class="Bound">_</a> <a id="6529" href="Graded.Restrictions.html#6529" class="Bound">_</a> <a id="6531" href="Graded.Restrictions.html#6531" class="Bound">_</a> <a id="6533" class="Symbol">→</a> <a id="6535" href="Level.html#409" class="Record">Lift</a> <a id="6540" class="Symbol">_</a> <a id="6542" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6548" class="Symbol">.</a><a id="6549" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a>       <a id="6588" class="Symbol">→</a> <a id="6590" class="Symbol">_</a>
    <a id="6596" class="Symbol">.</a><a id="6597" href="Graded.Usage.Restrictions.html#1782" class="Field">Emptyrec-allowed</a>                       <a id="6636" class="Symbol">→</a> <a id="6638" class="Symbol">λ</a> <a id="6640" href="Graded.Restrictions.html#6640" class="Bound">_</a> <a id="6642" href="Graded.Restrictions.html#6642" class="Bound">_</a> <a id="6644" class="Symbol">→</a> <a id="6646" href="Level.html#409" class="Record">Lift</a> <a id="6651" class="Symbol">_</a> <a id="6653" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6659" class="Symbol">.</a><a id="6660" href="Graded.Usage.Restrictions.html#1924" class="Field">Emptyrec-allowed-downwards-closed</a>      <a id="6699" class="Symbol">→</a> <a id="6701" class="Symbol">_</a>
    <a id="6707" class="Symbol">.</a><a id="6708" href="Graded.Usage.Restrictions.html#2078" class="Field">[]-cong-allowed-mode</a>                   <a id="6747" class="Symbol">→</a> <a id="6749" class="Symbol">λ</a> <a id="6751" href="Graded.Restrictions.html#6751" class="Bound">_</a> <a id="6753" href="Graded.Restrictions.html#6753" class="Bound">_</a> <a id="6755" class="Symbol">→</a> <a id="6757" href="Level.html#409" class="Record">Lift</a> <a id="6762" class="Symbol">_</a> <a id="6764" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6770" class="Symbol">.</a><a id="6771" href="Graded.Usage.Restrictions.html#2230" class="Field">[]-cong-allowed-mode-downwards-closed</a>  <a id="6810" class="Symbol">→</a> <a id="6812" class="Symbol">_</a>
    <a id="6818" class="Symbol">.</a><a id="6819" href="Graded.Usage.Restrictions.html#2389" class="Field">starˢ-sink</a>                              <a id="6859" class="Symbol">→</a> <a id="6861" href="Graded.Restrictions.html#6300" class="Bound">sink</a>
    <a id="6870" class="Symbol">.</a><a id="6871" href="Graded.Usage.Restrictions.html#2468" class="Field">Id-erased</a>                              <a id="6910" class="Symbol">→</a> <a id="6912" href="Level.html#409" class="Record">Lift</a> <a id="6917" class="Symbol">_</a> <a id="6919" class="Symbol">(</a><a id="6920" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6922" href="Graded.Restrictions.html#6293" class="Bound">erased</a><a id="6928" class="Symbol">)</a>
    <a id="6934" class="Symbol">.</a><a id="6935" href="Graded.Usage.Restrictions.html#2520" class="Field">Id-erased?</a>                             <a id="6974" class="Symbol">→</a> <a id="6976" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="6984" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="6989" href="Level.html#479" class="Field">Lift.lower</a> <a id="7000" href="Function.Base.html#1974" class="Function Operator">$</a>
                                              <a id="7048" href="Relation.Nullary.Decidable.Core.html#2959" class="Function">T?</a> <a id="7051" href="Graded.Restrictions.html#6293" class="Bound">erased</a>
    <a id="7062" class="Symbol">.</a><a id="7063" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a>                   <a id="7102" class="Symbol">→</a> <a id="7104" class="Symbol">λ</a> <a id="7106" href="Graded.Restrictions.html#7106" class="Bound">_</a> <a id="7108" class="Symbol">→</a> <a id="7110" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="7118" class="Symbol">.</a><a id="7119" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a>               <a id="7158" class="Symbol">→</a> <a id="7160" class="Symbol">_</a>
    <a id="7166" class="Symbol">.</a><a id="7167" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a>                   <a id="7206" class="Symbol">→</a> <a id="7208" class="Symbol">λ</a> <a id="7210" href="Graded.Restrictions.html#7210" class="Bound">_</a> <a id="7212" class="Symbol">→</a> <a id="7214" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="7222" class="Symbol">.</a><a id="7223" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a>               <a id="7262" class="Symbol">→</a> <a id="7264" class="Symbol">_</a>
  <a id="7268" class="Keyword">where</a>
  <a id="7276" class="Keyword">open</a> <a id="7281" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a>

<a id="7301" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="7358" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="7373" class="Symbol">:</a> <a id="7375" class="Symbol">(</a><a id="7376" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="7381" class="Symbol">→</a> <a id="7383" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7397" class="Symbol">)</a> <a id="7399" class="Symbol">→</a> <a id="7401" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="7406" class="Symbol">→</a> <a id="7408" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="7423" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="7438" href="Graded.Restrictions.html#7438" class="Bound">f</a> <a id="7440" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="7443" class="Symbol">=</a> <a id="7445" href="Graded.Restrictions.html#7438" class="Bound">f</a> <a id="7447" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
<a id="7450" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="7465" href="Graded.Restrictions.html#7465" class="Bound">f</a> <a id="7467" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7470" class="Keyword">with</a> <a id="7475" href="Graded.Restrictions.html#7465" class="Bound">f</a> <a id="7477" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
<a id="7480" class="Symbol">…</a> <a id="7482" class="Symbol">|</a> <a id="7484" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="7488" class="Symbol">=</a> <a id="7490" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="7495" class="CatchallClause Symbol">…</a><a id="7496" class="CatchallClause"> </a><a id="7497" class="CatchallClause Symbol">|</a><a id="7498" class="CatchallClause"> </a><a id="7499" href="Graded.Restrictions.html#7499" class="CatchallClause Bound">em</a>  <a id="7503" class="Symbol">=</a> <a id="7505" href="Graded.Restrictions.html#7499" class="Bound">em</a>

<a id="7509" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="7575" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="7623" href="Graded.Restrictions.html#7623" class="Function">not-all-erased-matches-JK</a> <a id="7649" class="Symbol">:</a> <a id="7651" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="7670" class="Symbol">→</a> <a id="7672" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="7691" href="Graded.Restrictions.html#7623" class="Function">not-all-erased-matches-JK</a> <a id="7717" href="Graded.Restrictions.html#7717" class="Bound">UR</a> <a id="7720" class="Symbol">=</a> <a id="7722" class="Keyword">record</a> <a id="7729" href="Graded.Restrictions.html#7717" class="Bound">UR</a>
  <a id="7734" class="Symbol">{</a> <a id="7736" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="7757" class="Symbol">=</a>
      <a id="7765" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="7780" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a>
  <a id="7803" class="Symbol">;</a> <a id="7805" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="7830" class="Symbol">=</a>
      <a id="7838" href="Graded.Restrictions.html#8130" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7857" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="7878" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="7905" class="Symbol">;</a> <a id="7907" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="7928" class="Symbol">=</a>
      <a id="7936" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="7951" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a>
  <a id="7974" class="Symbol">;</a> <a id="7976" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8001" class="Symbol">=</a>
      <a id="8009" href="Graded.Restrictions.html#8130" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="8028" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="8049" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="8076" class="Symbol">}</a>
  <a id="8080" class="Keyword">where</a>
  <a id="8088" class="Keyword">open</a> <a id="8093" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="8112" href="Graded.Restrictions.html#7717" class="Bound">UR</a>

  <a id="8118" class="Keyword">opaque</a>

    <a id="8130" href="Graded.Restrictions.html#8130" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="8149" class="Symbol">:</a>
      <a id="8157" class="Symbol">(</a><a id="8158" href="Graded.Restrictions.html#8158" class="Bound">f</a> <a id="8160" class="Symbol">:</a> <a id="8162" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="8167" class="Symbol">→</a> <a id="8169" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="8183" class="Symbol">)</a> <a id="8185" class="Symbol">→</a>
      <a id="8193" href="Graded.Restrictions.html#8158" class="Bound">f</a> <a id="8195" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8198" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="8202" href="Graded.Restrictions.html#8158" class="Bound">f</a> <a id="8204" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="8208" href="Graded.Restrictions.html#1238" class="Generalizable">ok</a> <a id="8211" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a> <a id="8213" class="Symbol">→</a>
      <a id="8221" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="8236" href="Graded.Restrictions.html#8158" class="Bound">f</a> <a id="8238" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8241" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="8245" href="Graded.Restrictions.html#7358" class="Function">not-all-for-𝟙ᵐ</a> <a id="8260" href="Graded.Restrictions.html#8158" class="Bound">f</a> <a id="8262" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="8266" href="Graded.Restrictions.html#1238" class="Generalizable">ok</a> <a id="8269" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a>
    <a id="8275" href="Graded.Restrictions.html#8130" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="8294" href="Graded.Restrictions.html#8294" class="Bound">f</a> <a id="8296" href="Graded.Restrictions.html#8296" class="Bound">f-≤ᵉᵐ</a> <a id="8302" class="Keyword">with</a> <a id="8307" href="Graded.Restrictions.html#8294" class="Bound">f</a> <a id="8309" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="8316" class="Symbol">…</a> <a id="8318" class="Symbol">|</a> <a id="8320" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="8325" class="Symbol">=</a> <a id="8327" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="8342" class="Symbol">_</a> <a id="8344" class="Bound">f-≤ᵉᵐ</a>
    <a id="8354" class="Symbol">…</a> <a id="8356" class="Symbol">|</a> <a id="8358" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="8363" class="Symbol">=</a> <a id="8365" class="Bound">f-≤ᵉᵐ</a>
    <a id="8375" class="Symbol">…</a> <a id="8377" class="Symbol">|</a> <a id="8379" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="8384" class="Symbol">=</a> <a id="8386" class="Bound">f-≤ᵉᵐ</a>

<a id="8393" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8462" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec</a>
<a id="8531" class="Comment">-- or unitrec. For prodrec the added restriction only applies to</a>
<a id="8596" class="Comment">-- non-trivial modalities.</a>

<a id="only-some-erased-matches"></a><a id="8624" href="Graded.Restrictions.html#8624" class="Function">only-some-erased-matches</a> <a id="8649" class="Symbol">:</a> <a id="8651" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="8670" class="Symbol">→</a> <a id="8672" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="8691" href="Graded.Restrictions.html#8624" class="Function">only-some-erased-matches</a> <a id="8716" href="Graded.Restrictions.html#8716" class="Bound">UR</a> <a id="8719" class="Symbol">=</a> <a id="8721" class="Keyword">record</a> <a id="8728" href="Graded.Restrictions.html#8716" class="Bound">UR</a>
  <a id="8733" class="Symbol">{</a> <a id="8735" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="8751" class="Symbol">=</a> <a id="8753" class="Symbol">λ</a> <a id="8755" href="Graded.Restrictions.html#8755" class="Bound">m</a> <a id="8757" href="Graded.Restrictions.html#8757" class="Bound">r</a> <a id="8759" href="Graded.Restrictions.html#8759" class="Bound">p</a> <a id="8761" href="Graded.Restrictions.html#8761" class="Bound">q</a> <a id="8763" class="Symbol">→</a>
      <a id="8771" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="8787" href="Graded.Restrictions.html#8755" class="Bound">m</a> <a id="8789" href="Graded.Restrictions.html#8757" class="Bound">r</a> <a id="8791" href="Graded.Restrictions.html#8759" class="Bound">p</a> <a id="8793" href="Graded.Restrictions.html#8761" class="Bound">q</a> <a id="8795" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="8803" class="Symbol">(</a><a id="8804" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="8806" href="Graded.Modality.html#2075" class="Function">Trivial</a> <a id="8814" class="Symbol">→</a> <a id="8816" href="Graded.Restrictions.html#8755" class="Bound">m</a> <a id="8818" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8820" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8823" class="Symbol">→</a> <a id="8825" href="Graded.Restrictions.html#8757" class="Bound">r</a> <a id="8827" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8829" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8830" class="Symbol">)</a>
  <a id="8834" class="Symbol">;</a> <a id="8836" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8869" class="Symbol">=</a>
      <a id="8877" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8883" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8916" class="Symbol">(λ</a> <a id="8919" href="Graded.Restrictions.html#8919" class="Bound">_</a> <a id="8921" href="Graded.Restrictions.html#8921" class="Bound">_</a> <a id="8923" class="Symbol">())</a>
  <a id="8929" class="Symbol">;</a> <a id="8931" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="8952" class="Symbol">=</a> <a id="8954" class="Symbol">λ</a> <a id="8956" class="Keyword">where</a>
      <a id="8968" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8971" class="Symbol">→</a> <a id="8973" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8984" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8987" class="Symbol">→</a> <a id="8989" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="9010" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="9015" class="Symbol">;</a> <a id="9017" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="9042" class="Symbol">=</a>
      <a id="9050" class="Symbol">_</a>
  <a id="9054" class="Symbol">;</a> <a id="9056" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="9077" class="Symbol">=</a> <a id="9079" class="Symbol">λ</a> <a id="9081" class="Keyword">where</a>
      <a id="9093" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9096" class="Symbol">→</a> <a id="9098" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="9109" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="9112" class="Symbol">→</a> <a id="9114" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="9135" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="9140" class="Symbol">;</a> <a id="9142" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="9167" class="Symbol">=</a>
      <a id="9175" class="Symbol">_</a>
  <a id="9179" class="Symbol">}</a>
  <a id="9183" class="Keyword">where</a>
  <a id="9191" class="Keyword">open</a> <a id="9196" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="9215" href="Graded.Restrictions.html#8716" class="Bound">UR</a>

<a id="9219" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="9288" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec.</a>
<a id="9358" class="Comment">-- For prodrec and unitrec the added restriction only applies to</a>
<a id="9423" class="Comment">-- non-trivial modalities, and for unitrec the added restriction only</a>
<a id="9493" class="Comment">-- applies if η-equality is not allowed for weak unit types.</a>

<a id="no-erased-matches-UR"></a><a id="9555" href="Graded.Restrictions.html#9555" class="Function">no-erased-matches-UR</a> <a id="9576" class="Symbol">:</a>
  <a id="9580" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="9598" class="Symbol">→</a> <a id="9600" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="9619" class="Symbol">→</a> <a id="9621" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="9640" href="Graded.Restrictions.html#9555" class="Function">no-erased-matches-UR</a> <a id="9661" href="Graded.Restrictions.html#9661" class="Bound">TR</a> <a id="9664" href="Graded.Restrictions.html#9664" class="Bound">UR</a> <a id="9667" class="Symbol">=</a> <a id="9669" class="Keyword">record</a> <a id="9676" class="Symbol">(</a><a id="9677" href="Graded.Restrictions.html#8624" class="Function">only-some-erased-matches</a> <a id="9702" href="Graded.Restrictions.html#9664" class="Bound">UR</a><a id="9704" class="Symbol">)</a>
  <a id="9708" class="Symbol">{</a> <a id="9710" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="9726" class="Symbol">=</a> <a id="9728" class="Symbol">λ</a> <a id="9730" href="Graded.Restrictions.html#9730" class="Bound">m</a> <a id="9732" href="Graded.Restrictions.html#9732" class="Bound">p</a> <a id="9734" href="Graded.Restrictions.html#9734" class="Bound">q</a> <a id="9736" class="Symbol">→</a>
      <a id="9744" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="9760" href="Graded.Restrictions.html#9730" class="Bound">m</a> <a id="9762" href="Graded.Restrictions.html#9732" class="Bound">p</a> <a id="9764" href="Graded.Restrictions.html#9734" class="Bound">q</a> <a id="9766" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="9774" class="Symbol">(</a><a id="9775" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9777" href="Graded.Modality.html#2075" class="Function">Trivial</a> <a id="9785" class="Symbol">→</a> <a id="9787" href="Graded.Restrictions.html#9730" class="Bound">m</a> <a id="9789" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9791" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9794" class="Symbol">→</a> <a id="9796" href="Graded.Restrictions.html#9732" class="Bound">p</a> <a id="9798" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9800" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="9802" class="Symbol">→</a> <a id="9804" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="9811" class="Symbol">)</a>
  <a id="9815" class="Symbol">;</a> <a id="9817" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9850" class="Symbol">=</a>
      <a id="9858" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="9864" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9897" class="Symbol">(λ</a> <a id="9900" href="Graded.Restrictions.html#9900" class="Bound">_</a> <a id="9902" href="Graded.Restrictions.html#9902" class="Bound">_</a> <a id="9904" class="Symbol">())</a>
  <a id="9910" class="Symbol">}</a>
  <a id="9914" class="Keyword">where</a>
  <a id="9922" class="Keyword">open</a> <a id="9927" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="9945" href="Graded.Restrictions.html#9661" class="Bound">TR</a>
  <a id="9950" class="Keyword">open</a> <a id="9955" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="9974" href="Graded.Restrictions.html#9664" class="Bound">UR</a>

<a id="9978" class="Comment">-- The function updates the usage restrictions to use the usage rule</a>
<a id="10047" class="Comment">-- natrecₘ for natrec using a given nr function.</a>

<a id="nr-available-UR"></a><a id="10097" href="Graded.Restrictions.html#10097" class="Function">nr-available-UR</a> <a id="10113" class="Symbol">:</a>
  <a id="10117" href="Graded.Modality.html#5637" class="Record">Has-nr</a> <a id="10124" href="Graded.Modality.html#9767" class="Field">semiring-with-meet</a> <a id="10143" class="Symbol">→</a> <a id="10145" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="10164" class="Symbol">→</a> <a id="10166" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="10185" href="Graded.Restrictions.html#10097" class="Function">nr-available-UR</a> <a id="10201" href="Graded.Restrictions.html#10201" class="Bound">has-nr</a> <a id="10208" href="Graded.Restrictions.html#10208" class="Bound">UR</a> <a id="10211" class="Symbol">=</a>
  <a id="10215" class="Keyword">record</a> <a id="10222" href="Graded.Restrictions.html#10208" class="Bound">UR</a> <a id="10225" class="Symbol">{</a> <a id="10227" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a> <a id="10239" class="Symbol">=</a> <a id="10241" href="Graded.Usage.Restrictions.Natrec.html#1028" class="InductiveConstructor">Nr</a> <a id="10244" class="Symbol">⦃</a> <a id="10246" href="Graded.Restrictions.html#10201" class="Bound">has-nr</a> <a id="10253" class="Symbol">⦄</a> <a id="10255" class="Symbol">}</a>

<a id="10258" class="Comment">-- The function updates the usage restrictions to use the usage rule</a>
<a id="10327" class="Comment">-- natrec-no-nr-glbₘ for natrec, assuming that the rule is supported.</a>

<a id="nr-not-available-glb-UR"></a><a id="10398" href="Graded.Restrictions.html#10398" class="Function">nr-not-available-glb-UR</a> <a id="10422" class="Symbol">:</a>
  <a id="10426" href="Graded.Modality.html#7732" class="Record">Supports-GLB-for-natrec</a> <a id="10450" href="Graded.Modality.html#9767" class="Field">semiring-with-meet</a> <a id="10469" class="Symbol">→</a> <a id="10471" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="10490" class="Symbol">→</a> <a id="10492" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="10511" href="Graded.Restrictions.html#10398" class="Function">nr-not-available-glb-UR</a> <a id="10535" href="Graded.Restrictions.html#10535" class="Bound">ok</a> <a id="10538" href="Graded.Restrictions.html#10538" class="Bound">UR</a> <a id="10541" class="Symbol">=</a>
  <a id="10545" class="Keyword">record</a> <a id="10552" href="Graded.Restrictions.html#10538" class="Bound">UR</a> <a id="10555" class="Symbol">{</a> <a id="10557" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a> <a id="10569" class="Symbol">=</a> <a id="10571" href="Graded.Usage.Restrictions.Natrec.html#1112" class="InductiveConstructor">No-nr-glb</a> <a id="10581" class="Symbol">⦃</a> <a id="10583" href="Graded.Restrictions.html#10535" class="Bound">ok</a> <a id="10586" class="Symbol">⦄</a> <a id="10588" class="Symbol">}</a>

<a id="10591" class="Comment">------------------------------------------------------------------------</a>
<a id="10664" class="Comment">-- Only-some-erased-matches</a>

<a id="10693" class="Comment">-- The property of not allowing certain erased matches:</a>
<a id="10749" class="Comment">-- * Erased matches are allowed for emptyrec and unitrec.</a>
<a id="10807" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="10865" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="10933" class="Comment">--   []-cong.</a>

<a id="Only-some-erased-matches"></a><a id="10948" href="Graded.Restrictions.html#10948" class="Function">Only-some-erased-matches</a> <a id="10973" class="Symbol">:</a>
  <a id="10977" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="10995" class="Symbol">→</a> <a id="10997" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="11016" class="Symbol">→</a> <a id="11018" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="11022" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="11024" href="Graded.Restrictions.html#10948" class="Function">Only-some-erased-matches</a> <a id="11049" href="Graded.Restrictions.html#11049" class="Bound">TR</a> <a id="11052" href="Graded.Restrictions.html#11052" class="Bound">UR</a> <a id="11055" class="Symbol">=</a>
  <a id="11059" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11061" href="Graded.Modality.html#2075" class="Function">Trivial</a> <a id="11069" class="Symbol">→</a>
  <a id="11073" class="Symbol">(∀</a> <a id="11076" class="Symbol">{</a><a id="11077" href="Graded.Restrictions.html#11077" class="Bound">r</a> <a id="11079" href="Graded.Restrictions.html#11079" class="Bound">p</a> <a id="11081" href="Graded.Restrictions.html#11081" class="Bound">q</a><a id="11082" class="Symbol">}</a> <a id="11084" class="Symbol">→</a> <a id="11086" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="11102" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11105" href="Graded.Restrictions.html#11077" class="Bound">r</a> <a id="11107" href="Graded.Restrictions.html#11079" class="Bound">p</a> <a id="11109" href="Graded.Restrictions.html#11081" class="Bound">q</a> <a id="11111" class="Symbol">→</a> <a id="11113" href="Graded.Restrictions.html#11077" class="Bound">r</a> <a id="11115" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="11117" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="11118" class="Symbol">)</a> <a id="11120" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11124" class="Symbol">(∀</a> <a id="11127" class="Symbol">{</a><a id="11128" href="Graded.Restrictions.html#11128" class="Bound">s</a><a id="11129" class="Symbol">}</a> <a id="11131" class="Symbol">→</a> <a id="11133" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11135" class="Symbol">(</a><a id="11136" href="Definition.Typed.Restrictions.html#2559" class="Function">[]-cong-allowed</a> <a id="11152" href="Graded.Restrictions.html#11128" class="Bound">s</a><a id="11153" class="Symbol">))</a> <a id="11156" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11160" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="11181" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11184" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11186" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="11191" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11195" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="11216" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11219" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11221" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="11228" class="Keyword">where</a>
  <a id="11236" class="Keyword">open</a> <a id="11241" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="11259" href="Graded.Restrictions.html#11049" class="Bound">TR</a>
  <a id="11264" class="Keyword">open</a> <a id="11269" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="11288" href="Graded.Restrictions.html#11052" class="Bound">UR</a>

<a id="11292" class="Keyword">opaque</a>

  <a id="11302" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
  <a id="11367" class="Comment">-- only-some-erased-matches satisfy Only-some-erased-matches.</a>

  <a id="Only-some-erased-matches-only-some-erased-matches"></a><a id="11432" href="Graded.Restrictions.html#11432" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="11482" class="Symbol">:</a>
    <a id="11488" class="Symbol">∀</a> <a id="11490" href="Graded.Restrictions.html#11490" class="Bound">TR</a> <a id="11493" href="Graded.Restrictions.html#11493" class="Bound">UR</a> <a id="11496" class="Symbol">→</a>
    <a id="11502" href="Graded.Restrictions.html#10948" class="Function">Only-some-erased-matches</a>
      <a id="11533" class="Symbol">(</a><a id="11534" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="11555" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="11557" class="Symbol">(</a><a id="11558" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="11579" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a> <a id="11581" href="Graded.Restrictions.html#11490" class="Bound">TR</a><a id="11583" class="Symbol">))</a>
      <a id="11592" class="Symbol">(</a><a id="11593" href="Graded.Restrictions.html#8624" class="Function">only-some-erased-matches</a> <a id="11618" href="Graded.Restrictions.html#11493" class="Bound">UR</a><a id="11620" class="Symbol">)</a>
  <a id="11624" href="Graded.Restrictions.html#11432" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="11674" class="Symbol">_</a> <a id="11676" class="Symbol">_</a> <a id="11678" href="Graded.Restrictions.html#11678" class="Bound">𝟙≢𝟘</a> <a id="11682" class="Symbol">=</a>
      <a id="11690" class="Symbol">(</a><a id="11691" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11694" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11698" class="Symbol">)</a> <a id="11700" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11703" class="Symbol">(</a><a id="11704" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11707" href="Graded.Restrictions.html#11678" class="Bound">𝟙≢𝟘</a><a id="11710" class="Symbol">)</a> <a id="11712" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11715" href="Data.Product.Base.html#650" class="Field">proj₂</a>
    <a id="11725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11727" class="Symbol">(λ</a> <a id="11730" class="Keyword">where</a>
         <a id="11745" class="Symbol">{</a><a id="11746" class="Argument">s</a> <a id="11748" class="Symbol">=</a> <a id="11750" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="11751" class="Symbol">}</a> <a id="11753" class="Symbol">→</a> <a id="11755" class="Symbol">(</a><a id="11756" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11759" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11763" class="Symbol">)</a> <a id="11765" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11768" href="Data.Product.Base.html#650" class="Field">proj₂</a>
         <a id="11783" class="Symbol">{</a><a id="11784" class="Argument">s</a> <a id="11786" class="Symbol">=</a> <a id="11788" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a><a id="11789" class="Symbol">}</a> <a id="11791" class="Symbol">→</a> <a id="11793" class="Symbol">(</a><a id="11794" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11797" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11801" class="Symbol">)</a> <a id="11803" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11806" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="11812" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11815" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="11820" class="Symbol">)</a>
    <a id="11826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11828" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="11837" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11839" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11845" class="Comment">------------------------------------------------------------------------</a>
<a id="11918" class="Comment">-- No-erased-matches</a>

<a id="11940" class="Comment">-- The property of not allowing (certain) erased matches:</a>
<a id="11998" class="Comment">-- * Erased matches are allowed for emptyrec.</a>
<a id="12044" class="Comment">-- * &quot;Erased&quot; matches are allowed for unitrec if η-equality is allowed</a>
<a id="12115" class="Comment">--   for weak unit types.</a>
<a id="12141" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="12199" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="12267" class="Comment">--   []-cong. (Note that a variant of []-cong that works when the mode</a>
<a id="12338" class="Comment">--   is not 𝟙ᵐ can be defined without the use of []-cong, see</a>
<a id="12400" class="Comment">--   Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="12438" href="Graded.Restrictions.html#12438" class="Function">No-erased-matches</a> <a id="12456" class="Symbol">:</a> <a id="12458" href="Definition.Typed.Restrictions.html#831" class="Record">Type-restrictions</a> <a id="12476" class="Symbol">→</a> <a id="12478" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="12497" class="Symbol">→</a> <a id="12499" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12503" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="12505" href="Graded.Restrictions.html#12438" class="Function">No-erased-matches</a> <a id="12523" href="Graded.Restrictions.html#12523" class="Bound">TR</a> <a id="12526" href="Graded.Restrictions.html#12526" class="Bound">UR</a> <a id="12529" class="Symbol">=</a>
  <a id="12533" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12535" href="Graded.Modality.html#2075" class="Function">Trivial</a> <a id="12543" class="Symbol">→</a>
  <a id="12547" class="Symbol">(∀</a> <a id="12550" class="Symbol">{</a><a id="12551" href="Graded.Restrictions.html#12551" class="Bound">r</a> <a id="12553" href="Graded.Restrictions.html#12553" class="Bound">p</a> <a id="12555" href="Graded.Restrictions.html#12555" class="Bound">q</a><a id="12556" class="Symbol">}</a> <a id="12558" class="Symbol">→</a> <a id="12560" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="12576" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12579" href="Graded.Restrictions.html#12551" class="Bound">r</a> <a id="12581" href="Graded.Restrictions.html#12553" class="Bound">p</a> <a id="12583" href="Graded.Restrictions.html#12555" class="Bound">q</a> <a id="12585" class="Symbol">→</a> <a id="12587" href="Graded.Restrictions.html#12551" class="Bound">r</a> <a id="12589" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12591" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="12592" class="Symbol">)</a> <a id="12594" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12598" class="Symbol">(∀</a> <a id="12601" class="Symbol">{</a><a id="12602" href="Graded.Restrictions.html#12602" class="Bound">p</a> <a id="12604" href="Graded.Restrictions.html#12604" class="Bound">q</a><a id="12605" class="Symbol">}</a>   <a id="12609" class="Symbol">→</a> <a id="12611" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="12627" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12630" href="Graded.Restrictions.html#12602" class="Bound">p</a> <a id="12632" href="Graded.Restrictions.html#12604" class="Bound">q</a>   <a id="12636" class="Symbol">→</a> <a id="12638" href="Graded.Restrictions.html#12602" class="Bound">p</a> <a id="12640" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12642" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="12644" class="Symbol">→</a> <a id="12646" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="12653" class="Symbol">)</a> <a id="12655" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12659" class="Symbol">(∀</a> <a id="12662" class="Symbol">{</a><a id="12663" href="Graded.Restrictions.html#12663" class="Bound">s</a><a id="12664" class="Symbol">}</a> <a id="12666" class="Symbol">→</a> <a id="12668" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12670" class="Symbol">(</a><a id="12671" href="Definition.Typed.Restrictions.html#2559" class="Function">[]-cong-allowed</a> <a id="12687" href="Graded.Restrictions.html#12663" class="Bound">s</a><a id="12688" class="Symbol">))</a> <a id="12691" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12695" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="12716" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12719" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12721" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="12726" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12730" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="12751" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12754" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12756" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="12763" class="Keyword">where</a>
  <a id="12771" class="Keyword">open</a> <a id="12776" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="12794" href="Graded.Restrictions.html#12523" class="Bound">TR</a>
  <a id="12799" class="Keyword">open</a> <a id="12804" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="12823" href="Graded.Restrictions.html#12526" class="Bound">UR</a>

<a id="12827" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="12890" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="12942" href="Graded.Restrictions.html#12942" class="Function">No-erased-matches-no-erased-matches</a> <a id="12978" class="Symbol">:</a>
  <a id="12982" class="Symbol">∀</a> <a id="12984" href="Graded.Restrictions.html#12984" class="Bound">TR</a> <a id="12987" href="Graded.Restrictions.html#12987" class="Bound">UR</a> <a id="12990" class="Symbol">→</a>
  <a id="12994" class="Keyword">let</a> <a id="12998" href="Graded.Restrictions.html#12998" class="Bound">TR′</a> <a id="13002" class="Symbol">=</a> <a id="13004" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="13025" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="13027" class="Symbol">(</a><a id="13028" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="13049" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a> <a id="13051" href="Graded.Restrictions.html#12984" class="Bound">TR</a><a id="13053" class="Symbol">)</a> <a id="13055" class="Keyword">in</a>
  <a id="13060" href="Graded.Restrictions.html#12438" class="Function">No-erased-matches</a> <a id="13078" href="Graded.Restrictions.html#12998" class="Bound">TR′</a> <a id="13082" class="Symbol">(</a><a id="13083" href="Graded.Restrictions.html#9555" class="Function">no-erased-matches-UR</a> <a id="13104" href="Graded.Restrictions.html#12998" class="Bound">TR′</a> <a id="13108" href="Graded.Restrictions.html#12987" class="Bound">UR</a><a id="13110" class="Symbol">)</a>
<a id="13112" href="Graded.Restrictions.html#12942" class="Function">No-erased-matches-no-erased-matches</a> <a id="13148" href="Graded.Restrictions.html#13148" class="Bound">TR</a> <a id="13151" href="Graded.Restrictions.html#13151" class="Bound">UR</a> <a id="13154" href="Graded.Restrictions.html#13154" class="Bound">𝟙≢𝟘</a> <a id="13158" class="Symbol">=</a>
  <a id="13162" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13167" href="Graded.Restrictions.html#11432" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="13217" href="Graded.Restrictions.html#13148" class="Bound">TR</a> <a id="13220" href="Graded.Restrictions.html#13151" class="Bound">UR</a> <a id="13223" href="Graded.Restrictions.html#13154" class="Bound">𝟙≢𝟘</a> <a id="13227" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13230" class="Symbol">λ</a>
    <a id="13236" class="Symbol">(</a><a id="13237" href="Graded.Restrictions.html#13237" class="Bound">pr</a> <a id="13240" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13242" href="Graded.Restrictions.html#13242" class="Bound">rest</a><a id="13246" class="Symbol">)</a> <a id="13248" class="Symbol">→</a>
    <a id="13254" class="Symbol">(λ</a> <a id="13257" class="Symbol">{</a><a id="13258" href="Graded.Restrictions.html#13258" class="Bound">_</a> <a id="13260" href="Graded.Restrictions.html#13260" class="Bound">_</a> <a id="13262" href="Graded.Restrictions.html#13262" class="Bound">_</a><a id="13263" class="Symbol">}</a> <a id="13265" class="Symbol">→</a> <a id="13267" href="Graded.Restrictions.html#13237" class="Bound">pr</a><a id="13269" class="Symbol">)</a>
  <a id="13273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13275" class="Symbol">(λ</a> <a id="13278" class="Symbol">{</a><a id="13279" href="Graded.Restrictions.html#13279" class="Bound">_</a> <a id="13281" href="Graded.Restrictions.html#13281" class="Bound">_</a><a id="13282" class="Symbol">}</a> <a id="13284" class="Symbol">→</a> <a id="13286" class="Symbol">(</a><a id="13287" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13290" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13294" class="Symbol">)</a> <a id="13296" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="13299" class="Symbol">(</a><a id="13300" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13303" href="Graded.Restrictions.html#13154" class="Bound">𝟙≢𝟘</a><a id="13306" class="Symbol">)</a> <a id="13308" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="13311" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="13316" class="Symbol">)</a>
  <a id="13320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13322" href="Graded.Restrictions.html#13242" class="Bound">rest</a>

<a id="13328" class="Keyword">opaque</a>

  <a id="13338" class="Comment">-- If Unitʷ-η holds for TR, then Only-some-erased-matches TR UR</a>
  <a id="13404" class="Comment">-- implies No-erased-matches TR UR.</a>

  <a id="Only-some-erased-matches→No-erased-matches"></a><a id="13443" href="Graded.Restrictions.html#13443" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="13486" class="Symbol">:</a>
    <a id="13492" class="Symbol">∀</a> <a id="13494" href="Graded.Restrictions.html#13494" class="Bound">TR</a> <a id="13497" href="Graded.Restrictions.html#13497" class="Bound">UR</a> <a id="13500" class="Symbol">→</a>
    <a id="13506" href="Definition.Typed.Variant.html#795" class="Function">Type-restrictions.Unitʷ-η</a> <a id="13532" href="Graded.Restrictions.html#13494" class="Bound">TR</a> <a id="13535" class="Symbol">→</a>
    <a id="13541" href="Graded.Restrictions.html#10948" class="Function">Only-some-erased-matches</a> <a id="13566" href="Graded.Restrictions.html#13494" class="Bound">TR</a> <a id="13569" href="Graded.Restrictions.html#13497" class="Bound">UR</a> <a id="13572" class="Symbol">→</a> <a id="13574" href="Graded.Restrictions.html#12438" class="Function">No-erased-matches</a> <a id="13592" href="Graded.Restrictions.html#13494" class="Bound">TR</a> <a id="13595" href="Graded.Restrictions.html#13497" class="Bound">UR</a>
  <a id="13600" href="Graded.Restrictions.html#13443" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="13643" class="Symbol">_</a> <a id="13645" class="Symbol">_</a> <a id="13647" href="Graded.Restrictions.html#13647" class="Bound">η</a> <a id="13649" class="Symbol">=</a>
    <a id="13655" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="13661" href="Function.Base.html#704" class="Function">idᶠ</a> <a id="13665" class="Symbol">((λ</a> <a id="13669" class="Symbol">{</a><a id="13670" href="Graded.Restrictions.html#13670" class="Bound">_</a> <a id="13672" href="Graded.Restrictions.html#13672" class="Bound">_</a><a id="13673" class="Symbol">}</a> <a id="13675" href="Graded.Restrictions.html#13675" class="Bound">_</a> <a id="13677" href="Graded.Restrictions.html#13677" class="Bound">_</a> <a id="13679" class="Symbol">→</a> <a id="13681" href="Graded.Restrictions.html#13647" class="Bound">η</a><a id="13682" class="Symbol">)</a> <a id="13684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="13686" class="Symbol">)</a> <a id="13688" href="Function.Base.html#1115" class="Function Operator">∘→_</a>

<a id="13693" class="Comment">-- An alternative to No-erased-matches that refers to</a>
<a id="13747" class="Comment">-- Type-variant instead of Type-restrictions</a>

<a id="No-erased-matches′"></a><a id="13793" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="13812" class="Symbol">:</a> <a id="13814" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a> <a id="13827" class="Symbol">→</a> <a id="13829" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="13848" class="Symbol">→</a> <a id="13850" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="13854" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="13856" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="13875" href="Graded.Restrictions.html#13875" class="Bound">TV</a> <a id="13878" href="Graded.Restrictions.html#13878" class="Bound">UR</a> <a id="13881" class="Symbol">=</a>
  <a id="13885" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="13887" href="Graded.Modality.html#2075" class="Function">Trivial</a> <a id="13895" class="Symbol">→</a>
  <a id="13899" class="Symbol">(∀</a> <a id="13902" class="Symbol">{</a><a id="13903" href="Graded.Restrictions.html#13903" class="Bound">r</a> <a id="13905" href="Graded.Restrictions.html#13905" class="Bound">p</a> <a id="13907" href="Graded.Restrictions.html#13907" class="Bound">q</a><a id="13908" class="Symbol">}</a> <a id="13910" class="Symbol">→</a> <a id="13912" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="13928" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="13931" href="Graded.Restrictions.html#13903" class="Bound">r</a> <a id="13933" href="Graded.Restrictions.html#13905" class="Bound">p</a> <a id="13935" href="Graded.Restrictions.html#13907" class="Bound">q</a> <a id="13937" class="Symbol">→</a> <a id="13939" href="Graded.Restrictions.html#13903" class="Bound">r</a> <a id="13941" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="13943" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="13944" class="Symbol">)</a> <a id="13946" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="13950" class="Symbol">(∀</a> <a id="13953" class="Symbol">{</a><a id="13954" href="Graded.Restrictions.html#13954" class="Bound">p</a> <a id="13956" href="Graded.Restrictions.html#13956" class="Bound">q</a><a id="13957" class="Symbol">}</a>   <a id="13961" class="Symbol">→</a> <a id="13963" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="13979" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="13982" href="Graded.Restrictions.html#13954" class="Bound">p</a> <a id="13984" href="Graded.Restrictions.html#13956" class="Bound">q</a>   <a id="13988" class="Symbol">→</a> <a id="13990" href="Graded.Restrictions.html#13954" class="Bound">p</a> <a id="13992" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13994" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="13996" class="Symbol">→</a> <a id="13998" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="14005" class="Symbol">)</a> <a id="14007" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="14011" class="Symbol">(∀</a> <a id="14014" class="Symbol">{</a><a id="14015" href="Graded.Restrictions.html#14015" class="Bound">s</a><a id="14016" class="Symbol">}</a> <a id="14018" class="Symbol">→</a> <a id="14020" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="14022" class="Symbol">(</a><a id="14023" href="Graded.Usage.Restrictions.html#2078" class="Field">[]-cong-allowed-mode</a> <a id="14044" href="Graded.Restrictions.html#14015" class="Bound">s</a> <a id="14046" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a><a id="14048" class="Symbol">))</a> <a id="14051" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="14055" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="14076" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="14079" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14081" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="14086" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="14090" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="14111" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="14114" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14116" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="14123" class="Keyword">where</a>
  <a id="14131" class="Keyword">open</a> <a id="14136" href="Definition.Typed.Variant.html#432" class="Module">Type-variant</a> <a id="14149" href="Graded.Restrictions.html#13875" class="Bound">TV</a>
  <a id="14154" class="Keyword">open</a> <a id="14159" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="14178" href="Graded.Restrictions.html#13878" class="Bound">UR</a>

<a id="14182" class="Comment">------------------------------------------------------------------------</a>
<a id="14255" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="14297" class="Keyword">opaque</a>

  <a id="14307" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="14374" class="Comment">-- no-type-restrictions b false.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="14410" href="Graded.Restrictions.html#14410" class="Function">Assumptions-no-type-restrictions</a> <a id="14443" class="Symbol">:</a>
    <a id="14449" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="14459" class="Symbol">(</a><a id="14460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="14464" class="Symbol">{</a><a id="14465" class="Argument">A</a> <a id="14467" class="Symbol">=</a> <a id="14469" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="14470" class="Symbol">})</a> <a id="14473" class="Symbol">→</a>
    <a id="14479" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="14494" class="Symbol">(</a><a id="14495" href="Graded.Restrictions.html#1711" class="Function">no-type-restrictions</a> <a id="14516" href="Graded.Restrictions.html#1226" class="Generalizable">b</a> <a id="14518" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="14523" class="Symbol">)</a>
  <a id="14527" href="Graded.Restrictions.html#14410" class="Function">Assumptions-no-type-restrictions</a> <a id="14560" class="Symbol">{</a><a id="14561" href="Graded.Restrictions.html#14561" class="Bound">b</a><a id="14562" class="Symbol">}</a> <a id="14564" href="Graded.Restrictions.html#14564" class="Bound">dec</a> <a id="14568" class="Symbol">=</a> <a id="14570" class="Symbol">λ</a> <a id="14572" class="Keyword">where</a>
      <a id="14584" class="Symbol">.</a><a id="14585" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                <a id="14604" class="Symbol">→</a> <a id="14606" href="Graded.Restrictions.html#14564" class="Bound">dec</a>
      <a id="14616" class="Symbol">.</a><a id="14617" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a> <a id="14631" class="Symbol">_</a>    <a id="14636" class="Symbol">→</a> <a id="14638" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14642" class="Symbol">_</a>
      <a id="14650" class="Symbol">.</a><a id="14651" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="14663" class="Symbol">_</a> <a id="14665" class="Symbol">_</a> <a id="14667" class="Symbol">_</a>  <a id="14670" class="Symbol">→</a> <a id="14672" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14676" class="Symbol">_</a>
      <a id="14684" class="Symbol">.</a><a id="14685" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>         <a id="14704" class="Symbol">→</a> <a id="14706" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14711" href="Tools.PropositionalEquality.html#2252" class="Function">singleton</a> <a id="14721" href="Graded.Restrictions.html#14561" class="Bound">b</a> <a id="14723" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14726" class="Symbol">λ</a> <a id="14728" class="Keyword">where</a>
        <a id="14742" class="Symbol">(</a><a id="14743" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="14749" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14751" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="14755" class="Symbol">)</a> <a id="14757" class="Symbol">→</a> <a id="14759" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14763" class="Symbol">_</a>
        <a id="14773" class="Symbol">(</a><a id="14774" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="14780" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14782" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="14786" class="Symbol">)</a> <a id="14788" class="Symbol">→</a> <a id="14790" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14793" class="Symbol">(λ</a> <a id="14796" class="Symbol">())</a>
      <a id="14806" class="Symbol">.</a><a id="14807" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="14824" class="Symbol">_</a> <a id="14826" class="Symbol">→</a> <a id="14828" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14833" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="14842" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14845" class="Symbol">λ</a> <a id="14847" class="Keyword">where</a>
        <a id="14861" class="Symbol">(</a><a id="14862" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14866" href="Graded.Restrictions.html#14866" class="Bound">trivial</a><a id="14873" class="Symbol">)</a>    <a id="14878" class="Symbol">→</a> <a id="14880" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14883" class="Symbol">(</a><a id="14884" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="14887" href="Graded.Restrictions.html#14866" class="Bound">trivial</a><a id="14894" class="Symbol">)</a>
        <a id="14904" class="Symbol">(</a><a id="14905" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14908" href="Graded.Restrictions.html#14908" class="Bound">non-trivial</a><a id="14919" class="Symbol">)</a> <a id="14921" class="Symbol">→</a> <a id="14923" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14927" href="Graded.Restrictions.html#14908" class="Bound">non-trivial</a>
      <a id="14945" class="Symbol">.</a><a id="14946" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="14969" class="Symbol">(</a><a id="14970" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="14975" class="Symbol">())</a>
    <a id="14983" class="Keyword">where</a>
    <a id="14993" class="Keyword">open</a> <a id="14998" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="15014" class="Keyword">opaque</a>

  <a id="15024" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="15093" href="Graded.Restrictions.html#15093" class="Function">Assumptions-equal-binder-quantities</a> <a id="15129" class="Symbol">:</a>
    <a id="15135" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15150" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="15153" class="Symbol">→</a> <a id="15155" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15170" class="Symbol">(</a><a id="15171" href="Graded.Restrictions.html#2385" class="Function">equal-binder-quantities</a> <a id="15195" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="15197" class="Symbol">)</a>
  <a id="15201" href="Graded.Restrictions.html#15093" class="Function">Assumptions-equal-binder-quantities</a> <a id="15237" href="Graded.Restrictions.html#15237" class="Bound">as</a> <a id="15240" class="Symbol">=</a> <a id="15242" class="Symbol">λ</a> <a id="15244" class="Keyword">where</a>
      <a id="15256" class="Symbol">.</a><a id="15257" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="15280" class="Symbol">→</a> <a id="15282" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="15294" class="Symbol">.</a><a id="15295" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="15318" class="Symbol">→</a> <a id="15320" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="15342" class="Symbol">.</a><a id="15343" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="15355" href="Graded.Restrictions.html#15355" class="Bound">b</a> <a id="15357" href="Graded.Restrictions.html#15357" class="Bound">p</a> <a id="15359" href="Graded.Restrictions.html#15359" class="Bound">q</a>      <a id="15366" class="Symbol">→</a> <a id="15368" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="15382" href="Graded.Restrictions.html#15355" class="Bound">b</a> <a id="15384" href="Graded.Restrictions.html#15357" class="Bound">p</a> <a id="15386" href="Graded.Restrictions.html#15359" class="Bound">q</a> <a id="15388" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="15394" href="Graded.Restrictions.html#15357" class="Bound">p</a> <a id="15396" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="15400" href="Graded.Restrictions.html#15359" class="Bound">q</a>
      <a id="15408" class="Symbol">.</a><a id="15409" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="15432" class="Symbol">→</a> <a id="15434" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="15453" class="Symbol">.</a><a id="15454" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="15477" class="Symbol">→</a> <a id="15479" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="15504" class="Symbol">.</a><a id="15505" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="15528" class="Symbol">→</a> <a id="15530" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="15559" class="Keyword">where</a>
    <a id="15569" class="Keyword">module</a> <a id="15576" href="Graded.Restrictions.html#15576" class="Module">A</a> <a id="15578" class="Symbol">=</a> <a id="15580" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="15595" href="Graded.Restrictions.html#15237" class="Bound">as</a>
    <a id="15602" class="Keyword">open</a> <a id="15607" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="15623" class="Keyword">opaque</a>

  <a id="15633" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="15701" href="Graded.Restrictions.html#15701" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="15736" class="Symbol">:</a>
    <a id="15742" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15757" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="15760" class="Symbol">→</a> <a id="15762" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15777" class="Symbol">(</a><a id="15778" href="Graded.Restrictions.html#2790" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="15801" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="15803" class="Symbol">)</a>
  <a id="15807" href="Graded.Restrictions.html#15701" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="15842" href="Graded.Restrictions.html#15842" class="Bound">as</a> <a id="15845" class="Symbol">=</a> <a id="15847" class="Symbol">λ</a> <a id="15849" class="Keyword">where</a>
      <a id="15861" class="Symbol">.</a><a id="15862" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="15885" class="Symbol">→</a> <a id="15887" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="15899" class="Symbol">.</a><a id="15900" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="15923" class="Symbol">→</a> <a id="15925" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="15947" class="Symbol">.</a><a id="15948" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="15960" href="Graded.Restrictions.html#15960" class="Bound">b</a> <a id="15962" href="Graded.Restrictions.html#15962" class="Bound">p</a> <a id="15964" href="Graded.Restrictions.html#15964" class="Bound">q</a>      <a id="15971" class="Symbol">→</a> <a id="15973" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="15987" href="Graded.Restrictions.html#15960" class="Bound">b</a> <a id="15989" href="Graded.Restrictions.html#15962" class="Bound">p</a> <a id="15991" href="Graded.Restrictions.html#15964" class="Bound">q</a> <a id="15993" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="15999" href="Graded.Restrictions.html#15964" class="Bound">q</a> <a id="16001" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16005" href="Graded.Modality.html#995" class="Function">𝟘</a>
      <a id="16013" class="Symbol">.</a><a id="16014" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="16037" class="Symbol">→</a> <a id="16039" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="16058" class="Symbol">.</a><a id="16059" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="16082" class="Symbol">→</a> <a id="16084" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="16109" class="Symbol">.</a><a id="16110" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="16133" class="Symbol">→</a> <a id="16135" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="16164" class="Keyword">where</a>
    <a id="16174" class="Keyword">module</a> <a id="16181" href="Graded.Restrictions.html#16181" class="Module">A</a> <a id="16183" class="Symbol">=</a> <a id="16185" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="16200" href="Graded.Restrictions.html#15842" class="Bound">as</a>
    <a id="16207" class="Keyword">open</a> <a id="16212" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="16228" class="Keyword">opaque</a>

  <a id="16238" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="16294" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="16316" href="Graded.Restrictions.html#16316" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16356" class="Symbol">:</a>
    <a id="16362" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="16377" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="16380" class="Symbol">→</a> <a id="16382" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="16397" class="Symbol">(</a><a id="16398" href="Graded.Restrictions.html#3348" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16426" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="16428" class="Symbol">)</a>
  <a id="16432" href="Graded.Restrictions.html#16316" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16472" href="Graded.Restrictions.html#16472" class="Bound">as</a> <a id="16475" class="Symbol">=</a> <a id="16477" class="Symbol">λ</a> <a id="16479" class="Keyword">where</a>
      <a id="16491" class="Symbol">.</a><a id="16492" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="16515" class="Symbol">→</a> <a id="16517" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="16529" class="Symbol">.</a><a id="16530" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="16553" class="Symbol">→</a> <a id="16555" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="16577" class="Symbol">.</a><a id="16578" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="16590" href="Graded.Restrictions.html#16590" class="Bound">b</a> <a id="16592" href="Graded.Restrictions.html#16592" class="Bound">p</a> <a id="16594" href="Graded.Restrictions.html#16594" class="Bound">q</a>      <a id="16601" class="Symbol">→</a> <a id="16603" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="16617" href="Graded.Restrictions.html#16590" class="Bound">b</a> <a id="16619" href="Graded.Restrictions.html#16592" class="Bound">p</a> <a id="16621" href="Graded.Restrictions.html#16594" class="Bound">q</a>
                                  <a id="16657" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="16695" class="Symbol">(</a><a id="16696" href="Graded.Restrictions.html#16592" class="Bound">p</a> <a id="16698" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16702" href="Graded.Modality.html#999" class="Function">ω</a> <a id="16704" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="16710" href="Graded.Restrictions.html#16594" class="Bound">q</a> <a id="16712" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16716" href="Graded.Modality.html#999" class="Function">ω</a><a id="16717" class="Symbol">)</a>
                                  <a id="16753" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="16791" class="Symbol">(</a><a id="16792" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="16795" class="Symbol">(</a><a id="16796" href="Graded.Restrictions.html#16592" class="Bound">p</a> <a id="16798" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16802" href="Graded.Modality.html#999" class="Function">ω</a><a id="16803" class="Symbol">)</a> <a id="16805" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="16811" href="Graded.Restrictions.html#16594" class="Bound">q</a> <a id="16813" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16817" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="16818" class="Symbol">)</a>
      <a id="16826" class="Symbol">.</a><a id="16827" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="16850" class="Symbol">→</a> <a id="16852" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="16871" class="Symbol">.</a><a id="16872" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="16895" class="Symbol">→</a> <a id="16897" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="16922" class="Symbol">.</a><a id="16923" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="16946" class="Symbol">→</a> <a id="16948" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="16977" class="Keyword">where</a>
    <a id="16987" class="Keyword">module</a> <a id="16994" href="Graded.Restrictions.html#16994" class="Module">A</a> <a id="16996" class="Symbol">=</a> <a id="16998" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="17013" href="Graded.Restrictions.html#16472" class="Bound">as</a>
    <a id="17020" class="Keyword">open</a> <a id="17025" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="17041" class="Keyword">opaque</a>

  <a id="17051" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="17109" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="17159" href="Graded.Restrictions.html#17159" class="Function">Assumptions-strong-types-restricted′</a> <a id="17196" class="Symbol">:</a>
    <a id="17202" class="Symbol">{</a><a id="17203" href="Graded.Restrictions.html#17203" class="Bound">P</a> <a id="17205" class="Symbol">:</a> <a id="17207" href="Definition.Untyped.NotParametrised.html#2027" class="Datatype">BinderMode</a> <a id="17218" class="Symbol">→</a> <a id="17220" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="17222" class="Symbol">→</a> <a id="17224" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="17228" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="17229" class="Symbol">}</a>
    <a id="17235" class="Symbol">{</a><a id="17236" href="Graded.Restrictions.html#17236" class="Bound">ok</a> <a id="17239" class="Symbol">:</a> <a id="17241" class="Symbol">∀</a> <a id="17243" class="Symbol">{</a><a id="17244" href="Graded.Restrictions.html#17244" class="Bound">s</a><a id="17245" class="Symbol">}</a> <a id="17247" class="Symbol">→</a> <a id="17249" href="Graded.Restrictions.html#17244" class="Bound">s</a> <a id="17251" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="17253" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="17255" class="Symbol">→</a> <a id="17257" href="Graded.Restrictions.html#17203" class="Bound">P</a> <a id="17259" class="Symbol">(</a><a id="17260" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="17264" href="Graded.Restrictions.html#17244" class="Bound">s</a><a id="17265" class="Symbol">)</a> <a id="17267" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="17268" class="Symbol">}</a> <a id="17270" class="Symbol">→</a>
    <a id="17276" class="Symbol">(∀</a> <a id="17279" href="Graded.Restrictions.html#17279" class="Bound">b</a> <a id="17281" href="Graded.Restrictions.html#17281" class="Bound">p</a> <a id="17283" class="Symbol">→</a> <a id="17285" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="17289" class="Symbol">(</a><a id="17290" href="Graded.Restrictions.html#17203" class="Bound">P</a> <a id="17292" href="Graded.Restrictions.html#17279" class="Bound">b</a> <a id="17294" href="Graded.Restrictions.html#17281" class="Bound">p</a><a id="17295" class="Symbol">))</a> <a id="17298" class="Symbol">→</a>
    <a id="17304" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="17319" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="17322" class="Symbol">→</a>
    <a id="17328" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="17343" class="Symbol">(</a><a id="17344" href="Graded.Restrictions.html#3794" class="Function">strong-types-restricted′</a> <a id="17369" href="Graded.Restrictions.html#17203" class="Bound">P</a> <a id="17371" href="Graded.Restrictions.html#17236" class="Bound">ok</a> <a id="17374" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="17376" class="Symbol">)</a>
  <a id="17380" href="Graded.Restrictions.html#17159" class="Function">Assumptions-strong-types-restricted′</a> <a id="17417" href="Graded.Restrictions.html#17417" class="Bound">P-dec</a> <a id="17423" href="Graded.Restrictions.html#17423" class="Bound">as</a> <a id="17426" class="Symbol">=</a> <a id="17428" class="Symbol">λ</a> <a id="17430" class="Keyword">where</a>
      <a id="17442" class="Symbol">.</a><a id="17443" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="17466" class="Symbol">→</a> <a id="17468" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="17480" class="Symbol">.</a><a id="17481" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a> <a id="17495" href="Graded.Restrictions.html#17495" class="Bound">s</a>        <a id="17504" class="Symbol">→</a> <a id="17506" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a> <a id="17522" href="Graded.Restrictions.html#17495" class="Bound">s</a>
                                  <a id="17558" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17596" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17599" class="Symbol">(</a><a id="17600" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="17612" href="Graded.Restrictions.html#17495" class="Bound">s</a> <a id="17614" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="17615" class="Symbol">)</a>
      <a id="17623" class="Symbol">.</a><a id="17624" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="17636" href="Graded.Restrictions.html#17636" class="Bound">b</a> <a id="17638" href="Graded.Restrictions.html#17638" class="Bound">p</a> <a id="17640" href="Graded.Restrictions.html#17640" class="Bound">q</a>      <a id="17647" class="Symbol">→</a> <a id="17649" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="17663" href="Graded.Restrictions.html#17636" class="Bound">b</a> <a id="17665" href="Graded.Restrictions.html#17638" class="Bound">p</a> <a id="17667" href="Graded.Restrictions.html#17640" class="Bound">q</a>
                                  <a id="17703" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17741" href="Graded.Restrictions.html#17417" class="Bound">P-dec</a> <a id="17747" href="Graded.Restrictions.html#17636" class="Bound">b</a> <a id="17749" href="Graded.Restrictions.html#17638" class="Bound">p</a>
      <a id="17757" class="Symbol">.</a><a id="17758" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="17781" class="Symbol">→</a> <a id="17783" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="17802" class="Symbol">.</a><a id="17803" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="17820" href="Graded.Restrictions.html#17820" class="Bound">s</a>     <a id="17826" class="Symbol">→</a> <a id="17828" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a> <a id="17847" href="Graded.Restrictions.html#17820" class="Bound">s</a>
                                  <a id="17883" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17921" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17924" class="Symbol">(</a><a id="17925" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="17937" href="Graded.Restrictions.html#17820" class="Bound">s</a> <a id="17939" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="17940" class="Symbol">)</a>
      <a id="17948" class="Symbol">.</a><a id="17949" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="17972" class="Symbol">→</a> <a id="17974" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="18003" class="Keyword">where</a>
    <a id="18013" class="Keyword">module</a> <a id="18020" href="Graded.Restrictions.html#18020" class="Module">A</a> <a id="18022" class="Symbol">=</a> <a id="18024" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="18039" href="Graded.Restrictions.html#17423" class="Bound">as</a>
    <a id="18046" class="Keyword">open</a> <a id="18051" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="18067" class="Keyword">opaque</a>

  <a id="18077" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="18146" href="Graded.Restrictions.html#18146" class="Function">Assumptions-strong-types-restricted</a> <a id="18182" class="Symbol">:</a>
    <a id="18188" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18203" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="18206" class="Symbol">→</a> <a id="18208" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18223" class="Symbol">(</a><a id="18224" href="Graded.Restrictions.html#4581" class="Function">strong-types-restricted</a> <a id="18248" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="18250" class="Symbol">)</a>
  <a id="18254" href="Graded.Restrictions.html#18146" class="Function">Assumptions-strong-types-restricted</a> <a id="18290" href="Graded.Restrictions.html#18290" class="Bound">as</a> <a id="18293" class="Symbol">=</a>
    <a id="18299" href="Graded.Restrictions.html#17159" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="18342" class="Symbol">(λ</a> <a id="18345" href="Graded.Restrictions.html#18345" class="Bound">b</a> <a id="18347" href="Graded.Restrictions.html#18347" class="Bound">p</a> <a id="18349" class="Symbol">→</a> <a id="18351" href="Definition.Untyped.Properties.NotParametrised.html#7947" class="Function">decBinderMode</a> <a id="18365" href="Graded.Restrictions.html#18345" class="Bound">b</a> <a id="18367" class="Symbol">(</a><a id="18368" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="18372" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="18373" class="Symbol">)</a> <a id="18375" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="18381" href="Graded.Restrictions.html#18347" class="Bound">p</a> <a id="18383" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">≟</a> <a id="18385" href="Graded.Modality.html#997" class="Function">𝟙</a><a id="18386" class="Symbol">)</a>
      <a id="18394" href="Graded.Restrictions.html#18290" class="Bound">as</a>
    <a id="18401" class="Keyword">where</a>
    <a id="18411" class="Keyword">open</a> <a id="18416" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="18431" href="Graded.Restrictions.html#18290" class="Bound">as</a>

<a id="18435" class="Keyword">opaque</a>

  <a id="18445" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="18506" href="Graded.Restrictions.html#18506" class="Function">Assumptions-no-strong-types</a> <a id="18534" class="Symbol">:</a>
    <a id="18540" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18555" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="18558" class="Symbol">→</a> <a id="18560" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18575" class="Symbol">(</a><a id="18576" href="Graded.Restrictions.html#4951" class="Function">no-strong-types</a> <a id="18592" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="18594" class="Symbol">)</a>
  <a id="18598" href="Graded.Restrictions.html#18506" class="Function">Assumptions-no-strong-types</a> <a id="18626" href="Graded.Restrictions.html#18626" class="Bound">as</a> <a id="18629" class="Symbol">=</a>
    <a id="18635" href="Graded.Restrictions.html#17159" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="18678" class="Symbol">(λ</a> <a id="18681" href="Graded.Restrictions.html#18681" class="Bound">b</a> <a id="18683" href="Graded.Restrictions.html#18683" class="Bound">_</a> <a id="18685" class="Symbol">→</a> <a id="18687" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="18695" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="18700" href="Level.html#479" class="Field">Lift.lower</a> <a id="18711" class="Symbol">(</a><a id="18712" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="18715" class="Symbol">(</a><a id="18716" href="Definition.Untyped.Properties.NotParametrised.html#7947" class="Function">decBinderMode</a> <a id="18730" href="Graded.Restrictions.html#18681" class="Bound">b</a> <a id="18732" class="Symbol">(</a><a id="18733" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="18737" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="18738" class="Symbol">))))</a>
      <a id="18749" href="Graded.Restrictions.html#18626" class="Bound">as</a>
    <a id="18756" class="Keyword">where</a>
    <a id="18766" class="Keyword">open</a> <a id="18771" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="18786" href="Graded.Restrictions.html#18626" class="Bound">as</a>

<a id="18790" class="Keyword">opaque</a>

  <a id="18800" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="18868" href="Graded.Restrictions.html#18868" class="Function">Assumptions-no-erased-matches-TR</a> <a id="18901" class="Symbol">:</a>
    <a id="18907" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18922" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a> <a id="18925" class="Symbol">→</a> <a id="18927" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18942" class="Symbol">(</a><a id="18943" href="Graded.Restrictions.html#5237" class="Function">no-erased-matches-TR</a> <a id="18964" href="Graded.Restrictions.html#1249" class="Generalizable">s</a> <a id="18966" href="Graded.Restrictions.html#1175" class="Generalizable">TR</a><a id="18968" class="Symbol">)</a>
  <a id="18972" href="Graded.Restrictions.html#18868" class="Function">Assumptions-no-erased-matches-TR</a> <a id="19005" class="Symbol">{</a><a id="19006" href="Graded.Restrictions.html#19006" class="Bound">s</a><a id="19007" class="Symbol">}</a> <a id="19009" href="Graded.Restrictions.html#19009" class="Bound">as</a> <a id="19012" class="Symbol">=</a> <a id="19014" class="Symbol">λ</a> <a id="19016" class="Keyword">where</a>
      <a id="19028" class="Symbol">.</a><a id="19029" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="19052" class="Symbol">→</a> <a id="19054" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="19066" class="Symbol">.</a><a id="19067" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="19090" class="Symbol">→</a> <a id="19092" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="19114" class="Symbol">.</a><a id="19115" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a>            <a id="19138" class="Symbol">→</a> <a id="19140" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a>
      <a id="19160" class="Symbol">.</a><a id="19161" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="19184" class="Symbol">→</a> <a id="19186" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="19205" class="Symbol">.</a><a id="19206" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="19223" href="Graded.Restrictions.html#19223" class="Bound">s′</a>    <a id="19229" class="Symbol">→</a> <a id="19231" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a> <a id="19250" href="Graded.Restrictions.html#19223" class="Bound">s′</a>
                                  <a id="19287" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="19325" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="19328" class="Symbol">(</a><a id="19329" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="19341" href="Graded.Restrictions.html#19223" class="Bound">s′</a> <a id="19344" href="Graded.Restrictions.html#19006" class="Bound">s</a><a id="19345" class="Symbol">)</a>
      <a id="19353" class="Symbol">.</a><a id="19354" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="19377" class="Symbol">→</a> <a id="19379" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="19408" class="Keyword">where</a>
    <a id="19418" class="Keyword">module</a> <a id="19425" href="Graded.Restrictions.html#19425" class="Module">A</a> <a id="19427" class="Symbol">=</a> <a id="19429" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="19444" href="Graded.Restrictions.html#19009" class="Bound">as</a>
    <a id="19451" class="Keyword">open</a> <a id="19456" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="19472" class="Comment">------------------------------------------------------------------------</a>
<a id="19545" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="19587" class="Keyword">opaque</a>

  <a id="19597" class="Comment">-- If grade equality is decidable and the modality supports usage</a>
  <a id="19665" class="Comment">-- inference for a given natrec-mode nm, UD.Assumptions holds for</a>
  <a id="19733" class="Comment">-- no-usage-restrictions nm b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="19773" href="Graded.Restrictions.html#19773" class="Function">Assumptions-no-usage-restrictions</a> <a id="19807" class="Symbol">:</a>
    <a id="19813" class="Symbol">⦃</a> <a id="19815" href="Graded.Restrictions.html#19815" class="Bound">ok</a> <a id="19818" class="Symbol">:</a> <a id="19820" href="Graded.Usage.Restrictions.Natrec.html#1737" class="Datatype">Natrec-mode-supports-usage-inference</a> <a id="19857" href="Graded.Restrictions.html#1265" class="Generalizable">nm</a> <a id="19860" class="Symbol">⦄</a> <a id="19862" class="Symbol">→</a>
    <a id="19868" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="19878" class="Symbol">(</a><a id="19879" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="19883" class="Symbol">{</a><a id="19884" class="Argument">A</a> <a id="19886" class="Symbol">=</a> <a id="19888" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="19889" class="Symbol">})</a> <a id="19892" class="Symbol">→</a>
    <a id="19898" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="19913" class="Symbol">(</a><a id="19914" href="Graded.Restrictions.html#6197" class="Function">no-usage-restrictions</a> <a id="19936" href="Graded.Restrictions.html#1265" class="Generalizable">nm</a> <a id="19939" href="Graded.Restrictions.html#1226" class="Generalizable">b</a> <a id="19941" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="19946" class="Symbol">)</a>
  <a id="19950" href="Graded.Restrictions.html#19773" class="Function">Assumptions-no-usage-restrictions</a> <a id="19984" href="Graded.Restrictions.html#19984" class="Bound">dec</a> <a id="19988" class="Symbol">=</a> <a id="19990" class="Symbol">λ</a> <a id="19992" class="Keyword">where</a>
      <a id="20004" class="Symbol">.</a><a id="20005" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">_≟_</a>                       <a id="20031" class="Symbol">→</a> <a id="20033" href="Graded.Restrictions.html#19984" class="Bound">dec</a>
      <a id="20043" class="Symbol">.</a><a id="20044" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">Prodrec-allowed?</a> <a id="20061" class="Symbol">_</a> <a id="20063" class="Symbol">_</a> <a id="20065" class="Symbol">_</a> <a id="20067" class="Symbol">_</a>  <a id="20070" class="Symbol">→</a> <a id="20072" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20076" class="Symbol">_</a>
      <a id="20084" class="Symbol">.</a><a id="20085" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">Unitrec-allowed?</a>  <a id="20103" class="Symbol">_</a> <a id="20105" class="Symbol">_</a> <a id="20107" class="Symbol">_</a>   <a id="20111" class="Symbol">→</a> <a id="20113" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20117" class="Symbol">_</a>
      <a id="20125" class="Symbol">.</a><a id="20126" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">Emptyrec-allowed?</a> <a id="20144" class="Symbol">_</a> <a id="20146" class="Symbol">_</a>     <a id="20152" class="Symbol">→</a> <a id="20154" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20158" class="Symbol">_</a>
      <a id="20166" class="Symbol">.</a><a id="20167" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">[]-cong-allowed-mode?</a> <a id="20189" class="Symbol">_</a> <a id="20191" class="Symbol">_</a> <a id="20193" class="Symbol">→</a> <a id="20195" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20199" class="Symbol">_</a>
      <a id="20207" class="Symbol">.</a><a id="20208" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">no-sink-or-≤𝟘</a>             <a id="20234" class="Symbol">→</a> <a id="20236" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="20241" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="20249" class="Keyword">where</a>
    <a id="20259" class="Keyword">open</a> <a id="20264" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a>

<a id="20280" class="Keyword">opaque</a>

  <a id="20290" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="20361" href="Graded.Restrictions.html#20361" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="20399" class="Symbol">:</a>
    <a id="20405" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="20420" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a> <a id="20423" class="Symbol">→</a> <a id="20425" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="20440" class="Symbol">(</a><a id="20441" href="Graded.Restrictions.html#7623" class="Function">not-all-erased-matches-JK</a> <a id="20467" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a><a id="20469" class="Symbol">)</a>
  <a id="20473" href="Graded.Restrictions.html#20361" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="20511" href="Graded.Restrictions.html#20511" class="Bound">as</a> <a id="20514" class="Symbol">=</a> <a id="20516" class="Symbol">λ</a> <a id="20518" class="Keyword">where</a>
      <a id="20530" class="Symbol">.</a><a id="20531" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">_≟_</a>                   <a id="20553" class="Symbol">→</a> <a id="20555" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">A._≟_</a>
      <a id="20567" class="Symbol">.</a><a id="20568" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">Prodrec-allowed?</a>      <a id="20590" class="Symbol">→</a> <a id="20592" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">A.Prodrec-allowed?</a>
      <a id="20617" class="Symbol">.</a><a id="20618" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">Unitrec-allowed?</a>      <a id="20640" class="Symbol">→</a> <a id="20642" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">A.Unitrec-allowed?</a>
      <a id="20667" class="Symbol">.</a><a id="20668" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">Emptyrec-allowed?</a>     <a id="20690" class="Symbol">→</a> <a id="20692" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">A.Emptyrec-allowed?</a>
      <a id="20718" class="Symbol">.</a><a id="20719" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">[]-cong-allowed-mode?</a> <a id="20741" class="Symbol">→</a> <a id="20743" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">A.[]-cong-allowed-mode?</a>
      <a id="20773" class="Symbol">.</a><a id="20774" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">no-sink-or-≤𝟘</a>         <a id="20796" class="Symbol">→</a> <a id="20798" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">A.no-sink-or-≤𝟘</a>
    <a id="20818" class="Keyword">where</a>
    <a id="20828" class="Keyword">module</a> <a id="20835" href="Graded.Restrictions.html#20835" class="Module">A</a> <a id="20837" class="Symbol">=</a> <a id="20839" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a> <a id="20854" href="Graded.Restrictions.html#20511" class="Bound">as</a>
    <a id="20861" class="Keyword">open</a> <a id="20866" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a>

<a id="20882" class="Keyword">opaque</a>

  <a id="20892" class="Comment">-- The function only-some-erased-matches preserves UD.Assumptions.</a>

  <a id="Assumptions-only-some-erased-matches"></a><a id="20962" href="Graded.Restrictions.html#20962" class="Function">Assumptions-only-some-erased-matches</a> <a id="20999" class="Symbol">:</a>
    <a id="21005" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="21020" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a> <a id="21023" class="Symbol">→</a> <a id="21025" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="21040" class="Symbol">(</a><a id="21041" href="Graded.Restrictions.html#8624" class="Function">only-some-erased-matches</a> <a id="21066" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a><a id="21068" class="Symbol">)</a>
  <a id="21072" href="Graded.Restrictions.html#20962" class="Function">Assumptions-only-some-erased-matches</a> <a id="21109" href="Graded.Restrictions.html#21109" class="Bound">as</a> <a id="21112" class="Symbol">=</a> <a id="21114" class="Symbol">λ</a> <a id="21116" class="Keyword">where</a>
      <a id="21128" class="Symbol">.</a><a id="21129" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">_≟_</a>                      <a id="21154" class="Symbol">→</a> <a id="21156" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">A._≟_</a>
      <a id="21168" class="Symbol">.</a><a id="21169" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">Prodrec-allowed?</a> <a id="21186" href="Graded.Restrictions.html#21186" class="Bound">m</a> <a id="21188" href="Graded.Restrictions.html#21188" class="Bound">r</a> <a id="21190" href="Graded.Restrictions.html#21190" class="Bound">p</a> <a id="21192" href="Graded.Restrictions.html#21192" class="Bound">q</a> <a id="21194" class="Symbol">→</a> <a id="21196" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">A.Prodrec-allowed?</a> <a id="21215" href="Graded.Restrictions.html#21186" class="Bound">m</a> <a id="21217" href="Graded.Restrictions.html#21188" class="Bound">r</a> <a id="21219" href="Graded.Restrictions.html#21190" class="Bound">p</a> <a id="21221" href="Graded.Restrictions.html#21192" class="Bound">q</a>
                                    <a id="21259" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                  <a id="21299" class="Symbol">(</a><a id="21300" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="21303" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="21349" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="21390" href="Graded.Restrictions.html#21186" class="Bound">m</a> <a id="21392" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="21399" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="21439" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="21480" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="21483" class="Symbol">(</a><a id="21484" href="Graded.Restrictions.html#21188" class="Bound">r</a> <a id="21486" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">A.≟</a> <a id="21490" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="21491" class="Symbol">))</a>
      <a id="21500" class="Symbol">.</a><a id="21501" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">Unitrec-allowed?</a>         <a id="21526" class="Symbol">→</a> <a id="21528" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">A.Unitrec-allowed?</a>
      <a id="21553" class="Symbol">.</a><a id="21554" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">Emptyrec-allowed?</a>        <a id="21579" class="Symbol">→</a> <a id="21581" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">A.Emptyrec-allowed?</a>
      <a id="21607" class="Symbol">.</a><a id="21608" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">[]-cong-allowed-mode?</a>    <a id="21633" class="Symbol">→</a> <a id="21635" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">A.[]-cong-allowed-mode?</a>
      <a id="21665" class="Symbol">.</a><a id="21666" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">no-sink-or-≤𝟘</a>            <a id="21691" class="Symbol">→</a> <a id="21693" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">A.no-sink-or-≤𝟘</a>
    <a id="21713" class="Keyword">where</a>
    <a id="21723" class="Keyword">module</a> <a id="21730" href="Graded.Restrictions.html#21730" class="Module">A</a> <a id="21732" class="Symbol">=</a> <a id="21734" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a> <a id="21749" href="Graded.Restrictions.html#21109" class="Bound">as</a>
    <a id="21756" class="Keyword">open</a> <a id="21761" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a>

<a id="21777" class="Keyword">opaque</a>

  <a id="21787" class="Comment">-- The function no-erased-matches-UR TR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="21856" href="Graded.Restrictions.html#21856" class="Function">Assumptions-no-erased-matches-UR</a> <a id="21889" class="Symbol">:</a>
    <a id="21895" class="Symbol">∀</a> <a id="21897" href="Graded.Restrictions.html#21897" class="Bound">TR</a> <a id="21900" class="Symbol">→</a> <a id="21902" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="21917" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a> <a id="21920" class="Symbol">→</a>
    <a id="21926" href="Graded.Usage.Decidable.Assumptions.html#800" class="Record">UD.Assumptions</a> <a id="21941" class="Symbol">(</a><a id="21942" href="Graded.Restrictions.html#9555" class="Function">no-erased-matches-UR</a> <a id="21963" href="Graded.Restrictions.html#21897" class="Bound">TR</a> <a id="21966" href="Graded.Restrictions.html#1200" class="Generalizable">UR</a><a id="21968" class="Symbol">)</a>
  <a id="21972" href="Graded.Restrictions.html#21856" class="Function">Assumptions-no-erased-matches-UR</a> <a id="22005" href="Graded.Restrictions.html#22005" class="Bound">TR</a> <a id="22008" href="Graded.Restrictions.html#22008" class="Bound">as</a> <a id="22011" class="Symbol">=</a> <a id="22013" class="Symbol">λ</a> <a id="22015" class="Keyword">where</a>
      <a id="22027" class="Symbol">.</a><a id="22028" href="Graded.Usage.Decidable.Assumptions.html#932" class="Field Operator">_≟_</a>                    <a id="22051" class="Symbol">→</a> <a id="22053" href="Graded.Usage.Decidable.Assumptions.html#932" class="Function Operator">A._≟_</a>
      <a id="22065" class="Symbol">.</a><a id="22066" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Field">Prodrec-allowed?</a>       <a id="22089" class="Symbol">→</a> <a id="22091" href="Graded.Usage.Decidable.Assumptions.html#1031" class="Function">A.Prodrec-allowed?</a>
      <a id="22116" class="Symbol">.</a><a id="22117" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Field">Unitrec-allowed?</a> <a id="22134" href="Graded.Restrictions.html#22134" class="Bound">m</a> <a id="22136" href="Graded.Restrictions.html#22136" class="Bound">p</a> <a id="22138" href="Graded.Restrictions.html#22138" class="Bound">q</a> <a id="22140" class="Symbol">→</a> <a id="22142" href="Graded.Usage.Decidable.Assumptions.html#1161" class="Function">A.Unitrec-allowed?</a> <a id="22161" href="Graded.Restrictions.html#22134" class="Bound">m</a> <a id="22163" href="Graded.Restrictions.html#22136" class="Bound">p</a> <a id="22165" href="Graded.Restrictions.html#22138" class="Bound">q</a>
                                  <a id="22201" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="22239" class="Symbol">(</a><a id="22240" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="22243" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                   <a id="22287" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22326" href="Graded.Restrictions.html#22134" class="Bound">m</a> <a id="22328" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="22335" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                   <a id="22373" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22412" href="Graded.Restrictions.html#22136" class="Bound">p</a> <a id="22414" href="Graded.Usage.Decidable.Assumptions.html#932" class="Function Operator">A.≟</a> <a id="22418" href="Graded.Modality.html#995" class="Function">𝟘</a>
                                   <a id="22455" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22494" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a><a id="22502" class="Symbol">)</a>
      <a id="22510" class="Symbol">.</a><a id="22511" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Field">Emptyrec-allowed?</a>      <a id="22534" class="Symbol">→</a> <a id="22536" href="Graded.Usage.Decidable.Assumptions.html#1288" class="Function">A.Emptyrec-allowed?</a>
      <a id="22562" class="Symbol">.</a><a id="22563" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Field">[]-cong-allowed-mode?</a>  <a id="22586" class="Symbol">→</a> <a id="22588" href="Graded.Usage.Decidable.Assumptions.html#1417" class="Function">A.[]-cong-allowed-mode?</a>
      <a id="22618" class="Symbol">.</a><a id="22619" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Field">no-sink-or-≤𝟘</a>          <a id="22642" class="Symbol">→</a> <a id="22644" href="Graded.Usage.Decidable.Assumptions.html#1720" class="Function">A.no-sink-or-≤𝟘</a>
    <a id="22664" class="Keyword">where</a>
    <a id="22674" class="Keyword">module</a> <a id="22681" href="Graded.Restrictions.html#22681" class="Module">A</a> <a id="22683" class="Symbol">=</a> <a id="22685" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a> <a id="22700" class="Symbol">(</a><a id="22701" href="Graded.Restrictions.html#20962" class="Function">Assumptions-only-some-erased-matches</a> <a id="22738" href="Graded.Restrictions.html#22008" class="Bound">as</a><a id="22740" class="Symbol">)</a>
    <a id="22746" class="Keyword">open</a> <a id="22751" href="Graded.Usage.Decidable.Assumptions.html#800" class="Module">UD.Assumptions</a>
    <a id="22770" class="Keyword">open</a> <a id="22775" href="Definition.Typed.Restrictions.html#831" class="Module">Type-restrictions</a> <a id="22793" href="Graded.Restrictions.html#22005" class="Bound">TR</a>
</pre></body></html>