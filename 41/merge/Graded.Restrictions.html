<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="226" class="Keyword">module</a> <a id="233" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="255" class="Symbol">{</a><a id="256" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="257" class="Symbol">}</a> <a id="259" class="Symbol">{</a><a id="260" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="268" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="269" class="Symbol">}</a>
  <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="295" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Symbol">(</a><a id="301" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="303" class="Symbol">:</a> <a id="305" href="Graded.Modality.html#7187" class="Record">Modality</a><a id="313" class="Symbol">)</a>
  <a id="317" class="Keyword">where</a>

<a id="324" class="Keyword">open</a> <a id="329" href="Graded.Modality.html#7187" class="Module">Modality</a> <a id="338" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="465" class="Symbol">as</a> <a id="468" class="Module">Σ</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="537" class="Symbol">as</a> <a id="540" class="Module">Dec</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Graded.Modality.Dedicated-nr.html" class="Module">Graded.Modality.Dedicated-nr</a> <a id="609" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="650" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="652" class="Keyword">open</a> <a id="657" class="Keyword">import</a> <a id="664" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="676" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> as <a id="Mode"></a><a id="681" href="Graded.Restrictions.html#681" class="Module">Mode</a> <a id="686" class="Keyword">hiding</a> <a id="693" class="Symbol">(</a><a id="694" href="Graded.Mode.html#5569" class="Function Operator">_≟_</a><a id="697" class="Symbol">)</a>
<a id="699" class="Keyword">import</a> <a id="706" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="741" class="Symbol">as</a> <a id="744" class="Module">UD</a>
<a id="747" class="Keyword">open</a> <a id="752" class="Keyword">import</a> <a id="759" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="825" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="828" class="Keyword">import</a> <a id="835" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="881" class="Symbol">as</a> <a id="884" class="Module">TD</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="929" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1074" class="Keyword">private</a> <a id="1082" class="Keyword">variable</a>
  <a id="1093" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="1096" class="Symbol">:</a> <a id="1098" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
  <a id="1118" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="1121" class="Symbol">:</a> <a id="1123" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
  <a id="1144" href="Graded.Restrictions.html#1144" class="Generalizable">b</a>  <a id="1147" class="Symbol">:</a> <a id="1149" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1156" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1163" class="Symbol">_</a>
  <a id="1167" href="Graded.Restrictions.html#1167" class="Generalizable">s</a>  <a id="1170" class="Symbol">:</a> <a id="1172" href="Definition.Untyped.NotParametrised.html#1526" class="Datatype">Strength</a>

<a id="1182" class="Comment">------------------------------------------------------------------------</a>
<a id="1255" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1302" class="Comment">-- No type restrictions except that</a>
<a id="1338" class="Comment">-- * if the modality is trivial, then []-cong is not allowed,</a>
<a id="1400" class="Comment">-- * the K rule is allowed if and only if the boolean is true, and</a>
<a id="1467" class="Comment">-- * η-equality is not allowed for the weak unit type.</a>

<a id="no-type-restrictions"></a><a id="1523" href="Graded.Restrictions.html#1523" class="Function">no-type-restrictions</a> <a id="1544" class="Symbol">:</a> <a id="1546" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1551" class="Symbol">→</a> <a id="1553" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="1571" href="Graded.Restrictions.html#1523" class="Function">no-type-restrictions</a> <a id="1592" href="Graded.Restrictions.html#1592" class="Bound">allowed</a> <a id="1600" class="Symbol">=</a> <a id="1602" class="Symbol">λ</a> <a id="1604" class="Keyword">where</a>
    <a id="1614" class="Symbol">.</a><a id="1615" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a>     <a id="1632" class="Symbol">→</a> <a id="1634" class="Symbol">λ</a> <a id="1636" href="Graded.Restrictions.html#1636" class="Bound">_</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Level.html#409" class="Record">Lift</a> <a id="1645" class="Symbol">_</a> <a id="1647" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1653" class="Symbol">.</a><a id="1654" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>       <a id="1671" class="Symbol">→</a> <a id="1673" class="Symbol">λ</a> <a id="1675" href="Graded.Restrictions.html#1675" class="Bound">_</a> <a id="1677" href="Graded.Restrictions.html#1677" class="Bound">_</a> <a id="1679" href="Graded.Restrictions.html#1679" class="Bound">_</a> <a id="1681" class="Symbol">→</a> <a id="1683" href="Level.html#409" class="Record">Lift</a> <a id="1688" class="Symbol">_</a> <a id="1690" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1696" class="Symbol">.</a><a id="1697" href="Definition.Typed.Restrictions.html#2276" class="Field">K-allowed</a>        <a id="1714" class="Symbol">→</a> <a id="1716" href="Level.html#409" class="Record">Lift</a> <a id="1721" class="Symbol">_</a> <a id="1723" class="Symbol">(</a><a id="1724" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1726" href="Graded.Restrictions.html#1592" class="Bound">allowed</a><a id="1733" class="Symbol">)</a>
    <a id="1739" class="Symbol">.</a><a id="1740" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a>  <a id="1757" class="Symbol">→</a> <a id="1759" class="Symbol">λ</a> <a id="1761" href="Graded.Restrictions.html#1761" class="Bound">_</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="1767" href="Graded.Modality.html#1927" class="Function">Trivial</a>
    <a id="1779" class="Symbol">.</a><a id="1780" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a>   <a id="1797" class="Symbol">→</a> <a id="1799" class="Symbol">_</a>
    <a id="1805" class="Symbol">.</a><a id="1806" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="1823" class="Symbol">→</a> <a id="1825" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="1833" class="Symbol">.</a><a id="1834" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>     <a id="1851" class="Symbol">→</a> <a id="1853" class="Symbol">λ</a> <a id="1855" class="Keyword">where</a>
      <a id="1867" class="Symbol">.</a><a id="1868" href="Definition.Typed.Variant.html#719" class="Field">Type-variant.η-for-Unitʷ</a> <a id="1893" class="Symbol">→</a> <a id="1895" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1903" class="Keyword">where</a>
  <a id="1911" class="Keyword">open</a> <a id="1916" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a>

<a id="1935" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="2004" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="2036" href="Graded.Restrictions.html#2036" class="Function">equal-binder-quantities</a> <a id="2060" class="Symbol">:</a> <a id="2062" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2080" class="Symbol">→</a> <a id="2082" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2100" href="Graded.Restrictions.html#2036" class="Function">equal-binder-quantities</a> <a id="2124" href="Graded.Restrictions.html#2124" class="Bound">R</a> <a id="2126" class="Symbol">=</a> <a id="2128" class="Keyword">record</a> <a id="2135" href="Graded.Restrictions.html#2124" class="Bound">R</a>
  <a id="2139" class="Symbol">{</a> <a id="2141" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2156" class="Symbol">=</a> <a id="2158" class="Symbol">λ</a> <a id="2160" href="Graded.Restrictions.html#2160" class="Bound">b</a> <a id="2162" href="Graded.Restrictions.html#2162" class="Bound">p</a> <a id="2164" href="Graded.Restrictions.html#2164" class="Bound">q</a> <a id="2166" class="Symbol">→</a> <a id="2168" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2179" href="Graded.Restrictions.html#2160" class="Bound">b</a> <a id="2181" href="Graded.Restrictions.html#2162" class="Bound">p</a> <a id="2183" href="Graded.Restrictions.html#2164" class="Bound">q</a> <a id="2185" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2187" href="Graded.Restrictions.html#2162" class="Bound">p</a> <a id="2189" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2191" href="Graded.Restrictions.html#2164" class="Bound">q</a>
  <a id="2195" class="Symbol">;</a> <a id="2197" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2212" class="Symbol">=</a> <a id="2214" class="Symbol">λ</a> <a id="2216" href="Graded.Restrictions.html#2216" class="Bound">ok</a> <a id="2219" class="Symbol">→</a>
      <a id="2227" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2242" href="Graded.Restrictions.html#2216" class="Bound">ok</a> <a id="2245" class="Symbol">.</a><a id="2246" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2254" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2269" href="Graded.Restrictions.html#2216" class="Bound">ok</a> <a id="2272" class="Symbol">.</a><a id="2273" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2281" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2288" class="Symbol">}</a>
  <a id="2292" class="Keyword">where</a>
  <a id="2300" class="Keyword">open</a> <a id="2305" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2323" href="Graded.Restrictions.html#2124" class="Bound">R</a>

<a id="2326" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2390" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2441" href="Graded.Restrictions.html#2441" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2464" class="Symbol">:</a>
  <a id="2468" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2486" class="Symbol">→</a> <a id="2488" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2506" href="Graded.Restrictions.html#2441" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2529" href="Graded.Restrictions.html#2529" class="Bound">R</a> <a id="2531" class="Symbol">=</a> <a id="2533" class="Keyword">record</a> <a id="2540" href="Graded.Restrictions.html#2529" class="Bound">R</a>
  <a id="2544" class="Symbol">{</a> <a id="2546" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2561" class="Symbol">=</a> <a id="2563" class="Symbol">λ</a> <a id="2565" href="Graded.Restrictions.html#2565" class="Bound">b</a> <a id="2567" href="Graded.Restrictions.html#2567" class="Bound">p</a> <a id="2569" href="Graded.Restrictions.html#2569" class="Bound">q</a> <a id="2571" class="Symbol">→</a> <a id="2573" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2584" href="Graded.Restrictions.html#2565" class="Bound">b</a> <a id="2586" href="Graded.Restrictions.html#2567" class="Bound">p</a> <a id="2588" href="Graded.Restrictions.html#2569" class="Bound">q</a> <a id="2590" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2592" href="Graded.Restrictions.html#2569" class="Bound">q</a> <a id="2594" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2596" href="Graded.Modality.html#847" class="Function">𝟘</a>
  <a id="2600" class="Symbol">;</a> <a id="2602" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2617" class="Symbol">=</a> <a id="2619" class="Symbol">λ</a> <a id="2621" href="Graded.Restrictions.html#2621" class="Bound">ok</a> <a id="2624" class="Symbol">→</a>
      <a id="2632" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2647" href="Graded.Restrictions.html#2621" class="Bound">ok</a> <a id="2650" class="Symbol">.</a><a id="2651" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2659" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2674" href="Graded.Restrictions.html#2621" class="Bound">ok</a> <a id="2677" class="Symbol">.</a><a id="2678" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2686" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2693" class="Symbol">}</a>
  <a id="2697" class="Keyword">where</a>
  <a id="2705" class="Keyword">open</a> <a id="2710" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2728" href="Graded.Restrictions.html#2529" class="Bound">R</a>

<a id="2731" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="2798" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="2868" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="2936" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="2999" href="Graded.Restrictions.html#2999" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3027" class="Symbol">:</a>
  <a id="3031" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3049" class="Symbol">→</a> <a id="3051" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3069" href="Graded.Restrictions.html#2999" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3097" href="Graded.Restrictions.html#3097" class="Bound">R</a> <a id="3099" class="Symbol">=</a> <a id="3101" class="Keyword">record</a> <a id="3108" href="Graded.Restrictions.html#3097" class="Bound">R</a>
  <a id="3112" class="Symbol">{</a> <a id="3114" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3125" class="Symbol">=</a> <a id="3127" class="Symbol">λ</a> <a id="3129" href="Graded.Restrictions.html#3129" class="Bound">b</a> <a id="3131" href="Graded.Restrictions.html#3131" class="Bound">p</a> <a id="3133" href="Graded.Restrictions.html#3133" class="Bound">q</a> <a id="3135" class="Symbol">→</a>
      <a id="3143" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3154" href="Graded.Restrictions.html#3129" class="Bound">b</a> <a id="3156" href="Graded.Restrictions.html#3131" class="Bound">p</a> <a id="3158" href="Graded.Restrictions.html#3133" class="Bound">q</a> <a id="3160" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3168" class="Symbol">(</a><a id="3169" href="Graded.Restrictions.html#3131" class="Bound">p</a> <a id="3171" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3173" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Graded.Restrictions.html#3133" class="Bound">q</a> <a id="3179" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3181" href="Graded.Modality.html#851" class="Function">ω</a><a id="3182" class="Symbol">)</a> <a id="3184" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3192" class="Symbol">(</a><a id="3193" href="Graded.Restrictions.html#3131" class="Bound">p</a> <a id="3195" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3197" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3199" class="Symbol">→</a> <a id="3201" href="Graded.Restrictions.html#3133" class="Bound">q</a> <a id="3203" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3205" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3206" class="Symbol">)</a>
  <a id="3210" class="Symbol">;</a> <a id="3212" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3227" class="Symbol">=</a> <a id="3229" class="Symbol">λ</a> <a id="3231" href="Graded.Restrictions.html#3231" class="Bound">ok</a> <a id="3234" class="Symbol">→</a>
        <a id="3244" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3259" href="Graded.Restrictions.html#3231" class="Bound">ok</a> <a id="3262" class="Symbol">.</a><a id="3263" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3275" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3277" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3292" href="Graded.Restrictions.html#3231" class="Bound">ok</a> <a id="3295" class="Symbol">.</a><a id="3296" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3310" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3322" class="Symbol">λ</a> <a id="3324" href="Graded.Restrictions.html#3324" class="Bound">_</a> <a id="3326" class="Symbol">→</a> <a id="3328" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3335" class="Symbol">}</a>
  <a id="3339" class="Keyword">where</a>
  <a id="3347" class="Keyword">open</a> <a id="3352" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="3370" href="Graded.Restrictions.html#3097" class="Bound">R</a>

<a id="3373" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3445" href="Graded.Restrictions.html#3445" class="Function">strong-types-restricted′</a> <a id="3470" class="Symbol">:</a>
  <a id="3474" class="Symbol">(</a><a id="3475" href="Graded.Restrictions.html#3475" class="Bound">P</a> <a id="3477" class="Symbol">:</a> <a id="3479" href="Definition.Untyped.NotParametrised.html#1589" class="Datatype">BinderMode</a> <a id="3490" class="Symbol">→</a> <a id="3492" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="3494" class="Symbol">→</a> <a id="3496" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3500" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="3501" class="Symbol">)</a> <a id="3503" class="Symbol">→</a>
  <a id="3507" class="Symbol">(∀</a> <a id="3510" class="Symbol">{</a><a id="3511" href="Graded.Restrictions.html#3511" class="Bound">s</a><a id="3512" class="Symbol">}</a> <a id="3514" class="Symbol">→</a> <a id="3516" href="Graded.Restrictions.html#3511" class="Bound">s</a> <a id="3518" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3520" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a> <a id="3522" class="Symbol">→</a> <a id="3524" href="Graded.Restrictions.html#3475" class="Bound">P</a> <a id="3526" class="Symbol">(</a><a id="3527" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="3531" href="Graded.Restrictions.html#3511" class="Bound">s</a><a id="3532" class="Symbol">)</a> <a id="3534" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3535" class="Symbol">)</a> <a id="3537" class="Symbol">→</a>
  <a id="3541" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3559" class="Symbol">→</a> <a id="3561" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3579" href="Graded.Restrictions.html#3445" class="Function">strong-types-restricted′</a> <a id="3604" href="Graded.Restrictions.html#3604" class="Bound">P</a> <a id="3606" href="Graded.Restrictions.html#3606" class="Bound">hyp</a> <a id="3610" href="Graded.Restrictions.html#3610" class="Bound">R</a> <a id="3612" class="Symbol">=</a> <a id="3614" class="Keyword">record</a> <a id="3621" href="Graded.Restrictions.html#3610" class="Bound">R</a>
  <a id="3625" class="Symbol">{</a> <a id="3627" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3640" class="Symbol">=</a> <a id="3642" class="Symbol">λ</a> <a id="3644" href="Graded.Restrictions.html#3644" class="Bound">s</a> <a id="3646" class="Symbol">→</a>
      <a id="3654" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3667" href="Graded.Restrictions.html#3644" class="Bound">s</a> <a id="3669" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3671" href="Graded.Restrictions.html#3644" class="Bound">s</a> <a id="3673" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3675" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a>
  <a id="3679" class="Symbol">;</a> <a id="3681" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3692" class="Symbol">=</a> <a id="3694" class="Symbol">λ</a> <a id="3696" href="Graded.Restrictions.html#3696" class="Bound">b</a> <a id="3698" href="Graded.Restrictions.html#3698" class="Bound">p</a> <a id="3700" href="Graded.Restrictions.html#3700" class="Bound">q</a> <a id="3702" class="Symbol">→</a>
      <a id="3710" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3721" href="Graded.Restrictions.html#3696" class="Bound">b</a> <a id="3723" href="Graded.Restrictions.html#3698" class="Bound">p</a> <a id="3725" href="Graded.Restrictions.html#3700" class="Bound">q</a> <a id="3727" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3729" href="Graded.Restrictions.html#3604" class="Bound">P</a> <a id="3731" href="Graded.Restrictions.html#3696" class="Bound">b</a> <a id="3733" href="Graded.Restrictions.html#3698" class="Bound">p</a>
  <a id="3737" class="Symbol">;</a> <a id="3739" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="3755" class="Symbol">=</a> <a id="3757" class="Symbol">λ</a> <a id="3759" href="Graded.Restrictions.html#3759" class="Bound">s</a> <a id="3761" class="Symbol">→</a>
      <a id="3769" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="3785" href="Graded.Restrictions.html#3759" class="Bound">s</a> <a id="3787" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3789" href="Graded.Restrictions.html#3759" class="Bound">s</a> <a id="3791" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3793" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a>
  <a id="3797" class="Symbol">;</a> <a id="3799" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3814" class="Symbol">=</a> <a id="3816" class="Symbol">λ</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Graded.Restrictions.html#3819" class="Bound">ok</a> <a id="3822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3824" href="Graded.Restrictions.html#3824" class="Bound">s≢𝕤</a><a id="3827" class="Symbol">)</a> <a id="3829" class="Symbol">→</a>
        <a id="3839" class="Symbol">(</a><a id="3840" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3855" href="Graded.Restrictions.html#3819" class="Bound">ok</a> <a id="3858" class="Symbol">.</a><a id="3859" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3867" href="Graded.Restrictions.html#3824" class="Bound">s≢𝕤</a><a id="3870" class="Symbol">)</a>
      <a id="3878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3880" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3895" href="Graded.Restrictions.html#3819" class="Bound">ok</a> <a id="3898" class="Symbol">.</a><a id="3899" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3913" href="Graded.Restrictions.html#3606" class="Bound">hyp</a> <a id="3917" href="Graded.Restrictions.html#3824" class="Bound">s≢𝕤</a>
  <a id="3923" class="Symbol">;</a> <a id="3925" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="3942" class="Symbol">=</a>
      <a id="3950" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="3967" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="3970" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="3978" class="Symbol">}</a>
  <a id="3982" class="Keyword">where</a>
  <a id="3990" class="Keyword">open</a> <a id="3995" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="4013" href="Graded.Restrictions.html#3610" class="Bound">R</a>

<a id="4016" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="4075" class="Comment">-- restrictions:</a>
<a id="4092" class="Comment">--</a>
<a id="4095" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4137" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4198" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4234" href="Graded.Restrictions.html#4234" class="Function">strong-types-restricted</a> <a id="4258" class="Symbol">:</a>
  <a id="4262" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4280" class="Symbol">→</a> <a id="4282" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4300" href="Graded.Restrictions.html#4234" class="Function">strong-types-restricted</a> <a id="4324" class="Symbol">=</a>
  <a id="4328" href="Graded.Restrictions.html#3445" class="Function">strong-types-restricted′</a> <a id="4353" class="Symbol">(λ</a> <a id="4356" href="Graded.Restrictions.html#4356" class="Bound">b</a> <a id="4358" href="Graded.Restrictions.html#4358" class="Bound">p</a> <a id="4360" class="Symbol">→</a> <a id="4362" href="Graded.Restrictions.html#4356" class="Bound">b</a> <a id="4364" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4366" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="4370" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a> <a id="4372" class="Symbol">→</a> <a id="4374" href="Graded.Restrictions.html#4358" class="Bound">p</a> <a id="4376" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4378" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="4379" class="Symbol">)</a>
    <a id="4385" class="Symbol">(λ</a> <a id="4388" class="Symbol">{</a> <a id="4390" href="Graded.Restrictions.html#4390" class="Bound">hyp</a> <a id="4394" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4399" class="Symbol">→</a> <a id="4401" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4408" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4410" href="Graded.Restrictions.html#4390" class="Bound">hyp</a> <a id="4414" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4419" class="Symbol">})</a>

<a id="4423" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4488" class="Comment">--</a>
<a id="4491" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4533" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4570" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4606" href="Graded.Restrictions.html#4606" class="Function">no-strong-types</a> <a id="4622" class="Symbol">:</a>
  <a id="4626" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4644" class="Symbol">→</a> <a id="4646" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4664" href="Graded.Restrictions.html#4606" class="Function">no-strong-types</a> <a id="4680" class="Symbol">=</a>
  <a id="4684" href="Graded.Restrictions.html#3445" class="Function">strong-types-restricted′</a> <a id="4709" class="Symbol">(λ</a> <a id="4712" href="Graded.Restrictions.html#4712" class="Bound">b</a> <a id="4714" href="Graded.Restrictions.html#4714" class="Bound">_</a> <a id="4716" class="Symbol">→</a> <a id="4718" href="Level.html#409" class="Record">Lift</a> <a id="4723" class="Symbol">_</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Graded.Restrictions.html#4712" class="Bound">b</a> <a id="4728" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4730" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="4734" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="4735" class="Symbol">))</a>
    <a id="4742" class="Symbol">(λ</a> <a id="4745" href="Graded.Restrictions.html#4745" class="Bound">hyp</a> <a id="4749" class="Symbol">→</a> <a id="4751" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="4756" class="Symbol">(λ</a> <a id="4759" class="Symbol">{</a> <a id="4761" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4766" class="Symbol">→</a> <a id="4768" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4775" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4777" href="Graded.Restrictions.html#4745" class="Bound">hyp</a> <a id="4781" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4786" class="Symbol">}))</a>

<a id="4791" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="4856" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="4892" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="4913" class="Symbol">:</a> <a id="4915" href="Definition.Untyped.NotParametrised.html#1526" class="Datatype">Strength</a> <a id="4924" class="Symbol">→</a> <a id="4926" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4944" class="Symbol">→</a> <a id="4946" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4964" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="4985" href="Graded.Restrictions.html#4985" class="Bound">s</a> <a id="4987" href="Graded.Restrictions.html#4987" class="Bound">TR</a> <a id="4990" class="Symbol">=</a> <a id="4992" class="Keyword">record</a> <a id="4999" href="Graded.Restrictions.html#4987" class="Bound">TR</a>
  <a id="5004" class="Symbol">{</a> <a id="5006" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a>  <a id="5023" class="Symbol">=</a> <a id="5025" class="Symbol">λ</a> <a id="5027" href="Graded.Restrictions.html#5027" class="Bound">s′</a> <a id="5030" class="Symbol">→</a> <a id="5032" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="5048" href="Graded.Restrictions.html#5027" class="Bound">s′</a> <a id="5051" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5053" href="Graded.Restrictions.html#5027" class="Bound">s′</a> <a id="5056" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5058" href="Graded.Restrictions.html#4985" class="Bound">s</a>
  <a id="5062" class="Symbol">;</a> <a id="5064" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a>   <a id="5081" class="Symbol">=</a> <a id="5083" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="5098" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5101" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5109" class="Symbol">;</a> <a id="5111" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="5128" class="Symbol">=</a> <a id="5130" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="5147" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5150" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5158" class="Symbol">}</a>
  <a id="5162" class="Keyword">where</a>
  <a id="5170" class="Keyword">open</a> <a id="5175" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5193" href="Graded.Restrictions.html#4987" class="Bound">TR</a>

<a id="5197" class="Comment">-- The function _with-η-for-Unitʷ enables η-equality for weak unit</a>
<a id="5264" class="Comment">-- types.</a>

<a id="_with-η-for-Unitʷ"></a><a id="5275" href="Graded.Restrictions.html#5275" class="Function Operator">_with-η-for-Unitʷ</a> <a id="5293" class="Symbol">:</a> <a id="5295" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="5313" class="Symbol">→</a> <a id="5315" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="5333" href="Graded.Restrictions.html#5333" class="Bound">TR</a> <a id="5336" href="Graded.Restrictions.html#5275" class="Function Operator">with-η-for-Unitʷ</a> <a id="5353" class="Symbol">=</a> <a id="5355" class="Keyword">record</a> <a id="5362" href="Graded.Restrictions.html#5333" class="Bound">TR</a>
  <a id="5367" class="Symbol">{</a> <a id="5369" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5382" class="Symbol">=</a> <a id="5384" class="Keyword">record</a> <a id="5391" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>
    <a id="5408" class="Symbol">{</a> <a id="5410" href="Definition.Typed.Variant.html#719" class="Field">η-for-Unitʷ</a> <a id="5422" class="Symbol">=</a> <a id="5424" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="5433" class="Symbol">}</a>
  <a id="5437" class="Symbol">}</a>
  <a id="5441" class="Keyword">where</a>
  <a id="5449" class="Keyword">open</a> <a id="5454" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5472" href="Graded.Restrictions.html#5333" class="Bound">TR</a>

<a id="5476" class="Comment">------------------------------------------------------------------------</a>
<a id="5549" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5597" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5661" class="Comment">-- matches are allowed for J and K, Id-erased is inhabited if the</a>
<a id="5727" class="Comment">-- first boolean is true, and starˢ is treated as a sink if the second</a>
<a id="5798" class="Comment">-- boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="5819" href="Graded.Restrictions.html#5819" class="Function">no-usage-restrictions</a> <a id="5841" class="Symbol">:</a> <a id="5843" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5848" class="Symbol">→</a> <a id="5850" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5855" class="Symbol">→</a> <a id="5857" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="5876" href="Graded.Restrictions.html#5819" class="Function">no-usage-restrictions</a> <a id="5898" href="Graded.Restrictions.html#5898" class="Bound">erased</a> <a id="5905" href="Graded.Restrictions.html#5905" class="Bound">sink</a> <a id="5910" class="Symbol">=</a> <a id="5912" class="Symbol">λ</a> <a id="5914" class="Keyword">where</a>
    <a id="5924" class="Symbol">.</a><a id="5925" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a>                   <a id="5959" class="Symbol">→</a> <a id="5961" class="Symbol">λ</a> <a id="5963" href="Graded.Restrictions.html#5963" class="Bound">_</a> <a id="5965" href="Graded.Restrictions.html#5965" class="Bound">_</a> <a id="5967" href="Graded.Restrictions.html#5967" class="Bound">_</a> <a id="5969" href="Graded.Restrictions.html#5969" class="Bound">_</a> <a id="5971" class="Symbol">→</a> <a id="5973" href="Level.html#409" class="Record">Lift</a> <a id="5978" class="Symbol">_</a> <a id="5980" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5986" class="Symbol">.</a><a id="5987" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a>  <a id="6021" class="Symbol">→</a> <a id="6023" class="Symbol">_</a>
    <a id="6029" class="Symbol">.</a><a id="6030" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a>                   <a id="6064" class="Symbol">→</a> <a id="6066" class="Symbol">λ</a> <a id="6068" href="Graded.Restrictions.html#6068" class="Bound">_</a> <a id="6070" href="Graded.Restrictions.html#6070" class="Bound">_</a> <a id="6072" href="Graded.Restrictions.html#6072" class="Bound">_</a> <a id="6074" class="Symbol">→</a> <a id="6076" href="Level.html#409" class="Record">Lift</a> <a id="6081" class="Symbol">_</a> <a id="6083" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6089" class="Symbol">.</a><a id="6090" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a>  <a id="6124" class="Symbol">→</a> <a id="6126" class="Symbol">_</a>
    <a id="6132" class="Symbol">.</a><a id="6133" href="Graded.Usage.Restrictions.html#1576" class="Field">Emptyrec-allowed</a>                  <a id="6167" class="Symbol">→</a> <a id="6169" class="Symbol">λ</a> <a id="6171" href="Graded.Restrictions.html#6171" class="Bound">_</a> <a id="6173" href="Graded.Restrictions.html#6173" class="Bound">_</a> <a id="6175" class="Symbol">→</a> <a id="6177" href="Level.html#409" class="Record">Lift</a> <a id="6182" class="Symbol">_</a> <a id="6184" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6190" class="Symbol">.</a><a id="6191" href="Graded.Usage.Restrictions.html#1718" class="Field">Emptyrec-allowed-downwards-closed</a> <a id="6225" class="Symbol">→</a> <a id="6227" class="Symbol">_</a>
    <a id="6233" class="Symbol">.</a><a id="6234" href="Graded.Usage.Restrictions.html#1869" class="Field">starˢ-sink</a>                        <a id="6268" class="Symbol">→</a> <a id="6270" href="Graded.Restrictions.html#5905" class="Bound">sink</a>
    <a id="6279" class="Symbol">.</a><a id="6280" href="Graded.Usage.Restrictions.html#1948" class="Field">Id-erased</a>                         <a id="6314" class="Symbol">→</a> <a id="6316" href="Level.html#409" class="Record">Lift</a> <a id="6321" class="Symbol">_</a> <a id="6323" class="Symbol">(</a><a id="6324" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6326" href="Graded.Restrictions.html#5898" class="Bound">erased</a><a id="6332" class="Symbol">)</a>
    <a id="6338" class="Symbol">.</a><a id="6339" href="Graded.Usage.Restrictions.html#2000" class="Field">Id-erased?</a>                        <a id="6373" class="Symbol">→</a> <a id="6375" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="6383" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="6388" href="Level.html#479" class="Field">Lift.lower</a> <a id="6399" href="Function.Base.html#1974" class="Function Operator">$</a>
                                         <a id="6442" href="Relation.Nullary.Decidable.Core.html#2465" class="Function">T?</a> <a id="6445" href="Graded.Restrictions.html#5898" class="Bound">erased</a>
    <a id="6456" class="Symbol">.</a><a id="6457" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>              <a id="6491" class="Symbol">→</a> <a id="6493" class="Symbol">λ</a> <a id="6495" href="Graded.Restrictions.html#6495" class="Bound">_</a> <a id="6497" class="Symbol">→</a> <a id="6499" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6507" class="Symbol">.</a><a id="6508" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>          <a id="6542" class="Symbol">→</a> <a id="6544" class="Symbol">_</a>
    <a id="6550" class="Symbol">.</a><a id="6551" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>              <a id="6585" class="Symbol">→</a> <a id="6587" class="Symbol">λ</a> <a id="6589" href="Graded.Restrictions.html#6589" class="Bound">_</a> <a id="6591" class="Symbol">→</a> <a id="6593" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6601" class="Symbol">.</a><a id="6602" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>          <a id="6636" class="Symbol">→</a> <a id="6638" class="Symbol">_</a>
  <a id="6642" class="Keyword">where</a>
  <a id="6650" class="Keyword">open</a> <a id="6655" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a>

<a id="6675" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="6732" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="6747" class="Symbol">:</a> <a id="6749" class="Symbol">(</a><a id="6750" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6755" class="Symbol">→</a> <a id="6757" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="6771" class="Symbol">)</a> <a id="6773" class="Symbol">→</a> <a id="6775" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6780" class="Symbol">→</a> <a id="6782" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="6797" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="6812" href="Graded.Restrictions.html#6812" class="Bound">f</a> <a id="6814" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="6817" class="Symbol">=</a> <a id="6819" href="Graded.Restrictions.html#6812" class="Bound">f</a> <a id="6821" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
<a id="6824" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="6839" href="Graded.Restrictions.html#6839" class="Bound">f</a> <a id="6841" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="6844" class="Keyword">with</a> <a id="6849" href="Graded.Restrictions.html#6839" class="Bound">f</a> <a id="6851" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
<a id="6854" class="Symbol">…</a> <a id="6856" class="Symbol">|</a> <a id="6858" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="6862" class="Symbol">=</a> <a id="6864" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="6869" class="CatchallClause Symbol">…</a><a id="6870" class="CatchallClause"> </a><a id="6871" class="CatchallClause Symbol">|</a><a id="6872" class="CatchallClause"> </a><a id="6873" href="Graded.Restrictions.html#6873" class="CatchallClause Bound">em</a>  <a id="6877" class="Symbol">=</a> <a id="6879" href="Graded.Restrictions.html#6873" class="Bound">em</a>

<a id="6883" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="6949" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="6997" href="Graded.Restrictions.html#6997" class="Function">not-all-erased-matches-JK</a> <a id="7023" class="Symbol">:</a> <a id="7025" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="7044" class="Symbol">→</a> <a id="7046" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="7065" href="Graded.Restrictions.html#6997" class="Function">not-all-erased-matches-JK</a> <a id="7091" href="Graded.Restrictions.html#7091" class="Bound">UR</a> <a id="7094" class="Symbol">=</a> <a id="7096" class="Keyword">record</a> <a id="7103" href="Graded.Restrictions.html#7091" class="Bound">UR</a>
  <a id="7108" class="Symbol">{</a> <a id="7110" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="7131" class="Symbol">=</a>
      <a id="7139" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="7154" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>
  <a id="7177" class="Symbol">;</a> <a id="7179" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="7204" class="Symbol">=</a>
      <a id="7212" href="Graded.Restrictions.html#7504" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7231" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="7252" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="7279" class="Symbol">;</a> <a id="7281" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="7302" class="Symbol">=</a>
      <a id="7310" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="7325" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>
  <a id="7348" class="Symbol">;</a> <a id="7350" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="7375" class="Symbol">=</a>
      <a id="7383" href="Graded.Restrictions.html#7504" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7402" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="7423" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="7450" class="Symbol">}</a>
  <a id="7454" class="Keyword">where</a>
  <a id="7462" class="Keyword">open</a> <a id="7467" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="7486" href="Graded.Restrictions.html#7091" class="Bound">UR</a>

  <a id="7492" class="Keyword">opaque</a>

    <a id="7504" href="Graded.Restrictions.html#7504" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7523" class="Symbol">:</a>
      <a id="7531" class="Symbol">(</a><a id="7532" href="Graded.Restrictions.html#7532" class="Bound">f</a> <a id="7534" class="Symbol">:</a> <a id="7536" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="7541" class="Symbol">→</a> <a id="7543" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7557" class="Symbol">)</a> <a id="7559" class="Symbol">→</a>
      <a id="7567" href="Graded.Restrictions.html#7532" class="Bound">f</a> <a id="7569" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7572" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7576" href="Graded.Restrictions.html#7532" class="Bound">f</a> <a id="7578" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7582" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="7585" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a> <a id="7587" class="Symbol">→</a>
      <a id="7595" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="7610" href="Graded.Restrictions.html#7532" class="Bound">f</a> <a id="7612" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7615" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7619" href="Graded.Restrictions.html#6732" class="Function">not-all-for-𝟙ᵐ</a> <a id="7634" href="Graded.Restrictions.html#7532" class="Bound">f</a> <a id="7636" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7640" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="7643" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a>
    <a id="7649" href="Graded.Restrictions.html#7504" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7668" href="Graded.Restrictions.html#7668" class="Bound">f</a> <a id="7670" href="Graded.Restrictions.html#7670" class="Bound">f-≤ᵉᵐ</a> <a id="7676" class="Keyword">with</a> <a id="7681" href="Graded.Restrictions.html#7668" class="Bound">f</a> <a id="7683" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="7690" class="Symbol">…</a> <a id="7692" class="Symbol">|</a> <a id="7694" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="7699" class="Symbol">=</a> <a id="7701" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="7716" class="Symbol">_</a> <a id="7718" class="Bound">f-≤ᵉᵐ</a>
    <a id="7728" class="Symbol">…</a> <a id="7730" class="Symbol">|</a> <a id="7732" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="7737" class="Symbol">=</a> <a id="7739" class="Bound">f-≤ᵉᵐ</a>
    <a id="7749" class="Symbol">…</a> <a id="7751" class="Symbol">|</a> <a id="7753" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="7758" class="Symbol">=</a> <a id="7760" class="Bound">f-≤ᵉᵐ</a>

<a id="7767" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="7836" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec</a>
<a id="7905" class="Comment">-- or unitrec. For prodrec the added restriction only applies to</a>
<a id="7970" class="Comment">-- non-trivial modalities.</a>

<a id="only-some-erased-matches"></a><a id="7998" href="Graded.Restrictions.html#7998" class="Function">only-some-erased-matches</a> <a id="8023" class="Symbol">:</a> <a id="8025" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="8044" class="Symbol">→</a> <a id="8046" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="8065" href="Graded.Restrictions.html#7998" class="Function">only-some-erased-matches</a> <a id="8090" href="Graded.Restrictions.html#8090" class="Bound">UR</a> <a id="8093" class="Symbol">=</a> <a id="8095" class="Keyword">record</a> <a id="8102" href="Graded.Restrictions.html#8090" class="Bound">UR</a>
  <a id="8107" class="Symbol">{</a> <a id="8109" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8125" class="Symbol">=</a> <a id="8127" class="Symbol">λ</a> <a id="8129" href="Graded.Restrictions.html#8129" class="Bound">m</a> <a id="8131" href="Graded.Restrictions.html#8131" class="Bound">r</a> <a id="8133" href="Graded.Restrictions.html#8133" class="Bound">p</a> <a id="8135" href="Graded.Restrictions.html#8135" class="Bound">q</a> <a id="8137" class="Symbol">→</a>
      <a id="8145" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8161" href="Graded.Restrictions.html#8129" class="Bound">m</a> <a id="8163" href="Graded.Restrictions.html#8131" class="Bound">r</a> <a id="8165" href="Graded.Restrictions.html#8133" class="Bound">p</a> <a id="8167" href="Graded.Restrictions.html#8135" class="Bound">q</a> <a id="8169" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="8177" class="Symbol">(</a><a id="8178" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="8180" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="8188" class="Symbol">→</a> <a id="8190" href="Graded.Restrictions.html#8129" class="Bound">m</a> <a id="8192" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8194" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8197" class="Symbol">→</a> <a id="8199" href="Graded.Restrictions.html#8131" class="Bound">r</a> <a id="8201" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8203" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="8204" class="Symbol">)</a>
  <a id="8208" class="Symbol">;</a> <a id="8210" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8243" class="Symbol">=</a>
      <a id="8251" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8257" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8290" class="Symbol">(λ</a> <a id="8293" href="Graded.Restrictions.html#8293" class="Bound">_</a> <a id="8295" href="Graded.Restrictions.html#8295" class="Bound">_</a> <a id="8297" class="Symbol">())</a>
  <a id="8303" class="Symbol">;</a> <a id="8305" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8326" class="Symbol">=</a> <a id="8328" class="Symbol">λ</a> <a id="8330" class="Keyword">where</a>
      <a id="8342" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8345" class="Symbol">→</a> <a id="8347" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8358" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8361" class="Symbol">→</a> <a id="8363" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8384" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8389" class="Symbol">;</a> <a id="8391" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8416" class="Symbol">=</a>
      <a id="8424" class="Symbol">_</a>
  <a id="8428" class="Symbol">;</a> <a id="8430" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8451" class="Symbol">=</a> <a id="8453" class="Symbol">λ</a> <a id="8455" class="Keyword">where</a>
      <a id="8467" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8470" class="Symbol">→</a> <a id="8472" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8483" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8486" class="Symbol">→</a> <a id="8488" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8509" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8514" class="Symbol">;</a> <a id="8516" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8541" class="Symbol">=</a>
      <a id="8549" class="Symbol">_</a>
  <a id="8553" class="Symbol">}</a>
  <a id="8557" class="Keyword">where</a>
  <a id="8565" class="Keyword">open</a> <a id="8570" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="8589" href="Graded.Restrictions.html#8090" class="Bound">UR</a>

<a id="8593" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8662" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec.</a>
<a id="8732" class="Comment">-- For prodrec and unitrec the added restriction only applies to</a>
<a id="8797" class="Comment">-- non-trivial modalities, and for unitrec the added restriction only</a>
<a id="8867" class="Comment">-- applies if η-equality is not allowed for the weak unit type.</a>

<a id="no-erased-matches-UR"></a><a id="8932" href="Graded.Restrictions.html#8932" class="Function">no-erased-matches-UR</a> <a id="8953" class="Symbol">:</a>
  <a id="8957" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="8975" class="Symbol">→</a> <a id="8977" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="8996" class="Symbol">→</a> <a id="8998" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="9017" href="Graded.Restrictions.html#8932" class="Function">no-erased-matches-UR</a> <a id="9038" href="Graded.Restrictions.html#9038" class="Bound">TR</a> <a id="9041" href="Graded.Restrictions.html#9041" class="Bound">UR</a> <a id="9044" class="Symbol">=</a> <a id="9046" class="Keyword">record</a> <a id="9053" class="Symbol">(</a><a id="9054" href="Graded.Restrictions.html#7998" class="Function">only-some-erased-matches</a> <a id="9079" href="Graded.Restrictions.html#9041" class="Bound">UR</a><a id="9081" class="Symbol">)</a>
  <a id="9085" class="Symbol">{</a> <a id="9087" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9103" class="Symbol">=</a> <a id="9105" class="Symbol">λ</a> <a id="9107" href="Graded.Restrictions.html#9107" class="Bound">m</a> <a id="9109" href="Graded.Restrictions.html#9109" class="Bound">p</a> <a id="9111" href="Graded.Restrictions.html#9111" class="Bound">q</a> <a id="9113" class="Symbol">→</a>
      <a id="9121" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9137" href="Graded.Restrictions.html#9107" class="Bound">m</a> <a id="9139" href="Graded.Restrictions.html#9109" class="Bound">p</a> <a id="9141" href="Graded.Restrictions.html#9111" class="Bound">q</a> <a id="9143" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="9151" class="Symbol">(</a><a id="9152" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9154" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="9162" class="Symbol">→</a> <a id="9164" href="Graded.Restrictions.html#9107" class="Bound">m</a> <a id="9166" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9168" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9171" class="Symbol">→</a> <a id="9173" href="Graded.Restrictions.html#9109" class="Bound">p</a> <a id="9175" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9177" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="9179" class="Symbol">→</a> <a id="9181" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="9188" class="Symbol">)</a>
  <a id="9192" class="Symbol">;</a> <a id="9194" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9227" class="Symbol">=</a>
      <a id="9235" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="9241" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9274" class="Symbol">(λ</a> <a id="9277" href="Graded.Restrictions.html#9277" class="Bound">_</a> <a id="9279" href="Graded.Restrictions.html#9279" class="Bound">_</a> <a id="9281" class="Symbol">())</a>
  <a id="9287" class="Symbol">}</a>
  <a id="9291" class="Keyword">where</a>
  <a id="9299" class="Keyword">open</a> <a id="9304" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="9322" href="Graded.Restrictions.html#9038" class="Bound">TR</a>
  <a id="9327" class="Keyword">open</a> <a id="9332" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="9351" href="Graded.Restrictions.html#9041" class="Bound">UR</a>

<a id="9355" class="Comment">------------------------------------------------------------------------</a>
<a id="9428" class="Comment">-- Only-some-erased-matches</a>

<a id="9457" class="Comment">-- The property of not allowing certain erased matches:</a>
<a id="9513" class="Comment">-- * Erased matches are allowed for emptyrec and unitrec.</a>
<a id="9571" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="9629" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="9697" class="Comment">--   []-cong.</a>

<a id="Only-some-erased-matches"></a><a id="9712" href="Graded.Restrictions.html#9712" class="Function">Only-some-erased-matches</a> <a id="9737" class="Symbol">:</a>
  <a id="9741" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="9759" class="Symbol">→</a> <a id="9761" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="9780" class="Symbol">→</a> <a id="9782" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9786" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="9788" href="Graded.Restrictions.html#9712" class="Function">Only-some-erased-matches</a> <a id="9813" href="Graded.Restrictions.html#9813" class="Bound">TR</a> <a id="9816" href="Graded.Restrictions.html#9816" class="Bound">UR</a> <a id="9819" class="Symbol">=</a>
  <a id="9823" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9825" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="9833" class="Symbol">→</a>
  <a id="9837" class="Symbol">(∀</a> <a id="9840" class="Symbol">{</a><a id="9841" href="Graded.Restrictions.html#9841" class="Bound">r</a> <a id="9843" href="Graded.Restrictions.html#9843" class="Bound">p</a> <a id="9845" href="Graded.Restrictions.html#9845" class="Bound">q</a><a id="9846" class="Symbol">}</a> <a id="9848" class="Symbol">→</a> <a id="9850" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="9866" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9869" href="Graded.Restrictions.html#9841" class="Bound">r</a> <a id="9871" href="Graded.Restrictions.html#9843" class="Bound">p</a> <a id="9873" href="Graded.Restrictions.html#9845" class="Bound">q</a> <a id="9875" class="Symbol">→</a> <a id="9877" href="Graded.Restrictions.html#9841" class="Bound">r</a> <a id="9879" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9881" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="9882" class="Symbol">)</a> <a id="9884" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9888" class="Symbol">(∀</a> <a id="9891" class="Symbol">{</a><a id="9892" href="Graded.Restrictions.html#9892" class="Bound">s</a><a id="9893" class="Symbol">}</a> <a id="9895" class="Symbol">→</a> <a id="9897" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9899" class="Symbol">(</a><a id="9900" href="Definition.Typed.Restrictions.html#2476" class="Function">[]-cong-allowed</a> <a id="9916" href="Graded.Restrictions.html#9892" class="Bound">s</a><a id="9917" class="Symbol">))</a> <a id="9920" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9924" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="9945" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9948" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9950" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="9955" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9959" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="9980" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9983" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9985" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="9992" class="Keyword">where</a>
  <a id="10000" class="Keyword">open</a> <a id="10005" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="10023" href="Graded.Restrictions.html#9813" class="Bound">TR</a>
  <a id="10028" class="Keyword">open</a> <a id="10033" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="10052" href="Graded.Restrictions.html#9816" class="Bound">UR</a>

<a id="10056" class="Keyword">opaque</a>

  <a id="10066" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
  <a id="10131" class="Comment">-- only-some-erased-matches satisfy Only-some-erased-matches.</a>

  <a id="Only-some-erased-matches-only-some-erased-matches"></a><a id="10196" href="Graded.Restrictions.html#10196" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10246" class="Symbol">:</a>
    <a id="10252" class="Symbol">∀</a> <a id="10254" href="Graded.Restrictions.html#10254" class="Bound">TR</a> <a id="10257" href="Graded.Restrictions.html#10257" class="Bound">UR</a> <a id="10260" class="Symbol">→</a>
    <a id="10266" href="Graded.Restrictions.html#9712" class="Function">Only-some-erased-matches</a>
      <a id="10297" class="Symbol">(</a><a id="10298" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="10319" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a> <a id="10321" class="Symbol">(</a><a id="10322" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="10343" href="Definition.Untyped.NotParametrised.html#1551" class="InductiveConstructor">𝕨</a> <a id="10345" href="Graded.Restrictions.html#10254" class="Bound">TR</a><a id="10347" class="Symbol">))</a>
      <a id="10356" class="Symbol">(</a><a id="10357" href="Graded.Restrictions.html#7998" class="Function">only-some-erased-matches</a> <a id="10382" href="Graded.Restrictions.html#10257" class="Bound">UR</a><a id="10384" class="Symbol">)</a>
  <a id="10388" href="Graded.Restrictions.html#10196" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10438" class="Symbol">_</a> <a id="10440" class="Symbol">_</a> <a id="10442" href="Graded.Restrictions.html#10442" class="Bound">𝟙≢𝟘</a> <a id="10446" class="Symbol">=</a>
      <a id="10454" class="Symbol">(</a><a id="10455" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10458" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10462" class="Symbol">)</a> <a id="10464" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10467" class="Symbol">(</a><a id="10468" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10471" href="Graded.Restrictions.html#10442" class="Bound">𝟙≢𝟘</a><a id="10474" class="Symbol">)</a> <a id="10476" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10479" href="Data.Product.Base.html#650" class="Field">proj₂</a>
    <a id="10489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10491" class="Symbol">(λ</a> <a id="10494" class="Keyword">where</a>
         <a id="10509" class="Symbol">{</a><a id="10510" class="Argument">s</a> <a id="10512" class="Symbol">=</a> <a id="10514" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="10515" class="Symbol">}</a> <a id="10517" class="Symbol">→</a> <a id="10519" class="Symbol">(</a><a id="10520" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10523" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10527" class="Symbol">)</a> <a id="10529" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10532" href="Data.Product.Base.html#650" class="Field">proj₂</a>
         <a id="10547" class="Symbol">{</a><a id="10548" class="Argument">s</a> <a id="10550" class="Symbol">=</a> <a id="10552" href="Definition.Untyped.NotParametrised.html#1551" class="InductiveConstructor">𝕨</a><a id="10553" class="Symbol">}</a> <a id="10555" class="Symbol">→</a> <a id="10557" class="Symbol">(</a><a id="10558" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10561" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10565" class="Symbol">)</a> <a id="10567" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10570" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10576" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10579" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="10584" class="Symbol">)</a>
    <a id="10590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10592" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="10601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10603" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="10609" class="Comment">------------------------------------------------------------------------</a>
<a id="10682" class="Comment">-- No-erased-matches</a>

<a id="10704" class="Comment">-- The property of not allowing (certain) erased matches:</a>
<a id="10762" class="Comment">-- * Erased matches are allowed for emptyrec.</a>
<a id="10808" class="Comment">-- * &quot;Erased&quot; matches are allowed for unitrec if η-equality is allowed</a>
<a id="10879" class="Comment">--   for the weak unit type.</a>
<a id="10908" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="10966" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="11034" class="Comment">--   []-cong. (Note that a variant of []-cong that works when the mode</a>
<a id="11105" class="Comment">--   is not 𝟙ᵐ can be defined without the use of []-cong, see</a>
<a id="11167" class="Comment">--   Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="11205" href="Graded.Restrictions.html#11205" class="Function">No-erased-matches</a> <a id="11223" class="Symbol">:</a> <a id="11225" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="11243" class="Symbol">→</a> <a id="11245" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="11264" class="Symbol">→</a> <a id="11266" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="11270" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="11272" href="Graded.Restrictions.html#11205" class="Function">No-erased-matches</a> <a id="11290" href="Graded.Restrictions.html#11290" class="Bound">TR</a> <a id="11293" href="Graded.Restrictions.html#11293" class="Bound">UR</a> <a id="11296" class="Symbol">=</a>
  <a id="11300" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="11302" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="11310" class="Symbol">→</a>
  <a id="11314" class="Symbol">(∀</a> <a id="11317" class="Symbol">{</a><a id="11318" href="Graded.Restrictions.html#11318" class="Bound">r</a> <a id="11320" href="Graded.Restrictions.html#11320" class="Bound">p</a> <a id="11322" href="Graded.Restrictions.html#11322" class="Bound">q</a><a id="11323" class="Symbol">}</a> <a id="11325" class="Symbol">→</a> <a id="11327" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="11343" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11346" href="Graded.Restrictions.html#11318" class="Bound">r</a> <a id="11348" href="Graded.Restrictions.html#11320" class="Bound">p</a> <a id="11350" href="Graded.Restrictions.html#11322" class="Bound">q</a> <a id="11352" class="Symbol">→</a> <a id="11354" href="Graded.Restrictions.html#11318" class="Bound">r</a> <a id="11356" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="11358" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="11359" class="Symbol">)</a> <a id="11361" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11365" class="Symbol">(∀</a> <a id="11368" class="Symbol">{</a><a id="11369" href="Graded.Restrictions.html#11369" class="Bound">p</a> <a id="11371" href="Graded.Restrictions.html#11371" class="Bound">q</a><a id="11372" class="Symbol">}</a>   <a id="11376" class="Symbol">→</a> <a id="11378" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="11394" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11397" href="Graded.Restrictions.html#11369" class="Bound">p</a> <a id="11399" href="Graded.Restrictions.html#11371" class="Bound">q</a>   <a id="11403" class="Symbol">→</a> <a id="11405" href="Graded.Restrictions.html#11369" class="Bound">p</a> <a id="11407" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11409" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="11411" class="Symbol">→</a> <a id="11413" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="11420" class="Symbol">)</a> <a id="11422" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11426" class="Symbol">(∀</a> <a id="11429" class="Symbol">{</a><a id="11430" href="Graded.Restrictions.html#11430" class="Bound">s</a><a id="11431" class="Symbol">}</a> <a id="11433" class="Symbol">→</a> <a id="11435" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="11437" class="Symbol">(</a><a id="11438" href="Definition.Typed.Restrictions.html#2476" class="Function">[]-cong-allowed</a> <a id="11454" href="Graded.Restrictions.html#11430" class="Bound">s</a><a id="11455" class="Symbol">))</a> <a id="11458" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11462" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="11483" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11486" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11488" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="11493" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11497" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="11518" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11521" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11523" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="11530" class="Keyword">where</a>
  <a id="11538" class="Keyword">open</a> <a id="11543" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="11561" href="Graded.Restrictions.html#11290" class="Bound">TR</a>
  <a id="11566" class="Keyword">open</a> <a id="11571" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="11590" href="Graded.Restrictions.html#11293" class="Bound">UR</a>

<a id="11594" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="11657" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="11709" href="Graded.Restrictions.html#11709" class="Function">No-erased-matches-no-erased-matches</a> <a id="11745" class="Symbol">:</a>
  <a id="11749" class="Symbol">∀</a> <a id="11751" href="Graded.Restrictions.html#11751" class="Bound">TR</a> <a id="11754" href="Graded.Restrictions.html#11754" class="Bound">UR</a> <a id="11757" class="Symbol">→</a>
  <a id="11761" class="Keyword">let</a> <a id="11765" href="Graded.Restrictions.html#11765" class="Bound">TR′</a> <a id="11769" class="Symbol">=</a> <a id="11771" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="11792" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a> <a id="11794" class="Symbol">(</a><a id="11795" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="11816" href="Definition.Untyped.NotParametrised.html#1551" class="InductiveConstructor">𝕨</a> <a id="11818" href="Graded.Restrictions.html#11751" class="Bound">TR</a><a id="11820" class="Symbol">)</a> <a id="11822" class="Keyword">in</a>
  <a id="11827" href="Graded.Restrictions.html#11205" class="Function">No-erased-matches</a> <a id="11845" href="Graded.Restrictions.html#11765" class="Bound">TR′</a> <a id="11849" class="Symbol">(</a><a id="11850" href="Graded.Restrictions.html#8932" class="Function">no-erased-matches-UR</a> <a id="11871" href="Graded.Restrictions.html#11765" class="Bound">TR′</a> <a id="11875" href="Graded.Restrictions.html#11754" class="Bound">UR</a><a id="11877" class="Symbol">)</a>
<a id="11879" href="Graded.Restrictions.html#11709" class="Function">No-erased-matches-no-erased-matches</a> <a id="11915" href="Graded.Restrictions.html#11915" class="Bound">TR</a> <a id="11918" href="Graded.Restrictions.html#11918" class="Bound">UR</a> <a id="11921" href="Graded.Restrictions.html#11921" class="Bound">𝟙≢𝟘</a> <a id="11925" class="Symbol">=</a>
  <a id="11929" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="11934" href="Graded.Restrictions.html#10196" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="11984" href="Graded.Restrictions.html#11915" class="Bound">TR</a> <a id="11987" href="Graded.Restrictions.html#11918" class="Bound">UR</a> <a id="11990" href="Graded.Restrictions.html#11921" class="Bound">𝟙≢𝟘</a> <a id="11994" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="11997" class="Symbol">λ</a>
    <a id="12003" class="Symbol">(</a><a id="12004" href="Graded.Restrictions.html#12004" class="Bound">pr</a> <a id="12007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12009" href="Graded.Restrictions.html#12009" class="Bound">rest</a><a id="12013" class="Symbol">)</a> <a id="12015" class="Symbol">→</a>
    <a id="12021" class="Symbol">(λ</a> <a id="12024" class="Symbol">{</a><a id="12025" href="Graded.Restrictions.html#12025" class="Bound">_</a> <a id="12027" href="Graded.Restrictions.html#12027" class="Bound">_</a> <a id="12029" href="Graded.Restrictions.html#12029" class="Bound">_</a><a id="12030" class="Symbol">}</a> <a id="12032" class="Symbol">→</a> <a id="12034" href="Graded.Restrictions.html#12004" class="Bound">pr</a><a id="12036" class="Symbol">)</a>
  <a id="12040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12042" class="Symbol">(λ</a> <a id="12045" class="Symbol">{</a><a id="12046" href="Graded.Restrictions.html#12046" class="Bound">_</a> <a id="12048" href="Graded.Restrictions.html#12048" class="Bound">_</a><a id="12049" class="Symbol">}</a> <a id="12051" class="Symbol">→</a> <a id="12053" class="Symbol">(</a><a id="12054" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12057" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="12061" class="Symbol">)</a> <a id="12063" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12066" class="Symbol">(</a><a id="12067" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12070" href="Graded.Restrictions.html#11921" class="Bound">𝟙≢𝟘</a><a id="12073" class="Symbol">)</a> <a id="12075" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12078" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="12083" class="Symbol">)</a>
  <a id="12087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12089" href="Graded.Restrictions.html#12009" class="Bound">rest</a>

<a id="12095" class="Keyword">opaque</a>

  <a id="12105" class="Comment">-- If Unitʷ-η holds for TR, then Only-some-erased-matches TR UR</a>
  <a id="12171" class="Comment">-- implies No-erased-matches TR UR.</a>

  <a id="Only-some-erased-matches→No-erased-matches"></a><a id="12210" href="Graded.Restrictions.html#12210" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12253" class="Symbol">:</a>
    <a id="12259" class="Symbol">∀</a> <a id="12261" href="Graded.Restrictions.html#12261" class="Bound">TR</a> <a id="12264" href="Graded.Restrictions.html#12264" class="Bound">UR</a> <a id="12267" class="Symbol">→</a>
    <a id="12273" href="Definition.Typed.Variant.html#795" class="Function">Type-restrictions.Unitʷ-η</a> <a id="12299" href="Graded.Restrictions.html#12261" class="Bound">TR</a> <a id="12302" class="Symbol">→</a>
    <a id="12308" href="Graded.Restrictions.html#9712" class="Function">Only-some-erased-matches</a> <a id="12333" href="Graded.Restrictions.html#12261" class="Bound">TR</a> <a id="12336" href="Graded.Restrictions.html#12264" class="Bound">UR</a> <a id="12339" class="Symbol">→</a> <a id="12341" href="Graded.Restrictions.html#11205" class="Function">No-erased-matches</a> <a id="12359" href="Graded.Restrictions.html#12261" class="Bound">TR</a> <a id="12362" href="Graded.Restrictions.html#12264" class="Bound">UR</a>
  <a id="12367" href="Graded.Restrictions.html#12210" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12410" class="Symbol">_</a> <a id="12412" class="Symbol">_</a> <a id="12414" href="Graded.Restrictions.html#12414" class="Bound">η</a> <a id="12416" class="Symbol">=</a>
    <a id="12422" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="12428" href="Function.Base.html#704" class="Function">idᶠ</a> <a id="12432" class="Symbol">((λ</a> <a id="12436" class="Symbol">{</a><a id="12437" href="Graded.Restrictions.html#12437" class="Bound">_</a> <a id="12439" href="Graded.Restrictions.html#12439" class="Bound">_</a><a id="12440" class="Symbol">}</a> <a id="12442" href="Graded.Restrictions.html#12442" class="Bound">_</a> <a id="12444" href="Graded.Restrictions.html#12444" class="Bound">_</a> <a id="12446" class="Symbol">→</a> <a id="12448" href="Graded.Restrictions.html#12414" class="Bound">η</a><a id="12449" class="Symbol">)</a> <a id="12451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="12453" class="Symbol">)</a> <a id="12455" href="Function.Base.html#1115" class="Function Operator">∘→_</a>

<a id="12460" class="Comment">------------------------------------------------------------------------</a>
<a id="12533" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="12575" class="Keyword">opaque</a>

  <a id="12585" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="12652" class="Comment">-- no-type-restrictions b.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="12682" href="Graded.Restrictions.html#12682" class="Function">Assumptions-no-type-restrictions</a> <a id="12715" class="Symbol">:</a>
    <a id="12721" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="12731" class="Symbol">(</a><a id="12732" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="12736" class="Symbol">{</a><a id="12737" class="Argument">A</a> <a id="12739" class="Symbol">=</a> <a id="12741" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="12742" class="Symbol">})</a> <a id="12745" class="Symbol">→</a> <a id="12747" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12762" class="Symbol">(</a><a id="12763" href="Graded.Restrictions.html#1523" class="Function">no-type-restrictions</a> <a id="12784" href="Graded.Restrictions.html#1144" class="Generalizable">b</a><a id="12785" class="Symbol">)</a>
  <a id="12789" href="Graded.Restrictions.html#12682" class="Function">Assumptions-no-type-restrictions</a> <a id="12822" class="Symbol">{</a><a id="12823" href="Graded.Restrictions.html#12823" class="Bound">b</a><a id="12824" class="Symbol">}</a> <a id="12826" href="Graded.Restrictions.html#12826" class="Bound">dec</a> <a id="12830" class="Symbol">=</a> <a id="12832" class="Symbol">λ</a> <a id="12834" class="Keyword">where</a>
      <a id="12846" class="Symbol">.</a><a id="12847" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="12866" class="Symbol">→</a> <a id="12868" href="Graded.Restrictions.html#12826" class="Bound">dec</a>
      <a id="12878" class="Symbol">.</a><a id="12879" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="12893" class="Symbol">_</a>    <a id="12898" class="Symbol">→</a> <a id="12900" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="12904" class="Symbol">_</a>
      <a id="12912" class="Symbol">.</a><a id="12913" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="12925" class="Symbol">_</a> <a id="12927" class="Symbol">_</a> <a id="12929" class="Symbol">_</a>  <a id="12932" class="Symbol">→</a> <a id="12934" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="12938" class="Symbol">_</a>
      <a id="12946" class="Symbol">.</a><a id="12947" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="12966" class="Symbol">→</a> <a id="12968" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="12973" href="Tools.PropositionalEquality.html#2136" class="Function">singleton</a> <a id="12983" href="Graded.Restrictions.html#12823" class="Bound">b</a> <a id="12985" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="12988" class="Symbol">λ</a> <a id="12990" class="Keyword">where</a>
        <a id="13004" class="Symbol">(</a><a id="13005" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="13011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13013" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13017" class="Symbol">)</a> <a id="13019" class="Symbol">→</a> <a id="13021" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13025" class="Symbol">_</a>
        <a id="13035" class="Symbol">(</a><a id="13036" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13044" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13048" class="Symbol">)</a> <a id="13050" class="Symbol">→</a> <a id="13052" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13055" class="Symbol">(λ</a> <a id="13058" class="Symbol">())</a>
      <a id="13068" class="Symbol">.</a><a id="13069" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="13086" class="Symbol">_</a> <a id="13088" class="Symbol">→</a> <a id="13090" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13095" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="13104" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13107" class="Symbol">λ</a> <a id="13109" class="Keyword">where</a>
        <a id="13123" class="Symbol">(</a><a id="13124" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13128" href="Graded.Restrictions.html#13128" class="Bound">trivial</a><a id="13135" class="Symbol">)</a>    <a id="13140" class="Symbol">→</a> <a id="13142" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13145" class="Symbol">(</a><a id="13146" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13149" href="Graded.Restrictions.html#13128" class="Bound">trivial</a><a id="13156" class="Symbol">)</a>
        <a id="13166" class="Symbol">(</a><a id="13167" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13170" href="Graded.Restrictions.html#13170" class="Bound">non-trivial</a><a id="13181" class="Symbol">)</a> <a id="13183" class="Symbol">→</a> <a id="13185" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13189" href="Graded.Restrictions.html#13170" class="Bound">non-trivial</a>
    <a id="13205" class="Keyword">where</a>
    <a id="13215" class="Keyword">open</a> <a id="13220" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13236" class="Keyword">opaque</a>

  <a id="13246" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="13315" href="Graded.Restrictions.html#13315" class="Function">Assumptions-equal-binder-quantities</a> <a id="13351" class="Symbol">:</a>
    <a id="13357" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13372" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="13375" class="Symbol">→</a> <a id="13377" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13392" class="Symbol">(</a><a id="13393" href="Graded.Restrictions.html#2036" class="Function">equal-binder-quantities</a> <a id="13417" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="13419" class="Symbol">)</a>
  <a id="13423" href="Graded.Restrictions.html#13315" class="Function">Assumptions-equal-binder-quantities</a> <a id="13459" href="Graded.Restrictions.html#13459" class="Bound">as</a> <a id="13462" class="Symbol">=</a> <a id="13464" class="Symbol">λ</a> <a id="13466" class="Keyword">where</a>
      <a id="13478" class="Symbol">.</a><a id="13479" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="13497" class="Symbol">→</a> <a id="13499" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="13511" class="Symbol">.</a><a id="13512" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="13530" class="Symbol">→</a> <a id="13532" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="13554" class="Symbol">.</a><a id="13555" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="13567" href="Graded.Restrictions.html#13567" class="Bound">b</a> <a id="13569" href="Graded.Restrictions.html#13569" class="Bound">p</a> <a id="13571" href="Graded.Restrictions.html#13571" class="Bound">q</a> <a id="13573" class="Symbol">→</a> <a id="13575" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="13589" href="Graded.Restrictions.html#13567" class="Bound">b</a> <a id="13591" href="Graded.Restrictions.html#13569" class="Bound">p</a> <a id="13593" href="Graded.Restrictions.html#13571" class="Bound">q</a> <a id="13595" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="13601" href="Graded.Restrictions.html#13569" class="Bound">p</a> <a id="13603" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="13607" href="Graded.Restrictions.html#13571" class="Bound">q</a>
      <a id="13615" class="Symbol">.</a><a id="13616" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="13634" class="Symbol">→</a> <a id="13636" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="13655" class="Symbol">.</a><a id="13656" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="13674" class="Symbol">→</a> <a id="13676" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="13699" class="Keyword">where</a>
    <a id="13709" class="Keyword">module</a> <a id="13716" href="Graded.Restrictions.html#13716" class="Module">A</a> <a id="13718" class="Symbol">=</a> <a id="13720" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13735" href="Graded.Restrictions.html#13459" class="Bound">as</a>
    <a id="13742" class="Keyword">open</a> <a id="13747" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13763" class="Keyword">opaque</a>

  <a id="13773" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="13841" href="Graded.Restrictions.html#13841" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="13876" class="Symbol">:</a>
    <a id="13882" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13897" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="13900" class="Symbol">→</a> <a id="13902" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13917" class="Symbol">(</a><a id="13918" href="Graded.Restrictions.html#2441" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="13941" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="13943" class="Symbol">)</a>
  <a id="13947" href="Graded.Restrictions.html#13841" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="13982" href="Graded.Restrictions.html#13982" class="Bound">as</a> <a id="13985" class="Symbol">=</a> <a id="13987" class="Symbol">λ</a> <a id="13989" class="Keyword">where</a>
      <a id="14001" class="Symbol">.</a><a id="14002" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14020" class="Symbol">→</a> <a id="14022" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14034" class="Symbol">.</a><a id="14035" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14053" class="Symbol">→</a> <a id="14055" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14077" class="Symbol">.</a><a id="14078" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14090" href="Graded.Restrictions.html#14090" class="Bound">b</a> <a id="14092" href="Graded.Restrictions.html#14092" class="Bound">p</a> <a id="14094" href="Graded.Restrictions.html#14094" class="Bound">q</a> <a id="14096" class="Symbol">→</a> <a id="14098" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14112" href="Graded.Restrictions.html#14090" class="Bound">b</a> <a id="14114" href="Graded.Restrictions.html#14092" class="Bound">p</a> <a id="14116" href="Graded.Restrictions.html#14094" class="Bound">q</a> <a id="14118" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="14124" href="Graded.Restrictions.html#14094" class="Bound">q</a> <a id="14126" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14130" href="Graded.Modality.html#847" class="Function">𝟘</a>
      <a id="14138" class="Symbol">.</a><a id="14139" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14157" class="Symbol">→</a> <a id="14159" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14178" class="Symbol">.</a><a id="14179" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14197" class="Symbol">→</a> <a id="14199" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14222" class="Keyword">where</a>
    <a id="14232" class="Keyword">module</a> <a id="14239" href="Graded.Restrictions.html#14239" class="Module">A</a> <a id="14241" class="Symbol">=</a> <a id="14243" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14258" href="Graded.Restrictions.html#13982" class="Bound">as</a>
    <a id="14265" class="Keyword">open</a> <a id="14270" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14286" class="Keyword">opaque</a>

  <a id="14296" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="14352" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="14374" href="Graded.Restrictions.html#14374" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14414" class="Symbol">:</a>
    <a id="14420" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14435" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="14438" class="Symbol">→</a> <a id="14440" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14455" class="Symbol">(</a><a id="14456" href="Graded.Restrictions.html#2999" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14484" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="14486" class="Symbol">)</a>
  <a id="14490" href="Graded.Restrictions.html#14374" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14530" href="Graded.Restrictions.html#14530" class="Bound">as</a> <a id="14533" class="Symbol">=</a> <a id="14535" class="Symbol">λ</a> <a id="14537" class="Keyword">where</a>
      <a id="14549" class="Symbol">.</a><a id="14550" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14568" class="Symbol">→</a> <a id="14570" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14582" class="Symbol">.</a><a id="14583" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14601" class="Symbol">→</a> <a id="14603" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14625" class="Symbol">.</a><a id="14626" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14638" href="Graded.Restrictions.html#14638" class="Bound">b</a> <a id="14640" href="Graded.Restrictions.html#14640" class="Bound">p</a> <a id="14642" href="Graded.Restrictions.html#14642" class="Bound">q</a> <a id="14644" class="Symbol">→</a> <a id="14646" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14660" href="Graded.Restrictions.html#14638" class="Bound">b</a> <a id="14662" href="Graded.Restrictions.html#14640" class="Bound">p</a> <a id="14664" href="Graded.Restrictions.html#14642" class="Bound">q</a>
                             <a id="14695" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="14728" class="Symbol">(</a><a id="14729" href="Graded.Restrictions.html#14640" class="Bound">p</a> <a id="14731" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14735" href="Graded.Modality.html#851" class="Function">ω</a> <a id="14737" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="14743" href="Graded.Restrictions.html#14642" class="Bound">q</a> <a id="14745" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14749" href="Graded.Modality.html#851" class="Function">ω</a><a id="14750" class="Symbol">)</a>
                             <a id="14781" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="14814" class="Symbol">(</a><a id="14815" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="14818" class="Symbol">(</a><a id="14819" href="Graded.Restrictions.html#14640" class="Bound">p</a> <a id="14821" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14825" href="Graded.Modality.html#851" class="Function">ω</a><a id="14826" class="Symbol">)</a> <a id="14828" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="14834" href="Graded.Restrictions.html#14642" class="Bound">q</a> <a id="14836" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14840" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="14841" class="Symbol">)</a>
      <a id="14849" class="Symbol">.</a><a id="14850" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14868" class="Symbol">→</a> <a id="14870" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14889" class="Symbol">.</a><a id="14890" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14908" class="Symbol">→</a> <a id="14910" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14933" class="Keyword">where</a>
    <a id="14943" class="Keyword">module</a> <a id="14950" href="Graded.Restrictions.html#14950" class="Module">A</a> <a id="14952" class="Symbol">=</a> <a id="14954" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14969" href="Graded.Restrictions.html#14530" class="Bound">as</a>
    <a id="14976" class="Keyword">open</a> <a id="14981" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14997" class="Keyword">opaque</a>

  <a id="15007" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="15065" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="15115" href="Graded.Restrictions.html#15115" class="Function">Assumptions-strong-types-restricted′</a> <a id="15152" class="Symbol">:</a>
    <a id="15158" class="Symbol">{</a><a id="15159" href="Graded.Restrictions.html#15159" class="Bound">P</a> <a id="15161" class="Symbol">:</a> <a id="15163" href="Definition.Untyped.NotParametrised.html#1589" class="Datatype">BinderMode</a> <a id="15174" class="Symbol">→</a> <a id="15176" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="15178" class="Symbol">→</a> <a id="15180" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15184" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="15185" class="Symbol">}</a>
    <a id="15191" class="Symbol">{</a><a id="15192" href="Graded.Restrictions.html#15192" class="Bound">ok</a> <a id="15195" class="Symbol">:</a> <a id="15197" class="Symbol">∀</a> <a id="15199" class="Symbol">{</a><a id="15200" href="Graded.Restrictions.html#15200" class="Bound">s</a><a id="15201" class="Symbol">}</a> <a id="15203" class="Symbol">→</a> <a id="15205" href="Graded.Restrictions.html#15200" class="Bound">s</a> <a id="15207" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15209" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a> <a id="15211" class="Symbol">→</a> <a id="15213" href="Graded.Restrictions.html#15159" class="Bound">P</a> <a id="15215" class="Symbol">(</a><a id="15216" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="15220" href="Graded.Restrictions.html#15200" class="Bound">s</a><a id="15221" class="Symbol">)</a> <a id="15223" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="15224" class="Symbol">}</a> <a id="15226" class="Symbol">→</a>
    <a id="15232" class="Symbol">(∀</a> <a id="15235" href="Graded.Restrictions.html#15235" class="Bound">b</a> <a id="15237" href="Graded.Restrictions.html#15237" class="Bound">p</a> <a id="15239" class="Symbol">→</a> <a id="15241" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="15245" class="Symbol">(</a><a id="15246" href="Graded.Restrictions.html#15159" class="Bound">P</a> <a id="15248" href="Graded.Restrictions.html#15235" class="Bound">b</a> <a id="15250" href="Graded.Restrictions.html#15237" class="Bound">p</a><a id="15251" class="Symbol">))</a> <a id="15254" class="Symbol">→</a>
    <a id="15260" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15275" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="15278" class="Symbol">→</a>
    <a id="15284" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15299" class="Symbol">(</a><a id="15300" href="Graded.Restrictions.html#3445" class="Function">strong-types-restricted′</a> <a id="15325" href="Graded.Restrictions.html#15159" class="Bound">P</a> <a id="15327" href="Graded.Restrictions.html#15192" class="Bound">ok</a> <a id="15330" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="15332" class="Symbol">)</a>
  <a id="15336" href="Graded.Restrictions.html#15115" class="Function">Assumptions-strong-types-restricted′</a> <a id="15373" href="Graded.Restrictions.html#15373" class="Bound">P-dec</a> <a id="15379" href="Graded.Restrictions.html#15379" class="Bound">as</a> <a id="15382" class="Symbol">=</a> <a id="15384" class="Symbol">λ</a> <a id="15386" class="Keyword">where</a>
      <a id="15398" class="Symbol">.</a><a id="15399" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="15418" class="Symbol">→</a> <a id="15420" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="15432" class="Symbol">.</a><a id="15433" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="15447" href="Graded.Restrictions.html#15447" class="Bound">s</a>    <a id="15452" class="Symbol">→</a> <a id="15454" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a> <a id="15470" href="Graded.Restrictions.html#15447" class="Bound">s</a> <a id="15472" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="15478" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="15481" class="Symbol">(</a><a id="15482" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="15494" href="Graded.Restrictions.html#15447" class="Bound">s</a> <a id="15496" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="15497" class="Symbol">)</a>
      <a id="15505" class="Symbol">.</a><a id="15506" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="15518" href="Graded.Restrictions.html#15518" class="Bound">b</a> <a id="15520" href="Graded.Restrictions.html#15520" class="Bound">p</a> <a id="15522" href="Graded.Restrictions.html#15522" class="Bound">q</a>  <a id="15525" class="Symbol">→</a> <a id="15527" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="15541" href="Graded.Restrictions.html#15518" class="Bound">b</a> <a id="15543" href="Graded.Restrictions.html#15520" class="Bound">p</a> <a id="15545" href="Graded.Restrictions.html#15522" class="Bound">q</a>
                              <a id="15577" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="15611" href="Graded.Restrictions.html#15373" class="Bound">P-dec</a> <a id="15617" href="Graded.Restrictions.html#15518" class="Bound">b</a> <a id="15619" href="Graded.Restrictions.html#15520" class="Bound">p</a>
      <a id="15627" class="Symbol">.</a><a id="15628" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="15647" class="Symbol">→</a> <a id="15649" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="15668" class="Symbol">.</a><a id="15669" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="15686" href="Graded.Restrictions.html#15686" class="Bound">s</a> <a id="15688" class="Symbol">→</a> <a id="15690" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="15709" href="Graded.Restrictions.html#15686" class="Bound">s</a>
                              <a id="15741" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="15775" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="15778" class="Symbol">(</a><a id="15779" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="15791" href="Graded.Restrictions.html#15686" class="Bound">s</a> <a id="15793" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="15794" class="Symbol">)</a>
    <a id="15800" class="Keyword">where</a>
    <a id="15810" class="Keyword">module</a> <a id="15817" href="Graded.Restrictions.html#15817" class="Module">A</a> <a id="15819" class="Symbol">=</a> <a id="15821" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="15836" href="Graded.Restrictions.html#15379" class="Bound">as</a>
    <a id="15843" class="Keyword">open</a> <a id="15848" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="15864" class="Keyword">opaque</a>

  <a id="15874" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="15943" href="Graded.Restrictions.html#15943" class="Function">Assumptions-strong-types-restricted</a> <a id="15979" class="Symbol">:</a>
    <a id="15985" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16000" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="16003" class="Symbol">→</a> <a id="16005" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16020" class="Symbol">(</a><a id="16021" href="Graded.Restrictions.html#4234" class="Function">strong-types-restricted</a> <a id="16045" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="16047" class="Symbol">)</a>
  <a id="16051" href="Graded.Restrictions.html#15943" class="Function">Assumptions-strong-types-restricted</a> <a id="16087" href="Graded.Restrictions.html#16087" class="Bound">as</a> <a id="16090" class="Symbol">=</a>
    <a id="16096" href="Graded.Restrictions.html#15115" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="16139" class="Symbol">(λ</a> <a id="16142" href="Graded.Restrictions.html#16142" class="Bound">b</a> <a id="16144" href="Graded.Restrictions.html#16144" class="Bound">p</a> <a id="16146" class="Symbol">→</a> <a id="16148" href="Definition.Untyped.Properties.NotParametrised.html#4381" class="Function">decBinderMode</a> <a id="16162" href="Graded.Restrictions.html#16142" class="Bound">b</a> <a id="16164" class="Symbol">(</a><a id="16165" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="16169" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="16170" class="Symbol">)</a> <a id="16172" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="16178" href="Graded.Restrictions.html#16144" class="Bound">p</a> <a id="16180" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">≟</a> <a id="16182" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="16183" class="Symbol">)</a>
      <a id="16191" href="Graded.Restrictions.html#16087" class="Bound">as</a>
    <a id="16198" class="Keyword">where</a>
    <a id="16208" class="Keyword">open</a> <a id="16213" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16228" href="Graded.Restrictions.html#16087" class="Bound">as</a>

<a id="16232" class="Keyword">opaque</a>

  <a id="16242" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="16303" href="Graded.Restrictions.html#16303" class="Function">Assumptions-no-strong-types</a> <a id="16331" class="Symbol">:</a>
    <a id="16337" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16352" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="16355" class="Symbol">→</a> <a id="16357" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16372" class="Symbol">(</a><a id="16373" href="Graded.Restrictions.html#4606" class="Function">no-strong-types</a> <a id="16389" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="16391" class="Symbol">)</a>
  <a id="16395" href="Graded.Restrictions.html#16303" class="Function">Assumptions-no-strong-types</a> <a id="16423" href="Graded.Restrictions.html#16423" class="Bound">as</a> <a id="16426" class="Symbol">=</a>
    <a id="16432" href="Graded.Restrictions.html#15115" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="16475" class="Symbol">(λ</a> <a id="16478" href="Graded.Restrictions.html#16478" class="Bound">b</a> <a id="16480" href="Graded.Restrictions.html#16480" class="Bound">_</a> <a id="16482" class="Symbol">→</a> <a id="16484" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="16492" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="16497" href="Level.html#479" class="Field">Lift.lower</a> <a id="16508" class="Symbol">(</a><a id="16509" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16512" class="Symbol">(</a><a id="16513" href="Definition.Untyped.Properties.NotParametrised.html#4381" class="Function">decBinderMode</a> <a id="16527" href="Graded.Restrictions.html#16478" class="Bound">b</a> <a id="16529" class="Symbol">(</a><a id="16530" href="Definition.Untyped.NotParametrised.html#1633" class="InductiveConstructor">BMΣ</a> <a id="16534" href="Definition.Untyped.NotParametrised.html#1549" class="InductiveConstructor">𝕤</a><a id="16535" class="Symbol">))))</a>
      <a id="16546" href="Graded.Restrictions.html#16423" class="Bound">as</a>
    <a id="16553" class="Keyword">where</a>
    <a id="16563" class="Keyword">open</a> <a id="16568" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16583" href="Graded.Restrictions.html#16423" class="Bound">as</a>

<a id="16587" class="Keyword">opaque</a>

  <a id="16597" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="16665" href="Graded.Restrictions.html#16665" class="Function">Assumptions-no-erased-matches-TR</a> <a id="16698" class="Symbol">:</a>
    <a id="16704" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16719" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="16722" class="Symbol">→</a> <a id="16724" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16739" class="Symbol">(</a><a id="16740" href="Graded.Restrictions.html#4892" class="Function">no-erased-matches-TR</a> <a id="16761" href="Graded.Restrictions.html#1167" class="Generalizable">s</a> <a id="16763" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="16765" class="Symbol">)</a>
  <a id="16769" href="Graded.Restrictions.html#16665" class="Function">Assumptions-no-erased-matches-TR</a> <a id="16802" class="Symbol">{</a><a id="16803" href="Graded.Restrictions.html#16803" class="Bound">s</a><a id="16804" class="Symbol">}</a> <a id="16806" href="Graded.Restrictions.html#16806" class="Bound">as</a> <a id="16809" class="Symbol">=</a> <a id="16811" class="Symbol">λ</a> <a id="16813" class="Keyword">where</a>
      <a id="16825" class="Symbol">.</a><a id="16826" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                 <a id="16846" class="Symbol">→</a> <a id="16848" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="16860" class="Symbol">.</a><a id="16861" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>       <a id="16881" class="Symbol">→</a> <a id="16883" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="16905" class="Symbol">.</a><a id="16906" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a>         <a id="16926" class="Symbol">→</a> <a id="16928" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a>
      <a id="16948" class="Symbol">.</a><a id="16949" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>          <a id="16969" class="Symbol">→</a> <a id="16971" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="16990" class="Symbol">.</a><a id="16991" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="17008" href="Graded.Restrictions.html#17008" class="Bound">s′</a> <a id="17011" class="Symbol">→</a> <a id="17013" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="17032" href="Graded.Restrictions.html#17008" class="Bound">s′</a>
                               <a id="17066" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                             <a id="17101" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="17104" class="Symbol">(</a><a id="17105" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="17117" href="Graded.Restrictions.html#17008" class="Bound">s′</a> <a id="17120" href="Graded.Restrictions.html#16803" class="Bound">s</a><a id="17121" class="Symbol">)</a>
    <a id="17127" class="Keyword">where</a>
    <a id="17137" class="Keyword">module</a> <a id="17144" href="Graded.Restrictions.html#17144" class="Module">A</a> <a id="17146" class="Symbol">=</a> <a id="17148" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="17163" href="Graded.Restrictions.html#16806" class="Bound">as</a>
    <a id="17170" class="Keyword">open</a> <a id="17175" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="17191" class="Comment">------------------------------------------------------------------------</a>
<a id="17264" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="17306" class="Keyword">opaque</a>

  <a id="17316" class="Comment">-- If grade equality is decidable and the modality comes with a</a>
  <a id="17382" class="Comment">-- dedicated nr function, then UD.Assumptions holds for</a>
  <a id="17440" class="Comment">-- no-usage-restrictions b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="17477" href="Graded.Restrictions.html#17477" class="Function">Assumptions-no-usage-restrictions</a> <a id="17511" class="Symbol">:</a>
    <a id="17517" class="Symbol">⦃</a> <a id="17519" href="Graded.Restrictions.html#17519" class="Bound">has-nr</a> <a id="17526" class="Symbol">:</a> <a id="17528" href="Graded.Modality.Dedicated-nr.html#716" class="Record">Dedicated-nr</a> <a id="17541" class="Symbol">⦄</a> <a id="17543" class="Symbol">→</a>
    <a id="17549" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="17559" class="Symbol">(</a><a id="17560" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="17564" class="Symbol">{</a><a id="17565" class="Argument">A</a> <a id="17567" class="Symbol">=</a> <a id="17569" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="17570" class="Symbol">})</a> <a id="17573" class="Symbol">→</a>
    <a id="17579" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="17594" class="Symbol">(</a><a id="17595" href="Graded.Restrictions.html#5819" class="Function">no-usage-restrictions</a> <a id="17617" href="Graded.Restrictions.html#1144" class="Generalizable">b</a> <a id="17619" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="17624" class="Symbol">)</a>
  <a id="17628" href="Graded.Restrictions.html#17477" class="Function">Assumptions-no-usage-restrictions</a> <a id="17662" href="Graded.Restrictions.html#17662" class="Bound">dec</a> <a id="17666" class="Symbol">=</a> <a id="17668" class="Symbol">λ</a> <a id="17670" class="Keyword">where</a>
      <a id="17682" class="Symbol">.</a><a id="17683" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="17708" class="Symbol">→</a> <a id="17710" href="Graded.Restrictions.html#17662" class="Bound">dec</a>
      <a id="17720" class="Symbol">.</a><a id="17721" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="17738" class="Symbol">_</a> <a id="17740" class="Symbol">_</a> <a id="17742" class="Symbol">_</a> <a id="17744" class="Symbol">_</a> <a id="17746" class="Symbol">→</a> <a id="17748" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17752" class="Symbol">_</a>
      <a id="17760" class="Symbol">.</a><a id="17761" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="17779" class="Symbol">_</a> <a id="17781" class="Symbol">_</a> <a id="17783" class="Symbol">_</a>  <a id="17786" class="Symbol">→</a> <a id="17788" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17792" class="Symbol">_</a>
      <a id="17800" class="Symbol">.</a><a id="17801" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="17819" class="Symbol">_</a> <a id="17821" class="Symbol">_</a>    <a id="17826" class="Symbol">→</a> <a id="17828" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17832" class="Symbol">_</a>
    <a id="17838" class="Keyword">where</a>
    <a id="17848" class="Keyword">open</a> <a id="17853" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="17869" class="Keyword">opaque</a>

  <a id="17879" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="17950" href="Graded.Restrictions.html#17950" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="17988" class="Symbol">:</a>
    <a id="17994" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18009" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="18012" class="Symbol">→</a> <a id="18014" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18029" class="Symbol">(</a><a id="18030" href="Graded.Restrictions.html#6997" class="Function">not-all-erased-matches-JK</a> <a id="18056" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="18058" class="Symbol">)</a>
  <a id="18062" href="Graded.Restrictions.html#17950" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="18100" href="Graded.Restrictions.html#18100" class="Bound">as</a> <a id="18103" class="Symbol">=</a> <a id="18105" class="Symbol">λ</a> <a id="18107" class="Keyword">where</a>
      <a id="18119" class="Symbol">.</a><a id="18120" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>               <a id="18138" class="Symbol">→</a> <a id="18140" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="18152" class="Symbol">.</a><a id="18153" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>  <a id="18171" class="Symbol">→</a> <a id="18173" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a>
      <a id="18198" class="Symbol">.</a><a id="18199" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="18217" class="Symbol">→</a> <a id="18219" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="18244" class="Symbol">.</a><a id="18245" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="18263" class="Symbol">→</a> <a id="18265" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="18289" class="Keyword">where</a>
    <a id="18299" class="Keyword">module</a> <a id="18306" href="Graded.Restrictions.html#18306" class="Module">A</a> <a id="18308" class="Symbol">=</a> <a id="18310" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="18325" href="Graded.Restrictions.html#18100" class="Bound">as</a>
    <a id="18332" class="Keyword">open</a> <a id="18337" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="18353" class="Keyword">opaque</a>

  <a id="18363" class="Comment">-- The function only-some-erased-matches preserves UD.Assumptions.</a>

  <a id="Assumptions-only-some-erased-matches"></a><a id="18433" href="Graded.Restrictions.html#18433" class="Function">Assumptions-only-some-erased-matches</a> <a id="18470" class="Symbol">:</a>
    <a id="18476" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18491" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="18494" class="Symbol">→</a> <a id="18496" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18511" class="Symbol">(</a><a id="18512" href="Graded.Restrictions.html#7998" class="Function">only-some-erased-matches</a> <a id="18537" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="18539" class="Symbol">)</a>
  <a id="18543" href="Graded.Restrictions.html#18433" class="Function">Assumptions-only-some-erased-matches</a> <a id="18580" href="Graded.Restrictions.html#18580" class="Bound">as</a> <a id="18583" class="Symbol">=</a> <a id="18585" class="Symbol">λ</a> <a id="18587" class="Keyword">where</a>
      <a id="18599" class="Symbol">.</a><a id="18600" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="18625" class="Symbol">→</a> <a id="18627" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="18639" class="Symbol">.</a><a id="18640" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="18657" href="Graded.Restrictions.html#18657" class="Bound">m</a> <a id="18659" href="Graded.Restrictions.html#18659" class="Bound">r</a> <a id="18661" href="Graded.Restrictions.html#18661" class="Bound">p</a> <a id="18663" href="Graded.Restrictions.html#18663" class="Bound">q</a> <a id="18665" class="Symbol">→</a> <a id="18667" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a> <a id="18686" href="Graded.Restrictions.html#18657" class="Bound">m</a> <a id="18688" href="Graded.Restrictions.html#18659" class="Bound">r</a> <a id="18690" href="Graded.Restrictions.html#18661" class="Bound">p</a> <a id="18692" href="Graded.Restrictions.html#18663" class="Bound">q</a>
                                    <a id="18730" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="18770" class="Symbol">(</a><a id="18771" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="18774" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="18820" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="18861" href="Graded.Restrictions.html#18657" class="Bound">m</a> <a id="18863" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="18870" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="18910" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="18951" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="18954" class="Symbol">(</a><a id="18955" href="Graded.Restrictions.html#18659" class="Bound">r</a> <a id="18957" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="18961" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="18962" class="Symbol">))</a>
      <a id="18971" class="Symbol">.</a><a id="18972" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>         <a id="18997" class="Symbol">→</a> <a id="18999" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="19024" class="Symbol">.</a><a id="19025" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>        <a id="19050" class="Symbol">→</a> <a id="19052" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="19076" class="Keyword">where</a>
    <a id="19086" class="Keyword">module</a> <a id="19093" href="Graded.Restrictions.html#19093" class="Module">A</a> <a id="19095" class="Symbol">=</a> <a id="19097" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19112" href="Graded.Restrictions.html#18580" class="Bound">as</a>
    <a id="19119" class="Keyword">open</a> <a id="19124" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="19140" class="Keyword">opaque</a>

  <a id="19150" class="Comment">-- The function no-erased-matches-UR TR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="19219" href="Graded.Restrictions.html#19219" class="Function">Assumptions-no-erased-matches-UR</a> <a id="19252" class="Symbol">:</a>
    <a id="19258" class="Symbol">∀</a> <a id="19260" href="Graded.Restrictions.html#19260" class="Bound">TR</a> <a id="19263" class="Symbol">→</a> <a id="19265" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19280" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="19283" class="Symbol">→</a>
    <a id="19289" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19304" class="Symbol">(</a><a id="19305" href="Graded.Restrictions.html#8932" class="Function">no-erased-matches-UR</a> <a id="19326" href="Graded.Restrictions.html#19260" class="Bound">TR</a> <a id="19329" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="19331" class="Symbol">)</a>
  <a id="19335" href="Graded.Restrictions.html#19219" class="Function">Assumptions-no-erased-matches-UR</a> <a id="19368" href="Graded.Restrictions.html#19368" class="Bound">TR</a> <a id="19371" href="Graded.Restrictions.html#19371" class="Bound">as</a> <a id="19374" class="Symbol">=</a> <a id="19376" class="Symbol">λ</a> <a id="19378" class="Keyword">where</a>
      <a id="19390" class="Symbol">.</a><a id="19391" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                    <a id="19414" class="Symbol">→</a> <a id="19416" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A._≟_</a>
      <a id="19428" class="Symbol">.</a><a id="19429" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>       <a id="19452" class="Symbol">→</a> <a id="19454" href="Graded.Usage.Decidable.Assumptions.html#961" class="Function">A.Prodrec-allowed?</a>
      <a id="19479" class="Symbol">.</a><a id="19480" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a> <a id="19497" href="Graded.Restrictions.html#19497" class="Bound">m</a> <a id="19499" href="Graded.Restrictions.html#19499" class="Bound">p</a> <a id="19501" href="Graded.Restrictions.html#19501" class="Bound">q</a> <a id="19503" class="Symbol">→</a> <a id="19505" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Function">A.Unitrec-allowed?</a> <a id="19524" href="Graded.Restrictions.html#19497" class="Bound">m</a> <a id="19526" href="Graded.Restrictions.html#19499" class="Bound">p</a> <a id="19528" href="Graded.Restrictions.html#19501" class="Bound">q</a>
                                  <a id="19564" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                <a id="19602" class="Symbol">(</a><a id="19603" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="19606" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                   <a id="19650" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19689" href="Graded.Restrictions.html#19497" class="Bound">m</a> <a id="19691" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="19698" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                   <a id="19736" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19775" href="Graded.Restrictions.html#19499" class="Bound">p</a> <a id="19777" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A.≟</a> <a id="19781" href="Graded.Modality.html#847" class="Function">𝟘</a>
                                   <a id="19818" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19857" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a><a id="19865" class="Symbol">)</a>
      <a id="19873" class="Symbol">.</a><a id="19874" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>      <a id="19897" class="Symbol">→</a> <a id="19899" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Function">A.Emptyrec-allowed?</a>
    <a id="19923" class="Keyword">where</a>
    <a id="19933" class="Keyword">module</a> <a id="19940" href="Graded.Restrictions.html#19940" class="Module">A</a> <a id="19942" class="Symbol">=</a> <a id="19944" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19959" class="Symbol">(</a><a id="19960" href="Graded.Restrictions.html#18433" class="Function">Assumptions-only-some-erased-matches</a> <a id="19997" href="Graded.Restrictions.html#19371" class="Bound">as</a><a id="19999" class="Symbol">)</a>
    <a id="20005" class="Keyword">open</a> <a id="20010" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>
    <a id="20029" class="Keyword">open</a> <a id="20034" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="20052" href="Graded.Restrictions.html#19368" class="Bound">TR</a>
</pre></body></html>