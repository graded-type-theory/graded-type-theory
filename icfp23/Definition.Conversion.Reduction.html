<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Conversion.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Weak head expansion of algorithmic equality.</a>
<a id="122" class="Comment">------------------------------------------------------------------------</a>

<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="239" class="Keyword">module</a> <a id="246" href="Definition.Conversion.Reduction.html" class="Module">Definition.Conversion.Reduction</a>
  <a id="280" class="Symbol">{</a><a id="281" href="Definition.Conversion.Reduction.html#281" class="Bound">a</a><a id="282" class="Symbol">}</a> <a id="284" class="Symbol">{</a><a id="285" href="Definition.Conversion.Reduction.html#285" class="Bound">M</a> <a id="287" class="Symbol">:</a> <a id="289" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="293" href="Definition.Conversion.Reduction.html#281" class="Bound">a</a><a id="294" class="Symbol">}</a>
  <a id="298" class="Symbol">(</a><a id="299" href="Definition.Conversion.Reduction.html#299" class="Bound">R</a> <a id="301" class="Symbol">:</a> <a id="303" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="321" href="Definition.Conversion.Reduction.html#285" class="Bound">M</a><a id="322" class="Symbol">)</a>
  <a id="326" class="Keyword">where</a>

<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="364" href="Definition.Conversion.Reduction.html#285" class="Bound">M</a> <a id="366" class="Keyword">hiding</a> <a id="373" class="Symbol">(</a><a id="374" href="Definition.Untyped.NotParametrised.html#1138" class="InductiveConstructor Operator">_∷_</a><a id="377" class="Symbol">)</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="408" href="Definition.Conversion.Reduction.html#299" class="Bound">R</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="450" href="Definition.Conversion.Reduction.html#299" class="Bound">R</a>
<a id="452" class="Keyword">open</a> <a id="457" class="Keyword">import</a> <a id="464" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a> <a id="490" href="Definition.Conversion.Reduction.html#299" class="Bound">R</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Definition.Conversion.html" class="Module">Definition.Conversion</a> <a id="526" href="Definition.Conversion.Reduction.html#299" class="Bound">R</a>

<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="552" class="Keyword">private</a>
  <a id="562" class="Keyword">variable</a>
    <a id="575" href="Definition.Conversion.Reduction.html#575" class="Generalizable">n</a> <a id="577" class="Symbol">:</a> <a id="579" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="587" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="589" class="Symbol">:</a> <a id="591" href="Definition.Untyped.NotParametrised.html#781" class="Datatype">Con</a> <a id="595" href="Definition.Untyped.html#1988" class="Datatype">Term</a> <a id="600" href="Definition.Conversion.Reduction.html#575" class="Generalizable">n</a>

<a id="603" class="Comment">-- Weak head expansion of algorithmic equality of types.</a>
<a id="reductionConv↑"></a><a id="660" href="Definition.Conversion.Reduction.html#660" class="Function">reductionConv↑</a> <a id="675" class="Symbol">:</a> <a id="677" class="Symbol">∀</a> <a id="679" class="Symbol">{</a><a id="680" href="Definition.Conversion.Reduction.html#680" class="Bound">A</a> <a id="682" href="Definition.Conversion.Reduction.html#682" class="Bound">A′</a> <a id="685" href="Definition.Conversion.Reduction.html#685" class="Bound">B</a> <a id="687" href="Definition.Conversion.Reduction.html#687" class="Bound">B′</a><a id="689" class="Symbol">}</a>
               <a id="706" class="Symbol">→</a> <a id="708" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="710" href="Definition.Typed.html#12731" class="Datatype Operator">⊢</a> <a id="712" href="Definition.Conversion.Reduction.html#680" class="Bound">A</a> <a id="714" href="Definition.Typed.html#12731" class="Datatype Operator">⇒*</a> <a id="717" href="Definition.Conversion.Reduction.html#682" class="Bound">A′</a>
               <a id="735" class="Symbol">→</a> <a id="737" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="739" href="Definition.Typed.html#12731" class="Datatype Operator">⊢</a> <a id="741" href="Definition.Conversion.Reduction.html#685" class="Bound">B</a> <a id="743" href="Definition.Typed.html#12731" class="Datatype Operator">⇒*</a> <a id="746" href="Definition.Conversion.Reduction.html#687" class="Bound">B′</a>
               <a id="764" class="Symbol">→</a> <a id="766" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="768" href="Definition.Conversion.html#2320" class="Record Operator">⊢</a> <a id="770" href="Definition.Conversion.Reduction.html#682" class="Bound">A′</a> <a id="773" href="Definition.Conversion.html#2320" class="Record Operator">[conv↑]</a> <a id="781" href="Definition.Conversion.Reduction.html#687" class="Bound">B′</a>
               <a id="799" class="Symbol">→</a> <a id="801" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="803" href="Definition.Conversion.html#2320" class="Record Operator">⊢</a> <a id="805" href="Definition.Conversion.Reduction.html#680" class="Bound">A</a>  <a id="808" href="Definition.Conversion.html#2320" class="Record Operator">[conv↑]</a> <a id="816" href="Definition.Conversion.Reduction.html#685" class="Bound">B</a>
<a id="818" href="Definition.Conversion.Reduction.html#660" class="Function">reductionConv↑</a> <a id="833" href="Definition.Conversion.Reduction.html#833" class="Bound">A⇒*</a> <a id="837" href="Definition.Conversion.Reduction.html#837" class="Bound">B⇒*</a> <a id="841" class="Symbol">(</a><a id="842" href="Definition.Conversion.html#2408" class="InductiveConstructor">[↑]</a> <a id="846" href="Definition.Conversion.Reduction.html#846" class="Bound">A″</a> <a id="849" href="Definition.Conversion.Reduction.html#849" class="Bound">B″</a> <a id="852" href="Definition.Conversion.Reduction.html#852" class="Bound">D</a> <a id="854" href="Definition.Conversion.Reduction.html#854" class="Bound">D′</a> <a id="857" href="Definition.Conversion.Reduction.html#857" class="Bound">whnfA″</a> <a id="864" href="Definition.Conversion.Reduction.html#864" class="Bound">whnfB″</a> <a id="871" href="Definition.Conversion.Reduction.html#871" class="Bound">A″&lt;&gt;B″</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">=</a>
  <a id="883" href="Definition.Conversion.html#2408" class="InductiveConstructor">[↑]</a> <a id="887" href="Definition.Conversion.Reduction.html#846" class="Bound">A″</a> <a id="890" href="Definition.Conversion.Reduction.html#849" class="Bound">B″</a> <a id="893" class="Symbol">(</a><a id="894" href="Definition.Conversion.Reduction.html#833" class="Bound">A⇒*</a> <a id="898" href="Definition.Typed.RedSteps.html#724" class="Function Operator">⇨*</a> <a id="901" href="Definition.Conversion.Reduction.html#852" class="Bound">D</a><a id="902" class="Symbol">)</a> <a id="904" class="Symbol">(</a><a id="905" href="Definition.Conversion.Reduction.html#837" class="Bound">B⇒*</a> <a id="909" href="Definition.Typed.RedSteps.html#724" class="Function Operator">⇨*</a> <a id="912" href="Definition.Conversion.Reduction.html#854" class="Bound">D′</a><a id="914" class="Symbol">)</a> <a id="916" href="Definition.Conversion.Reduction.html#857" class="Bound">whnfA″</a> <a id="923" href="Definition.Conversion.Reduction.html#864" class="Bound">whnfB″</a> <a id="930" href="Definition.Conversion.Reduction.html#871" class="Bound">A″&lt;&gt;B″</a>

<a id="938" class="Comment">-- Weak head expansion of algorithmic equality of terms.</a>
<a id="reductionConv↑Term"></a><a id="995" href="Definition.Conversion.Reduction.html#995" class="Function">reductionConv↑Term</a> <a id="1014" class="Symbol">:</a> <a id="1016" class="Symbol">∀</a> <a id="1018" class="Symbol">{</a><a id="1019" href="Definition.Conversion.Reduction.html#1019" class="Bound">t</a> <a id="1021" href="Definition.Conversion.Reduction.html#1021" class="Bound">t′</a> <a id="1024" href="Definition.Conversion.Reduction.html#1024" class="Bound">u</a> <a id="1026" href="Definition.Conversion.Reduction.html#1026" class="Bound">u′</a> <a id="1029" href="Definition.Conversion.Reduction.html#1029" class="Bound">A</a> <a id="1031" href="Definition.Conversion.Reduction.html#1031" class="Bound">B</a><a id="1032" class="Symbol">}</a>
                   <a id="1053" class="Symbol">→</a> <a id="1055" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="1057" href="Definition.Typed.html#12731" class="Datatype Operator">⊢</a> <a id="1059" href="Definition.Conversion.Reduction.html#1029" class="Bound">A</a> <a id="1061" href="Definition.Typed.html#12731" class="Datatype Operator">⇒*</a> <a id="1064" href="Definition.Conversion.Reduction.html#1031" class="Bound">B</a>
                   <a id="1085" class="Symbol">→</a> <a id="1087" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="1089" href="Definition.Typed.html#12516" class="Datatype Operator">⊢</a> <a id="1091" href="Definition.Conversion.Reduction.html#1019" class="Bound">t</a> <a id="1093" href="Definition.Typed.html#12516" class="Datatype Operator">⇒*</a> <a id="1096" href="Definition.Conversion.Reduction.html#1021" class="Bound">t′</a> <a id="1099" href="Definition.Typed.html#12516" class="Datatype Operator">∷</a> <a id="1101" href="Definition.Conversion.Reduction.html#1031" class="Bound">B</a>
                   <a id="1122" class="Symbol">→</a> <a id="1124" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="1126" href="Definition.Typed.html#12516" class="Datatype Operator">⊢</a> <a id="1128" href="Definition.Conversion.Reduction.html#1024" class="Bound">u</a> <a id="1130" href="Definition.Typed.html#12516" class="Datatype Operator">⇒*</a> <a id="1133" href="Definition.Conversion.Reduction.html#1026" class="Bound">u′</a> <a id="1136" href="Definition.Typed.html#12516" class="Datatype Operator">∷</a> <a id="1138" href="Definition.Conversion.Reduction.html#1031" class="Bound">B</a>
                   <a id="1159" class="Symbol">→</a> <a id="1161" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="1163" href="Definition.Conversion.html#3231" class="Record Operator">⊢</a> <a id="1165" href="Definition.Conversion.Reduction.html#1021" class="Bound">t′</a> <a id="1168" href="Definition.Conversion.html#3231" class="Record Operator">[conv↑]</a> <a id="1176" href="Definition.Conversion.Reduction.html#1026" class="Bound">u′</a> <a id="1179" href="Definition.Conversion.html#3231" class="Record Operator">∷</a> <a id="1181" href="Definition.Conversion.Reduction.html#1031" class="Bound">B</a>
                   <a id="1202" class="Symbol">→</a> <a id="1204" href="Definition.Conversion.Reduction.html#587" class="Generalizable">Γ</a> <a id="1206" href="Definition.Conversion.html#3231" class="Record Operator">⊢</a> <a id="1208" href="Definition.Conversion.Reduction.html#1019" class="Bound">t</a>  <a id="1211" href="Definition.Conversion.html#3231" class="Record Operator">[conv↑]</a> <a id="1219" href="Definition.Conversion.Reduction.html#1024" class="Bound">u</a>  <a id="1222" href="Definition.Conversion.html#3231" class="Record Operator">∷</a> <a id="1224" href="Definition.Conversion.Reduction.html#1029" class="Bound">A</a>
<a id="1226" href="Definition.Conversion.Reduction.html#995" class="Function">reductionConv↑Term</a> <a id="1245" href="Definition.Conversion.Reduction.html#1245" class="Bound">A⇒*</a> <a id="1249" href="Definition.Conversion.Reduction.html#1249" class="Bound">t⇒*</a> <a id="1253" href="Definition.Conversion.Reduction.html#1253" class="Bound">u⇒*</a> <a id="1257" class="Symbol">(</a><a id="1258" href="Definition.Conversion.html#3323" class="InductiveConstructor">[↑]ₜ</a> <a id="1263" href="Definition.Conversion.Reduction.html#1263" class="Bound">B′</a> <a id="1266" href="Definition.Conversion.Reduction.html#1266" class="Bound">t″</a> <a id="1269" href="Definition.Conversion.Reduction.html#1269" class="Bound">u″</a> <a id="1272" href="Definition.Conversion.Reduction.html#1272" class="Bound">D</a> <a id="1274" href="Definition.Conversion.Reduction.html#1274" class="Bound">d</a> <a id="1276" href="Definition.Conversion.Reduction.html#1276" class="Bound">d′</a> <a id="1279" href="Definition.Conversion.Reduction.html#1279" class="Bound">whnfB′</a> <a id="1286" href="Definition.Conversion.Reduction.html#1286" class="Bound">whnft″</a> <a id="1293" href="Definition.Conversion.Reduction.html#1293" class="Bound">whnfu″</a> <a id="1300" href="Definition.Conversion.Reduction.html#1300" class="Bound">t″&lt;&gt;u″</a><a id="1306" class="Symbol">)</a> <a id="1308" class="Symbol">=</a>
  <a id="1312" href="Definition.Conversion.html#3323" class="InductiveConstructor">[↑]ₜ</a> <a id="1317" href="Definition.Conversion.Reduction.html#1263" class="Bound">B′</a> <a id="1320" href="Definition.Conversion.Reduction.html#1266" class="Bound">t″</a> <a id="1323" href="Definition.Conversion.Reduction.html#1269" class="Bound">u″</a>
       <a id="1333" class="Symbol">(</a><a id="1334" href="Definition.Conversion.Reduction.html#1245" class="Bound">A⇒*</a> <a id="1338" href="Definition.Typed.RedSteps.html#724" class="Function Operator">⇨*</a> <a id="1341" href="Definition.Conversion.Reduction.html#1272" class="Bound">D</a><a id="1342" class="Symbol">)</a>
       <a id="1351" class="Symbol">((</a><a id="1353" href="Definition.Typed.RedSteps.html#1036" class="Function">conv*</a> <a id="1359" href="Definition.Conversion.Reduction.html#1249" class="Bound">t⇒*</a> <a id="1363" class="Symbol">(</a><a id="1364" href="Definition.Typed.Properties.html#3713" class="Function">subset*</a> <a id="1372" href="Definition.Conversion.Reduction.html#1272" class="Bound">D</a><a id="1373" class="Symbol">))</a> <a id="1376" href="Definition.Typed.RedSteps.html#876" class="Function Operator">⇨∷*</a> <a id="1380" href="Definition.Conversion.Reduction.html#1274" class="Bound">d</a><a id="1381" class="Symbol">)</a>
       <a id="1390" class="Symbol">((</a><a id="1392" href="Definition.Typed.RedSteps.html#1036" class="Function">conv*</a> <a id="1398" href="Definition.Conversion.Reduction.html#1253" class="Bound">u⇒*</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Definition.Typed.Properties.html#3713" class="Function">subset*</a> <a id="1411" href="Definition.Conversion.Reduction.html#1272" class="Bound">D</a><a id="1412" class="Symbol">))</a> <a id="1415" href="Definition.Typed.RedSteps.html#876" class="Function Operator">⇨∷*</a> <a id="1419" href="Definition.Conversion.Reduction.html#1276" class="Bound">d′</a><a id="1421" class="Symbol">)</a>
       <a id="1430" href="Definition.Conversion.Reduction.html#1279" class="Bound">whnfB′</a> <a id="1437" href="Definition.Conversion.Reduction.html#1286" class="Bound">whnft″</a> <a id="1444" href="Definition.Conversion.Reduction.html#1293" class="Bound">whnfu″</a> <a id="1451" href="Definition.Conversion.Reduction.html#1300" class="Bound">t″&lt;&gt;u″</a>
</pre></body></html>