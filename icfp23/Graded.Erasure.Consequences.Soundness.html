<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Consequences.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Soundness of the extraction function.</a>
<a id="115" class="Comment">------------------------------------------------------------------------</a>

<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="298" class="Keyword">module</a> <a id="305" href="Graded.Erasure.Consequences.Soundness.html" class="Module">Graded.Erasure.Consequences.Soundness</a>
  <a id="345" class="Symbol">{</a><a id="346" href="Graded.Erasure.Consequences.Soundness.html#346" class="Bound">a</a><a id="347" class="Symbol">}</a> <a id="349" class="Symbol">{</a><a id="350" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="352" class="Symbol">:</a> <a id="354" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="358" href="Graded.Erasure.Consequences.Soundness.html#346" class="Bound">a</a><a id="359" class="Symbol">}</a>
  <a id="363" class="Symbol">(</a><a id="364" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="366" class="Symbol">:</a> <a id="368" href="Graded.Modality.html#5282" class="Record">Modality</a> <a id="377" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="378" class="Symbol">)</a>
  <a id="382" class="Symbol">(</a><a id="383" class="Keyword">open</a> <a id="388" href="Graded.Modality.html#5282" class="Module">Modality</a> <a id="397" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a><a id="398" class="Symbol">)</a>
  <a id="402" class="Symbol">(</a><a id="403" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="406" class="Symbol">:</a> <a id="408" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="426" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="427" class="Symbol">)</a>
  <a id="431" class="Symbol">(</a><a id="432" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a> <a id="435" class="Symbol">:</a> <a id="437" href="Graded.Usage.Restrictions.html#316" class="Record">Usage-restrictions</a> <a id="456" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="457" class="Symbol">)</a>
  <a id="461" class="Symbol">(</a><a id="462" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a> <a id="477" class="Symbol">:</a> <a id="479" href="Graded.Modality.html#2867" class="Record">Has-well-behaved-zero</a> <a id="501" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="503" href="Graded.Modality.html#5395" class="Field">semiring-with-meet</a><a id="521" class="Symbol">)</a>
  <a id="525" class="Keyword">where</a>

<a id="532" class="Keyword">open</a> <a id="537" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="555" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="558" class="Keyword">open</a> <a id="563" href="Graded.Usage.Restrictions.html#316" class="Module">Usage-restrictions</a> <a id="582" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>

<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="617" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="619" class="Keyword">hiding</a> <a id="626" class="Symbol">(</a><a id="627" href="Definition.Untyped.NotParametrised.html#1148" class="InductiveConstructor Operator">_∷_</a><a id="630" class="Symbol">)</a>

<a id="633" class="Keyword">open</a> <a id="638" class="Keyword">import</a> <a id="645" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="662" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="665" class="Keyword">open</a> <a id="670" class="Keyword">import</a> <a id="677" href="Definition.Typed.Consequences.Inversion.html" class="Module">Definition.Typed.Consequences.Inversion</a> <a id="717" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Definition.Typed.Consequences.Substitution.html" class="Module">Definition.Typed.Consequences.Substitution</a> <a id="775" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="778" class="Keyword">import</a> <a id="785" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="826" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> as <a id="TC"></a><a id="832" href="Graded.Erasure.Consequences.Soundness.html#832" class="Module">TC</a>
<a id="835" class="Keyword">open</a> <a id="840" class="Keyword">import</a> <a id="847" href="Definition.Typed.EqualityRelation.html" class="Module">Definition.Typed.EqualityRelation</a>
<a id="881" class="Keyword">open</a> <a id="886" class="Keyword">import</a> <a id="893" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="921" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="924" class="Keyword">open</a> <a id="929" class="Keyword">import</a> <a id="936" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="963" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>

<a id="967" class="Keyword">open</a> <a id="972" class="Keyword">import</a> <a id="979" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="994" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1021" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1023" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1064" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>
<a id="1066" class="Keyword">open</a> <a id="1071" class="Keyword">import</a> <a id="1078" href="Graded.Modality.Properties.Has-well-behaved-zero.html" class="Module">Graded.Modality.Properties.Has-well-behaved-zero</a>
  <a id="1129" href="Graded.Modality.html#5395" class="Field">semiring-with-meet</a> <a id="1148" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a>
<a id="1163" class="Keyword">open</a> <a id="1168" class="Keyword">import</a> <a id="1175" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1187" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>

<a id="1190" class="Keyword">import</a> <a id="1197" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a> <a id="1219" class="Symbol">as</a> <a id="1222" class="Module">T</a>
<a id="1224" class="Keyword">open</a> <a id="1229" class="Keyword">import</a> <a id="1236" href="Graded.Erasure.Extraction.html" class="Module">Graded.Erasure.Extraction</a> <a id="1262" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1264" href="Graded.Modality.html#3067" class="Field">is-𝟘?</a>
<a id="1270" class="Keyword">open</a> <a id="1275" class="Keyword">import</a> <a id="1282" href="Graded.Erasure.SucRed.html" class="Module">Graded.Erasure.SucRed</a> <a id="1304" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="1307" class="Keyword">import</a> <a id="1314" href="Graded.Erasure.LogicalRelation.html" class="Module">Graded.Erasure.LogicalRelation</a> <a id="1345" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1347" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1350" href="Graded.Modality.html#3067" class="Field">is-𝟘?</a> as <a id="LR"></a><a id="1359" href="Graded.Erasure.Consequences.Soundness.html#1359" class="Module">LR</a>
<a id="1362" class="Keyword">open</a> <a id="1367" class="Keyword">import</a> <a id="1374" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html" class="Module">Graded.Erasure.LogicalRelation.Fundamental.Assumptions</a> <a id="1429" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1431" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1434" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>
<a id="1437" class="Keyword">import</a> <a id="1444" href="Graded.Erasure.LogicalRelation.Fundamental.html" class="Module">Graded.Erasure.LogicalRelation.Fundamental</a>
  <a id="1489" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1491" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1494" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a> <a id="1497" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a> as <a id="LRF"></a><a id="1515" href="Graded.Erasure.Consequences.Soundness.html#1515" class="Module">LRF</a>
<a id="1519" class="Keyword">import</a> <a id="1526" href="Graded.Erasure.LogicalRelation.Irrelevance.html" class="Module">Graded.Erasure.LogicalRelation.Irrelevance</a> <a id="1569" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1571" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1574" href="Graded.Modality.html#3067" class="Field">is-𝟘?</a> as <a id="LRI"></a><a id="1583" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a>
<a id="1587" class="Keyword">import</a> <a id="1594" href="Graded.Erasure.LogicalRelation.Subsumption.html" class="Module">Graded.Erasure.LogicalRelation.Subsumption</a> <a id="1637" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1639" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1642" href="Graded.Modality.html#3067" class="Field">is-𝟘?</a> as <a id="LRS"></a><a id="1651" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a>

<a id="1656" class="Keyword">open</a> <a id="1661" class="Keyword">import</a> <a id="1668" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="1678" class="Keyword">open</a> <a id="1683" class="Keyword">import</a> <a id="1690" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="1705" class="Keyword">open</a> <a id="1710" class="Keyword">import</a> <a id="1717" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="1727" class="Keyword">open</a> <a id="1732" class="Keyword">import</a> <a id="1739" href="Tools.Nullary.html" class="Module">Tools.Nullary</a>
<a id="1753" class="Keyword">open</a> <a id="1758" class="Keyword">import</a> <a id="1765" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="1779" class="Keyword">import</a> <a id="1786" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="1815" class="Keyword">open</a> <a id="1820" class="Keyword">import</a> <a id="1827" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="1855" class="Symbol">as</a> <a id="1858" class="Module">PE</a> <a id="1861" class="Keyword">hiding</a> <a id="1868" class="Symbol">(</a><a id="1869" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a><a id="1874" class="Symbol">)</a>
<a id="1876" class="Keyword">open</a> <a id="1881" class="Keyword">import</a> <a id="1888" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="1899" class="Keyword">private</a>
  <a id="1909" class="Keyword">variable</a>
    <a id="1922" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="1934" href="Graded.Erasure.Consequences.Soundness.html#1934" class="Generalizable">Δ</a> <a id="1936" class="Symbol">:</a> <a id="1938" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="1942" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1947" class="Symbol">_</a>
    <a id="1953" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="1955" href="Graded.Erasure.Consequences.Soundness.html#1955" class="Generalizable">t′</a> <a id="1958" href="Graded.Erasure.Consequences.Soundness.html#1958" class="Generalizable">u</a> <a id="1960" href="Graded.Erasure.Consequences.Soundness.html#1960" class="Generalizable">F</a> <a id="1962" class="Symbol">:</a> <a id="1964" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1969" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a>
    <a id="1975" href="Graded.Erasure.Consequences.Soundness.html#1975" class="Generalizable">G</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1984" class="Symbol">(</a><a id="1985" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="1988" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a><a id="1989" class="Symbol">)</a>
    <a id="1995" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="1997" href="Graded.Erasure.Consequences.Soundness.html#1997" class="Generalizable">v′</a> <a id="2000" href="Graded.Erasure.Consequences.Soundness.html#2000" class="Generalizable">w</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Graded.Erasure.Target.html#547" class="Datatype">T.Term</a> <a id="2011" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a>
    <a id="2017" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="2019" class="Symbol">:</a> <a id="2021" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a>

<a id="2024" class="Comment">-- WH reduction soundness of natural numbers</a>

<a id="2070" class="Comment">-- Canonical representation of natural numbers</a>

<a id="sucᵏ"></a><a id="2118" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="2123" class="Symbol">:</a> <a id="2125" class="Symbol">(</a><a id="2126" href="Graded.Erasure.Consequences.Soundness.html#2126" class="Bound">k</a> <a id="2128" class="Symbol">:</a> <a id="2130" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="2133" class="Symbol">)</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="2142" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a>
<a id="2144" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="2149" class="Number">0</a>      <a id="2156" class="Symbol">=</a> <a id="2158" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
<a id="2163" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="2168" class="Symbol">(</a><a id="2169" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="2172" href="Graded.Erasure.Consequences.Soundness.html#2172" class="Bound">n</a><a id="2173" class="Symbol">)</a> <a id="2175" class="Symbol">=</a> <a id="2177" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="2181" class="Symbol">(</a><a id="2182" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="2187" href="Graded.Erasure.Consequences.Soundness.html#2172" class="Bound">n</a><a id="2188" class="Symbol">)</a>

<a id="sucᵏ′"></a><a id="2191" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="2197" class="Symbol">:</a> <a id="2199" class="Symbol">(</a><a id="2200" href="Graded.Erasure.Consequences.Soundness.html#2200" class="Bound">k</a> <a id="2202" class="Symbol">:</a> <a id="2204" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="2207" class="Symbol">)</a> <a id="2209" class="Symbol">→</a> <a id="2211" href="Graded.Erasure.Target.html#547" class="Datatype">T.Term</a> <a id="2218" href="Graded.Erasure.Consequences.Soundness.html#1922" class="Generalizable">n</a>
<a id="2220" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="2226" class="Number">0</a>      <a id="2233" class="Symbol">=</a> <a id="2235" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
<a id="2242" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="2252" href="Graded.Erasure.Consequences.Soundness.html#2252" class="Bound">n</a><a id="2253" class="Symbol">)</a> <a id="2255" class="Symbol">=</a> <a id="2257" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="2270" href="Graded.Erasure.Consequences.Soundness.html#2252" class="Bound">n</a><a id="2271" class="Symbol">)</a>

<a id="2274" class="Comment">-- The following results make use of some assumptions.</a>

<a id="2330" class="Keyword">module</a> <a id="Soundness′"></a><a id="2337" href="Graded.Erasure.Consequences.Soundness.html#2337" class="Module">Soundness′</a>
  <a id="2350" class="Symbol">(</a><a id="2351" href="Graded.Erasure.Consequences.Soundness.html#2351" class="Bound">FA</a> <a id="2354" class="Symbol">:</a> <a id="2356" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1358" class="Record">Fundamental-assumptions</a> <a id="2380" href="Graded.Erasure.Consequences.Soundness.html#1934" class="Generalizable">Δ</a><a id="2381" class="Symbol">)</a>
  <a id="2385" class="Symbol">{{</a><a id="2387" href="Graded.Erasure.Consequences.Soundness.html#2387" class="Bound">eqrel</a> <a id="2393" class="Symbol">:</a> <a id="2395" href="Definition.Typed.EqualityRelation.html#900" class="Record">EqRelSet</a> <a id="2404" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a><a id="2406" class="Symbol">}}</a>
  <a id="2411" class="Keyword">where</a>

  <a id="2420" class="Keyword">open</a> <a id="2425" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1358" class="Module">Fundamental-assumptions</a> <a id="2449" href="Graded.Erasure.Consequences.Soundness.html#2351" class="Bound">FA</a>

  <a id="2455" class="Keyword">open</a> <a id="2460" href="Graded.Erasure.Consequences.Soundness.html#1359" class="Module">LR</a> <a id="2463" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Function">well-formed</a>
  <a id="2477" class="Keyword">open</a> <a id="2482" href="Graded.Erasure.LogicalRelation.Fundamental.html#6822" class="Module">LRF.Fundamental</a> <a id="2498" href="Graded.Erasure.Consequences.Soundness.html#2351" class="Bound">FA</a>
  <a id="2503" class="Keyword">open</a> <a id="2508" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a> <a id="2512" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Function">well-formed</a>
  <a id="2526" class="Keyword">open</a> <a id="2531" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a> <a id="2535" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Function">well-formed</a>

  <a id="2550" class="Comment">-- Helper lemma for WH reduction soundness of zero</a>
  <a id="2603" class="Comment">-- If t ® v ∷ℕ  and t ⇒* zero then v ⇒* zero</a>

  <a id="Soundness′.soundness-zero′"></a><a id="2651" href="Graded.Erasure.Consequences.Soundness.html#2651" class="Function">soundness-zero′</a> <a id="2667" class="Symbol">:</a> <a id="2669" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="2671" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">®</a> <a id="2673" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="2675" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">∷ℕ</a> <a id="2678" class="Symbol">→</a> <a id="2680" href="Graded.Erasure.Consequences.Soundness.html#2380" class="Bound">Δ</a> <a id="2682" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="2684" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="2686" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="2689" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a> <a id="2694" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="2696" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="2698" class="Symbol">→</a> <a id="2700" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="2702" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="2707" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
  <a id="2716" href="Graded.Erasure.Consequences.Soundness.html#2651" class="Function">soundness-zero′</a> <a id="2732" class="Symbol">(</a><a id="2733" href="Graded.Erasure.LogicalRelation.html#1727" class="InductiveConstructor">zeroᵣ</a> <a id="2739" href="Graded.Erasure.Consequences.Soundness.html#2739" class="Bound">t⇒zero′</a> <a id="2747" href="Graded.Erasure.Consequences.Soundness.html#2747" class="Bound">v⇒zero</a><a id="2753" class="Symbol">)</a> <a id="2755" href="Graded.Erasure.Consequences.Soundness.html#2755" class="Bound">t⇒zero</a> <a id="2762" class="Symbol">=</a> <a id="2764" href="Graded.Erasure.Consequences.Soundness.html#2747" class="Bound">v⇒zero</a>
  <a id="2773" href="Graded.Erasure.Consequences.Soundness.html#2651" class="Function">soundness-zero′</a> <a id="2789" class="Symbol">(</a><a id="2790" href="Graded.Erasure.LogicalRelation.html#1784" class="InductiveConstructor">sucᵣ</a> <a id="2795" href="Graded.Erasure.Consequences.Soundness.html#2795" class="Bound">t⇒suc</a> <a id="2801" href="Graded.Erasure.Consequences.Soundness.html#2801" class="Bound">v⇒suc</a> <a id="2807" href="Graded.Erasure.Consequences.Soundness.html#2807" class="Bound">t®v</a><a id="2810" class="Symbol">)</a> <a id="2812" href="Graded.Erasure.Consequences.Soundness.html#2812" class="Bound">t⇒zero</a>
    <a id="2823" class="Keyword">with</a> <a id="2828" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="2840" class="Symbol">(</a><a id="2841" href="Graded.Erasure.Consequences.Soundness.html#2812" class="Bound">t⇒zero</a> <a id="2848" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2850" href="Definition.Untyped.html#6178" class="InductiveConstructor">zeroₙ</a><a id="2855" class="Symbol">)</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Graded.Erasure.Consequences.Soundness.html#2795" class="Bound">t⇒suc</a> <a id="2864" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2866" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="2870" class="Symbol">)</a>
  <a id="2874" class="Symbol">...</a> <a id="2878" class="Symbol">|</a> <a id="2880" class="Symbol">()</a>

  <a id="2886" class="Comment">-- WH reduction soundness of zero</a>
  <a id="2922" class="Comment">-- If t ⇒* zero and 𝟘ᶜ ▸ t then erase t ⇒* zero</a>

  <a id="Soundness′.soundness-zero"></a><a id="2973" href="Graded.Erasure.Consequences.Soundness.html#2973" class="Function">soundness-zero</a> <a id="2988" class="Symbol">:</a>
    <a id="2994" href="Graded.Erasure.Consequences.Soundness.html#2380" class="Bound">Δ</a> <a id="2996" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="2998" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3000" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3003" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a> <a id="3008" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3010" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="3012" class="Symbol">→</a> <a id="3014" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="3017" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="3020" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="3023" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="3025" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3027" class="Symbol">→</a> <a id="3029" href="Graded.Erasure.Extraction.html#994" class="Function">erase</a> <a id="3035" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3037" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="3042" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
  <a id="3051" href="Graded.Erasure.Consequences.Soundness.html#2973" class="Function">soundness-zero</a> <a id="3066" href="Graded.Erasure.Consequences.Soundness.html#3066" class="Bound">t⇒zero</a> <a id="3073" href="Graded.Erasure.Consequences.Soundness.html#3073" class="Bound">𝟘▸t</a> <a id="3077" class="Symbol">=</a>
    <a id="3083" class="Keyword">let</a> <a id="3087" href="Graded.Erasure.Consequences.Soundness.html#3087" class="Bound">⊢t</a> <a id="3090" class="Symbol">=</a> <a id="3092" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="3106" href="Graded.Erasure.Consequences.Soundness.html#3066" class="Bound">t⇒zero</a>
        <a id="3121" href="Graded.Erasure.Consequences.Soundness.html#3121" class="Bound">[ℕ]</a> <a id="3125" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3127" href="Graded.Erasure.Consequences.Soundness.html#3127" class="Bound">t®t′</a> <a id="3132" class="Symbol">=</a> <a id="3134" href="Graded.Erasure.LogicalRelation.Fundamental.html#18854" class="Function">fundamentalErased</a> <a id="3152" href="Graded.Erasure.Consequences.Soundness.html#3087" class="Bound">⊢t</a> <a id="3155" href="Graded.Erasure.Consequences.Soundness.html#3073" class="Bound">𝟘▸t</a>
        <a id="3167" href="Graded.Erasure.Consequences.Soundness.html#3167" class="Bound">t®t″</a> <a id="3172" class="Symbol">=</a> <a id="3174" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3962" class="Function">irrelevanceTerm</a> <a id="3190" class="Symbol">{</a><a id="3191" class="Argument">l′</a> <a id="3194" class="Symbol">=</a> <a id="3196" href="Definition.LogicalRelation.html#5963" class="InductiveConstructor">¹</a><a id="3197" class="Symbol">}</a> <a id="3199" href="Graded.Erasure.Consequences.Soundness.html#3121" class="Bound">[ℕ]</a>
                 <a id="3220" class="Symbol">(</a><a id="3221" href="Definition.LogicalRelation.html#14811" class="InductiveConstructor">ℕᵣ</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="3234" class="Symbol">(</a><a id="3235" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="3238" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Function">well-formed</a><a id="3249" class="Symbol">)))</a> <a id="3253" class="Symbol">(</a><a id="3254" href="Graded.Erasure.Consequences.Soundness.html#3127" class="Bound">t®t′</a> <a id="3259" href="Graded.Erasure.LogicalRelation.Subsumption.html#2028" class="Function Operator">◀≢𝟘</a> <a id="3263" href="Graded.Modality.html#2996" class="Field">𝟙≢𝟘</a><a id="3266" class="Symbol">)</a>
    <a id="3272" class="Keyword">in</a>  <a id="3276" href="Graded.Erasure.Consequences.Soundness.html#2651" class="Function">soundness-zero′</a> <a id="3292" href="Graded.Erasure.Consequences.Soundness.html#3167" class="Bound">t®t″</a> <a id="3297" href="Graded.Erasure.Consequences.Soundness.html#3066" class="Bound">t⇒zero</a>

  <a id="3307" class="Comment">-- Helper lemma for WH reduction soundness of suc</a>
  <a id="3359" class="Comment">-- If t ® v ∷ℕ  and t ⇒* suc t′ then v ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

  <a id="Soundness′.soundness-suc′"></a><a id="3438" href="Graded.Erasure.Consequences.Soundness.html#3438" class="Function">soundness-suc′</a> <a id="3453" class="Symbol">:</a> <a id="3455" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3457" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">®</a> <a id="3459" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="3461" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">∷ℕ</a> <a id="3464" class="Symbol">→</a> <a id="3466" href="Graded.Erasure.Consequences.Soundness.html#2380" class="Bound">Δ</a> <a id="3468" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="3470" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3472" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3475" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="3479" href="Graded.Erasure.Consequences.Soundness.html#1955" class="Generalizable">t′</a> <a id="3482" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3484" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a>
                 <a id="3503" class="Symbol">→</a> <a id="3505" href="Data.Product.html#1378" class="Function">∃</a> <a id="3507" class="Symbol">λ</a> <a id="3509" href="Graded.Erasure.Consequences.Soundness.html#3509" class="Bound">v′</a> <a id="3512" class="Symbol">→</a> <a id="3514" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="3516" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="3521" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="3527" href="Graded.Erasure.Consequences.Soundness.html#3509" class="Bound">v′</a> <a id="3530" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3532" href="Graded.Erasure.Consequences.Soundness.html#1955" class="Generalizable">t′</a> <a id="3535" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">®</a> <a id="3537" href="Graded.Erasure.Consequences.Soundness.html#3509" class="Bound">v′</a> <a id="3540" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">∷ℕ</a>
  <a id="3545" href="Graded.Erasure.Consequences.Soundness.html#3438" class="Function">soundness-suc′</a> <a id="3560" class="Symbol">(</a><a id="3561" href="Graded.Erasure.LogicalRelation.html#1727" class="InductiveConstructor">zeroᵣ</a> <a id="3567" href="Graded.Erasure.Consequences.Soundness.html#3567" class="Bound">t⇒zero</a> <a id="3574" href="Graded.Erasure.Consequences.Soundness.html#3574" class="Bound">v⇒zero</a><a id="3580" class="Symbol">)</a> <a id="3582" href="Graded.Erasure.Consequences.Soundness.html#3582" class="Bound">t⇒suc</a>
    <a id="3592" class="Keyword">with</a> <a id="3597" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="3609" class="Symbol">(</a><a id="3610" href="Graded.Erasure.Consequences.Soundness.html#3567" class="Bound">t⇒zero</a> <a id="3617" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3619" href="Definition.Untyped.html#6178" class="InductiveConstructor">zeroₙ</a><a id="3624" class="Symbol">)</a> <a id="3626" class="Symbol">(</a><a id="3627" href="Graded.Erasure.Consequences.Soundness.html#3582" class="Bound">t⇒suc</a> <a id="3633" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3635" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3639" class="Symbol">)</a>
  <a id="3643" class="Symbol">...</a> <a id="3647" class="Symbol">|</a> <a id="3649" class="Symbol">()</a>
  <a id="3654" href="Graded.Erasure.Consequences.Soundness.html#3438" class="Function">soundness-suc′</a> <a id="3669" class="Symbol">(</a><a id="3670" href="Graded.Erasure.LogicalRelation.html#1784" class="InductiveConstructor">sucᵣ</a> <a id="3675" class="Symbol">{</a><a id="3676" class="Argument">v′</a> <a id="3679" class="Symbol">=</a> <a id="3681" href="Graded.Erasure.Consequences.Soundness.html#3681" class="Bound">v′</a><a id="3683" class="Symbol">}</a> <a id="3685" href="Graded.Erasure.Consequences.Soundness.html#3685" class="Bound">t⇒suc′</a> <a id="3692" href="Graded.Erasure.Consequences.Soundness.html#3692" class="Bound">v⇒suc</a> <a id="3698" href="Graded.Erasure.Consequences.Soundness.html#3698" class="Bound">t®v</a><a id="3701" class="Symbol">)</a> <a id="3703" href="Graded.Erasure.Consequences.Soundness.html#3703" class="Bound">t⇒suc</a>
    <a id="3713" class="Keyword">with</a> <a id="3718" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="3730" class="Symbol">(</a><a id="3731" href="Graded.Erasure.Consequences.Soundness.html#3703" class="Bound">t⇒suc</a> <a id="3737" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3739" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3743" class="Symbol">)</a> <a id="3745" class="Symbol">(</a><a id="3746" href="Graded.Erasure.Consequences.Soundness.html#3685" class="Bound">t⇒suc′</a> <a id="3753" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3755" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3759" class="Symbol">)</a>
  <a id="3763" class="Symbol">...</a> <a id="3767" class="Symbol">|</a> <a id="3769" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3774" class="Symbol">=</a> <a id="3776" class="Bound">v′</a> <a id="3779" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3781" class="Symbol">(</a><a id="3782" class="Bound">v⇒suc</a> <a id="3788" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3790" class="Bound">t®v</a><a id="3793" class="Symbol">)</a>

  <a id="3798" class="Comment">-- WH reduction soundness of suc</a>
  <a id="3833" class="Comment">-- If t ⇒* suc t′ and 𝟘ᶜ ▸ t then erase t ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

  <a id="Soundness′.soundness-suc"></a><a id="3915" href="Graded.Erasure.Consequences.Soundness.html#3915" class="Function">soundness-suc</a> <a id="3929" class="Symbol">:</a> <a id="3931" href="Graded.Erasure.Consequences.Soundness.html#2380" class="Bound">Δ</a> <a id="3933" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="3935" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="3937" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3940" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="3944" href="Graded.Erasure.Consequences.Soundness.html#1955" class="Generalizable">t′</a> <a id="3947" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3949" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="3951" class="Symbol">→</a> <a id="3953" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="3956" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="3959" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="3962" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="3964" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a>
                <a id="3982" class="Symbol">→</a> <a id="3984" href="Data.Product.html#1378" class="Function">∃</a> <a id="3986" class="Symbol">λ</a> <a id="3988" href="Graded.Erasure.Consequences.Soundness.html#3988" class="Bound">v′</a> <a id="3991" class="Symbol">→</a> <a id="3993" href="Graded.Erasure.Extraction.html#994" class="Function">erase</a> <a id="3999" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="4001" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="4006" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="4012" href="Graded.Erasure.Consequences.Soundness.html#3988" class="Bound">v′</a> <a id="4015" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4017" href="Graded.Erasure.Consequences.Soundness.html#1955" class="Generalizable">t′</a> <a id="4020" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">®</a> <a id="4022" href="Graded.Erasure.Consequences.Soundness.html#3988" class="Bound">v′</a> <a id="4025" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">∷ℕ</a>
  <a id="4030" href="Graded.Erasure.Consequences.Soundness.html#3915" class="Function">soundness-suc</a> <a id="4044" href="Graded.Erasure.Consequences.Soundness.html#4044" class="Bound">t⇒suc</a> <a id="4050" href="Graded.Erasure.Consequences.Soundness.html#4050" class="Bound">𝟘▸t</a> <a id="4054" class="Symbol">=</a>
    <a id="4060" class="Keyword">let</a> <a id="4064" href="Graded.Erasure.Consequences.Soundness.html#4064" class="Bound">⊢t</a> <a id="4067" class="Symbol">=</a> <a id="4069" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="4083" href="Graded.Erasure.Consequences.Soundness.html#4044" class="Bound">t⇒suc</a>
        <a id="4097" href="Graded.Erasure.Consequences.Soundness.html#4097" class="Bound">[ℕ]</a> <a id="4101" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4103" href="Graded.Erasure.Consequences.Soundness.html#4103" class="Bound">t®t′</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="Graded.Erasure.LogicalRelation.Fundamental.html#18854" class="Function">fundamentalErased</a> <a id="4128" href="Graded.Erasure.Consequences.Soundness.html#4064" class="Bound">⊢t</a> <a id="4131" href="Graded.Erasure.Consequences.Soundness.html#4050" class="Bound">𝟘▸t</a>
        <a id="4143" href="Graded.Erasure.Consequences.Soundness.html#4143" class="Bound">t®t″</a> <a id="4148" class="Symbol">=</a> <a id="4150" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3962" class="Function">irrelevanceTerm</a> <a id="4166" class="Symbol">{</a><a id="4167" class="Argument">l′</a> <a id="4170" class="Symbol">=</a> <a id="4172" href="Definition.LogicalRelation.html#5963" class="InductiveConstructor">¹</a><a id="4173" class="Symbol">}</a> <a id="4175" href="Graded.Erasure.Consequences.Soundness.html#4097" class="Bound">[ℕ]</a>
                 <a id="4196" class="Symbol">(</a><a id="4197" href="Definition.LogicalRelation.html#14811" class="InductiveConstructor">ℕᵣ</a> <a id="4200" class="Symbol">(</a><a id="4201" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="4214" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Function">well-formed</a><a id="4225" class="Symbol">)))</a> <a id="4229" class="Symbol">(</a><a id="4230" href="Graded.Erasure.Consequences.Soundness.html#4103" class="Bound">t®t′</a> <a id="4235" href="Graded.Erasure.LogicalRelation.Subsumption.html#2028" class="Function Operator">◀≢𝟘</a> <a id="4239" href="Graded.Modality.html#2996" class="Field">𝟙≢𝟘</a><a id="4242" class="Symbol">)</a>
    <a id="4248" class="Keyword">in</a>  <a id="4252" href="Graded.Erasure.Consequences.Soundness.html#3438" class="Function">soundness-suc′</a> <a id="4267" href="Graded.Erasure.Consequences.Soundness.html#4143" class="Bound">t®t″</a> <a id="4272" href="Graded.Erasure.Consequences.Soundness.html#4044" class="Bound">t⇒suc</a>

  <a id="4281" class="Comment">-- Helper lemma for soundness of natural numbers</a>

  <a id="Soundness′.soundness-ℕ′"></a><a id="4333" href="Graded.Erasure.Consequences.Soundness.html#4333" class="Function">soundness-ℕ′</a> <a id="4346" class="Symbol">:</a> <a id="4348" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="4350" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">®</a> <a id="4352" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="4354" href="Graded.Erasure.LogicalRelation.html#1675" class="Datatype Operator">∷ℕ</a> <a id="4357" class="Symbol">→</a> <a id="4359" href="Data.Product.html#1378" class="Function">∃</a> <a id="4361" class="Symbol">λ</a> <a id="4363" href="Graded.Erasure.Consequences.Soundness.html#4363" class="Bound">n</a> <a id="4365" class="Symbol">→</a> <a id="4367" href="Graded.Erasure.Consequences.Soundness.html#2380" class="Bound">Δ</a> <a id="4369" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⊢</a> <a id="4371" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="4373" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⇒ˢ*</a> <a id="4377" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="4382" href="Graded.Erasure.Consequences.Soundness.html#4363" class="Bound">n</a> <a id="4384" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">∷ℕ</a> <a id="4387" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4389" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="4391" href="Graded.Erasure.SucRed.html#3280" class="Datatype Operator">⇒ˢ*</a> <a id="4395" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="4401" href="Graded.Erasure.Consequences.Soundness.html#4363" class="Bound">n</a>
  <a id="4405" href="Graded.Erasure.Consequences.Soundness.html#4333" class="Function">soundness-ℕ′</a> <a id="4418" class="Symbol">(</a><a id="4419" href="Graded.Erasure.LogicalRelation.html#1727" class="InductiveConstructor">zeroᵣ</a> <a id="4425" href="Graded.Erasure.Consequences.Soundness.html#4425" class="Bound">x</a> <a id="4427" href="Graded.Erasure.Consequences.Soundness.html#4427" class="Bound">x₁</a><a id="4429" class="Symbol">)</a> <a id="4431" class="Symbol">=</a> <a id="4433" class="Number">0</a> <a id="4435" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4437" href="Graded.Erasure.SucRed.html#1459" class="Function">whred*</a> <a id="4444" href="Graded.Erasure.Consequences.Soundness.html#4425" class="Bound">x</a> <a id="4446" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4448" href="Graded.Erasure.SucRed.html#3494" class="Function">whred*′</a> <a id="4456" href="Graded.Erasure.Consequences.Soundness.html#4427" class="Bound">x₁</a>
  <a id="4461" href="Graded.Erasure.Consequences.Soundness.html#4333" class="Function">soundness-ℕ′</a> <a id="4474" class="Symbol">(</a><a id="4475" href="Graded.Erasure.LogicalRelation.html#1784" class="InductiveConstructor">sucᵣ</a> <a id="4480" href="Graded.Erasure.Consequences.Soundness.html#4480" class="Bound">x</a> <a id="4482" href="Graded.Erasure.Consequences.Soundness.html#4482" class="Bound">x₁</a> <a id="4485" href="Graded.Erasure.Consequences.Soundness.html#4485" class="Bound">t®v</a><a id="4488" class="Symbol">)</a> <a id="4490" class="Symbol">=</a>
    <a id="4496" class="Keyword">let</a> <a id="4500" href="Graded.Erasure.Consequences.Soundness.html#4500" class="Bound">n</a> <a id="4502" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4504" href="Graded.Erasure.Consequences.Soundness.html#4504" class="Bound">d</a> <a id="4506" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4508" href="Graded.Erasure.Consequences.Soundness.html#4508" class="Bound">d′</a> <a id="4511" class="Symbol">=</a> <a id="4513" href="Graded.Erasure.Consequences.Soundness.html#4333" class="Function">soundness-ℕ′</a> <a id="4526" href="Graded.Erasure.Consequences.Soundness.html#4485" class="Bound">t®v</a>
    <a id="4534" class="Keyword">in</a>  <a id="4538" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="4541" href="Graded.Erasure.Consequences.Soundness.html#4500" class="Bound">n</a> <a id="4543" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4545" href="Graded.Erasure.SucRed.html#1318" class="Function">⇒ˢ*∷ℕ-trans</a> <a id="4557" class="Symbol">(</a><a id="4558" href="Graded.Erasure.SucRed.html#1459" class="Function">whred*</a> <a id="4565" href="Graded.Erasure.Consequences.Soundness.html#4480" class="Bound">x</a><a id="4566" class="Symbol">)</a> <a id="4568" class="Symbol">(</a><a id="4569" href="Graded.Erasure.SucRed.html#1559" class="Function">sucred*</a> <a id="4577" href="Graded.Erasure.Consequences.Soundness.html#4504" class="Bound">d</a><a id="4578" class="Symbol">)</a>
             <a id="4593" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4595" href="Graded.Erasure.SucRed.html#3374" class="Function">⇒ˢ*-trans</a> <a id="4605" class="Symbol">(</a><a id="4606" href="Graded.Erasure.SucRed.html#3494" class="Function">whred*′</a> <a id="4614" href="Graded.Erasure.Consequences.Soundness.html#4482" class="Bound">x₁</a><a id="4616" class="Symbol">)</a> <a id="4618" class="Symbol">(</a><a id="4619" href="Graded.Erasure.SucRed.html#3598" class="Function">sucred*′</a> <a id="4628" href="Graded.Erasure.Consequences.Soundness.html#4508" class="Bound">d′</a><a id="4630" class="Symbol">)</a>

  <a id="4635" class="Comment">-- Helper lemma for WH reduction soundness of unit</a>

  <a id="Soundness′.soundness-star′"></a><a id="4689" href="Graded.Erasure.Consequences.Soundness.html#4689" class="Function">soundness-star′</a> <a id="4705" class="Symbol">:</a> <a id="4707" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="4709" href="Graded.Erasure.LogicalRelation.html#2157" class="Datatype Operator">®</a> <a id="4711" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="4713" href="Graded.Erasure.LogicalRelation.html#2157" class="Datatype Operator">∷Unit</a> <a id="4719" class="Symbol">→</a> <a id="4721" href="Graded.Erasure.Consequences.Soundness.html#1995" class="Generalizable">v</a> <a id="4723" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="4728" href="Graded.Erasure.Target.html#964" class="InductiveConstructor">T.star</a>
  <a id="4737" href="Graded.Erasure.Consequences.Soundness.html#4689" class="Function">soundness-star′</a> <a id="4753" class="Symbol">(</a><a id="4754" href="Graded.Erasure.LogicalRelation.html#2212" class="InductiveConstructor">starᵣ</a> <a id="4760" class="Symbol">_</a> <a id="4762" href="Graded.Erasure.Consequences.Soundness.html#4762" class="Bound">v⇒star</a><a id="4768" class="Symbol">)</a> <a id="4770" class="Symbol">=</a> <a id="4772" href="Graded.Erasure.Consequences.Soundness.html#4762" class="Bound">v⇒star</a>

<a id="4780" class="Comment">-- The following results make use of some assumptions.</a>

<a id="4836" class="Keyword">module</a> <a id="Soundness"></a><a id="4843" href="Graded.Erasure.Consequences.Soundness.html#4843" class="Module">Soundness</a> <a id="4853" class="Symbol">(</a><a id="4854" href="Graded.Erasure.Consequences.Soundness.html#4854" class="Bound">FA⁻</a> <a id="4858" class="Symbol">:</a> <a id="4860" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#939" class="Record">Fundamental-assumptions⁻</a> <a id="4885" href="Graded.Erasure.Consequences.Soundness.html#1934" class="Generalizable">Δ</a><a id="4886" class="Symbol">)</a> <a id="4888" class="Keyword">where</a>

  <a id="4897" class="Keyword">private</a> <a id="4905" class="Keyword">module</a> <a id="Soundness.L"></a><a id="4912" href="Graded.Erasure.Consequences.Soundness.html#4912" class="Module">L</a> <a id="4914" class="Symbol">(</a><a id="4915" href="Graded.Erasure.Consequences.Soundness.html#4915" class="Bound">⊢Δ</a> <a id="4918" class="Symbol">:</a> <a id="4920" href="Definition.Typed.html#964" class="Datatype Operator">⊢</a> <a id="4922" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a><a id="4923" class="Symbol">)</a> <a id="4925" class="Keyword">where</a>

    <a id="4936" class="Keyword">open</a> <a id="4941" class="Keyword">import</a> <a id="4948" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="4979" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="4982" class="Keyword">public</a>

    <a id="Soundness.L.FA"></a><a id="4994" href="Graded.Erasure.Consequences.Soundness.html#4994" class="Function">FA</a> <a id="4997" class="Symbol">:</a> <a id="4999" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1358" class="Record">Fundamental-assumptions</a> <a id="5023" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a>
    <a id="5029" href="Graded.Erasure.Consequences.Soundness.html#4994" class="Function">FA</a> <a id="5032" class="Symbol">=</a> <a id="5034" class="Keyword">record</a>
      <a id="5047" class="Symbol">{</a> <a id="5049" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1478" class="Field">well-formed</a>       <a id="5067" class="Symbol">=</a> <a id="5069" href="Graded.Erasure.Consequences.Soundness.html#4915" class="Bound">⊢Δ</a>
      <a id="5078" class="Symbol">;</a> <a id="5080" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1526" class="Field">other-assumptions</a> <a id="5098" class="Symbol">=</a> <a id="5100" href="Graded.Erasure.Consequences.Soundness.html#4854" class="Bound">FA⁻</a>
      <a id="5110" class="Symbol">}</a>

    <a id="5117" class="Keyword">open</a> <a id="5122" href="Graded.Erasure.Consequences.Soundness.html#2337" class="Module">Soundness′</a> <a id="5133" href="Graded.Erasure.Consequences.Soundness.html#4994" class="Function">FA</a> <a id="5136" class="Keyword">public</a>

    <a id="5148" class="Keyword">open</a> <a id="5153" href="Graded.Erasure.LogicalRelation.Fundamental.html#6822" class="Module">LRF.Fundamental</a> <a id="5169" href="Graded.Erasure.Consequences.Soundness.html#4994" class="Function">FA</a> <a id="5172" class="Keyword">public</a>
    <a id="5183" class="Keyword">open</a> <a id="5188" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a> <a id="5192" href="Graded.Erasure.Consequences.Soundness.html#4915" class="Bound">⊢Δ</a> <a id="5195" class="Keyword">public</a>
    <a id="5206" class="Keyword">open</a> <a id="5211" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a> <a id="5215" href="Graded.Erasure.Consequences.Soundness.html#4915" class="Bound">⊢Δ</a> <a id="5218" class="Keyword">public</a>

  <a id="5228" class="Comment">-- Soundness for erasure of natural numbers</a>
  <a id="5274" class="Comment">-- Well-typed terms of the natural number type reduce to numerals</a>
  <a id="5342" class="Comment">-- if erased matches are disallowed or the term is closed.</a>
  <a id="5403" class="Comment">--</a>
  <a id="5408" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-ℕ"></a><a id="5466" href="Graded.Erasure.Consequences.Soundness.html#5466" class="Function">soundness-ℕ</a> <a id="5478" class="Symbol">:</a> <a id="5480" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a> <a id="5482" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="5484" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="5486" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="5488" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="5490" class="Symbol">→</a> <a id="5492" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="5495" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="5498" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="5501" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="5503" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a>
              <a id="5519" class="Symbol">→</a> <a id="5521" href="Data.Product.html#1378" class="Function">∃</a> <a id="5523" class="Symbol">λ</a> <a id="5525" href="Graded.Erasure.Consequences.Soundness.html#5525" class="Bound">n</a> <a id="5527" class="Symbol">→</a> <a id="5529" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a> <a id="5531" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⊢</a> <a id="5533" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="5535" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⇒ˢ*</a> <a id="5539" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="5544" href="Graded.Erasure.Consequences.Soundness.html#5525" class="Bound">n</a> <a id="5546" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">∷ℕ</a> <a id="5549" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5551" href="Graded.Erasure.Extraction.html#994" class="Function">erase</a> <a id="5557" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="5559" href="Graded.Erasure.SucRed.html#3280" class="Datatype Operator">⇒ˢ*</a> <a id="5563" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="5569" href="Graded.Erasure.Consequences.Soundness.html#5525" class="Bound">n</a>
  <a id="5573" href="Graded.Erasure.Consequences.Soundness.html#5466" class="Function">soundness-ℕ</a> <a id="5585" href="Graded.Erasure.Consequences.Soundness.html#5585" class="Bound">⊢t</a> <a id="5588" href="Graded.Erasure.Consequences.Soundness.html#5588" class="Bound">𝟘▸t</a> <a id="5592" class="Symbol">=</a>
    <a id="5598" class="Keyword">let</a> <a id="5602" href="Graded.Erasure.Consequences.Soundness.html#5602" class="Bound">[ℕ]</a> <a id="5606" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5608" href="Graded.Erasure.Consequences.Soundness.html#5608" class="Bound">t®v</a> <a id="5612" class="Symbol">=</a> <a id="5614" href="Graded.Erasure.LogicalRelation.Fundamental.html#18854" class="Function">fundamentalErased</a> <a id="5632" href="Graded.Erasure.Consequences.Soundness.html#5585" class="Bound">⊢t</a> <a id="5635" href="Graded.Erasure.Consequences.Soundness.html#5588" class="Bound">𝟘▸t</a>
    <a id="5643" class="Keyword">in</a>  <a id="5647" href="Graded.Erasure.Consequences.Soundness.html#4333" class="Function">soundness-ℕ′</a> <a id="5660" href="Function.Base.html#1928" class="Function Operator">$</a>
        <a id="5670" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3962" class="Function">irrelevanceTerm</a> <a id="5686" class="Symbol">{</a><a id="5687" class="Argument">l′</a> <a id="5690" class="Symbol">=</a> <a id="5692" href="Definition.LogicalRelation.html#5963" class="InductiveConstructor">¹</a><a id="5693" class="Symbol">}</a> <a id="5695" href="Graded.Erasure.Consequences.Soundness.html#5602" class="Bound">[ℕ]</a> <a id="5699" class="Symbol">(</a><a id="5700" href="Definition.LogicalRelation.html#14811" class="InductiveConstructor">ℕᵣ</a> <a id="5703" class="Symbol">(</a><a id="5704" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="5713" class="Symbol">(</a><a id="5714" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="5717" href="Graded.Erasure.Consequences.Soundness.html#5761" class="Function">⊢Δ</a><a id="5719" class="Symbol">)))</a>
          <a id="5733" class="Symbol">(</a><a id="5734" href="Graded.Erasure.Consequences.Soundness.html#5608" class="Bound">t®v</a> <a id="5738" href="Graded.Erasure.LogicalRelation.Subsumption.html#2028" class="Function Operator">◀≢𝟘</a> <a id="5742" href="Graded.Modality.html#2996" class="Field">𝟙≢𝟘</a><a id="5745" class="Symbol">)</a>
    <a id="5751" class="Keyword">where</a>
    <a id="5761" href="Graded.Erasure.Consequences.Soundness.html#5761" class="Function">⊢Δ</a> <a id="5764" class="Symbol">=</a> <a id="5766" href="Definition.Typed.Properties.html#720" class="Function">wfTerm</a> <a id="5773" href="Graded.Erasure.Consequences.Soundness.html#5585" class="Bound">⊢t</a>

    <a id="5781" class="Keyword">open</a> <a id="5786" href="Graded.Erasure.Consequences.Soundness.html#4912" class="Module">L</a> <a id="5788" href="Graded.Erasure.Consequences.Soundness.html#5761" class="Function">⊢Δ</a>

  <a id="5794" class="Comment">-- A variant of soundness-ℕ which only considers the source</a>
  <a id="5856" class="Comment">-- language.</a>
  <a id="5871" class="Comment">--</a>
  <a id="5876" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-ℕ-only-source"></a><a id="5934" href="Graded.Erasure.Consequences.Soundness.html#5934" class="Function">soundness-ℕ-only-source</a> <a id="5958" class="Symbol">:</a>
    <a id="5964" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a> <a id="5966" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="5968" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="5970" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="5972" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="5974" class="Symbol">→</a> <a id="5976" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="5979" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="5982" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="5985" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="5987" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="5989" class="Symbol">→</a>
    <a id="5995" href="Data.Product.html#1378" class="Function">∃</a> <a id="5997" class="Symbol">λ</a> <a id="5999" href="Graded.Erasure.Consequences.Soundness.html#5999" class="Bound">n</a> <a id="6001" class="Symbol">→</a> <a id="6003" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a> <a id="6005" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⊢</a> <a id="6007" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="6009" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⇒ˢ*</a> <a id="6013" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="6018" href="Graded.Erasure.Consequences.Soundness.html#5999" class="Bound">n</a> <a id="6020" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">∷ℕ</a>
  <a id="6025" href="Graded.Erasure.Consequences.Soundness.html#5934" class="Function">soundness-ℕ-only-source</a> <a id="6049" href="Graded.Erasure.Consequences.Soundness.html#6049" class="Bound">⊢t</a> <a id="6052" href="Graded.Erasure.Consequences.Soundness.html#6052" class="Bound">▸t</a> <a id="6055" class="Symbol">=</a>
    <a id="6061" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="6066" href="Graded.Erasure.Consequences.Soundness.html#5466" class="Function">soundness-ℕ</a> <a id="6078" href="Graded.Erasure.Consequences.Soundness.html#6049" class="Bound">⊢t</a> <a id="6081" href="Graded.Erasure.Consequences.Soundness.html#6052" class="Bound">▸t</a> <a id="6084" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="6087" class="Symbol">λ</a> <a id="6089" class="Symbol">{</a>
      <a id="6097" class="Symbol">(</a><a id="6098" href="Graded.Erasure.Consequences.Soundness.html#6098" class="Bound">n</a> <a id="6100" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6102" href="Graded.Erasure.Consequences.Soundness.html#6102" class="Bound">t⇒ˢ*n</a> <a id="6108" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6110" class="Symbol">_)</a> <a id="6113" class="Symbol">→</a>
        <a id="6123" href="Graded.Erasure.Consequences.Soundness.html#6098" class="Bound">n</a> <a id="6125" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6127" href="Graded.Erasure.Consequences.Soundness.html#6102" class="Bound">t⇒ˢ*n</a> <a id="6133" class="Symbol">}</a>

  <a id="6138" class="Comment">-- WH reduction soundness of unit</a>
  <a id="6174" class="Comment">--</a>
  <a id="6179" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-star"></a><a id="6237" href="Graded.Erasure.Consequences.Soundness.html#6237" class="Function">soundness-star</a> <a id="6252" class="Symbol">:</a>
    <a id="6258" href="Graded.Erasure.Consequences.Soundness.html#4885" class="Bound">Δ</a> <a id="6260" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="6262" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="6264" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="6267" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a> <a id="6272" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="6274" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a> <a id="6279" class="Symbol">→</a> <a id="6281" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="6284" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="6287" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="6290" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="6292" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="6294" class="Symbol">→</a> <a id="6296" href="Graded.Erasure.Extraction.html#994" class="Function">erase</a> <a id="6302" href="Graded.Erasure.Consequences.Soundness.html#1953" class="Generalizable">t</a> <a id="6304" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="6309" href="Graded.Erasure.Target.html#964" class="InductiveConstructor">T.star</a>
  <a id="6318" href="Graded.Erasure.Consequences.Soundness.html#6237" class="Function">soundness-star</a> <a id="6333" href="Graded.Erasure.Consequences.Soundness.html#6333" class="Bound">t⇒star</a> <a id="6340" href="Graded.Erasure.Consequences.Soundness.html#6340" class="Bound">γ▸t</a> <a id="6344" class="Symbol">=</a>
    <a id="6350" class="Keyword">let</a> <a id="6354" href="Graded.Erasure.Consequences.Soundness.html#6354" class="Bound">⊢t</a> <a id="6357" class="Symbol">=</a> <a id="6359" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="6373" href="Graded.Erasure.Consequences.Soundness.html#6333" class="Bound">t⇒star</a>
        <a id="6388" href="Graded.Erasure.Consequences.Soundness.html#6388" class="Bound">[⊤]</a> <a id="6392" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6394" href="Graded.Erasure.Consequences.Soundness.html#6394" class="Bound">t®t′</a> <a id="6399" class="Symbol">=</a> <a id="6401" href="Graded.Erasure.LogicalRelation.Fundamental.html#18854" class="Function">fundamentalErased</a> <a id="6419" href="Graded.Erasure.Consequences.Soundness.html#6354" class="Bound">⊢t</a> <a id="6422" href="Graded.Erasure.Consequences.Soundness.html#6340" class="Bound">γ▸t</a>
        <a id="6434" href="Graded.Erasure.Consequences.Soundness.html#6434" class="Bound">ok</a> <a id="6437" class="Symbol">=</a> <a id="6439" href="Definition.Typed.Consequences.Inversion.html#1878" class="Function">⊢∷Unit→Unit-allowed</a> <a id="6459" href="Graded.Erasure.Consequences.Soundness.html#6354" class="Bound">⊢t</a>
        <a id="6470" href="Graded.Erasure.Consequences.Soundness.html#6470" class="Bound">t®t″</a> <a id="6475" class="Symbol">=</a> <a id="6477" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3962" class="Function">irrelevanceTerm</a> <a id="6493" class="Symbol">{</a><a id="6494" class="Argument">l′</a> <a id="6497" class="Symbol">=</a> <a id="6499" href="Definition.LogicalRelation.html#5963" class="InductiveConstructor">¹</a><a id="6500" class="Symbol">}</a>
                 <a id="6519" href="Graded.Erasure.Consequences.Soundness.html#6388" class="Bound">[⊤]</a>
                 <a id="6540" class="Symbol">(</a><a id="6541" href="Definition.LogicalRelation.html#14890" class="InductiveConstructor">Unitᵣ</a> <a id="6547" class="Symbol">(</a><a id="6548" href="Definition.LogicalRelation.html#5395" class="InductiveConstructor">Unitₜ</a> <a id="6554" class="Symbol">(</a><a id="6555" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="6564" class="Symbol">(</a><a id="6565" href="Definition.Typed.html#1213" class="InductiveConstructor">Unitⱼ</a> <a id="6571" href="Graded.Erasure.Consequences.Soundness.html#6659" class="Function">⊢Δ</a> <a id="6574" href="Graded.Erasure.Consequences.Soundness.html#6434" class="Bound">ok</a><a id="6576" class="Symbol">))</a> <a id="6579" href="Graded.Erasure.Consequences.Soundness.html#6434" class="Bound">ok</a><a id="6581" class="Symbol">))</a>
                 <a id="6601" class="Symbol">(</a><a id="6602" href="Graded.Erasure.Consequences.Soundness.html#6394" class="Bound">t®t′</a> <a id="6607" href="Graded.Erasure.LogicalRelation.Subsumption.html#2028" class="Function Operator">◀≢𝟘</a> <a id="6611" href="Graded.Modality.html#2996" class="Field">𝟙≢𝟘</a><a id="6614" class="Symbol">)</a>
    <a id="6620" class="Keyword">in</a>  <a id="6624" href="Graded.Erasure.Consequences.Soundness.html#4689" class="Function">soundness-star′</a> <a id="6640" href="Graded.Erasure.Consequences.Soundness.html#6470" class="Bound">t®t″</a>
    <a id="6649" class="Keyword">where</a>
    <a id="6659" href="Graded.Erasure.Consequences.Soundness.html#6659" class="Function">⊢Δ</a> <a id="6662" class="Symbol">=</a> <a id="6664" href="Definition.Typed.Properties.html#720" class="Function">wfTerm</a> <a id="6671" class="Symbol">(</a><a id="6672" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="6686" href="Graded.Erasure.Consequences.Soundness.html#6333" class="Bound">t⇒star</a><a id="6692" class="Symbol">)</a>

    <a id="6699" class="Keyword">open</a> <a id="6704" href="Graded.Erasure.Consequences.Soundness.html#4912" class="Module">L</a> <a id="6706" href="Graded.Erasure.Consequences.Soundness.html#6659" class="Function">⊢Δ</a>

<a id="6710" class="Comment">-- If the context is empty, then the results in Soundness hold without</a>
<a id="6781" class="Comment">-- any further assumptions.</a>

<a id="6810" class="Keyword">module</a> <a id="Soundness₀"></a><a id="6817" href="Graded.Erasure.Consequences.Soundness.html#6817" class="Module">Soundness₀</a> <a id="6828" class="Keyword">where</a>

  <a id="6837" class="Keyword">open</a> <a id="6842" href="Graded.Erasure.Consequences.Soundness.html#4843" class="Module">Soundness</a> <a id="6852" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1703" class="Function">fundamental-assumptions⁻₀</a> <a id="6878" class="Keyword">public</a>

<a id="6886" class="Comment">-- If Prodrec-allowed 𝟘 p 𝟘 holds for some p (which means that certain</a>
<a id="6957" class="Comment">-- kinds of erased matches are allowed), and if additionally</a>
<a id="7018" class="Comment">-- Σᵣ-allowed p 𝟘 holds, then there is a counterexample to</a>
<a id="7077" class="Comment">-- soundness-ℕ-only-source without the assumption &quot;erased matches are</a>
<a id="7147" class="Comment">-- not allowed unless the context is empty&quot;.</a>

<a id="soundness-ℕ-only-source-counterexample"></a><a id="7193" href="Graded.Erasure.Consequences.Soundness.html#7193" class="Function">soundness-ℕ-only-source-counterexample</a> <a id="7232" class="Symbol">:</a>
  <a id="7236" href="Graded.Usage.Restrictions.html#469" class="Function">Prodrec-allowed</a> <a id="7252" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7254" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="7256" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7258" class="Symbol">→</a>
  <a id="7262" href="Definition.Typed.Restrictions.html#1075" class="Function">Σᵣ-allowed</a> <a id="7273" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="7275" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7277" class="Symbol">→</a>
  <a id="7281" class="Keyword">let</a> <a id="7285" href="Graded.Erasure.Consequences.Soundness.html#7285" class="Bound">Δ</a> <a id="7287" class="Symbol">=</a> <a id="7289" class="InductiveConstructor">ε</a> <a id="7291" class="InductiveConstructor Operator">∙</a> <a id="7293" class="Symbol">(</a><a id="7294" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">Σᵣ</a> <a id="7297" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="7299" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">,</a> <a id="7301" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7303" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">▷</a> <a id="7305" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7307" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">▹</a> <a id="7309" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a><a id="7310" class="Symbol">)</a>
      <a id="7318" href="Graded.Erasure.Consequences.Soundness.html#7318" class="Bound">t</a> <a id="7320" class="Symbol">=</a> <a id="7322" href="Definition.Untyped.html#3587" class="InductiveConstructor">prodrec</a> <a id="7330" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7332" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="7334" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7336" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7338" class="Symbol">(</a><a id="7339" class="InductiveConstructor">var</a> <a id="7343" href="Data.Fin.Base.html#1157" class="InductiveConstructor">x0</a><a id="7345" class="Symbol">)</a> <a id="7347" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
  <a id="7354" class="Keyword">in</a>
  <a id="7359" class="Symbol">(∀</a> <a id="7362" class="Symbol">{</a><a id="7363" href="Graded.Erasure.Consequences.Soundness.html#7363" class="Bound">u</a><a id="7364" class="Symbol">}</a> <a id="7366" class="Symbol">→</a> <a id="7368" href="Graded.Erasure.Consequences.Soundness.html#7285" class="Bound">Δ</a> <a id="7370" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="7372" href="Graded.Erasure.Consequences.Soundness.html#7363" class="Bound">u</a> <a id="7374" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="7376" href="Definition.Untyped.html#2654" class="InductiveConstructor">Empty</a> <a id="7382" class="Symbol">→</a> <a id="7384" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="7385" class="Symbol">)</a> <a id="7387" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7391" href="Graded.Erasure.Consequences.Soundness.html#7285" class="Bound">Δ</a> <a id="7393" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="7395" href="Graded.Erasure.Consequences.Soundness.html#7318" class="Bound">t</a> <a id="7397" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="7399" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7401" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7405" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="7408" href="Graded.Usage.html#2169" class="Datatype Operator">▸[</a> <a id="7411" href="Graded.Mode.html#1101" class="InductiveConstructor">𝟙ᵐ</a> <a id="7414" href="Graded.Usage.html#2169" class="Datatype Operator">]</a> <a id="7416" href="Graded.Erasure.Consequences.Soundness.html#7318" class="Bound">t</a> <a id="7418" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7422" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="7424" href="Data.Product.html#1378" class="Function">∃</a> <a id="7426" class="Symbol">λ</a> <a id="7428" href="Graded.Erasure.Consequences.Soundness.html#7428" class="Bound">n</a> <a id="7430" class="Symbol">→</a> <a id="7432" href="Graded.Erasure.Consequences.Soundness.html#7285" class="Bound">Δ</a> <a id="7434" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⊢</a> <a id="7436" href="Graded.Erasure.Consequences.Soundness.html#7318" class="Bound">t</a> <a id="7438" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">⇒ˢ*</a> <a id="7442" href="Graded.Erasure.Consequences.Soundness.html#2118" class="Function">sucᵏ</a> <a id="7447" href="Graded.Erasure.Consequences.Soundness.html#7428" class="Bound">n</a> <a id="7449" href="Graded.Erasure.SucRed.html#1166" class="Datatype Operator">∷ℕ</a>
<a id="7452" href="Graded.Erasure.Consequences.Soundness.html#7193" class="Function">soundness-ℕ-only-source-counterexample</a> <a id="7491" class="Symbol">{</a><a id="7492" class="Argument">p</a> <a id="7494" class="Symbol">=</a> <a id="7496" href="Graded.Erasure.Consequences.Soundness.html#7496" class="Bound">p</a><a id="7497" class="Symbol">}</a> <a id="7499" href="Graded.Erasure.Consequences.Soundness.html#7499" class="Bound">P-ok</a> <a id="7504" href="Graded.Erasure.Consequences.Soundness.html#7504" class="Bound">Σᵣ-ok</a> <a id="7510" class="Symbol">=</a>
    <a id="7516" class="Symbol">(λ</a> <a id="7519" href="Graded.Erasure.Consequences.Soundness.html#7519" class="Bound">⊢t</a> <a id="7522" class="Symbol">→</a> <a id="7524" href="Definition.Typed.Consequences.Canonicity.html#2089" class="Function">TC.¬Empty</a> <a id="7534" href="Function.Base.html#1928" class="Function Operator">$</a>
            <a id="7548" href="Definition.Typed.Consequences.Substitution.html#6864" class="Function">substTerm</a> <a id="7558" href="Graded.Erasure.Consequences.Soundness.html#7519" class="Bound">⊢t</a> <a id="7561" class="Symbol">(</a><a id="7562" href="Definition.Typed.html#2175" class="InductiveConstructor">prodⱼ</a> <a id="7568" href="Graded.Erasure.Consequences.Soundness.html#8502" class="Function">ε⊢ℕ</a> <a id="7572" href="Graded.Erasure.Consequences.Soundness.html#8531" class="Function">εℕ⊢ℕ</a> <a id="7577" class="Symbol">(</a><a id="7578" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="7584" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="7585" class="Symbol">)</a> <a id="7587" class="Symbol">(</a><a id="7588" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="7594" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="7595" class="Symbol">)</a> <a id="7597" href="Graded.Erasure.Consequences.Soundness.html#7504" class="Bound">Σᵣ-ok</a><a id="7602" class="Symbol">))</a>
  <a id="7607" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7609" href="Graded.Erasure.Consequences.Soundness.html#8735" class="Function">⊢prodrec</a>
  <a id="7620" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7622" href="Graded.Usage.html#4311" class="InductiveConstructor">sub</a>
      <a id="7632" class="Symbol">(</a><a id="7633" href="Graded.Usage.html#3111" class="InductiveConstructor">prodrecₘ</a> <a id="7642" href="Graded.Usage.html#2463" class="InductiveConstructor">var</a>
         <a id="7655" class="Symbol">(</a><a id="7656" href="Graded.Usage.html#4311" class="InductiveConstructor">sub</a> <a id="7660" href="Graded.Usage.html#3325" class="InductiveConstructor">zeroₘ</a> <a id="7666" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="7678" class="Keyword">let</a> <a id="7682" class="Keyword">open</a> <a id="7687" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="7716" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="7725" class="Keyword">in</a> <a id="7728" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
            <a id="7746" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="7749" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="7751" href="Graded.Modality.html#846" class="Function">𝟙</a> <a id="7753" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="7755" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7757" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="7759" href="Graded.Erasure.Consequences.Soundness.html#7496" class="Bound">p</a> <a id="7761" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="7763" href="Graded.Modality.html#846" class="Function">𝟙</a> <a id="7765" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="7767" href="Graded.Modality.html#836" class="Function">𝟘</a>  <a id="7770" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="7773" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="7781" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="7783" href="Graded.Modality.html#2238" class="Function">·-congˡ</a> <a id="7791" class="Symbol">(</a><a id="7792" href="Graded.Modality.html#2577" class="Function">·-zeroˡ</a> <a id="7800" class="Symbol">_)</a> <a id="7803" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="7805" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="7813" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="7827" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="7830" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="7832" href="Graded.Modality.html#846" class="Function">𝟙</a> <a id="7834" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="7836" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="7838" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="7840" href="Graded.Modality.html#846" class="Function">𝟙</a> <a id="7842" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="7844" href="Graded.Modality.html#836" class="Function">𝟘</a>      <a id="7851" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="7854" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="7862" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="7864" href="Graded.Modality.html#2609" class="Function">·-zeroʳ</a> <a id="7872" class="Symbol">_</a> <a id="7874" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="7876" href="Graded.Modality.html#2609" class="Function">·-zeroʳ</a> <a id="7884" class="Symbol">_</a> <a id="7886" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="7900" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>                      <a id="7924" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="7925" class="Symbol">)</a>
         <a id="7936" class="Symbol">(</a><a id="7937" href="Graded.Usage.html#4311" class="InductiveConstructor">sub</a> <a id="7941" href="Graded.Usage.html#2259" class="InductiveConstructor">ℕₘ</a> <a id="7944" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="7956" class="Keyword">let</a> <a id="7960" class="Keyword">open</a> <a id="7965" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="7994" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="8003" class="Keyword">in</a> <a id="8006" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
            <a id="8024" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="8027" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="8029" href="Graded.Mode.html#3651" class="Function Operator">⌜</a> <a id="8031" href="Graded.Mode.html#2290" class="Function">𝟘ᵐ?</a> <a id="8035" href="Graded.Mode.html#3651" class="Function Operator">⌝</a> <a id="8037" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="8039" href="Graded.Modality.html#836" class="Function">𝟘</a>  <a id="8042" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="8045" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="8053" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="8055" href="Graded.Modality.html#2609" class="Function">·-zeroʳ</a> <a id="8063" class="Symbol">_</a> <a id="8065" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="8079" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>                <a id="8097" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="8098" class="Symbol">)</a>
         <a id="8109" href="Graded.Erasure.Consequences.Soundness.html#7499" class="Bound">P-ok</a><a id="8113" class="Symbol">)</a>
      <a id="8121" class="Symbol">(</a><a id="8122" class="Keyword">let</a> <a id="8126" class="Keyword">open</a> <a id="8131" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="8160" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="8169" class="Keyword">in</a> <a id="8172" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
         <a id="8187" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>                           <a id="8216" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">≈˘⟨</a> <a id="8220" href="Graded.Context.Properties.Addition.html#952" class="Function">+ᶜ-identityʳ</a> <a id="8233" class="Symbol">_</a> <a id="8235" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">⟩</a>
         <a id="8246" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="8249" href="Graded.Context.html#1510" class="Function Operator">+ᶜ</a> <a id="8252" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>                     <a id="8275" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">≈˘⟨</a> <a id="8279" href="Graded.Context.Properties.Addition.html#2772" class="Function">+ᶜ-congʳ</a> <a id="8288" class="Symbol">(</a><a id="8289" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8298" class="Symbol">_)</a> <a id="8301" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">⟩</a>
         <a id="8312" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="8314" href="Graded.Context.html#1742" class="Function Operator">·ᶜ</a> <a id="8317" class="Symbol">(</a><a id="8318" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="8321" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="8323" href="Graded.Mode.html#3651" class="Function Operator">⌜</a> <a id="8325" href="Graded.Mode.html#3937" class="Function Operator">⌞</a> <a id="8327" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="8329" href="Graded.Mode.html#3937" class="Function Operator">⌟</a> <a id="8331" href="Graded.Mode.html#3651" class="Function Operator">⌝</a><a id="8332" class="Symbol">)</a> <a id="8334" href="Graded.Context.html#1510" class="Function Operator">+ᶜ</a> <a id="8337" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>  <a id="8341" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="8342" class="Symbol">)</a>
  <a id="8346" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8348" class="Symbol">λ</a> <a id="8350" class="Keyword">where</a>
      <a id="8362" class="Symbol">(</a><a id="8363" class="Number">0</a>    <a id="8368" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8370" href="Graded.Erasure.SucRed.html#982" class="InductiveConstructor">whred</a> <a id="8376" href="Graded.Erasure.Consequences.Soundness.html#8376" class="Bound">d</a> <a id="8378" href="Graded.Erasure.SucRed.html#1260" class="InductiveConstructor Operator">⇨ˢ</a> <a id="8381" class="Symbol">_)</a> <a id="8384" class="Symbol">→</a> <a id="8386" href="Definition.Typed.Properties.html#6604" class="Function">whnfRedTerm</a> <a id="8398" href="Graded.Erasure.Consequences.Soundness.html#8376" class="Bound">d</a> <a id="8400" class="Symbol">(</a><a id="8401" href="Definition.Untyped.html#6297" class="InductiveConstructor">ne</a> <a id="8404" class="Symbol">(</a><a id="8405" href="Definition.Untyped.html#5727" class="InductiveConstructor">prodrecₙ</a> <a id="8414" class="Symbol">(</a><a id="8415" href="Definition.Untyped.html#5483" class="InductiveConstructor">var</a> <a id="8419" class="Symbol">_)))</a>
      <a id="8430" class="Symbol">(</a><a id="8431" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="8434" class="Symbol">_</a> <a id="8436" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8438" href="Graded.Erasure.SucRed.html#982" class="InductiveConstructor">whred</a> <a id="8444" href="Graded.Erasure.Consequences.Soundness.html#8444" class="Bound">d</a> <a id="8446" href="Graded.Erasure.SucRed.html#1260" class="InductiveConstructor Operator">⇨ˢ</a> <a id="8449" class="Symbol">_)</a> <a id="8452" class="Symbol">→</a> <a id="8454" href="Definition.Typed.Properties.html#6604" class="Function">whnfRedTerm</a> <a id="8466" href="Graded.Erasure.Consequences.Soundness.html#8444" class="Bound">d</a> <a id="8468" class="Symbol">(</a><a id="8469" href="Definition.Untyped.html#6297" class="InductiveConstructor">ne</a> <a id="8472" class="Symbol">(</a><a id="8473" href="Definition.Untyped.html#5727" class="InductiveConstructor">prodrecₙ</a> <a id="8482" class="Symbol">(</a><a id="8483" href="Definition.Untyped.html#5483" class="InductiveConstructor">var</a> <a id="8487" class="Symbol">_)))</a>
  <a id="8494" class="Keyword">where</a>
  <a id="8502" href="Graded.Erasure.Consequences.Soundness.html#8502" class="Function">ε⊢ℕ</a> <a id="8506" class="Symbol">=</a> <a id="8508" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8511" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a>
  <a id="8515" href="Graded.Erasure.Consequences.Soundness.html#8515" class="Function">⊢εℕ</a> <a id="8519" class="Symbol">=</a> <a id="8521" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="8523" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8525" href="Graded.Erasure.Consequences.Soundness.html#8502" class="Function">ε⊢ℕ</a>
  <a id="8531" href="Graded.Erasure.Consequences.Soundness.html#8531" class="Function">εℕ⊢ℕ</a> <a id="8536" class="Symbol">=</a> <a id="8538" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8541" href="Graded.Erasure.Consequences.Soundness.html#8515" class="Function">⊢εℕ</a>
  <a id="8547" href="Graded.Erasure.Consequences.Soundness.html#8547" class="Function">ε⊢Σ</a> <a id="8551" class="Symbol">=</a> <a id="8553" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="8557" href="Graded.Erasure.Consequences.Soundness.html#8502" class="Function">ε⊢ℕ</a> <a id="8561" href="Graded.Erasure.Consequences.Soundness.html#8531" class="Function">εℕ⊢ℕ</a> <a id="8566" href="Graded.Erasure.Consequences.Soundness.html#7504" class="Bound">Σᵣ-ok</a>
  <a id="8574" href="Graded.Erasure.Consequences.Soundness.html#8574" class="Function">⊢εΣ</a> <a id="8578" class="Symbol">=</a> <a id="8580" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="8582" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8584" href="Graded.Erasure.Consequences.Soundness.html#8547" class="Function">ε⊢Σ</a>
  <a id="8590" href="Graded.Erasure.Consequences.Soundness.html#8590" class="Function">εΣ⊢ℕ</a> <a id="8595" class="Symbol">=</a> <a id="8597" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8600" href="Graded.Erasure.Consequences.Soundness.html#8574" class="Function">⊢εΣ</a>
  <a id="8606" href="Graded.Erasure.Consequences.Soundness.html#8606" class="Function">⊢εΣℕ</a> <a id="8611" class="Symbol">=</a> <a id="8613" href="Graded.Erasure.Consequences.Soundness.html#8574" class="Function">⊢εΣ</a> <a id="8617" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8619" href="Graded.Erasure.Consequences.Soundness.html#8590" class="Function">εΣ⊢ℕ</a>
  <a id="8626" href="Graded.Erasure.Consequences.Soundness.html#8626" class="Function">εΣℕ⊢ℕ</a> <a id="8632" class="Symbol">=</a> <a id="8634" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8637" href="Graded.Erasure.Consequences.Soundness.html#8606" class="Function">⊢εΣℕ</a>
  <a id="8644" href="Graded.Erasure.Consequences.Soundness.html#8644" class="Function">εΣ⊢Σ</a> <a id="8649" class="Symbol">=</a> <a id="8651" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="8655" href="Graded.Erasure.Consequences.Soundness.html#8590" class="Function">εΣ⊢ℕ</a> <a id="8660" href="Graded.Erasure.Consequences.Soundness.html#8626" class="Function">εΣℕ⊢ℕ</a> <a id="8666" href="Graded.Erasure.Consequences.Soundness.html#7504" class="Bound">Σᵣ-ok</a>
  <a id="8674" href="Graded.Erasure.Consequences.Soundness.html#8674" class="Function">⊢εΣΣ</a> <a id="8679" class="Symbol">=</a> <a id="8681" href="Graded.Erasure.Consequences.Soundness.html#8574" class="Function">⊢εΣ</a> <a id="8685" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8687" href="Graded.Erasure.Consequences.Soundness.html#8644" class="Function">εΣ⊢Σ</a>
  <a id="8694" href="Graded.Erasure.Consequences.Soundness.html#8694" class="Function">εΣΣ⊢ℕ</a> <a id="8700" class="Symbol">=</a> <a id="8702" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8705" href="Graded.Erasure.Consequences.Soundness.html#8674" class="Function">⊢εΣΣ</a>
  <a id="8712" href="Graded.Erasure.Consequences.Soundness.html#8712" class="Function">⊢εΣℕℕ</a> <a id="8718" class="Symbol">=</a> <a id="8720" href="Graded.Erasure.Consequences.Soundness.html#8606" class="Function">⊢εΣℕ</a> <a id="8725" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8727" href="Graded.Erasure.Consequences.Soundness.html#8626" class="Function">εΣℕ⊢ℕ</a>
  <a id="8735" href="Graded.Erasure.Consequences.Soundness.html#8735" class="Function">⊢prodrec</a> <a id="8744" class="Symbol">=</a>
    <a id="8750" href="Definition.Typed.html#2625" class="InductiveConstructor">prodrecⱼ</a> <a id="8759" class="Symbol">{</a><a id="8760" class="Argument">r</a> <a id="8762" class="Symbol">=</a> <a id="8764" href="Graded.Modality.html#836" class="Function">𝟘</a><a id="8765" class="Symbol">}</a> <a id="8767" href="Graded.Erasure.Consequences.Soundness.html#8590" class="Function">εΣ⊢ℕ</a> <a id="8772" href="Graded.Erasure.Consequences.Soundness.html#8626" class="Function">εΣℕ⊢ℕ</a> <a id="8778" href="Graded.Erasure.Consequences.Soundness.html#8694" class="Function">εΣΣ⊢ℕ</a> <a id="8784" class="Symbol">(</a><a id="8785" href="Definition.Typed.html#1853" class="InductiveConstructor">var</a> <a id="8789" href="Graded.Erasure.Consequences.Soundness.html#8574" class="Function">⊢εΣ</a> <a id="8793" href="Definition.Typed.html#835" class="InductiveConstructor">here</a><a id="8797" class="Symbol">)</a> <a id="8799" class="Symbol">(</a><a id="8800" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="8806" href="Graded.Erasure.Consequences.Soundness.html#8712" class="Function">⊢εΣℕℕ</a><a id="8811" class="Symbol">)</a> <a id="8813" href="Graded.Erasure.Consequences.Soundness.html#7504" class="Bound">Σᵣ-ok</a>

<a id="8820" class="Comment">-- The above counterexample for the source language is not a</a>
<a id="8881" class="Comment">-- counterexample to canonicity for the target language.</a>

<a id="soundness-ℕ-only-target-not-counterexample"></a><a id="8939" href="Graded.Erasure.Consequences.Soundness.html#8939" class="Function">soundness-ℕ-only-target-not-counterexample</a> <a id="8982" class="Symbol">:</a>
  <a id="8986" class="Keyword">let</a> <a id="8990" href="Graded.Erasure.Consequences.Soundness.html#8990" class="Bound">t</a> <a id="8992" class="Symbol">=</a> <a id="8994" href="Definition.Untyped.html#3587" class="InductiveConstructor">prodrec</a> <a id="9002" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="9004" href="Graded.Erasure.Consequences.Soundness.html#2017" class="Generalizable">p</a> <a id="9006" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="9008" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="9010" class="Symbol">(</a><a id="9011" class="InductiveConstructor">var</a> <a id="9015" class="Symbol">{</a><a id="9016" class="Argument">n</a> <a id="9018" class="Symbol">=</a> <a id="9020" class="Number">1</a><a id="9021" class="Symbol">}</a> <a id="9023" href="Data.Fin.Base.html#1157" class="InductiveConstructor">x0</a><a id="9025" class="Symbol">)</a> <a id="9027" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
  <a id="9034" class="Keyword">in</a>  <a id="9038" href="Graded.Erasure.Extraction.html#994" class="Function">erase</a> <a id="9044" href="Graded.Erasure.Consequences.Soundness.html#8990" class="Bound">t</a> <a id="9046" href="Graded.Erasure.SucRed.html#3280" class="Datatype Operator">⇒ˢ*</a> <a id="9050" href="Graded.Erasure.Consequences.Soundness.html#2191" class="Function">sucᵏ′</a> <a id="9056" class="Number">0</a>
<a id="9058" href="Graded.Erasure.Consequences.Soundness.html#8939" class="Function">soundness-ℕ-only-target-not-counterexample</a>
  <a id="9103" class="Keyword">with</a> <a id="9108" href="Graded.Modality.html#3067" class="Field">is-𝟘?</a> <a id="9114" href="Graded.Modality.html#836" class="Function">𝟘</a>
<a id="9116" href="Graded.Erasure.Consequences.Soundness.html#8939" class="Function">...</a> <a id="9120" class="Symbol">|</a> <a id="9122" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="9125" href="Graded.Erasure.Consequences.Soundness.html#9125" class="Bound">𝟘≢𝟘</a> <a id="9129" class="Symbol">=</a> <a id="9131" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="9138" class="Symbol">(</a><a id="9139" href="Graded.Erasure.Consequences.Soundness.html#9125" class="Bound">𝟘≢𝟘</a> <a id="9143" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="9147" class="Symbol">)</a>
<a id="9149" href="Graded.Erasure.Consequences.Soundness.html#8939" class="Function">...</a> <a id="9153" class="Symbol">|</a> <a id="9155" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="9159" class="Symbol">_</a> <a id="9161" class="Symbol">=</a> <a id="9163" href="Graded.Erasure.SucRed.html#3336" class="InductiveConstructor">trans</a> <a id="9169" class="Symbol">(</a><a id="9170" href="Graded.Erasure.SucRed.html#3116" class="InductiveConstructor">whred</a> <a id="9176" href="Graded.Erasure.Target.html#5689" class="InductiveConstructor">T.prodrec-β</a><a id="9187" class="Symbol">)</a> <a id="9189" href="Graded.Erasure.SucRed.html#3319" class="InductiveConstructor">refl</a>
</pre></body></html>