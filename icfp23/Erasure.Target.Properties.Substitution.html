<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Erasure.Target.Properties.Substitution</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Laws for substiutions in the target language.</a>
<a id="123" class="Comment">------------------------------------------------------------------------</a>

<a id="197" class="Keyword">module</a> <a id="204" href="Erasure.Target.Properties.Substitution.html" class="Module">Erasure.Target.Properties.Substitution</a> <a id="243" class="Keyword">where</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Erasure.Target.html" class="Module">Erasure.Target</a> <a id="277" class="Keyword">hiding</a> <a id="284" class="Symbol">(</a><a id="285" href="Erasure.Target.html#6055" class="InductiveConstructor">refl</a> <a id="290" class="Symbol">;</a> <a id="292" href="Erasure.Target.html#6071" class="InductiveConstructor">trans</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Erasure.Target.Properties.Weakening.html" class="Module">Erasure.Target.Properties.Weakening</a>

<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="432" class="Keyword">hiding</a> <a id="439" class="Symbol">(</a><a id="440" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a><a id="445" class="Symbol">)</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="498" class="Keyword">private</a>
  <a id="508" class="Keyword">variable</a>
    <a id="521" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a> <a id="523" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="525" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a> <a id="527" class="Symbol">:</a> <a id="529" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="537" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="539" href="Erasure.Target.Properties.Substitution.html#539" class="Generalizable">ρ′</a> <a id="542" class="Symbol">:</a> <a id="544" href="Erasure.Target.html#1765" class="Datatype">Wk</a> <a id="547" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="549" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a>
    <a id="555" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="557" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="560" class="Symbol">:</a> <a id="562" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="568" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="570" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a>
    <a id="576" href="Erasure.Target.Properties.Substitution.html#576" class="Generalizable">t</a> <a id="578" class="Symbol">:</a> <a id="580" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="585" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a>

<a id="588" class="Comment">-- Substitution properties.</a>

<a id="617" class="Comment">-- Two substitutions σ and σ′ are equal if they are pointwise equal,</a>
<a id="686" class="Comment">-- i.e., agree on all variables.</a>
<a id="719" class="Comment">--</a>
<a id="722" class="Comment">--   ∀ x →  σ x ≡ σ′ x</a>

<a id="746" class="Comment">-- If  σ = σ′  then  lift σ = lift σ′.</a>

<a id="substVar-lift"></a><a id="786" href="Erasure.Target.Properties.Substitution.html#786" class="Function">substVar-lift</a> <a id="800" class="Symbol">:</a> <a id="802" class="Symbol">(∀</a> <a id="805" href="Erasure.Target.Properties.Substitution.html#805" class="Bound">x</a> <a id="807" class="Symbol">→</a> <a id="809" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="811" href="Erasure.Target.Properties.Substitution.html#805" class="Bound">x</a> <a id="813" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="815" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="818" href="Erasure.Target.Properties.Substitution.html#805" class="Bound">x</a><a id="819" class="Symbol">)</a> <a id="821" class="Symbol">→</a> <a id="823" class="Symbol">∀</a> <a id="825" href="Erasure.Target.Properties.Substitution.html#825" class="Bound">x</a> <a id="827" class="Symbol">→</a> <a id="829" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="839" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="841" href="Erasure.Target.Properties.Substitution.html#825" class="Bound">x</a> <a id="843" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="845" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="855" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="858" href="Erasure.Target.Properties.Substitution.html#825" class="Bound">x</a>

<a id="861" href="Erasure.Target.Properties.Substitution.html#786" class="Function">substVar-lift</a> <a id="875" href="Erasure.Target.Properties.Substitution.html#875" class="Bound">eq</a> <a id="878" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="885" class="Symbol">=</a> <a id="887" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="892" href="Erasure.Target.Properties.Substitution.html#786" class="Function">substVar-lift</a> <a id="906" href="Erasure.Target.Properties.Substitution.html#906" class="Bound">eq</a> <a id="909" class="Symbol">(</a><a id="910" href="Erasure.Target.Properties.Substitution.html#910" class="Bound">x</a> <a id="912" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">=</a> <a id="918" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="923" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="927" class="Symbol">(</a><a id="928" href="Erasure.Target.Properties.Substitution.html#906" class="Bound">eq</a> <a id="931" href="Erasure.Target.Properties.Substitution.html#910" class="Bound">x</a><a id="932" class="Symbol">)</a>

<a id="substVar-lifts"></a><a id="935" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="950" class="Symbol">:</a> <a id="952" class="Symbol">(∀</a> <a id="955" href="Erasure.Target.Properties.Substitution.html#955" class="Bound">x</a> <a id="957" class="Symbol">→</a> <a id="959" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="961" href="Erasure.Target.Properties.Substitution.html#955" class="Bound">x</a> <a id="963" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="965" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="968" href="Erasure.Target.Properties.Substitution.html#955" class="Bound">x</a><a id="969" class="Symbol">)</a> <a id="971" class="Symbol">→</a> <a id="973" class="Symbol">∀</a> <a id="975" href="Erasure.Target.Properties.Substitution.html#975" class="Bound">n</a> <a id="977" href="Erasure.Target.Properties.Substitution.html#977" class="Bound">x</a> <a id="979" class="Symbol">→</a> <a id="981" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="992" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="994" href="Erasure.Target.Properties.Substitution.html#975" class="Bound">n</a> <a id="996" href="Erasure.Target.Properties.Substitution.html#977" class="Bound">x</a> <a id="998" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1000" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="1011" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="1014" href="Erasure.Target.Properties.Substitution.html#975" class="Bound">n</a> <a id="1016" href="Erasure.Target.Properties.Substitution.html#977" class="Bound">x</a>

<a id="1019" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="1034" href="Erasure.Target.Properties.Substitution.html#1034" class="Bound">eq</a> <a id="1037" class="Number">0</a> <a id="1039" href="Erasure.Target.Properties.Substitution.html#1039" class="Bound">x</a>           <a id="1051" class="Symbol">=</a> <a id="1053" href="Erasure.Target.Properties.Substitution.html#1034" class="Bound">eq</a> <a id="1056" href="Erasure.Target.Properties.Substitution.html#1039" class="Bound">x</a>
<a id="1058" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="1073" href="Erasure.Target.Properties.Substitution.html#1073" class="Bound">eq</a> <a id="1076" class="Symbol">(</a><a id="1077" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="1080" href="Erasure.Target.Properties.Substitution.html#1080" class="Bound">n</a><a id="1081" class="Symbol">)</a> <a id="1083" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="1090" class="Symbol">=</a> <a id="1092" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1097" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="1112" href="Erasure.Target.Properties.Substitution.html#1112" class="Bound">eq</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="1119" href="Erasure.Target.Properties.Substitution.html#1119" class="Bound">n</a><a id="1120" class="Symbol">)</a> <a id="1122" class="Symbol">(</a><a id="1123" href="Erasure.Target.Properties.Substitution.html#1123" class="Bound">x</a> <a id="1125" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="1127" class="Symbol">)</a> <a id="1129" class="Symbol">=</a> <a id="1131" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1136" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="1156" href="Erasure.Target.Properties.Substitution.html#1112" class="Bound">eq</a> <a id="1159" href="Erasure.Target.Properties.Substitution.html#1119" class="Bound">n</a> <a id="1161" href="Erasure.Target.Properties.Substitution.html#1123" class="Bound">x</a><a id="1162" class="Symbol">)</a>

<a id="1165" class="Comment">-- If  σ = σ′  then  subst σ t = subst σ′ t.</a>

<a id="1211" class="Keyword">mutual</a>
  <a id="substVar-to-subst"></a><a id="1220" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1238" class="Symbol">:</a> <a id="1240" class="Symbol">((</a><a id="1242" href="Erasure.Target.Properties.Substitution.html#1242" class="Bound">x</a> <a id="1244" class="Symbol">:</a> <a id="1246" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1250" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="1251" class="Symbol">)</a> <a id="1253" class="Symbol">→</a> <a id="1255" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="1257" href="Erasure.Target.Properties.Substitution.html#1242" class="Bound">x</a> <a id="1259" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1261" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="1264" href="Erasure.Target.Properties.Substitution.html#1242" class="Bound">x</a><a id="1265" class="Symbol">)</a>
                    <a id="1287" class="Symbol">→</a> <a id="1289" class="Symbol">(</a><a id="1290" href="Erasure.Target.Properties.Substitution.html#1290" class="Bound">t</a> <a id="1292" class="Symbol">:</a> <a id="1294" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="1299" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="1300" class="Symbol">)</a> <a id="1302" class="Symbol">→</a> <a id="1304" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="1310" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="1312" href="Erasure.Target.Properties.Substitution.html#1290" class="Bound">t</a> <a id="1314" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1316" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="1322" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="1325" href="Erasure.Target.Properties.Substitution.html#1290" class="Bound">t</a>
  <a id="1329" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1347" href="Erasure.Target.Properties.Substitution.html#1347" class="Bound">eq</a> <a id="1350" class="Symbol">(</a><a id="1351" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="1355" href="Erasure.Target.Properties.Substitution.html#1355" class="Bound">x</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Symbol">=</a> <a id="1360" href="Erasure.Target.Properties.Substitution.html#1347" class="Bound">eq</a> <a id="1363" href="Erasure.Target.Properties.Substitution.html#1355" class="Bound">x</a>
  <a id="1367" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1385" href="Erasure.Target.Properties.Substitution.html#1385" class="Bound">eq</a> <a id="1388" class="Symbol">(</a><a id="1389" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="1393" href="Erasure.Target.Properties.Substitution.html#1393" class="Bound">t</a><a id="1394" class="Symbol">)</a> <a id="1396" class="Symbol">=</a> <a id="1398" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1403" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Erasure.Target.Properties.Substitution.html#786" class="Function">substVar-lift</a> <a id="1441" href="Erasure.Target.Properties.Substitution.html#1385" class="Bound">eq</a><a id="1443" class="Symbol">)</a> <a id="1445" href="Erasure.Target.Properties.Substitution.html#1393" class="Bound">t</a><a id="1446" class="Symbol">)</a>
  <a id="1450" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1468" href="Erasure.Target.Properties.Substitution.html#1468" class="Bound">eq</a> <a id="1471" class="Symbol">(</a><a id="1472" href="Erasure.Target.Properties.Substitution.html#1472" class="Bound">t</a> <a id="1474" href="Erasure.Target.html#611" class="InductiveConstructor Operator">∘</a> <a id="1476" href="Erasure.Target.Properties.Substitution.html#1476" class="Bound">u</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="1487" href="Erasure.Target.html#611" class="InductiveConstructor Operator">_∘_</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1510" href="Erasure.Target.Properties.Substitution.html#1468" class="Bound">eq</a> <a id="1513" href="Erasure.Target.Properties.Substitution.html#1472" class="Bound">t</a><a id="1514" class="Symbol">)</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1535" href="Erasure.Target.Properties.Substitution.html#1468" class="Bound">eq</a> <a id="1538" href="Erasure.Target.Properties.Substitution.html#1476" class="Bound">u</a><a id="1539" class="Symbol">)</a>
  <a id="1543" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1561" href="Erasure.Target.Properties.Substitution.html#1561" class="Bound">eq</a> <a id="1564" href="Erasure.Target.html#649" class="InductiveConstructor">zero</a> <a id="1569" class="Symbol">=</a> <a id="1571" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="1578" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1596" href="Erasure.Target.Properties.Substitution.html#1596" class="Bound">eq</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="1604" href="Erasure.Target.Properties.Substitution.html#1604" class="Bound">t</a><a id="1605" class="Symbol">)</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1614" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="1618" class="Symbol">(</a><a id="1619" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1637" href="Erasure.Target.Properties.Substitution.html#1596" class="Bound">eq</a> <a id="1640" href="Erasure.Target.Properties.Substitution.html#1604" class="Bound">t</a><a id="1641" class="Symbol">)</a>
  <a id="1645" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1663" href="Erasure.Target.Properties.Substitution.html#1663" class="Bound">eq</a> <a id="1666" class="Symbol">(</a><a id="1667" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="1674" href="Erasure.Target.Properties.Substitution.html#1674" class="Bound">z</a> <a id="1676" href="Erasure.Target.Properties.Substitution.html#1676" class="Bound">s</a> <a id="1678" href="Erasure.Target.Properties.Substitution.html#1678" class="Bound">n</a><a id="1679" class="Symbol">)</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="Tools.PropositionalEquality.html#592" class="Function">cong₃</a> <a id="1689" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="1696" class="Symbol">(</a><a id="1697" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1715" href="Erasure.Target.Properties.Substitution.html#1663" class="Bound">eq</a> <a id="1718" href="Erasure.Target.Properties.Substitution.html#1674" class="Bound">z</a><a id="1719" class="Symbol">)</a> <a id="1721" class="Symbol">(</a><a id="1722" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1740" class="Symbol">(</a><a id="1741" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="1756" href="Erasure.Target.Properties.Substitution.html#1663" class="Bound">eq</a> <a id="1759" class="Number">2</a><a id="1760" class="Symbol">)</a> <a id="1762" href="Erasure.Target.Properties.Substitution.html#1676" class="Bound">s</a><a id="1763" class="Symbol">)</a> <a id="1765" class="Symbol">(</a><a id="1766" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1784" href="Erasure.Target.Properties.Substitution.html#1663" class="Bound">eq</a> <a id="1787" href="Erasure.Target.Properties.Substitution.html#1678" class="Bound">n</a><a id="1788" class="Symbol">)</a>
  <a id="1792" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1810" href="Erasure.Target.Properties.Substitution.html#1810" class="Bound">eq</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="1819" href="Erasure.Target.Properties.Substitution.html#1819" class="Bound">t</a> <a id="1821" href="Erasure.Target.Properties.Substitution.html#1821" class="Bound">u</a><a id="1822" class="Symbol">)</a> <a id="1824" class="Symbol">=</a> <a id="1826" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="1832" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="1837" class="Symbol">(</a><a id="1838" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1856" href="Erasure.Target.Properties.Substitution.html#1810" class="Bound">eq</a> <a id="1859" href="Erasure.Target.Properties.Substitution.html#1819" class="Bound">t</a><a id="1860" class="Symbol">)</a> <a id="1862" class="Symbol">(</a><a id="1863" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1881" href="Erasure.Target.Properties.Substitution.html#1810" class="Bound">eq</a> <a id="1884" href="Erasure.Target.Properties.Substitution.html#1821" class="Bound">u</a><a id="1885" class="Symbol">)</a>
  <a id="1889" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1907" href="Erasure.Target.Properties.Substitution.html#1907" class="Bound">eq</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="1915" href="Erasure.Target.Properties.Substitution.html#1915" class="Bound">t</a><a id="1916" class="Symbol">)</a> <a id="1918" class="Symbol">=</a> <a id="1920" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1925" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1948" href="Erasure.Target.Properties.Substitution.html#1907" class="Bound">eq</a> <a id="1951" href="Erasure.Target.Properties.Substitution.html#1915" class="Bound">t</a><a id="1952" class="Symbol">)</a>
  <a id="1956" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="1974" href="Erasure.Target.Properties.Substitution.html#1974" class="Bound">eq</a> <a id="1977" class="Symbol">(</a><a id="1978" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="1982" href="Erasure.Target.Properties.Substitution.html#1982" class="Bound">t</a><a id="1983" class="Symbol">)</a> <a id="1985" class="Symbol">=</a> <a id="1987" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1992" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2015" href="Erasure.Target.Properties.Substitution.html#1974" class="Bound">eq</a> <a id="2018" href="Erasure.Target.Properties.Substitution.html#1982" class="Bound">t</a><a id="2019" class="Symbol">)</a>
  <a id="2023" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2041" href="Erasure.Target.Properties.Substitution.html#2041" class="Bound">eq</a> <a id="2044" class="Symbol">(</a><a id="2045" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="2053" href="Erasure.Target.Properties.Substitution.html#2053" class="Bound">t</a> <a id="2055" href="Erasure.Target.Properties.Substitution.html#2055" class="Bound">u</a><a id="2056" class="Symbol">)</a> <a id="2058" class="Symbol">=</a> <a id="2060" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="2066" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="2074" class="Symbol">(</a><a id="2075" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2093" href="Erasure.Target.Properties.Substitution.html#2041" class="Bound">eq</a> <a id="2096" href="Erasure.Target.Properties.Substitution.html#2053" class="Bound">t</a><a id="2097" class="Symbol">)</a> <a id="2099" class="Symbol">(</a><a id="2100" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2118" class="Symbol">(</a><a id="2119" href="Erasure.Target.Properties.Substitution.html#935" class="Function">substVar-lifts</a> <a id="2134" href="Erasure.Target.Properties.Substitution.html#2041" class="Bound">eq</a> <a id="2137" class="Number">2</a><a id="2138" class="Symbol">)</a> <a id="2140" href="Erasure.Target.Properties.Substitution.html#2055" class="Bound">u</a><a id="2141" class="Symbol">)</a>
  <a id="2145" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2163" href="Erasure.Target.Properties.Substitution.html#2163" class="Bound">eq</a> <a id="2166" href="Erasure.Target.html#947" class="InductiveConstructor">star</a> <a id="2171" class="Symbol">=</a> <a id="2173" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="2180" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2198" href="Erasure.Target.Properties.Substitution.html#2198" class="Bound">eq</a> <a id="2201" href="Erasure.Target.html#996" class="InductiveConstructor">↯</a> <a id="2203" class="Symbol">=</a> <a id="2205" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>


<a id="2212" class="Comment">-- lift id = id  (as substitutions)</a>

<a id="subst-lift-id"></a><a id="2249" href="Erasure.Target.Properties.Substitution.html#2249" class="Function">subst-lift-id</a> <a id="2263" class="Symbol">:</a> <a id="2265" class="Symbol">(</a><a id="2266" href="Erasure.Target.Properties.Substitution.html#2266" class="Bound">x</a> <a id="2268" class="Symbol">:</a> <a id="2270" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2274" class="Symbol">(</a><a id="2275" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="2278" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="2279" class="Symbol">))</a> <a id="2282" class="Symbol">→</a> <a id="2284" class="Symbol">(</a><a id="2285" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="2295" href="Erasure.Target.html#3410" class="Function">idSubst</a><a id="2302" class="Symbol">)</a> <a id="2304" href="Erasure.Target.Properties.Substitution.html#2266" class="Bound">x</a> <a id="2306" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2308" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="2316" href="Erasure.Target.Properties.Substitution.html#2266" class="Bound">x</a>
<a id="2318" href="Erasure.Target.Properties.Substitution.html#2249" class="Function">subst-lift-id</a> <a id="2332" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="2339" class="Symbol">=</a> <a id="2341" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2346" href="Erasure.Target.Properties.Substitution.html#2249" class="Function">subst-lift-id</a> <a id="2360" class="Symbol">(</a><a id="2361" href="Erasure.Target.Properties.Substitution.html#2361" class="Bound">x</a> <a id="2363" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="2365" class="Symbol">)</a> <a id="2367" class="Symbol">=</a> <a id="2369" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="subst-lifts-id"></a><a id="2375" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2390" class="Symbol">:</a> <a id="2392" class="Symbol">(</a><a id="2393" href="Erasure.Target.Properties.Substitution.html#2393" class="Bound">n</a> <a id="2395" class="Symbol">:</a> <a id="2397" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="2400" class="Symbol">)</a> <a id="2402" class="Symbol">→</a> <a id="2404" class="Symbol">(</a><a id="2405" href="Erasure.Target.Properties.Substitution.html#2405" class="Bound">x</a> <a id="2407" class="Symbol">:</a> <a id="2409" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2413" class="Symbol">(</a><a id="2414" href="Erasure.Target.Properties.Substitution.html#2393" class="Bound">n</a> <a id="2416" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2418" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="2419" class="Symbol">))</a> <a id="2422" class="Symbol">→</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="2436" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="2444" href="Erasure.Target.Properties.Substitution.html#2393" class="Bound">n</a><a id="2445" class="Symbol">)</a> <a id="2447" href="Erasure.Target.Properties.Substitution.html#2405" class="Bound">x</a> <a id="2449" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2451" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="2459" href="Erasure.Target.Properties.Substitution.html#2405" class="Bound">x</a>
<a id="2461" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2476" class="Number">0</a> <a id="2478" href="Erasure.Target.Properties.Substitution.html#2478" class="Bound">x</a> <a id="2480" class="Symbol">=</a> <a id="2482" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2487" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="2506" href="Erasure.Target.Properties.Substitution.html#2506" class="Bound">n</a><a id="2507" class="Symbol">)</a> <a id="2509" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="2512" class="Symbol">=</a> <a id="2514" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2519" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="2538" href="Erasure.Target.Properties.Substitution.html#2538" class="Bound">n</a><a id="2539" class="Symbol">)</a> <a id="2541" class="Symbol">(</a><a id="2542" href="Erasure.Target.Properties.Substitution.html#2542" class="Bound">x</a> <a id="2544" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="2546" class="Symbol">)</a> <a id="2548" class="Symbol">=</a> <a id="2550" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2555" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="2559" class="Symbol">(</a><a id="2560" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2575" href="Erasure.Target.Properties.Substitution.html#2538" class="Bound">n</a> <a id="2577" href="Erasure.Target.Properties.Substitution.html#2542" class="Bound">x</a><a id="2578" class="Symbol">)</a>

<a id="2581" class="Comment">-- Identity substitution.</a>

<a id="2608" class="Keyword">mutual</a>
  <a id="subst-id"></a><a id="2617" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2626" class="Symbol">:</a> <a id="2628" class="Symbol">(</a><a id="2629" href="Erasure.Target.Properties.Substitution.html#2629" class="Bound">t</a> <a id="2631" class="Symbol">:</a> <a id="2633" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="2638" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="2639" class="Symbol">)</a> <a id="2641" class="Symbol">→</a> <a id="2643" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="2649" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="2657" href="Erasure.Target.Properties.Substitution.html#2629" class="Bound">t</a> <a id="2659" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2661" href="Erasure.Target.Properties.Substitution.html#2629" class="Bound">t</a>
  <a id="2665" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2674" class="Symbol">(</a><a id="2675" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="2679" href="Erasure.Target.Properties.Substitution.html#2679" class="Bound">x</a><a id="2680" class="Symbol">)</a> <a id="2682" class="Symbol">=</a> <a id="2684" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="2691" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2700" class="Symbol">(</a><a id="2701" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="2705" href="Erasure.Target.Properties.Substitution.html#2705" class="Bound">t</a><a id="2706" class="Symbol">)</a> <a id="2708" class="Symbol">=</a> <a id="2710" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2715" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="2719" class="Symbol">(</a><a id="2720" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="2726" class="Symbol">(</a><a id="2727" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2745" href="Erasure.Target.Properties.Substitution.html#2249" class="Function">subst-lift-id</a> <a id="2759" href="Erasure.Target.Properties.Substitution.html#2705" class="Bound">t</a><a id="2760" class="Symbol">)</a> <a id="2762" class="Symbol">(</a><a id="2763" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2772" href="Erasure.Target.Properties.Substitution.html#2705" class="Bound">t</a><a id="2773" class="Symbol">))</a>
  <a id="2778" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2787" class="Symbol">(</a><a id="2788" href="Erasure.Target.Properties.Substitution.html#2788" class="Bound">t</a> <a id="2790" href="Erasure.Target.html#611" class="InductiveConstructor Operator">∘</a> <a id="2792" href="Erasure.Target.Properties.Substitution.html#2792" class="Bound">u</a><a id="2793" class="Symbol">)</a> <a id="2795" class="Symbol">=</a> <a id="2797" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="2803" href="Erasure.Target.html#611" class="InductiveConstructor Operator">_∘_</a> <a id="2807" class="Symbol">(</a><a id="2808" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2817" href="Erasure.Target.Properties.Substitution.html#2788" class="Bound">t</a><a id="2818" class="Symbol">)</a> <a id="2820" class="Symbol">(</a><a id="2821" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2830" href="Erasure.Target.Properties.Substitution.html#2792" class="Bound">u</a><a id="2831" class="Symbol">)</a>
  <a id="2835" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2844" href="Erasure.Target.html#649" class="InductiveConstructor">zero</a> <a id="2849" class="Symbol">=</a> <a id="2851" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="2858" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2867" class="Symbol">(</a><a id="2868" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="2872" href="Erasure.Target.Properties.Substitution.html#2872" class="Bound">t</a><a id="2873" class="Symbol">)</a> <a id="2875" class="Symbol">=</a> <a id="2877" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="2882" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2896" href="Erasure.Target.Properties.Substitution.html#2872" class="Bound">t</a><a id="2897" class="Symbol">)</a>
  <a id="2901" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2910" class="Symbol">(</a><a id="2911" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="2918" href="Erasure.Target.Properties.Substitution.html#2918" class="Bound">z</a> <a id="2920" href="Erasure.Target.Properties.Substitution.html#2920" class="Bound">s</a> <a id="2922" href="Erasure.Target.Properties.Substitution.html#2922" class="Bound">n</a><a id="2923" class="Symbol">)</a> <a id="2925" class="Symbol">=</a> <a id="2927" href="Tools.PropositionalEquality.html#592" class="Function">cong₃</a> <a id="2933" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="2950" href="Erasure.Target.Properties.Substitution.html#2918" class="Bound">z</a><a id="2951" class="Symbol">)</a> <a id="2953" class="Symbol">(</a><a id="2954" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="2979" class="Symbol">(</a><a id="2980" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="2995" class="Number">2</a><a id="2996" class="Symbol">)</a> <a id="2998" href="Erasure.Target.Properties.Substitution.html#2920" class="Bound">s</a><a id="2999" class="Symbol">)</a> <a id="3001" class="Symbol">(</a><a id="3002" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3011" href="Erasure.Target.Properties.Substitution.html#2920" class="Bound">s</a><a id="3012" class="Symbol">))</a> <a id="3015" class="Symbol">(</a><a id="3016" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3025" href="Erasure.Target.Properties.Substitution.html#2922" class="Bound">n</a><a id="3026" class="Symbol">)</a>
  <a id="3030" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3039" class="Symbol">(</a><a id="3040" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="3045" href="Erasure.Target.Properties.Substitution.html#3045" class="Bound">t</a> <a id="3047" href="Erasure.Target.Properties.Substitution.html#3047" class="Bound">u</a><a id="3048" class="Symbol">)</a> <a id="3050" class="Symbol">=</a> <a id="3052" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="3058" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="3063" class="Symbol">(</a><a id="3064" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3073" href="Erasure.Target.Properties.Substitution.html#3045" class="Bound">t</a><a id="3074" class="Symbol">)</a> <a id="3076" class="Symbol">(</a><a id="3077" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3086" href="Erasure.Target.Properties.Substitution.html#3047" class="Bound">u</a><a id="3087" class="Symbol">)</a>
  <a id="3091" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3100" class="Symbol">(</a><a id="3101" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="3105" href="Erasure.Target.Properties.Substitution.html#3105" class="Bound">t</a><a id="3106" class="Symbol">)</a> <a id="3108" class="Symbol">=</a> <a id="3110" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3115" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="3119" class="Symbol">(</a><a id="3120" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3129" href="Erasure.Target.Properties.Substitution.html#3105" class="Bound">t</a><a id="3130" class="Symbol">)</a>
  <a id="3134" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3143" class="Symbol">(</a><a id="3144" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="3148" href="Erasure.Target.Properties.Substitution.html#3148" class="Bound">t</a><a id="3149" class="Symbol">)</a> <a id="3151" class="Symbol">=</a> <a id="3153" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3158" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="3162" class="Symbol">(</a><a id="3163" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3172" href="Erasure.Target.Properties.Substitution.html#3148" class="Bound">t</a><a id="3173" class="Symbol">)</a>
  <a id="3177" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3186" class="Symbol">(</a><a id="3187" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="3195" href="Erasure.Target.Properties.Substitution.html#3195" class="Bound">t</a> <a id="3197" href="Erasure.Target.Properties.Substitution.html#3197" class="Bound">u</a><a id="3198" class="Symbol">)</a> <a id="3200" class="Symbol">=</a> <a id="3202" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="3208" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="3216" class="Symbol">(</a><a id="3217" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3226" href="Erasure.Target.Properties.Substitution.html#3195" class="Bound">t</a><a id="3227" class="Symbol">)</a> <a id="3229" class="Symbol">(</a><a id="3230" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="3236" class="Symbol">(</a><a id="3237" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Erasure.Target.Properties.Substitution.html#2375" class="Function">subst-lifts-id</a> <a id="3271" class="Number">2</a><a id="3272" class="Symbol">)</a> <a id="3274" href="Erasure.Target.Properties.Substitution.html#3197" class="Bound">u</a><a id="3275" class="Symbol">)</a> <a id="3277" class="Symbol">(</a><a id="3278" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3287" href="Erasure.Target.Properties.Substitution.html#3197" class="Bound">u</a><a id="3288" class="Symbol">))</a>
  <a id="3293" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3302" href="Erasure.Target.html#947" class="InductiveConstructor">star</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="3316" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="3325" href="Erasure.Target.html#996" class="InductiveConstructor">↯</a> <a id="3327" class="Symbol">=</a> <a id="3329" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>


<a id="3336" class="Comment">-- Correctness of composition of weakening and substitution.</a>

<a id="3398" class="Comment">-- Composition of liftings is lifting of the composition.</a>
<a id="3456" class="Comment">-- lift ρ •ₛ lift σ = lift (ρ •ₛ σ)</a>

<a id="subst-lift-•ₛ"></a><a id="3493" href="Erasure.Target.Properties.Substitution.html#3493" class="Function">subst-lift-•ₛ</a> <a id="3507" class="Symbol">:</a> <a id="3509" class="Symbol">∀</a> <a id="3511" href="Erasure.Target.Properties.Substitution.html#3511" class="Bound">t</a>
              <a id="3527" class="Symbol">→</a> <a id="3529" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="3535" class="Symbol">(</a><a id="3536" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="3541" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="3543" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="3546" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="3556" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="3557" class="Symbol">)</a> <a id="3559" href="Erasure.Target.Properties.Substitution.html#3511" class="Bound">t</a>
              <a id="3575" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3577" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="3583" class="Symbol">(</a><a id="3584" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="3597" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="3600" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="3601" class="Symbol">))</a> <a id="3604" href="Erasure.Target.Properties.Substitution.html#3511" class="Bound">t</a>
<a id="3606" href="Erasure.Target.Properties.Substitution.html#3493" class="Function">subst-lift-•ₛ</a> <a id="3620" class="Symbol">=</a>
  <a id="3624" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="3642" class="Symbol">(λ</a> <a id="3645" class="Symbol">{</a> <a id="3647" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="3650" class="Symbol">→</a> <a id="3652" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3657" class="Symbol">;</a> <a id="3659" class="Symbol">(</a><a id="3660" href="Erasure.Target.Properties.Substitution.html#3660" class="Bound">x</a> <a id="3662" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3664" class="Symbol">)</a> <a id="3666" class="Symbol">→</a> <a id="3668" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Erasure.Target.Properties.Weakening.html#5460" class="Function">wk1-wk≡lift-wk1</a> <a id="3689" class="Symbol">_</a> <a id="3691" class="Symbol">_)})</a>

<a id="helper1"></a><a id="3697" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="3705" class="Symbol">:</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Erasure.Target.Properties.Substitution.html#3708" class="Bound">n</a> <a id="3710" class="Symbol">:</a> <a id="3712" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="3715" class="Symbol">)</a> <a id="3717" class="Symbol">(</a><a id="3718" href="Erasure.Target.Properties.Substitution.html#3718" class="Bound">x</a> <a id="3720" class="Symbol">:</a> <a id="3722" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="3726" class="Symbol">(</a><a id="3727" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="3730" href="Erasure.Target.Properties.Substitution.html#3708" class="Bound">n</a> <a id="3732" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3734" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="3735" class="Symbol">))</a> <a id="3738" class="Symbol">→</a>
      <a id="3746" class="Symbol">(</a><a id="3747" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="3752" class="Symbol">(</a><a id="3753" href="Erasure.Target.html#2091" class="Function">liftn</a> <a id="3759" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="3761" href="Erasure.Target.Properties.Substitution.html#3708" class="Bound">n</a><a id="3762" class="Symbol">)</a> <a id="3764" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="3767" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="3777" class="Symbol">(</a><a id="3778" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="3789" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="3791" href="Erasure.Target.Properties.Substitution.html#3708" class="Bound">n</a><a id="3792" class="Symbol">))</a> <a id="3795" href="Erasure.Target.Properties.Substitution.html#3718" class="Bound">x</a> <a id="3797" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
      <a id="3805" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="3830" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="3833" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="3834" class="Symbol">)</a> <a id="3836" href="Erasure.Target.Properties.Substitution.html#3708" class="Bound">n</a><a id="3837" class="Symbol">)</a> <a id="3839" href="Erasure.Target.Properties.Substitution.html#3718" class="Bound">x</a>
<a id="3841" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="3849" class="Number">0</a>      <a id="3856" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="3863" class="Symbol">=</a> <a id="3865" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3870" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="3878" class="Number">0</a>      <a id="3885" class="Symbol">(</a><a id="3886" href="Erasure.Target.Properties.Substitution.html#3886" class="Bound">x</a> <a id="3888" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3890" class="Symbol">)</a> <a id="3892" class="Symbol">=</a> <a id="3894" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="3898" class="Symbol">(</a><a id="3899" href="Erasure.Target.Properties.Weakening.html#5460" class="Function">wk1-wk≡lift-wk1</a> <a id="3915" class="Symbol">_</a> <a id="3917" class="Symbol">_)</a>
<a id="3920" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="3928" class="Symbol">(</a><a id="3929" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="3932" href="Erasure.Target.Properties.Substitution.html#3932" class="Bound">n</a><a id="3933" class="Symbol">)</a> <a id="3935" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="3942" class="Symbol">=</a> <a id="3944" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3949" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="3957" class="Symbol">(</a><a id="3958" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="3961" href="Erasure.Target.Properties.Substitution.html#3961" class="Bound">n</a><a id="3962" class="Symbol">)</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Erasure.Target.Properties.Substitution.html#3965" class="Bound">x</a> <a id="3967" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3969" class="Symbol">)</a> <a id="3971" class="Symbol">=</a> <a id="3973" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="3979" class="Symbol">(</a><a id="3980" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="3984" class="Symbol">(</a><a id="3985" href="Erasure.Target.Properties.Weakening.html#5460" class="Function">wk1-wk≡lift-wk1</a> <a id="4001" class="Symbol">_</a> <a id="4003" class="Symbol">_))</a> <a id="4007" class="Symbol">(</a><a id="4008" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4013" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="4017" class="Symbol">(</a><a id="4018" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="4026" href="Erasure.Target.Properties.Substitution.html#3961" class="Bound">n</a> <a id="4028" href="Erasure.Target.Properties.Substitution.html#3965" class="Bound">x</a><a id="4029" class="Symbol">))</a>

<a id="subst-lifts-•ₛ"></a><a id="4033" href="Erasure.Target.Properties.Substitution.html#4033" class="Function">subst-lifts-•ₛ</a> <a id="4048" class="Symbol">:</a> <a id="4050" class="Symbol">∀</a> <a id="4052" href="Erasure.Target.Properties.Substitution.html#4052" class="Bound">n</a> <a id="4054" href="Erasure.Target.Properties.Substitution.html#4054" class="Bound">t</a>
              <a id="4070" class="Symbol">→</a> <a id="4072" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4078" class="Symbol">(</a><a id="4079" href="Erasure.Target.html#2091" class="Function">liftn</a> <a id="4085" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="4087" href="Erasure.Target.Properties.Substitution.html#4052" class="Bound">n</a> <a id="4089" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="4092" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4103" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4105" href="Erasure.Target.Properties.Substitution.html#4052" class="Bound">n</a><a id="4106" class="Symbol">)</a> <a id="4108" href="Erasure.Target.Properties.Substitution.html#4054" class="Bound">t</a>
              <a id="4124" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4126" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4132" class="Symbol">(</a><a id="4133" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4144" class="Symbol">(</a><a id="4145" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="4147" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="4150" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="4151" class="Symbol">)</a> <a id="4153" href="Erasure.Target.Properties.Substitution.html#4052" class="Bound">n</a><a id="4154" class="Symbol">)</a> <a id="4156" href="Erasure.Target.Properties.Substitution.html#4054" class="Bound">t</a>
<a id="4158" href="Erasure.Target.Properties.Substitution.html#4033" class="Function">subst-lifts-•ₛ</a> <a id="4173" class="Number">0</a> <a id="4175" href="Erasure.Target.Properties.Substitution.html#4175" class="Bound">t</a> <a id="4177" class="Symbol">=</a> <a id="4179" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4184" href="Erasure.Target.Properties.Substitution.html#4033" class="Function">subst-lifts-•ₛ</a> <a id="4199" class="Symbol">(</a><a id="4200" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="4203" href="Erasure.Target.Properties.Substitution.html#4203" class="Bound">n</a><a id="4204" class="Symbol">)</a> <a id="4206" href="Erasure.Target.Properties.Substitution.html#4206" class="Bound">t</a> <a id="4208" class="Symbol">=</a> <a id="4210" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="4228" class="Symbol">(</a><a id="4229" href="Erasure.Target.Properties.Substitution.html#3697" class="Function">helper1</a> <a id="4237" href="Erasure.Target.Properties.Substitution.html#4203" class="Bound">n</a><a id="4238" class="Symbol">)</a> <a id="4240" href="Erasure.Target.Properties.Substitution.html#4206" class="Bound">t</a>

<a id="4243" class="Comment">-- lift σ ₛ• lift ρ = lift (σ ₛ• ρ)</a>

<a id="subst-lift-ₛ•"></a><a id="4280" href="Erasure.Target.Properties.Substitution.html#4280" class="Function">subst-lift-ₛ•</a> <a id="4294" class="Symbol">:</a> <a id="4296" class="Symbol">∀</a> <a id="4298" href="Erasure.Target.Properties.Substitution.html#4298" class="Bound">t</a>
              <a id="4314" class="Symbol">→</a> <a id="4316" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4322" class="Symbol">(</a><a id="4323" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="4333" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4335" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="4338" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="4343" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="4344" class="Symbol">)</a> <a id="4346" href="Erasure.Target.Properties.Substitution.html#4298" class="Bound">t</a>
              <a id="4362" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4364" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4370" class="Symbol">(</a><a id="4371" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="4381" class="Symbol">(</a><a id="4382" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4384" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="4387" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="4388" class="Symbol">))</a> <a id="4391" href="Erasure.Target.Properties.Substitution.html#4298" class="Bound">t</a>
<a id="4393" href="Erasure.Target.Properties.Substitution.html#4280" class="Function">subst-lift-ₛ•</a> <a id="4407" class="Symbol">=</a> <a id="4409" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="4427" class="Symbol">(λ</a> <a id="4430" class="Symbol">{</a> <a id="4432" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="4435" class="Symbol">→</a> <a id="4437" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="4442" class="Symbol">;</a> <a id="4444" class="Symbol">(</a><a id="4445" href="Erasure.Target.Properties.Substitution.html#4445" class="Bound">x</a> <a id="4447" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4449" class="Symbol">)</a> <a id="4451" class="Symbol">→</a> <a id="4453" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="4457" class="Symbol">})</a>

<a id="helper2"></a><a id="4461" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4469" class="Symbol">:</a> <a id="4471" class="Symbol">(</a><a id="4472" href="Erasure.Target.Properties.Substitution.html#4472" class="Bound">n</a> <a id="4474" class="Symbol">:</a> <a id="4476" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="4479" class="Symbol">)</a> <a id="4481" class="Symbol">→</a> <a id="4483" class="Symbol">(</a><a id="4484" href="Erasure.Target.Properties.Substitution.html#4484" class="Bound">x</a> <a id="4486" class="Symbol">:</a> <a id="4488" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4492" class="Symbol">(</a><a id="4493" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="4496" href="Erasure.Target.Properties.Substitution.html#4472" class="Bound">n</a> <a id="4498" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4500" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="4501" class="Symbol">))</a>
        <a id="4512" class="Symbol">→</a> <a id="4514" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="4524" class="Symbol">(</a><a id="4525" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4536" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4538" href="Erasure.Target.Properties.Substitution.html#4472" class="Bound">n</a><a id="4539" class="Symbol">)</a> <a id="4541" class="Symbol">(</a><a id="4542" href="Erasure.Target.html#2221" class="Function">wkVar</a> <a id="4548" class="Symbol">(</a><a id="4549" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Erasure.Target.html#2091" class="Function">liftn</a> <a id="4561" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="4563" href="Erasure.Target.Properties.Substitution.html#4472" class="Bound">n</a><a id="4564" class="Symbol">))</a> <a id="4567" href="Erasure.Target.Properties.Substitution.html#4484" class="Bound">x</a><a id="4568" class="Symbol">)</a> <a id="4570" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
          <a id="4582" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4604" class="Symbol">(λ</a> <a id="4607" href="Erasure.Target.Properties.Substitution.html#4607" class="Bound">x₁</a> <a id="4610" class="Symbol">→</a> <a id="4612" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4614" class="Symbol">(</a><a id="4615" href="Erasure.Target.html#2221" class="Function">wkVar</a> <a id="4621" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="4623" href="Erasure.Target.Properties.Substitution.html#4607" class="Bound">x₁</a><a id="4625" class="Symbol">))</a> <a id="4628" href="Erasure.Target.Properties.Substitution.html#4472" class="Bound">n</a><a id="4629" class="Symbol">)</a> <a id="4631" href="Erasure.Target.Properties.Substitution.html#4484" class="Bound">x</a>
<a id="4633" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4641" class="Number">0</a> <a id="4643" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>          <a id="4655" class="Symbol">=</a> <a id="4657" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4662" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4670" class="Number">0</a> <a id="4672" class="Symbol">(</a><a id="4673" href="Erasure.Target.Properties.Substitution.html#4673" class="Bound">x</a> <a id="4675" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4677" class="Symbol">)</a>      <a id="4684" class="Symbol">=</a> <a id="4686" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4691" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4699" class="Symbol">(</a><a id="4700" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="4703" href="Erasure.Target.Properties.Substitution.html#4703" class="Bound">n</a><a id="4704" class="Symbol">)</a> <a id="4706" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="4713" class="Symbol">=</a> <a id="4715" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4720" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4728" class="Symbol">(</a><a id="4729" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="4732" href="Erasure.Target.Properties.Substitution.html#4732" class="Bound">n</a><a id="4733" class="Symbol">)</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Erasure.Target.Properties.Substitution.html#4736" class="Bound">x</a> <a id="4738" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4740" class="Symbol">)</a> <a id="4742" class="Symbol">=</a> <a id="4744" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4749" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="4753" class="Symbol">(</a><a id="4754" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4762" href="Erasure.Target.Properties.Substitution.html#4732" class="Bound">n</a> <a id="4764" href="Erasure.Target.Properties.Substitution.html#4736" class="Bound">x</a><a id="4765" class="Symbol">)</a>

<a id="subst-lifts-ₛ•"></a><a id="4768" href="Erasure.Target.Properties.Substitution.html#4768" class="Function">subst-lifts-ₛ•</a> <a id="4783" class="Symbol">:</a> <a id="4785" class="Symbol">∀</a> <a id="4787" href="Erasure.Target.Properties.Substitution.html#4787" class="Bound">n</a> <a id="4789" href="Erasure.Target.Properties.Substitution.html#4789" class="Bound">t</a>
              <a id="4805" class="Symbol">→</a> <a id="4807" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4813" class="Symbol">(</a><a id="4814" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4825" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4827" href="Erasure.Target.Properties.Substitution.html#4787" class="Bound">n</a> <a id="4829" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="4832" href="Erasure.Target.html#2091" class="Function">liftn</a> <a id="4838" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="4840" href="Erasure.Target.Properties.Substitution.html#4787" class="Bound">n</a><a id="4841" class="Symbol">)</a> <a id="4843" href="Erasure.Target.Properties.Substitution.html#4789" class="Bound">t</a>
              <a id="4859" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4861" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="4867" class="Symbol">(</a><a id="4868" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="4882" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="4885" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="4886" class="Symbol">)</a> <a id="4888" href="Erasure.Target.Properties.Substitution.html#4787" class="Bound">n</a><a id="4889" class="Symbol">)</a> <a id="4891" href="Erasure.Target.Properties.Substitution.html#4789" class="Bound">t</a>
<a id="4893" href="Erasure.Target.Properties.Substitution.html#4768" class="Function">subst-lifts-ₛ•</a> <a id="4908" class="Number">0</a> <a id="4910" href="Erasure.Target.Properties.Substitution.html#4910" class="Bound">t</a> <a id="4912" class="Symbol">=</a> <a id="4914" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4919" href="Erasure.Target.Properties.Substitution.html#4768" class="Function">subst-lifts-ₛ•</a> <a id="4934" class="Symbol">(</a><a id="4935" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="4938" href="Erasure.Target.Properties.Substitution.html#4938" class="Bound">n</a><a id="4939" class="Symbol">)</a> <a id="4941" href="Erasure.Target.Properties.Substitution.html#4941" class="Bound">t</a> <a id="4943" class="Symbol">=</a> <a id="4945" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="4963" class="Symbol">(</a><a id="4964" href="Erasure.Target.Properties.Substitution.html#4461" class="Function">helper2</a> <a id="4972" href="Erasure.Target.Properties.Substitution.html#4938" class="Bound">n</a><a id="4973" class="Symbol">)</a> <a id="4975" href="Erasure.Target.Properties.Substitution.html#4941" class="Bound">t</a>

<a id="4978" class="Comment">-- wk ρ ∘ subst σ = subst (ρ •ₛ σ)</a>

<a id="5014" class="Keyword">mutual</a>
  <a id="wk-subst"></a><a id="5023" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5032" class="Symbol">:</a> <a id="5034" class="Symbol">∀</a> <a id="5036" href="Erasure.Target.Properties.Substitution.html#5036" class="Bound">t</a> <a id="5038" class="Symbol">→</a> <a id="5040" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="5043" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="5045" class="Symbol">(</a><a id="5046" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="5052" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="5054" href="Erasure.Target.Properties.Substitution.html#5036" class="Bound">t</a><a id="5055" class="Symbol">)</a> <a id="5057" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5059" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="5068" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="5071" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="5072" class="Symbol">)</a> <a id="5074" href="Erasure.Target.Properties.Substitution.html#5036" class="Bound">t</a>
  <a id="5078" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5087" class="Symbol">(</a><a id="5088" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="5092" href="Erasure.Target.Properties.Substitution.html#5092" class="Bound">x</a><a id="5093" class="Symbol">)</a> <a id="5095" class="Symbol">=</a> <a id="5097" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5104" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5113" class="Symbol">(</a><a id="5114" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="5118" href="Erasure.Target.Properties.Substitution.html#5118" class="Bound">t</a><a id="5119" class="Symbol">)</a> <a id="5121" class="Symbol">=</a> <a id="5123" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5128" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="5132" class="Symbol">(</a><a id="5133" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="5139" class="Symbol">(</a><a id="5140" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5149" href="Erasure.Target.Properties.Substitution.html#5118" class="Bound">t</a><a id="5150" class="Symbol">)</a> <a id="5152" class="Symbol">(</a><a id="5153" href="Erasure.Target.Properties.Substitution.html#3493" class="Function">subst-lift-•ₛ</a> <a id="5167" href="Erasure.Target.Properties.Substitution.html#5118" class="Bound">t</a><a id="5168" class="Symbol">))</a>
  <a id="5173" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5182" class="Symbol">(</a><a id="5183" href="Erasure.Target.Properties.Substitution.html#5183" class="Bound">t</a> <a id="5185" href="Erasure.Target.html#611" class="InductiveConstructor Operator">∘</a> <a id="5187" href="Erasure.Target.Properties.Substitution.html#5187" class="Bound">u</a><a id="5188" class="Symbol">)</a> <a id="5190" class="Symbol">=</a> <a id="5192" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="5198" href="Erasure.Target.html#611" class="InductiveConstructor Operator">_∘_</a> <a id="5202" class="Symbol">(</a><a id="5203" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5212" href="Erasure.Target.Properties.Substitution.html#5183" class="Bound">t</a><a id="5213" class="Symbol">)</a> <a id="5215" class="Symbol">(</a><a id="5216" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5225" href="Erasure.Target.Properties.Substitution.html#5187" class="Bound">u</a><a id="5226" class="Symbol">)</a>
  <a id="5230" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5239" href="Erasure.Target.html#649" class="InductiveConstructor">zero</a> <a id="5244" class="Symbol">=</a> <a id="5246" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5253" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5262" class="Symbol">(</a><a id="5263" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="5267" href="Erasure.Target.Properties.Substitution.html#5267" class="Bound">t</a><a id="5268" class="Symbol">)</a> <a id="5270" class="Symbol">=</a> <a id="5272" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5277" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="5281" class="Symbol">(</a><a id="5282" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5291" href="Erasure.Target.Properties.Substitution.html#5267" class="Bound">t</a><a id="5292" class="Symbol">)</a>
  <a id="5296" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5305" class="Symbol">(</a><a id="5306" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="5313" href="Erasure.Target.Properties.Substitution.html#5313" class="Bound">z</a> <a id="5315" href="Erasure.Target.Properties.Substitution.html#5315" class="Bound">s</a> <a id="5317" href="Erasure.Target.Properties.Substitution.html#5317" class="Bound">n</a><a id="5318" class="Symbol">)</a> <a id="5320" class="Symbol">=</a> <a id="5322" href="Tools.PropositionalEquality.html#592" class="Function">cong₃</a> <a id="5328" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="5335" class="Symbol">(</a><a id="5336" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5345" href="Erasure.Target.Properties.Substitution.html#5313" class="Bound">z</a><a id="5346" class="Symbol">)</a> <a id="5348" class="Symbol">(</a><a id="5349" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="5355" class="Symbol">(</a><a id="5356" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5365" href="Erasure.Target.Properties.Substitution.html#5315" class="Bound">s</a><a id="5366" class="Symbol">)</a> <a id="5368" class="Symbol">(</a><a id="5369" href="Erasure.Target.Properties.Substitution.html#4033" class="Function">subst-lifts-•ₛ</a> <a id="5384" class="Number">2</a> <a id="5386" href="Erasure.Target.Properties.Substitution.html#5315" class="Bound">s</a><a id="5387" class="Symbol">))</a> <a id="5390" class="Symbol">(</a><a id="5391" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5400" href="Erasure.Target.Properties.Substitution.html#5317" class="Bound">n</a><a id="5401" class="Symbol">)</a>
  <a id="5405" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5414" class="Symbol">(</a><a id="5415" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="5420" href="Erasure.Target.Properties.Substitution.html#5420" class="Bound">t</a> <a id="5422" href="Erasure.Target.Properties.Substitution.html#5422" class="Bound">u</a><a id="5423" class="Symbol">)</a> <a id="5425" class="Symbol">=</a> <a id="5427" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="5433" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="5438" class="Symbol">(</a><a id="5439" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5448" href="Erasure.Target.Properties.Substitution.html#5420" class="Bound">t</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Symbol">(</a><a id="5452" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5461" href="Erasure.Target.Properties.Substitution.html#5422" class="Bound">u</a><a id="5462" class="Symbol">)</a>
  <a id="5466" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5475" class="Symbol">(</a><a id="5476" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="5480" href="Erasure.Target.Properties.Substitution.html#5480" class="Bound">t</a><a id="5481" class="Symbol">)</a> <a id="5483" class="Symbol">=</a> <a id="5485" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5490" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="5494" class="Symbol">(</a><a id="5495" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5504" href="Erasure.Target.Properties.Substitution.html#5480" class="Bound">t</a><a id="5505" class="Symbol">)</a>
  <a id="5509" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5518" class="Symbol">(</a><a id="5519" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="5523" href="Erasure.Target.Properties.Substitution.html#5523" class="Bound">t</a><a id="5524" class="Symbol">)</a> <a id="5526" class="Symbol">=</a> <a id="5528" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5533" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="5537" class="Symbol">(</a><a id="5538" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5547" href="Erasure.Target.Properties.Substitution.html#5523" class="Bound">t</a><a id="5548" class="Symbol">)</a>
  <a id="5552" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5561" class="Symbol">(</a><a id="5562" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="5570" href="Erasure.Target.Properties.Substitution.html#5570" class="Bound">t</a> <a id="5572" href="Erasure.Target.Properties.Substitution.html#5572" class="Bound">u</a><a id="5573" class="Symbol">)</a> <a id="5575" class="Symbol">=</a> <a id="5577" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="5583" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="5591" class="Symbol">(</a><a id="5592" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5601" href="Erasure.Target.Properties.Substitution.html#5570" class="Bound">t</a><a id="5602" class="Symbol">)</a> <a id="5604" class="Symbol">(</a><a id="5605" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="5611" class="Symbol">(</a><a id="5612" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5621" href="Erasure.Target.Properties.Substitution.html#5572" class="Bound">u</a><a id="5622" class="Symbol">)</a> <a id="5624" class="Symbol">(</a><a id="5625" href="Erasure.Target.Properties.Substitution.html#4033" class="Function">subst-lifts-•ₛ</a> <a id="5640" class="Number">2</a> <a id="5642" href="Erasure.Target.Properties.Substitution.html#5572" class="Bound">u</a><a id="5643" class="Symbol">))</a>
  <a id="5648" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5657" href="Erasure.Target.html#947" class="InductiveConstructor">star</a> <a id="5662" class="Symbol">=</a> <a id="5664" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5671" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="5680" href="Erasure.Target.html#996" class="InductiveConstructor">↯</a> <a id="5682" class="Symbol">=</a> <a id="5684" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="5690" class="Comment">-- subst σ ∘ wk ρ = subst (σ •ₛ ρ)</a>

<a id="5726" class="Keyword">mutual</a>
  <a id="subst-wk"></a><a id="5735" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5744" class="Symbol">:</a> <a id="5746" class="Symbol">∀</a> <a id="5748" href="Erasure.Target.Properties.Substitution.html#5748" class="Bound">t</a> <a id="5750" class="Symbol">→</a> <a id="5752" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="5758" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="5760" class="Symbol">(</a><a id="5761" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="5764" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="5766" href="Erasure.Target.Properties.Substitution.html#5748" class="Bound">t</a><a id="5767" class="Symbol">)</a> <a id="5769" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5771" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="5777" class="Symbol">(</a><a id="5778" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="5780" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="5783" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="5784" class="Symbol">)</a> <a id="5786" href="Erasure.Target.Properties.Substitution.html#5748" class="Bound">t</a>
  <a id="5790" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5799" class="Symbol">(</a><a id="5800" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="5804" href="Erasure.Target.Properties.Substitution.html#5804" class="Bound">x</a><a id="5805" class="Symbol">)</a> <a id="5807" class="Symbol">=</a> <a id="5809" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5816" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5825" class="Symbol">(</a><a id="5826" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="5830" href="Erasure.Target.Properties.Substitution.html#5830" class="Bound">t</a><a id="5831" class="Symbol">)</a> <a id="5833" class="Symbol">=</a> <a id="5835" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5840" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="5844" class="Symbol">(</a><a id="5845" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="5851" class="Symbol">(</a><a id="5852" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5861" href="Erasure.Target.Properties.Substitution.html#5830" class="Bound">t</a><a id="5862" class="Symbol">)</a> <a id="5864" class="Symbol">(</a><a id="5865" href="Erasure.Target.Properties.Substitution.html#4280" class="Function">subst-lift-ₛ•</a> <a id="5879" href="Erasure.Target.Properties.Substitution.html#5830" class="Bound">t</a><a id="5880" class="Symbol">))</a>
  <a id="5885" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5894" class="Symbol">(</a><a id="5895" href="Erasure.Target.Properties.Substitution.html#5895" class="Bound">t</a> <a id="5897" href="Erasure.Target.html#611" class="InductiveConstructor Operator">∘</a> <a id="5899" href="Erasure.Target.Properties.Substitution.html#5899" class="Bound">u</a><a id="5900" class="Symbol">)</a> <a id="5902" class="Symbol">=</a> <a id="5904" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="5910" href="Erasure.Target.html#611" class="InductiveConstructor Operator">_∘_</a> <a id="5914" class="Symbol">(</a><a id="5915" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5924" href="Erasure.Target.Properties.Substitution.html#5895" class="Bound">t</a><a id="5925" class="Symbol">)</a> <a id="5927" class="Symbol">(</a><a id="5928" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5937" href="Erasure.Target.Properties.Substitution.html#5899" class="Bound">u</a><a id="5938" class="Symbol">)</a>
  <a id="5942" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5951" href="Erasure.Target.html#649" class="InductiveConstructor">zero</a> <a id="5956" class="Symbol">=</a> <a id="5958" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="5965" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="5974" class="Symbol">(</a><a id="5975" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="5979" href="Erasure.Target.Properties.Substitution.html#5979" class="Bound">t</a><a id="5980" class="Symbol">)</a> <a id="5982" class="Symbol">=</a> <a id="5984" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5989" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="5993" class="Symbol">(</a><a id="5994" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6003" href="Erasure.Target.Properties.Substitution.html#5979" class="Bound">t</a><a id="6004" class="Symbol">)</a>
  <a id="6008" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6017" class="Symbol">(</a><a id="6018" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="6025" href="Erasure.Target.Properties.Substitution.html#6025" class="Bound">z</a> <a id="6027" href="Erasure.Target.Properties.Substitution.html#6027" class="Bound">s</a> <a id="6029" href="Erasure.Target.Properties.Substitution.html#6029" class="Bound">n</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">=</a> <a id="6034" href="Tools.PropositionalEquality.html#592" class="Function">cong₃</a> <a id="6040" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="6047" class="Symbol">(</a><a id="6048" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6057" href="Erasure.Target.Properties.Substitution.html#6025" class="Bound">z</a><a id="6058" class="Symbol">)</a> <a id="6060" class="Symbol">(</a><a id="6061" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="6067" class="Symbol">(</a><a id="6068" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6077" href="Erasure.Target.Properties.Substitution.html#6027" class="Bound">s</a><a id="6078" class="Symbol">)</a> <a id="6080" class="Symbol">(</a><a id="6081" href="Erasure.Target.Properties.Substitution.html#4768" class="Function">subst-lifts-ₛ•</a> <a id="6096" class="Number">2</a> <a id="6098" href="Erasure.Target.Properties.Substitution.html#6027" class="Bound">s</a><a id="6099" class="Symbol">))</a> <a id="6102" class="Symbol">(</a><a id="6103" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6112" href="Erasure.Target.Properties.Substitution.html#6029" class="Bound">n</a><a id="6113" class="Symbol">)</a>
  <a id="6117" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6126" class="Symbol">(</a><a id="6127" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="6132" href="Erasure.Target.Properties.Substitution.html#6132" class="Bound">t</a> <a id="6134" href="Erasure.Target.Properties.Substitution.html#6134" class="Bound">u</a><a id="6135" class="Symbol">)</a> <a id="6137" class="Symbol">=</a> <a id="6139" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="6145" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="6150" class="Symbol">(</a><a id="6151" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6160" href="Erasure.Target.Properties.Substitution.html#6132" class="Bound">t</a><a id="6161" class="Symbol">)</a> <a id="6163" class="Symbol">(</a><a id="6164" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6173" href="Erasure.Target.Properties.Substitution.html#6134" class="Bound">u</a><a id="6174" class="Symbol">)</a>
  <a id="6178" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6187" class="Symbol">(</a><a id="6188" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="6192" href="Erasure.Target.Properties.Substitution.html#6192" class="Bound">t</a><a id="6193" class="Symbol">)</a> <a id="6195" class="Symbol">=</a> <a id="6197" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="6202" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="6206" class="Symbol">(</a><a id="6207" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6216" href="Erasure.Target.Properties.Substitution.html#6192" class="Bound">t</a><a id="6217" class="Symbol">)</a>
  <a id="6221" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6230" class="Symbol">(</a><a id="6231" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="6235" href="Erasure.Target.Properties.Substitution.html#6235" class="Bound">t</a><a id="6236" class="Symbol">)</a> <a id="6238" class="Symbol">=</a> <a id="6240" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="6245" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="6249" class="Symbol">(</a><a id="6250" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6259" href="Erasure.Target.Properties.Substitution.html#6235" class="Bound">t</a><a id="6260" class="Symbol">)</a>
  <a id="6264" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="6282" href="Erasure.Target.Properties.Substitution.html#6282" class="Bound">t</a> <a id="6284" href="Erasure.Target.Properties.Substitution.html#6284" class="Bound">u</a><a id="6285" class="Symbol">)</a> <a id="6287" class="Symbol">=</a> <a id="6289" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="6295" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="6303" class="Symbol">(</a><a id="6304" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6313" href="Erasure.Target.Properties.Substitution.html#6282" class="Bound">t</a><a id="6314" class="Symbol">)</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="6323" class="Symbol">(</a><a id="6324" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6333" href="Erasure.Target.Properties.Substitution.html#6284" class="Bound">u</a><a id="6334" class="Symbol">)</a> <a id="6336" class="Symbol">(</a><a id="6337" href="Erasure.Target.Properties.Substitution.html#4768" class="Function">subst-lifts-ₛ•</a> <a id="6352" class="Number">2</a> <a id="6354" href="Erasure.Target.Properties.Substitution.html#6284" class="Bound">u</a><a id="6355" class="Symbol">))</a>
  <a id="6360" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6369" href="Erasure.Target.html#947" class="InductiveConstructor">star</a> <a id="6374" class="Symbol">=</a> <a id="6376" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6383" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="6392" href="Erasure.Target.html#996" class="InductiveConstructor">↯</a> <a id="6394" class="Symbol">=</a> <a id="6396" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>


<a id="6403" class="Comment">-- Composition of liftings is lifting of the composition.</a>

<a id="wk-subst-lift"></a><a id="6462" href="Erasure.Target.Properties.Substitution.html#6462" class="Function">wk-subst-lift</a> <a id="6476" class="Symbol">:</a> <a id="6478" class="Symbol">(</a><a id="6479" href="Erasure.Target.Properties.Substitution.html#6479" class="Bound">G</a> <a id="6481" class="Symbol">:</a> <a id="6483" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="6488" class="Symbol">(</a><a id="6489" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="6492" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="6493" class="Symbol">))</a>
              <a id="6510" class="Symbol">→</a> <a id="6512" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="6515" class="Symbol">(</a><a id="6516" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="6521" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="6522" class="Symbol">)</a> <a id="6524" class="Symbol">(</a><a id="6525" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="6531" class="Symbol">(</a><a id="6532" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="6542" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="6543" class="Symbol">)</a> <a id="6545" href="Erasure.Target.Properties.Substitution.html#6479" class="Bound">G</a><a id="6546" class="Symbol">)</a>
              <a id="6562" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6564" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="6570" class="Symbol">(</a><a id="6571" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="6581" class="Symbol">(</a><a id="6582" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="6584" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="6587" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="6588" class="Symbol">))</a> <a id="6591" href="Erasure.Target.Properties.Substitution.html#6479" class="Bound">G</a>
<a id="6593" href="Erasure.Target.Properties.Substitution.html#6462" class="Function">wk-subst-lift</a> <a id="6607" href="Erasure.Target.Properties.Substitution.html#6607" class="Bound">G</a> <a id="6609" class="Symbol">=</a> <a id="6611" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="6617" class="Symbol">(</a><a id="6618" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="6627" href="Erasure.Target.Properties.Substitution.html#6607" class="Bound">G</a><a id="6628" class="Symbol">)</a> <a id="6630" class="Symbol">(</a><a id="6631" href="Erasure.Target.Properties.Substitution.html#3493" class="Function">subst-lift-•ₛ</a> <a id="6645" href="Erasure.Target.Properties.Substitution.html#6607" class="Bound">G</a><a id="6646" class="Symbol">)</a>

<a id="6649" class="Comment">-- Renaming with ρ is the same as substituting with ρ turned into a substitution.</a>

<a id="wk≡subst"></a><a id="6732" href="Erasure.Target.Properties.Substitution.html#6732" class="Function">wk≡subst</a> <a id="6741" class="Symbol">:</a> <a id="6743" class="Symbol">(</a><a id="6744" href="Erasure.Target.Properties.Substitution.html#6744" class="Bound">ρ</a> <a id="6746" class="Symbol">:</a> <a id="6748" href="Erasure.Target.html#1765" class="Datatype">Wk</a> <a id="6751" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="6753" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="6754" class="Symbol">)</a> <a id="6756" class="Symbol">(</a><a id="6757" href="Erasure.Target.Properties.Substitution.html#6757" class="Bound">t</a> <a id="6759" class="Symbol">:</a> <a id="6761" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="6766" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="6767" class="Symbol">)</a> <a id="6769" class="Symbol">→</a> <a id="6771" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="6774" href="Erasure.Target.Properties.Substitution.html#6744" class="Bound">ρ</a> <a id="6776" href="Erasure.Target.Properties.Substitution.html#6757" class="Bound">t</a> <a id="6778" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6780" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="6786" class="Symbol">(</a><a id="6787" href="Erasure.Target.html#4102" class="Function">toSubst</a> <a id="6795" href="Erasure.Target.Properties.Substitution.html#6744" class="Bound">ρ</a><a id="6796" class="Symbol">)</a> <a id="6798" href="Erasure.Target.Properties.Substitution.html#6757" class="Bound">t</a>
<a id="6800" href="Erasure.Target.Properties.Substitution.html#6732" class="Function">wk≡subst</a> <a id="6809" href="Erasure.Target.Properties.Substitution.html#6809" class="Bound">ρ</a> <a id="6811" href="Erasure.Target.Properties.Substitution.html#6811" class="Bound">t</a> <a id="6813" class="Symbol">=</a> <a id="6815" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="6821" class="Symbol">(</a><a id="6822" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="6827" class="Symbol">(</a><a id="6828" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="6831" href="Erasure.Target.Properties.Substitution.html#6809" class="Bound">ρ</a><a id="6832" class="Symbol">)</a> <a id="6834" class="Symbol">(</a><a id="6835" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="6839" class="Symbol">(</a><a id="6840" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="6849" href="Erasure.Target.Properties.Substitution.html#6811" class="Bound">t</a><a id="6850" class="Symbol">)))</a> <a id="6854" class="Symbol">(</a><a id="6855" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="6864" href="Erasure.Target.Properties.Substitution.html#6811" class="Bound">t</a><a id="6865" class="Symbol">)</a>

<a id="6868" class="Comment">-- Composition of substitutions.</a>

<a id="6902" class="Comment">-- Composition of liftings is lifting of the composition.</a>

<a id="substCompLift"></a><a id="6961" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="6975" class="Symbol">:</a> <a id="6977" class="Symbol">∀</a> <a id="6979" href="Erasure.Target.Properties.Substitution.html#6979" class="Bound">x</a>
              <a id="6995" class="Symbol">→</a> <a id="6997" class="Symbol">(</a><a id="6998" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="7008" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7010" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="7014" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="7024" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a><a id="7026" class="Symbol">)</a> <a id="7028" href="Erasure.Target.Properties.Substitution.html#6979" class="Bound">x</a>
              <a id="7044" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7046" class="Symbol">(</a><a id="7047" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="7057" class="Symbol">(</a><a id="7058" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7060" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="7064" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a><a id="7066" class="Symbol">))</a> <a id="7069" href="Erasure.Target.Properties.Substitution.html#6979" class="Bound">x</a>
<a id="7071" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a>                    <a id="7104" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>    <a id="7110" class="Symbol">=</a> <a id="7112" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="7117" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="7131" class="Symbol">{</a><a id="7132" class="Argument">σ</a> <a id="7134" class="Symbol">=</a> <a id="7136" href="Erasure.Target.Properties.Substitution.html#7136" class="Bound">σ</a><a id="7137" class="Symbol">}</a> <a id="7139" class="Symbol">{</a><a id="7140" class="Argument">σ′</a> <a id="7143" class="Symbol">=</a> <a id="7145" href="Erasure.Target.Properties.Substitution.html#7145" class="Bound">σ′</a><a id="7147" class="Symbol">}</a> <a id="7149" class="Symbol">(</a><a id="7150" href="Erasure.Target.Properties.Substitution.html#7150" class="Bound">x</a> <a id="7152" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="7154" class="Symbol">)</a> <a id="7156" class="Symbol">=</a> <a id="7158" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="7164" class="Symbol">(</a><a id="7165" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="7174" class="Symbol">(</a><a id="7175" href="Erasure.Target.Properties.Substitution.html#7145" class="Bound">σ′</a> <a id="7178" href="Erasure.Target.Properties.Substitution.html#7150" class="Bound">x</a><a id="7179" class="Symbol">))</a> <a id="7182" class="Symbol">(</a><a id="7183" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7187" class="Symbol">(</a><a id="7188" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="7197" class="Symbol">(</a><a id="7198" href="Erasure.Target.Properties.Substitution.html#7145" class="Bound">σ′</a> <a id="7201" href="Erasure.Target.Properties.Substitution.html#7150" class="Bound">x</a><a id="7202" class="Symbol">)))</a>

<a id="substCompLifts"></a><a id="7207" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a> <a id="7222" class="Symbol">:</a> <a id="7224" class="Symbol">∀</a> <a id="7226" href="Erasure.Target.Properties.Substitution.html#7226" class="Bound">n</a> <a id="7228" href="Erasure.Target.Properties.Substitution.html#7228" class="Bound">x</a>
              <a id="7244" class="Symbol">→</a> <a id="7246" class="Symbol">(</a><a id="7247" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="7258" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7260" href="Erasure.Target.Properties.Substitution.html#7226" class="Bound">n</a> <a id="7262" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="7266" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="7277" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="7280" href="Erasure.Target.Properties.Substitution.html#7226" class="Bound">n</a><a id="7281" class="Symbol">)</a> <a id="7283" href="Erasure.Target.Properties.Substitution.html#7228" class="Bound">x</a>
              <a id="7299" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7301" class="Symbol">(</a><a id="7302" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="7313" class="Symbol">(</a><a id="7314" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7316" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="7320" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a><a id="7322" class="Symbol">)</a> <a id="7324" href="Erasure.Target.Properties.Substitution.html#7226" class="Bound">n</a><a id="7325" class="Symbol">)</a> <a id="7327" href="Erasure.Target.Properties.Substitution.html#7228" class="Bound">x</a>
<a id="7329" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a>                   <a id="7362" class="Number">0</a>       <a id="7370" href="Erasure.Target.Properties.Substitution.html#7370" class="Bound">x</a>     <a id="7376" class="Symbol">=</a> <a id="7378" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="7383" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a>                   <a id="7416" class="Symbol">(</a><a id="7417" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="7420" href="Erasure.Target.Properties.Substitution.html#7420" class="Bound">n</a><a id="7421" class="Symbol">)</a>  <a id="7424" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>    <a id="7430" class="Symbol">=</a> <a id="7432" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="7437" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a> <a id="7452" class="Symbol">{</a><a id="7453" class="Argument">σ</a> <a id="7455" class="Symbol">=</a> <a id="7457" href="Erasure.Target.Properties.Substitution.html#7457" class="Bound">σ</a><a id="7458" class="Symbol">}</a> <a id="7460" class="Symbol">{</a><a id="7461" class="Argument">σ′</a> <a id="7464" class="Symbol">=</a> <a id="7466" href="Erasure.Target.Properties.Substitution.html#7466" class="Bound">σ′</a><a id="7468" class="Symbol">}</a> <a id="7470" class="Symbol">(</a><a id="7471" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="7474" href="Erasure.Target.Properties.Substitution.html#7474" class="Bound">n</a><a id="7475" class="Symbol">)</a> <a id="7477" class="Symbol">(</a><a id="7478" href="Erasure.Target.Properties.Substitution.html#7478" class="Bound">x</a> <a id="7480" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="7482" class="Symbol">)</a> <a id="7484" class="Symbol">=</a>
  <a id="7488" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="7494" class="Symbol">(</a><a id="7495" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="7509" class="Symbol">{</a><a id="7510" class="Argument">σ</a> <a id="7512" class="Symbol">=</a> <a id="7514" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="7525" href="Erasure.Target.Properties.Substitution.html#7457" class="Bound">σ</a> <a id="7527" href="Erasure.Target.Properties.Substitution.html#7474" class="Bound">n</a><a id="7528" class="Symbol">}</a> <a id="7530" class="Symbol">{</a><a id="7531" class="Argument">σ′</a> <a id="7534" class="Symbol">=</a> <a id="7536" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="7547" href="Erasure.Target.Properties.Substitution.html#7466" class="Bound">σ′</a> <a id="7550" href="Erasure.Target.Properties.Substitution.html#7474" class="Bound">n</a><a id="7551" class="Symbol">}</a> <a id="7553" class="Symbol">(</a><a id="7554" href="Erasure.Target.Properties.Substitution.html#7478" class="Bound">x</a> <a id="7556" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="7558" class="Symbol">))</a>
        <a id="7569" class="Symbol">(</a><a id="7570" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7575" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="7579" class="Symbol">(</a><a id="7580" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a> <a id="7595" href="Erasure.Target.Properties.Substitution.html#7474" class="Bound">n</a> <a id="7597" href="Erasure.Target.Properties.Substitution.html#7478" class="Bound">x</a><a id="7598" class="Symbol">))</a>

<a id="7602" class="Comment">-- Soundness of the composition of substitutions.</a>

<a id="7653" class="Keyword">mutual</a>
  <a id="substCompEq"></a><a id="7662" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7674" class="Symbol">:</a> <a id="7676" class="Symbol">∀</a> <a id="7678" class="Symbol">(</a><a id="7679" href="Erasure.Target.Properties.Substitution.html#7679" class="Bound">t</a> <a id="7681" class="Symbol">:</a> <a id="7683" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="7688" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="7689" class="Symbol">)</a>
              <a id="7705" class="Symbol">→</a> <a id="7707" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="7713" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7715" class="Symbol">(</a><a id="7716" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="7722" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a> <a id="7725" href="Erasure.Target.Properties.Substitution.html#7679" class="Bound">t</a><a id="7726" class="Symbol">)</a> <a id="7728" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7730" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="7736" class="Symbol">(</a><a id="7737" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="7739" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="7743" href="Erasure.Target.Properties.Substitution.html#557" class="Generalizable">σ′</a><a id="7745" class="Symbol">)</a> <a id="7747" href="Erasure.Target.Properties.Substitution.html#7679" class="Bound">t</a>
  <a id="7751" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7763" class="Symbol">(</a><a id="7764" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="7768" href="Erasure.Target.Properties.Substitution.html#7768" class="Bound">x</a><a id="7769" class="Symbol">)</a> <a id="7771" class="Symbol">=</a> <a id="7773" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="7780" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7792" class="Symbol">(</a><a id="7793" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="7797" href="Erasure.Target.Properties.Substitution.html#7797" class="Bound">t</a><a id="7798" class="Symbol">)</a> <a id="7800" class="Symbol">=</a> <a id="7802" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7807" href="Erasure.Target.html#570" class="InductiveConstructor">lam</a> <a id="7811" class="Symbol">(</a><a id="7812" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="7818" class="Symbol">(</a><a id="7819" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7831" href="Erasure.Target.Properties.Substitution.html#7797" class="Bound">t</a><a id="7832" class="Symbol">)</a> <a id="7834" class="Symbol">(</a><a id="7835" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="7853" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="7867" href="Erasure.Target.Properties.Substitution.html#7797" class="Bound">t</a><a id="7868" class="Symbol">))</a>
  <a id="7873" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7885" class="Symbol">(</a><a id="7886" href="Erasure.Target.Properties.Substitution.html#7886" class="Bound">t</a> <a id="7888" href="Erasure.Target.html#611" class="InductiveConstructor Operator">∘</a> <a id="7890" href="Erasure.Target.Properties.Substitution.html#7890" class="Bound">u</a><a id="7891" class="Symbol">)</a> <a id="7893" class="Symbol">=</a> <a id="7895" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="7901" href="Erasure.Target.html#611" class="InductiveConstructor Operator">_∘_</a> <a id="7905" class="Symbol">(</a><a id="7906" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7918" href="Erasure.Target.Properties.Substitution.html#7886" class="Bound">t</a><a id="7919" class="Symbol">)</a> <a id="7921" class="Symbol">(</a><a id="7922" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7934" href="Erasure.Target.Properties.Substitution.html#7890" class="Bound">u</a><a id="7935" class="Symbol">)</a>
  <a id="7939" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7951" href="Erasure.Target.html#649" class="InductiveConstructor">zero</a> <a id="7956" class="Symbol">=</a> <a id="7958" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="7965" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="7977" class="Symbol">(</a><a id="7978" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="7982" href="Erasure.Target.Properties.Substitution.html#7982" class="Bound">t</a><a id="7983" class="Symbol">)</a> <a id="7985" class="Symbol">=</a> <a id="7987" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7992" href="Erasure.Target.html#670" class="InductiveConstructor">suc</a> <a id="7996" class="Symbol">(</a><a id="7997" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8009" href="Erasure.Target.Properties.Substitution.html#7982" class="Bound">t</a><a id="8010" class="Symbol">)</a>
  <a id="8014" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8026" class="Symbol">(</a><a id="8027" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="8034" href="Erasure.Target.Properties.Substitution.html#8034" class="Bound">z</a> <a id="8036" href="Erasure.Target.Properties.Substitution.html#8036" class="Bound">s</a> <a id="8038" href="Erasure.Target.Properties.Substitution.html#8038" class="Bound">n</a><a id="8039" class="Symbol">)</a> <a id="8041" class="Symbol">=</a> <a id="8043" href="Tools.PropositionalEquality.html#592" class="Function">cong₃</a> <a id="8049" href="Erasure.Target.html#706" class="InductiveConstructor">natrec</a> <a id="8056" class="Symbol">(</a><a id="8057" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8069" href="Erasure.Target.Properties.Substitution.html#8034" class="Bound">z</a><a id="8070" class="Symbol">)</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="8079" class="Symbol">(</a><a id="8080" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8092" href="Erasure.Target.Properties.Substitution.html#8036" class="Bound">s</a><a id="8093" class="Symbol">)</a> <a id="8095" class="Symbol">(</a><a id="8096" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="8114" class="Symbol">(</a><a id="8115" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a> <a id="8130" class="Number">2</a><a id="8131" class="Symbol">)</a> <a id="8133" href="Erasure.Target.Properties.Substitution.html#8036" class="Bound">s</a><a id="8134" class="Symbol">))</a> <a id="8137" class="Symbol">(</a><a id="8138" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8150" href="Erasure.Target.Properties.Substitution.html#8038" class="Bound">n</a><a id="8151" class="Symbol">)</a>
  <a id="8155" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8167" class="Symbol">(</a><a id="8168" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="8173" href="Erasure.Target.Properties.Substitution.html#8173" class="Bound">t</a> <a id="8175" href="Erasure.Target.Properties.Substitution.html#8175" class="Bound">u</a><a id="8176" class="Symbol">)</a> <a id="8178" class="Symbol">=</a> <a id="8180" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="8186" href="Erasure.Target.html#778" class="InductiveConstructor">prod</a> <a id="8191" class="Symbol">(</a><a id="8192" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8204" href="Erasure.Target.Properties.Substitution.html#8173" class="Bound">t</a><a id="8205" class="Symbol">)</a> <a id="8207" class="Symbol">(</a><a id="8208" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8220" href="Erasure.Target.Properties.Substitution.html#8175" class="Bound">u</a><a id="8221" class="Symbol">)</a>
  <a id="8225" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8237" class="Symbol">(</a><a id="8238" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="8242" href="Erasure.Target.Properties.Substitution.html#8242" class="Bound">t</a><a id="8243" class="Symbol">)</a> <a id="8245" class="Symbol">=</a> <a id="8247" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8252" href="Erasure.Target.html#816" class="InductiveConstructor">fst</a> <a id="8256" class="Symbol">(</a><a id="8257" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8269" href="Erasure.Target.Properties.Substitution.html#8242" class="Bound">t</a><a id="8270" class="Symbol">)</a>
  <a id="8274" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8286" class="Symbol">(</a><a id="8287" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="8291" href="Erasure.Target.Properties.Substitution.html#8291" class="Bound">t</a><a id="8292" class="Symbol">)</a> <a id="8294" class="Symbol">=</a> <a id="8296" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8301" href="Erasure.Target.html#852" class="InductiveConstructor">snd</a> <a id="8305" class="Symbol">(</a><a id="8306" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8318" href="Erasure.Target.Properties.Substitution.html#8291" class="Bound">t</a><a id="8319" class="Symbol">)</a>
  <a id="8323" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8335" class="Symbol">(</a><a id="8336" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="8344" href="Erasure.Target.Properties.Substitution.html#8344" class="Bound">t</a> <a id="8346" href="Erasure.Target.Properties.Substitution.html#8346" class="Bound">u</a><a id="8347" class="Symbol">)</a> <a id="8349" class="Symbol">=</a> <a id="8351" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a> <a id="8357" href="Erasure.Target.html#888" class="InductiveConstructor">prodrec</a> <a id="8365" class="Symbol">(</a><a id="8366" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8378" href="Erasure.Target.Properties.Substitution.html#8344" class="Bound">t</a><a id="8379" class="Symbol">)</a> <a id="8381" class="Symbol">(</a><a id="8382" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="8388" class="Symbol">(</a><a id="8389" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8401" href="Erasure.Target.Properties.Substitution.html#8346" class="Bound">u</a><a id="8402" class="Symbol">)</a> <a id="8404" class="Symbol">(</a><a id="8405" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="8423" class="Symbol">(</a><a id="8424" href="Erasure.Target.Properties.Substitution.html#7207" class="Function">substCompLifts</a> <a id="8439" class="Number">2</a><a id="8440" class="Symbol">)</a> <a id="8442" href="Erasure.Target.Properties.Substitution.html#8346" class="Bound">u</a><a id="8443" class="Symbol">))</a>
  <a id="8448" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8460" href="Erasure.Target.html#947" class="InductiveConstructor">star</a> <a id="8465" class="Symbol">=</a> <a id="8467" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="8474" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="8486" href="Erasure.Target.html#996" class="InductiveConstructor">↯</a> <a id="8488" class="Symbol">=</a> <a id="8490" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="8496" class="Comment">-- Weakening single substitutions.</a>

<a id="8532" class="Comment">-- Pulling apart a weakening composition in specific context _[a].</a>

<a id="wk-comp-subst"></a><a id="8600" href="Erasure.Target.Properties.Substitution.html#8600" class="Function">wk-comp-subst</a> <a id="8614" class="Symbol">:</a> <a id="8616" class="Symbol">∀</a> <a id="8618" class="Symbol">{</a><a id="8619" href="Erasure.Target.Properties.Substitution.html#8619" class="Bound">a</a> <a id="8621" class="Symbol">:</a> <a id="8623" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="8628" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="8629" class="Symbol">}</a> <a id="8631" class="Symbol">(</a><a id="8632" href="Erasure.Target.Properties.Substitution.html#8632" class="Bound">ρ</a> <a id="8634" class="Symbol">:</a> <a id="8636" href="Erasure.Target.html#1765" class="Datatype">Wk</a> <a id="8639" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="8641" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a><a id="8642" class="Symbol">)</a> <a id="8644" class="Symbol">(</a><a id="8645" href="Erasure.Target.Properties.Substitution.html#8645" class="Bound">ρ′</a> <a id="8648" class="Symbol">:</a> <a id="8650" href="Erasure.Target.html#1765" class="Datatype">Wk</a> <a id="8653" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a> <a id="8655" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="8656" class="Symbol">)</a> <a id="8658" href="Erasure.Target.Properties.Substitution.html#8658" class="Bound">G</a>
  <a id="8662" class="Symbol">→</a> <a id="8664" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8667" class="Symbol">(</a><a id="8668" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8673" class="Symbol">(</a><a id="8674" href="Erasure.Target.Properties.Substitution.html#8632" class="Bound">ρ</a> <a id="8676" href="Erasure.Target.html#1918" class="Function Operator">•</a> <a id="8678" href="Erasure.Target.Properties.Substitution.html#8645" class="Bound">ρ′</a><a id="8680" class="Symbol">))</a> <a id="8683" href="Erasure.Target.Properties.Substitution.html#8658" class="Bound">G</a> <a id="8685" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="8687" href="Erasure.Target.Properties.Substitution.html#8619" class="Bound">a</a> <a id="8689" href="Erasure.Target.html#5083" class="Function Operator">]</a> <a id="8691" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8693" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8696" class="Symbol">(</a><a id="8697" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8702" href="Erasure.Target.Properties.Substitution.html#8632" class="Bound">ρ</a><a id="8703" class="Symbol">)</a> <a id="8705" class="Symbol">(</a><a id="8706" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8709" class="Symbol">(</a><a id="8710" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8715" href="Erasure.Target.Properties.Substitution.html#8645" class="Bound">ρ′</a><a id="8717" class="Symbol">)</a> <a id="8719" href="Erasure.Target.Properties.Substitution.html#8658" class="Bound">G</a><a id="8720" class="Symbol">)</a> <a id="8722" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="8724" href="Erasure.Target.Properties.Substitution.html#8619" class="Bound">a</a> <a id="8726" href="Erasure.Target.html#5083" class="Function Operator">]</a>

<a id="8729" href="Erasure.Target.Properties.Substitution.html#8600" class="Function">wk-comp-subst</a> <a id="8743" class="Symbol">{</a><a id="8744" class="Argument">a</a> <a id="8746" class="Symbol">=</a> <a id="8748" href="Erasure.Target.Properties.Substitution.html#8748" class="Bound">a</a><a id="8749" class="Symbol">}</a> <a id="8751" href="Erasure.Target.Properties.Substitution.html#8751" class="Bound">ρ</a> <a id="8753" href="Erasure.Target.Properties.Substitution.html#8753" class="Bound">ρ′</a> <a id="8756" href="Erasure.Target.Properties.Substitution.html#8756" class="Bound">G</a> <a id="8758" class="Symbol">=</a>
  <a id="8762" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8767" class="Symbol">(λ</a> <a id="8770" href="Erasure.Target.Properties.Substitution.html#8770" class="Bound">x</a> <a id="8772" class="Symbol">→</a> <a id="8774" href="Erasure.Target.Properties.Substitution.html#8770" class="Bound">x</a> <a id="8776" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="8778" href="Erasure.Target.Properties.Substitution.html#8748" class="Bound">a</a> <a id="8780" href="Erasure.Target.html#5083" class="Function Operator">]</a><a id="8781" class="Symbol">)</a> <a id="8783" class="Symbol">(</a><a id="8784" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="8788" class="Symbol">(</a><a id="8789" href="Erasure.Target.Properties.Weakening.html#4030" class="Function">wk-comp</a> <a id="8797" class="Symbol">(</a><a id="8798" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8803" href="Erasure.Target.Properties.Substitution.html#8751" class="Bound">ρ</a><a id="8804" class="Symbol">)</a> <a id="8806" class="Symbol">(</a><a id="8807" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8812" href="Erasure.Target.Properties.Substitution.html#8753" class="Bound">ρ′</a><a id="8814" class="Symbol">)</a> <a id="8816" href="Erasure.Target.Properties.Substitution.html#8756" class="Bound">G</a><a id="8817" class="Symbol">))</a>

<a id="8821" class="Comment">-- Pushing a weakening into a single substitution.</a>
<a id="8872" class="Comment">-- ρ (t[a]) = ((lift ρ) t)[ρ a]</a>

<a id="wk-β"></a><a id="8905" href="Erasure.Target.Properties.Substitution.html#8905" class="Function">wk-β</a> <a id="8910" class="Symbol">:</a> <a id="8912" class="Symbol">∀</a> <a id="8914" class="Symbol">{</a><a id="8915" href="Erasure.Target.Properties.Substitution.html#8915" class="Bound">a</a> <a id="8917" class="Symbol">:</a> <a id="8919" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="8924" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="8925" class="Symbol">}</a> <a id="8927" href="Erasure.Target.Properties.Substitution.html#8927" class="Bound">t</a> <a id="8929" class="Symbol">→</a> <a id="8931" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8934" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="8936" class="Symbol">(</a><a id="8937" href="Erasure.Target.Properties.Substitution.html#8927" class="Bound">t</a> <a id="8939" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="8941" href="Erasure.Target.Properties.Substitution.html#8915" class="Bound">a</a> <a id="8943" href="Erasure.Target.html#5083" class="Function Operator">]</a><a id="8944" class="Symbol">)</a> <a id="8946" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8948" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8951" class="Symbol">(</a><a id="8952" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="8957" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="8958" class="Symbol">)</a> <a id="8960" href="Erasure.Target.Properties.Substitution.html#8927" class="Bound">t</a> <a id="8962" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="8964" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="8967" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="8969" href="Erasure.Target.Properties.Substitution.html#8915" class="Bound">a</a> <a id="8971" href="Erasure.Target.html#5083" class="Function Operator">]</a>
<a id="8973" href="Erasure.Target.Properties.Substitution.html#8905" class="Function">wk-β</a> <a id="8978" href="Erasure.Target.Properties.Substitution.html#8978" class="Bound">t</a> <a id="8980" class="Symbol">=</a> <a id="8982" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="8988" class="Symbol">(</a><a id="8989" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="8998" href="Erasure.Target.Properties.Substitution.html#8978" class="Bound">t</a><a id="8999" class="Symbol">)</a> <a id="9001" class="Symbol">(</a><a id="9002" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="9006" class="Symbol">(</a><a id="9007" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="9013" class="Symbol">(</a><a id="9014" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="9023" href="Erasure.Target.Properties.Substitution.html#8978" class="Bound">t</a><a id="9024" class="Symbol">)</a>
               <a id="9041" class="Symbol">(</a><a id="9042" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="9060" class="Symbol">(λ</a> <a id="9063" class="Symbol">{</a> <a id="9065" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="9068" class="Symbol">→</a> <a id="9070" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="9075" class="Symbol">;</a> <a id="9077" class="Symbol">(</a><a id="9078" href="Erasure.Target.Properties.Substitution.html#9078" class="Bound">x</a> <a id="9080" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="9082" class="Symbol">)</a> <a id="9084" class="Symbol">→</a> <a id="9086" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="9090" class="Symbol">})</a> <a id="9093" href="Erasure.Target.Properties.Substitution.html#8978" class="Bound">t</a><a id="9094" class="Symbol">)))</a>

<a id="9099" class="Comment">-- Pushing a lifted weakening into a lifted single substitution.</a>

<a id="wk-lift-β"></a><a id="9165" href="Erasure.Target.Properties.Substitution.html#9165" class="Function">wk-lift-β</a> <a id="9175" class="Symbol">:</a>
  <a id="9179" class="Symbol">∀</a> <a id="9181" href="Erasure.Target.Properties.Substitution.html#9181" class="Bound">u</a> <a id="9183" class="Symbol">→</a>
  <a id="9187" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="9190" class="Symbol">(</a><a id="9191" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9196" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="9197" class="Symbol">)</a> <a id="9199" class="Symbol">(</a><a id="9200" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="9206" class="Symbol">(</a><a id="9207" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="9217" class="Symbol">(</a><a id="9218" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="9226" href="Erasure.Target.Properties.Substitution.html#576" class="Generalizable">t</a><a id="9227" class="Symbol">))</a> <a id="9230" href="Erasure.Target.Properties.Substitution.html#9181" class="Bound">u</a><a id="9231" class="Symbol">)</a> <a id="9233" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
  <a id="9237" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="9243" class="Symbol">(</a><a id="9244" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="9254" class="Symbol">(</a><a id="9255" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="9263" class="Symbol">(</a><a id="9264" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="9267" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="9269" href="Erasure.Target.Properties.Substitution.html#576" class="Generalizable">t</a><a id="9270" class="Symbol">)))</a> <a id="9274" class="Symbol">(</a><a id="9275" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="9278" class="Symbol">(</a><a id="9279" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9284" class="Symbol">(</a><a id="9285" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9290" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="9291" class="Symbol">))</a> <a id="9294" href="Erasure.Target.Properties.Substitution.html#9181" class="Bound">u</a><a id="9295" class="Symbol">)</a>
<a id="9297" href="Erasure.Target.Properties.Substitution.html#9165" class="Function">wk-lift-β</a> <a id="9307" class="Symbol">{</a><a id="9308" class="Argument">ρ</a> <a id="9310" class="Symbol">=</a> <a id="9312" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a><a id="9313" class="Symbol">}</a> <a id="9315" class="Symbol">{</a><a id="9316" class="Argument">t</a> <a id="9318" class="Symbol">=</a> <a id="9320" href="Erasure.Target.Properties.Substitution.html#9320" class="Bound">t</a><a id="9321" class="Symbol">}</a> <a id="9323" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a> <a id="9325" class="Symbol">=</a>
  <a id="9329" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="9332" class="Symbol">(</a><a id="9333" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9338" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a><a id="9339" class="Symbol">)</a> <a id="9341" class="Symbol">(</a><a id="9342" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="9348" class="Symbol">(</a><a id="9349" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="9359" class="Symbol">(</a><a id="9360" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="9368" href="Erasure.Target.Properties.Substitution.html#9320" class="Bound">t</a><a id="9369" class="Symbol">))</a> <a id="9372" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a><a id="9373" class="Symbol">)</a>                <a id="9390" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9393" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="9402" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a> <a id="9404" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="9408" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="9414" class="Symbol">(</a><a id="9415" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9420" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a> <a id="9422" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="9425" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="9435" class="Symbol">(</a><a id="9436" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="9444" href="Erasure.Target.Properties.Substitution.html#9320" class="Bound">t</a><a id="9445" class="Symbol">))</a> <a id="9448" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a>                    <a id="9469" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="9473" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a>
                                                                     <a id="9560" class="Symbol">(λ</a> <a id="9563" class="Keyword">where</a>
                                                                        <a id="9641" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>          <a id="9653" class="Symbol">→</a> <a id="9655" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
                                                                        <a id="9732" class="Symbol">(</a><a id="9733" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="9736" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="9738" class="Symbol">)</a>     <a id="9744" class="Symbol">→</a> <a id="9746" href="Erasure.Target.Properties.Weakening.html#5460" class="Function">wk1-wk≡lift-wk1</a> <a id="9762" class="Symbol">_</a> <a id="9764" class="Symbol">_</a>
                                                                        <a id="9838" class="Symbol">((_</a> <a id="9842" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="9844" class="Symbol">)</a> <a id="9846" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="9848" class="Symbol">)</a> <a id="9850" class="Symbol">→</a> <a id="9852" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="9856" class="Symbol">)</a>
                                                                     <a id="9927" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a> <a id="9929" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="9933" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="9939" class="Symbol">(</a><a id="9940" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="9950" class="Symbol">(</a><a id="9951" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="9959" class="Symbol">(</a><a id="9960" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="9963" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a> <a id="9965" href="Erasure.Target.Properties.Substitution.html#9320" class="Bound">t</a><a id="9966" class="Symbol">))</a> <a id="9969" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="9972" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9977" class="Symbol">(</a><a id="9978" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="9983" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a><a id="9984" class="Symbol">))</a> <a id="9987" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a>      <a id="9994" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="9998" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="10007" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a> <a id="10009" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="10013" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="10019" class="Symbol">(</a><a id="10020" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="10030" class="Symbol">(</a><a id="10031" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="10039" class="Symbol">(</a><a id="10040" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10043" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a> <a id="10045" href="Erasure.Target.Properties.Substitution.html#9320" class="Bound">t</a><a id="10046" class="Symbol">)))</a> <a id="10050" class="Symbol">(</a><a id="10051" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10054" class="Symbol">(</a><a id="10055" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10060" class="Symbol">(</a><a id="10061" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10066" href="Erasure.Target.Properties.Substitution.html#9312" class="Bound">ρ</a><a id="10067" class="Symbol">))</a> <a id="10070" href="Erasure.Target.Properties.Substitution.html#9323" class="Bound">u</a><a id="10071" class="Symbol">)</a>  <a id="10074" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="10077" class="Comment">-- Pushing a weakening into a double substitution</a>
<a id="10127" class="Comment">-- ρ (t[a,b]) = ((lift (lift ρ)) t) [ ρ a , ρ b ]</a>

<a id="wk-β-doubleSubst"></a><a id="10178" href="Erasure.Target.Properties.Substitution.html#10178" class="Function">wk-β-doubleSubst</a> <a id="10195" class="Symbol">:</a> <a id="10197" class="Symbol">∀</a> <a id="10199" class="Symbol">(</a><a id="10200" href="Erasure.Target.Properties.Substitution.html#10200" class="Bound">ρ</a> <a id="10202" class="Symbol">:</a> <a id="10204" href="Erasure.Target.html#1765" class="Datatype">Wk</a> <a id="10207" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="10209" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="10210" class="Symbol">)</a> <a id="10212" class="Symbol">(</a><a id="10213" href="Erasure.Target.Properties.Substitution.html#10213" class="Bound">s</a> <a id="10215" class="Symbol">:</a> <a id="10217" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="10222" class="Symbol">(</a><a id="10223" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="10226" class="Symbol">(</a><a id="10227" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="10230" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="10231" class="Symbol">)))</a> <a id="10235" class="Symbol">(</a><a id="10236" href="Erasure.Target.Properties.Substitution.html#10236" class="Bound">t</a> <a id="10238" href="Erasure.Target.Properties.Substitution.html#10238" class="Bound">u</a> <a id="10240" class="Symbol">:</a> <a id="10242" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="10247" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="10248" class="Symbol">)</a>
                 <a id="10267" class="Symbol">→</a> <a id="10269" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10272" href="Erasure.Target.Properties.Substitution.html#10200" class="Bound">ρ</a> <a id="10274" class="Symbol">(</a><a id="10275" href="Erasure.Target.Properties.Substitution.html#10213" class="Bound">s</a> <a id="10277" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="10279" href="Erasure.Target.Properties.Substitution.html#10238" class="Bound">u</a> <a id="10281" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="10283" href="Erasure.Target.Properties.Substitution.html#10236" class="Bound">t</a> <a id="10285" href="Erasure.Target.html#5240" class="Function Operator">]</a><a id="10286" class="Symbol">)</a>
                 <a id="10305" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="10307" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10310" class="Symbol">(</a><a id="10311" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10316" class="Symbol">(</a><a id="10317" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10322" href="Erasure.Target.Properties.Substitution.html#10200" class="Bound">ρ</a><a id="10323" class="Symbol">))</a> <a id="10326" href="Erasure.Target.Properties.Substitution.html#10213" class="Bound">s</a> <a id="10328" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="10330" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10333" href="Erasure.Target.Properties.Substitution.html#10200" class="Bound">ρ</a> <a id="10335" href="Erasure.Target.Properties.Substitution.html#10238" class="Bound">u</a> <a id="10337" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="10339" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10342" href="Erasure.Target.Properties.Substitution.html#10200" class="Bound">ρ</a> <a id="10344" href="Erasure.Target.Properties.Substitution.html#10236" class="Bound">t</a> <a id="10346" href="Erasure.Target.html#5240" class="Function Operator">]</a>
<a id="10348" href="Erasure.Target.Properties.Substitution.html#10178" class="Function">wk-β-doubleSubst</a> <a id="10365" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10367" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a> <a id="10369" href="Erasure.Target.Properties.Substitution.html#10369" class="Bound">t</a> <a id="10371" href="Erasure.Target.Properties.Substitution.html#10371" class="Bound">u</a> <a id="10373" class="Symbol">=</a>
 <a id="10376" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="10386" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10389" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10391" class="Symbol">(</a><a id="10392" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="10398" class="Symbol">(</a><a id="10399" href="Erasure.Target.Properties.Substitution.html#10693" class="Function">σₜ</a> <a id="10402" href="Erasure.Target.Properties.Substitution.html#10369" class="Bound">t</a> <a id="10404" href="Erasure.Target.Properties.Substitution.html#10371" class="Bound">u</a><a id="10405" class="Symbol">)</a> <a id="10407" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a><a id="10408" class="Symbol">)</a>
       <a id="10417" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10420" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="10429" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a> <a id="10431" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="10438" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="10444" class="Symbol">(</a><a id="10445" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10447" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="10450" class="Symbol">(</a><a id="10451" href="Erasure.Target.Properties.Substitution.html#10693" class="Function">σₜ</a> <a id="10454" href="Erasure.Target.Properties.Substitution.html#10369" class="Bound">t</a> <a id="10456" href="Erasure.Target.Properties.Substitution.html#10371" class="Bound">u</a><a id="10457" class="Symbol">))</a> <a id="10460" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a>
       <a id="10469" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10472" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="10490" class="Symbol">(λ</a> <a id="10493" class="Symbol">{</a> <a id="10495" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="10498" class="Symbol">→</a> <a id="10500" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="10505" class="Symbol">;</a> <a id="10507" class="Symbol">(</a><a id="10508" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="10511" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="10513" class="Symbol">)</a> <a id="10515" class="Symbol">→</a> <a id="10517" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="10522" class="Symbol">;</a> <a id="10524" class="Symbol">(</a><a id="10525" href="Erasure.Target.Properties.Substitution.html#10525" class="Bound">x</a> <a id="10527" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a> <a id="10530" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="10532" class="Symbol">)</a> <a id="10534" class="Symbol">→</a> <a id="10536" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="10540" class="Symbol">})</a> <a id="10543" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a> <a id="10545" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="10552" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="10558" class="Symbol">((</a><a id="10560" href="Erasure.Target.Properties.Substitution.html#10693" class="Function">σₜ</a> <a id="10563" class="Symbol">(</a><a id="10564" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10567" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10569" href="Erasure.Target.Properties.Substitution.html#10369" class="Bound">t</a><a id="10570" class="Symbol">)</a> <a id="10572" class="Symbol">(</a><a id="10573" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10576" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10578" href="Erasure.Target.Properties.Substitution.html#10371" class="Bound">u</a><a id="10579" class="Symbol">))</a> <a id="10582" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="10585" class="Symbol">(</a><a id="10586" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10591" class="Symbol">(</a><a id="10592" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10597" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a><a id="10598" class="Symbol">)))</a> <a id="10602" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a>
       <a id="10611" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10614" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="10618" class="Symbol">(</a><a id="10619" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="10628" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a><a id="10629" class="Symbol">)</a> <a id="10631" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
     <a id="10638" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10641" class="Symbol">(</a><a id="10642" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10647" class="Symbol">(</a><a id="10648" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="10653" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a><a id="10654" class="Symbol">))</a> <a id="10657" href="Erasure.Target.Properties.Substitution.html#10367" class="Bound">s</a> <a id="10659" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="10661" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10664" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10666" href="Erasure.Target.Properties.Substitution.html#10371" class="Bound">u</a> <a id="10668" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="10670" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="10673" href="Erasure.Target.Properties.Substitution.html#10365" class="Bound">ρ</a> <a id="10675" href="Erasure.Target.Properties.Substitution.html#10369" class="Bound">t</a> <a id="10677" href="Erasure.Target.html#5240" class="Function Operator">]</a> <a id="10679" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="10683" class="Keyword">where</a>
    <a id="10693" href="Erasure.Target.Properties.Substitution.html#10693" class="Function">σₜ</a> <a id="10696" class="Symbol">:</a> <a id="10698" class="Symbol">(</a><a id="10699" href="Erasure.Target.Properties.Substitution.html#10699" class="Bound">x</a> <a id="10701" href="Erasure.Target.Properties.Substitution.html#10701" class="Bound">y</a> <a id="10703" class="Symbol">:</a> <a id="10705" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="10710" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a><a id="10711" class="Symbol">)</a> <a id="10713" class="Symbol">→</a> <a id="10715" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="10721" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a> <a id="10723" class="Symbol">(</a><a id="10724" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="10727" class="Symbol">(</a><a id="10728" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="10731" href="Erasure.Target.Properties.Substitution.html#521" class="Generalizable">ℓ</a><a id="10732" class="Symbol">))</a>
    <a id="10739" href="Erasure.Target.Properties.Substitution.html#10693" class="Function">σₜ</a> <a id="10742" href="Erasure.Target.Properties.Substitution.html#10742" class="Bound">x</a> <a id="10744" href="Erasure.Target.Properties.Substitution.html#10744" class="Bound">y</a> <a id="10746" class="Symbol">=</a> <a id="10748" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="10758" class="Symbol">(</a><a id="10759" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="10769" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="10777" href="Erasure.Target.Properties.Substitution.html#10744" class="Bound">y</a><a id="10778" class="Symbol">)</a> <a id="10780" href="Erasure.Target.Properties.Substitution.html#10742" class="Bound">x</a>

<a id="10783" class="Comment">-- Composing a singleton substitution and a lifted substitution.</a>
<a id="10848" class="Comment">-- sg u ∘ lift σ = cons id u ∘ lift σ = cons σ u</a>

<a id="substVarSingletonComp"></a><a id="10898" href="Erasure.Target.Properties.Substitution.html#10898" class="Function">substVarSingletonComp</a> <a id="10920" class="Symbol">:</a> <a id="10922" class="Symbol">∀</a> <a id="10924" class="Symbol">{</a><a id="10925" href="Erasure.Target.Properties.Substitution.html#10925" class="Bound">u</a><a id="10926" class="Symbol">}</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Erasure.Target.Properties.Substitution.html#10929" class="Bound">x</a> <a id="10931" class="Symbol">:</a> <a id="10933" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="10937" class="Symbol">(</a><a id="10938" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="10941" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="10942" class="Symbol">))</a>
  <a id="10947" class="Symbol">→</a> <a id="10949" class="Symbol">(</a><a id="10950" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="10958" href="Erasure.Target.Properties.Substitution.html#10925" class="Bound">u</a> <a id="10960" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="10964" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="10974" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="10975" class="Symbol">)</a> <a id="10977" href="Erasure.Target.Properties.Substitution.html#10929" class="Bound">x</a> <a id="10979" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="10981" class="Symbol">(</a><a id="10982" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="10992" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="10994" href="Erasure.Target.Properties.Substitution.html#10925" class="Bound">u</a><a id="10995" class="Symbol">)</a> <a id="10997" href="Erasure.Target.Properties.Substitution.html#10929" class="Bound">x</a>
<a id="10999" href="Erasure.Target.Properties.Substitution.html#10898" class="Function">substVarSingletonComp</a> <a id="11021" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="11024" class="Symbol">=</a> <a id="11026" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="11031" href="Erasure.Target.Properties.Substitution.html#10898" class="Function">substVarSingletonComp</a> <a id="11053" class="Symbol">{</a><a id="11054" class="Argument">σ</a> <a id="11056" class="Symbol">=</a> <a id="11058" href="Erasure.Target.Properties.Substitution.html#11058" class="Bound">σ</a><a id="11059" class="Symbol">}</a> <a id="11061" class="Symbol">(</a><a id="11062" href="Erasure.Target.Properties.Substitution.html#11062" class="Bound">x</a> <a id="11064" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="11066" class="Symbol">)</a> <a id="11068" class="Symbol">=</a> <a id="11070" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="11076" class="Symbol">(</a><a id="11077" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="11086" class="Symbol">(</a><a id="11087" href="Erasure.Target.Properties.Substitution.html#11058" class="Bound">σ</a> <a id="11089" href="Erasure.Target.Properties.Substitution.html#11062" class="Bound">x</a><a id="11090" class="Symbol">))</a> <a id="11093" class="Symbol">(</a><a id="11094" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="11103" class="Symbol">(</a><a id="11104" href="Erasure.Target.Properties.Substitution.html#11058" class="Bound">σ</a> <a id="11106" href="Erasure.Target.Properties.Substitution.html#11062" class="Bound">x</a><a id="11107" class="Symbol">))</a>

<a id="11111" class="Comment">-- The same again, as action on a term t.</a>

<a id="substSingletonComp"></a><a id="11154" href="Erasure.Target.Properties.Substitution.html#11154" class="Function">substSingletonComp</a> <a id="11173" class="Symbol">:</a> <a id="11175" class="Symbol">∀</a> <a id="11177" class="Symbol">{</a><a id="11178" href="Erasure.Target.Properties.Substitution.html#11178" class="Bound">a</a><a id="11179" class="Symbol">}</a> <a id="11181" href="Erasure.Target.Properties.Substitution.html#11181" class="Bound">t</a>
  <a id="11185" class="Symbol">→</a> <a id="11187" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11193" class="Symbol">(</a><a id="11194" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="11202" href="Erasure.Target.Properties.Substitution.html#11178" class="Bound">a</a> <a id="11204" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="11208" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="11218" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="11219" class="Symbol">)</a> <a id="11221" href="Erasure.Target.Properties.Substitution.html#11181" class="Bound">t</a> <a id="11223" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="11225" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11231" class="Symbol">(</a><a id="11232" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="11242" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="11244" href="Erasure.Target.Properties.Substitution.html#11178" class="Bound">a</a><a id="11245" class="Symbol">)</a> <a id="11247" href="Erasure.Target.Properties.Substitution.html#11181" class="Bound">t</a>
<a id="11249" href="Erasure.Target.Properties.Substitution.html#11154" class="Function">substSingletonComp</a> <a id="11268" class="Symbol">=</a> <a id="11270" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="11288" href="Erasure.Target.Properties.Substitution.html#10898" class="Function">substVarSingletonComp</a>

<a id="11311" class="Comment">-- A single substitution after a lifted substitution.</a>
<a id="11365" class="Comment">-- ((lift σ) G)[t] = (cons σ t)(G)</a>

<a id="singleSubstComp"></a><a id="11401" href="Erasure.Target.Properties.Substitution.html#11401" class="Function">singleSubstComp</a> <a id="11417" class="Symbol">:</a> <a id="11419" class="Symbol">∀</a> <a id="11421" href="Erasure.Target.Properties.Substitution.html#11421" class="Bound">t</a> <a id="11423" class="Symbol">(</a><a id="11424" href="Erasure.Target.Properties.Substitution.html#11424" class="Bound">σ</a> <a id="11426" class="Symbol">:</a> <a id="11428" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="11434" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="11436" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="11437" class="Symbol">)</a> <a id="11439" href="Erasure.Target.Properties.Substitution.html#11439" class="Bound">G</a>
                 <a id="11458" class="Symbol">→</a> <a id="11460" class="Symbol">(</a><a id="11461" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11467" class="Symbol">(</a><a id="11468" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="11478" href="Erasure.Target.Properties.Substitution.html#11424" class="Bound">σ</a><a id="11479" class="Symbol">)</a> <a id="11481" href="Erasure.Target.Properties.Substitution.html#11439" class="Bound">G</a><a id="11482" class="Symbol">)</a> <a id="11484" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="11486" href="Erasure.Target.Properties.Substitution.html#11421" class="Bound">t</a> <a id="11488" href="Erasure.Target.html#5083" class="Function Operator">]</a>
                 <a id="11507" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="11509" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11515" class="Symbol">(</a><a id="11516" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="11526" href="Erasure.Target.Properties.Substitution.html#11424" class="Bound">σ</a> <a id="11528" href="Erasure.Target.Properties.Substitution.html#11421" class="Bound">t</a><a id="11529" class="Symbol">)</a> <a id="11531" href="Erasure.Target.Properties.Substitution.html#11439" class="Bound">G</a>
<a id="11533" href="Erasure.Target.Properties.Substitution.html#11401" class="Function">singleSubstComp</a> <a id="11549" href="Erasure.Target.Properties.Substitution.html#11549" class="Bound">t</a> <a id="11551" href="Erasure.Target.Properties.Substitution.html#11551" class="Bound">σ</a> <a id="11553" href="Erasure.Target.Properties.Substitution.html#11553" class="Bound">G</a> <a id="11555" class="Symbol">=</a> <a id="11557" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="11563" class="Symbol">(</a><a id="11564" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="11576" href="Erasure.Target.Properties.Substitution.html#11553" class="Bound">G</a><a id="11577" class="Symbol">)</a> <a id="11579" class="Symbol">(</a><a id="11580" href="Erasure.Target.Properties.Substitution.html#11154" class="Function">substSingletonComp</a> <a id="11599" href="Erasure.Target.Properties.Substitution.html#11553" class="Bound">G</a><a id="11600" class="Symbol">)</a>

<a id="11603" class="Comment">-- A single substitution after a lifted substitution (with weakening).</a>
<a id="11674" class="Comment">-- ((lift (ρ ∘ σ)) G)[t] = (cons (ρ ∘ σ) t)(G)</a>

<a id="singleSubstWkComp"></a><a id="11722" href="Erasure.Target.Properties.Substitution.html#11722" class="Function">singleSubstWkComp</a> <a id="11740" class="Symbol">:</a> <a id="11742" class="Symbol">∀</a> <a id="11744" href="Erasure.Target.Properties.Substitution.html#11744" class="Bound">t</a> <a id="11746" class="Symbol">(</a><a id="11747" href="Erasure.Target.Properties.Substitution.html#11747" class="Bound">σ</a> <a id="11749" class="Symbol">:</a> <a id="11751" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="11757" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="11759" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="11760" class="Symbol">)</a> <a id="11762" href="Erasure.Target.Properties.Substitution.html#11762" class="Bound">G</a>
               <a id="11779" class="Symbol">→</a> <a id="11781" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="11784" class="Symbol">(</a><a id="11785" href="Erasure.Target.html#1848" class="InductiveConstructor">lift</a> <a id="11790" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a><a id="11791" class="Symbol">)</a> <a id="11793" class="Symbol">(</a><a id="11794" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11800" class="Symbol">(</a><a id="11801" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="11811" href="Erasure.Target.Properties.Substitution.html#11747" class="Bound">σ</a><a id="11812" class="Symbol">)</a> <a id="11814" href="Erasure.Target.Properties.Substitution.html#11762" class="Bound">G</a><a id="11815" class="Symbol">)</a> <a id="11817" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="11819" href="Erasure.Target.Properties.Substitution.html#11744" class="Bound">t</a> <a id="11821" href="Erasure.Target.html#5083" class="Function Operator">]</a>
               <a id="11838" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="11840" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11846" class="Symbol">(</a><a id="11847" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="11857" class="Symbol">(</a><a id="11858" href="Erasure.Target.Properties.Substitution.html#537" class="Generalizable">ρ</a> <a id="11860" href="Erasure.Target.html#4889" class="Function Operator">•ₛ</a> <a id="11863" href="Erasure.Target.Properties.Substitution.html#11747" class="Bound">σ</a><a id="11864" class="Symbol">)</a> <a id="11866" href="Erasure.Target.Properties.Substitution.html#11744" class="Bound">t</a><a id="11867" class="Symbol">)</a> <a id="11869" href="Erasure.Target.Properties.Substitution.html#11762" class="Bound">G</a>
<a id="11871" href="Erasure.Target.Properties.Substitution.html#11722" class="Function">singleSubstWkComp</a> <a id="11889" href="Erasure.Target.Properties.Substitution.html#11889" class="Bound">t</a> <a id="11891" href="Erasure.Target.Properties.Substitution.html#11891" class="Bound">σ</a> <a id="11893" href="Erasure.Target.Properties.Substitution.html#11893" class="Bound">G</a> <a id="11895" class="Symbol">=</a>
  <a id="11899" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="11905" class="Symbol">(</a><a id="11906" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="11911" class="Symbol">(</a><a id="11912" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="11918" class="Symbol">(</a><a id="11919" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="11929" href="Erasure.Target.html#535" class="InductiveConstructor">var</a> <a id="11933" href="Erasure.Target.Properties.Substitution.html#11889" class="Bound">t</a><a id="11934" class="Symbol">))</a>
              <a id="11951" class="Symbol">(</a><a id="11952" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="11958" class="Symbol">(</a><a id="11959" href="Erasure.Target.Properties.Substitution.html#5023" class="Function">wk-subst</a> <a id="11968" href="Erasure.Target.Properties.Substitution.html#11893" class="Bound">G</a><a id="11969" class="Symbol">)</a> <a id="11971" class="Symbol">(</a><a id="11972" href="Erasure.Target.Properties.Substitution.html#3493" class="Function">subst-lift-•ₛ</a> <a id="11986" href="Erasure.Target.Properties.Substitution.html#11893" class="Bound">G</a><a id="11987" class="Symbol">)))</a>
        <a id="11999" class="Symbol">(</a><a id="12000" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="12006" class="Symbol">(</a><a id="12007" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="12019" href="Erasure.Target.Properties.Substitution.html#11893" class="Bound">G</a><a id="12020" class="Symbol">)</a> <a id="12022" class="Symbol">(</a><a id="12023" href="Erasure.Target.Properties.Substitution.html#11154" class="Function">substSingletonComp</a> <a id="12042" href="Erasure.Target.Properties.Substitution.html#11893" class="Bound">G</a><a id="12043" class="Symbol">))</a>

<a id="12047" class="Comment">-- Pushing a substitution into a single substitution.</a>

<a id="singleSubstLift"></a><a id="12102" href="Erasure.Target.Properties.Substitution.html#12102" class="Function">singleSubstLift</a> <a id="12118" class="Symbol">:</a> <a id="12120" class="Symbol">∀</a> <a id="12122" href="Erasure.Target.Properties.Substitution.html#12122" class="Bound">G</a> <a id="12124" href="Erasure.Target.Properties.Substitution.html#12124" class="Bound">t</a>
                <a id="12142" class="Symbol">→</a> <a id="12144" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12150" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="12152" class="Symbol">(</a><a id="12153" href="Erasure.Target.Properties.Substitution.html#12122" class="Bound">G</a> <a id="12155" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="12157" href="Erasure.Target.Properties.Substitution.html#12124" class="Bound">t</a> <a id="12159" href="Erasure.Target.html#5083" class="Function Operator">]</a><a id="12160" class="Symbol">)</a>
                <a id="12178" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="12180" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12186" class="Symbol">(</a><a id="12187" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="12197" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="12198" class="Symbol">)</a> <a id="12200" href="Erasure.Target.Properties.Substitution.html#12122" class="Bound">G</a> <a id="12202" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="12204" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12210" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="12212" href="Erasure.Target.Properties.Substitution.html#12124" class="Bound">t</a> <a id="12214" href="Erasure.Target.html#5083" class="Function Operator">]</a>
<a id="12216" href="Erasure.Target.Properties.Substitution.html#12102" class="Function">singleSubstLift</a> <a id="12232" href="Erasure.Target.Properties.Substitution.html#12232" class="Bound">G</a> <a id="12234" href="Erasure.Target.Properties.Substitution.html#12234" class="Bound">t</a> <a id="12236" class="Symbol">=</a>
  <a id="12240" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="12246" class="Symbol">(</a><a id="12247" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="12259" href="Erasure.Target.Properties.Substitution.html#12232" class="Bound">G</a><a id="12260" class="Symbol">)</a>
        <a id="12270" class="Symbol">(</a><a id="12271" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="12277" class="Symbol">(</a><a id="12278" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="12284" class="Symbol">(</a><a id="12285" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="12303" class="Symbol">(λ</a> <a id="12306" class="Symbol">{</a> <a id="12308" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="12311" class="Symbol">→</a> <a id="12313" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="12318" class="Symbol">;</a> <a id="12320" class="Symbol">(</a><a id="12321" href="Erasure.Target.Properties.Substitution.html#12321" class="Bound">x</a> <a id="12323" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="12325" class="Symbol">)</a> <a id="12327" class="Symbol">→</a> <a id="12329" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="12333" class="Symbol">})</a> <a id="12336" href="Erasure.Target.Properties.Substitution.html#12232" class="Bound">G</a><a id="12337" class="Symbol">)</a>
                      <a id="12361" class="Symbol">(</a><a id="12362" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="12366" class="Symbol">(</a><a id="12367" href="Erasure.Target.Properties.Substitution.html#11154" class="Function">substSingletonComp</a> <a id="12386" href="Erasure.Target.Properties.Substitution.html#12232" class="Bound">G</a><a id="12387" class="Symbol">)))</a>
               <a id="12406" class="Symbol">(</a><a id="12407" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="12411" class="Symbol">(</a><a id="12412" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="12424" href="Erasure.Target.Properties.Substitution.html#12232" class="Bound">G</a><a id="12425" class="Symbol">)))</a>

<a id="12430" class="Comment">-- Pushing a substiution into a double substitution</a>

<a id="doubleSubstLift"></a><a id="12483" href="Erasure.Target.Properties.Substitution.html#12483" class="Function">doubleSubstLift</a> <a id="12499" class="Symbol">:</a> <a id="12501" class="Symbol">(</a><a id="12502" href="Erasure.Target.Properties.Substitution.html#12502" class="Bound">σ</a> <a id="12504" class="Symbol">:</a> <a id="12506" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="12512" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="12514" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="12515" class="Symbol">)</a> <a id="12517" class="Symbol">(</a><a id="12518" href="Erasure.Target.Properties.Substitution.html#12518" class="Bound">G</a> <a id="12520" class="Symbol">:</a> <a id="12522" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="12527" class="Symbol">(</a><a id="12528" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="12531" class="Symbol">(</a><a id="12532" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="12535" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="12536" class="Symbol">)))</a> <a id="12540" class="Symbol">(</a><a id="12541" href="Erasure.Target.Properties.Substitution.html#12541" class="Bound">t</a> <a id="12543" href="Erasure.Target.Properties.Substitution.html#12543" class="Bound">u</a> <a id="12545" class="Symbol">:</a> <a id="12547" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="12552" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="12553" class="Symbol">)</a>
                <a id="12571" class="Symbol">→</a> <a id="12573" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12579" href="Erasure.Target.Properties.Substitution.html#12502" class="Bound">σ</a> <a id="12581" class="Symbol">(</a><a id="12582" href="Erasure.Target.Properties.Substitution.html#12518" class="Bound">G</a> <a id="12584" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="12586" href="Erasure.Target.Properties.Substitution.html#12541" class="Bound">t</a> <a id="12588" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="12590" href="Erasure.Target.Properties.Substitution.html#12543" class="Bound">u</a> <a id="12592" href="Erasure.Target.html#5240" class="Function Operator">]</a><a id="12593" class="Symbol">)</a>
                <a id="12611" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="12613" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12619" class="Symbol">(</a><a id="12620" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="12630" class="Symbol">(</a><a id="12631" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="12641" href="Erasure.Target.Properties.Substitution.html#12502" class="Bound">σ</a><a id="12642" class="Symbol">))</a> <a id="12645" href="Erasure.Target.Properties.Substitution.html#12518" class="Bound">G</a> <a id="12647" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="12649" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12655" href="Erasure.Target.Properties.Substitution.html#12502" class="Bound">σ</a> <a id="12657" href="Erasure.Target.Properties.Substitution.html#12541" class="Bound">t</a> <a id="12659" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="12661" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12667" href="Erasure.Target.Properties.Substitution.html#12502" class="Bound">σ</a> <a id="12669" href="Erasure.Target.Properties.Substitution.html#12543" class="Bound">u</a> <a id="12671" href="Erasure.Target.html#5240" class="Function Operator">]</a>
<a id="12673" href="Erasure.Target.Properties.Substitution.html#12483" class="Function">doubleSubstLift</a> <a id="12689" class="Symbol">{</a><a id="12690" class="Argument">n</a> <a id="12692" class="Symbol">=</a> <a id="12694" href="Erasure.Target.Properties.Substitution.html#12694" class="Bound">n</a><a id="12695" class="Symbol">}</a> <a id="12697" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12699" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="12701" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a> <a id="12703" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a> <a id="12705" class="Symbol">=</a> <a id="12707" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="12715" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12721" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12723" class="Symbol">(</a><a id="12724" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="12726" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="12728" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a> <a id="12730" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="12732" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a> <a id="12734" href="Erasure.Target.html#5240" class="Function Operator">]</a><a id="12735" class="Symbol">)</a>
    <a id="12741" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
  <a id="12747" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12753" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12755" class="Symbol">(</a><a id="12756" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12762" class="Symbol">(</a><a id="12763" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12773" class="Symbol">(</a><a id="12774" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12784" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="12792" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="12793" class="Symbol">)</a> <a id="12795" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a><a id="12796" class="Symbol">)</a> <a id="12798" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a><a id="12799" class="Symbol">)</a>
    <a id="12805" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="12808" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="12820" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="12822" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="12826" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12832" class="Symbol">(</a><a id="12833" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12835" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="12839" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12849" class="Symbol">(</a><a id="12850" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12860" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="12868" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="12869" class="Symbol">)</a> <a id="12871" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a><a id="12872" class="Symbol">)</a> <a id="12874" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a>
    <a id="12880" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="12883" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="12901" href="Erasure.Target.Properties.Substitution.html#13315" class="Function">eq</a> <a id="12904" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="12906" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="12910" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12916" class="Symbol">((</a><a id="12918" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12928" class="Symbol">(</a><a id="12929" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="12939" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="12947" class="Symbol">(</a><a id="12948" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12954" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12956" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="12957" class="Symbol">))</a> <a id="12960" class="Symbol">(</a><a id="12961" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="12967" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="12969" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a><a id="12970" class="Symbol">))</a> <a id="12973" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="12977" class="Symbol">(</a><a id="12978" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="12988" class="Symbol">(</a><a id="12989" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="12999" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a><a id="13000" class="Symbol">)))</a> <a id="13004" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a>
    <a id="13010" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="13014" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="13026" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="13028" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="13032" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13038" class="Symbol">(</a><a id="13039" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13049" class="Symbol">(</a><a id="13050" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13060" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="13068" class="Symbol">(</a><a id="13069" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13075" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13077" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="13078" class="Symbol">))</a> <a id="13081" class="Symbol">(</a><a id="13082" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13088" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13090" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a><a id="13091" class="Symbol">))</a> <a id="13094" class="Symbol">(</a><a id="13095" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13101" class="Symbol">(</a><a id="13102" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13123" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a><a id="13124" class="Symbol">))</a> <a id="13127" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a><a id="13128" class="Symbol">)</a>
    <a id="13134" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
  <a id="13140" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13146" class="Symbol">(</a><a id="13147" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13157" class="Symbol">(</a><a id="13158" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13168" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a><a id="13169" class="Symbol">))</a> <a id="13172" href="Erasure.Target.Properties.Substitution.html#12699" class="Bound">G</a> <a id="13174" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="13176" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13182" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13184" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a> <a id="13186" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="13188" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13194" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13196" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a> <a id="13198" href="Erasure.Target.html#5240" class="Function Operator">]</a> <a id="13200" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="13204" class="Keyword">where</a>
  <a id="13212" href="Erasure.Target.Properties.Substitution.html#13212" class="Function">σ₁</a> <a id="13215" class="Symbol">=</a>  <a id="13218" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13228" class="Symbol">(</a><a id="13229" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13239" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="13247" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="13248" class="Symbol">)</a> <a id="13250" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a>
  <a id="13254" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13257" class="Symbol">=</a> <a id="13259" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13269" class="Symbol">(</a><a id="13270" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="13280" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="13288" class="Symbol">(</a><a id="13289" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13295" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13297" href="Erasure.Target.Properties.Substitution.html#12701" class="Bound">t</a><a id="13298" class="Symbol">))</a> <a id="13301" class="Symbol">(</a><a id="13302" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13308" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13310" href="Erasure.Target.Properties.Substitution.html#12703" class="Bound">u</a><a id="13311" class="Symbol">)</a>
  <a id="13315" href="Erasure.Target.Properties.Substitution.html#13315" class="Function">eq</a> <a id="13318" class="Symbol">:</a> <a id="13320" class="Symbol">(</a><a id="13321" href="Erasure.Target.Properties.Substitution.html#13321" class="Bound">x</a> <a id="13323" class="Symbol">:</a> <a id="13325" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="13329" class="Symbol">(</a><a id="13330" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="13333" class="Symbol">(</a><a id="13334" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="13337" href="Erasure.Target.Properties.Substitution.html#12694" class="Bound">n</a><a id="13338" class="Symbol">)))</a> <a id="13342" class="Symbol">→</a> <a id="13344" class="Symbol">(</a><a id="13345" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13347" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="13351" href="Erasure.Target.Properties.Substitution.html#13212" class="Function">σ₁</a><a id="13353" class="Symbol">)</a> <a id="13355" href="Erasure.Target.Properties.Substitution.html#13321" class="Bound">x</a> <a id="13357" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13359" class="Symbol">(</a><a id="13360" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13363" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="13367" class="Symbol">(</a><a id="13368" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13378" class="Symbol">(</a><a id="13379" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13389" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a><a id="13390" class="Symbol">)))</a> <a id="13394" href="Erasure.Target.Properties.Substitution.html#13321" class="Bound">x</a>
  <a id="13398" href="Erasure.Target.Properties.Substitution.html#13315" class="Function">eq</a> <a id="13401" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="13404" class="Symbol">=</a> <a id="13406" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13413" href="Erasure.Target.Properties.Substitution.html#13315" class="Function">eq</a> <a id="13416" class="Symbol">(</a><a id="13417" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">_+1</a> <a id="13421" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="13423" class="Symbol">)</a> <a id="13425" class="Symbol">=</a> <a id="13427" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13434" href="Erasure.Target.Properties.Substitution.html#13315" class="Function">eq</a> <a id="13437" class="Symbol">(</a><a id="13438" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a> <a id="13440" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a> <a id="13443" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="13445" class="Symbol">)</a> <a id="13447" class="Symbol">=</a> <a id="13449" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="13459" class="Symbol">(</a><a id="13460" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13462" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="13466" href="Erasure.Target.Properties.Substitution.html#13212" class="Function">σ₁</a><a id="13468" class="Symbol">)</a> <a id="13470" class="Symbol">(</a><a id="13471" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a> <a id="13473" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a> <a id="13476" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="13478" class="Symbol">)</a>                         <a id="13504" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
    <a id="13512" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13514" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a>                                          <a id="13557" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="13561" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="13570" class="Symbol">(</a><a id="13571" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13573" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13574" class="Symbol">)</a> <a id="13576" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
    <a id="13582" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13588" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="13596" class="Symbol">(</a><a id="13597" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13599" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13600" class="Symbol">)</a>                          <a id="13627" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
    <a id="13635" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13641" class="Symbol">(</a><a id="13642" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13645" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="13648" class="Symbol">(</a><a id="13649" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13654" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a> <a id="13657" href="Erasure.Target.html#1918" class="Function Operator">•</a> <a id="13659" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13664" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="13666" class="Symbol">))</a> <a id="13669" class="Symbol">(</a><a id="13670" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13672" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13673" class="Symbol">)</a>      <a id="13680" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="13684" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="13693" class="Symbol">(</a><a id="13694" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13696" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13697" class="Symbol">)</a> <a id="13699" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
    <a id="13705" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13711" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13714" class="Symbol">(</a><a id="13715" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="13718" class="Symbol">((</a><a id="13720" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13725" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="13727" class="Symbol">)</a> <a id="13729" href="Erasure.Target.html#1918" class="Function Operator">•</a> <a id="13731" class="Symbol">(</a><a id="13732" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13737" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="13739" class="Symbol">))</a> <a id="13742" class="Symbol">(</a><a id="13743" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13745" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13746" class="Symbol">))</a>  <a id="13750" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="13754" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="13759" class="Symbol">(</a><a id="13760" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13766" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a><a id="13768" class="Symbol">)</a> <a id="13770" class="Symbol">(</a><a id="13771" href="Erasure.Target.Properties.Weakening.html#4030" class="Function">wk-comp</a> <a id="13779" class="Symbol">(</a><a id="13780" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13785" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="13787" class="Symbol">)</a> <a id="13789" class="Symbol">(</a><a id="13790" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="13795" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="13797" class="Symbol">)</a> <a id="13799" class="Symbol">(</a><a id="13800" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13802" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13803" class="Symbol">))</a> <a id="13806" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
    <a id="13812" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13818" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13821" class="Symbol">(</a><a id="13822" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="13826" class="Symbol">(</a><a id="13827" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="13831" class="Symbol">(</a><a id="13832" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a> <a id="13834" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a><a id="13835" class="Symbol">)))</a>                   <a id="13857" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
    <a id="13865" class="Symbol">(</a><a id="13866" href="Erasure.Target.Properties.Substitution.html#13254" class="Function">σ₂</a> <a id="13869" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="13873" class="Symbol">(</a><a id="13874" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13884" class="Symbol">(</a><a id="13885" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="13895" href="Erasure.Target.Properties.Substitution.html#12697" class="Bound">σ</a><a id="13896" class="Symbol">)))</a> <a id="13900" class="Symbol">(</a><a id="13901" href="Erasure.Target.Properties.Substitution.html#13438" class="Bound">x</a> <a id="13903" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a> <a id="13906" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="13908" class="Symbol">)</a> <a id="13910" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="wk1-tail"></a><a id="13913" href="Erasure.Target.Properties.Substitution.html#13913" class="Function">wk1-tail</a> <a id="13922" class="Symbol">:</a> <a id="13924" class="Symbol">(</a><a id="13925" href="Erasure.Target.Properties.Substitution.html#13925" class="Bound">t</a> <a id="13927" class="Symbol">:</a> <a id="13929" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="13934" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="13935" class="Symbol">)</a> <a id="13937" class="Symbol">→</a> <a id="13939" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13945" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="13947" class="Symbol">(</a><a id="13948" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="13952" href="Erasure.Target.Properties.Substitution.html#13925" class="Bound">t</a><a id="13953" class="Symbol">)</a> <a id="13955" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13957" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="13963" class="Symbol">(</a><a id="13964" href="Erasure.Target.html#3329" class="Function">tail</a> <a id="13969" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="13970" class="Symbol">)</a> <a id="13972" href="Erasure.Target.Properties.Substitution.html#13925" class="Bound">t</a>
<a id="13974" href="Erasure.Target.Properties.Substitution.html#13913" class="Function">wk1-tail</a> <a id="13983" class="Symbol">{</a><a id="13984" class="Argument">σ</a> <a id="13986" class="Symbol">=</a> <a id="13988" href="Erasure.Target.Properties.Substitution.html#13988" class="Bound">σ</a><a id="13989" class="Symbol">}</a> <a id="13991" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a> <a id="13993" class="Symbol">=</a> <a id="13995" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="14003" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14009" href="Erasure.Target.Properties.Substitution.html#13988" class="Bound">σ</a> <a id="14011" class="Symbol">(</a><a id="14012" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="14016" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a><a id="14017" class="Symbol">)</a> <a id="14019" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
  <a id="14025" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14031" href="Erasure.Target.Properties.Substitution.html#13988" class="Bound">σ</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Erasure.Target.html#2399" class="Function">wk</a> <a id="14037" class="Symbol">(</a><a id="14038" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="14043" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="14045" class="Symbol">)</a> <a id="14047" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a><a id="14048" class="Symbol">)</a> <a id="14050" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="14053" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="14062" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a> <a id="14064" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="14068" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14074" class="Symbol">(</a><a id="14075" href="Erasure.Target.Properties.Substitution.html#13988" class="Bound">σ</a> <a id="14077" href="Erasure.Target.html#4952" class="Function Operator">ₛ•</a> <a id="14080" href="Erasure.Target.html#1812" class="InductiveConstructor">step</a> <a id="14085" href="Erasure.Target.html#1796" class="InductiveConstructor">id</a><a id="14087" class="Symbol">)</a> <a id="14089" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a> <a id="14091" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
  <a id="14097" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14103" class="Symbol">(</a><a id="14104" href="Erasure.Target.html#3329" class="Function">tail</a> <a id="14109" href="Erasure.Target.Properties.Substitution.html#13988" class="Bound">σ</a><a id="14110" class="Symbol">)</a> <a id="14112" href="Erasure.Target.Properties.Substitution.html#13991" class="Bound">t</a> <a id="14114" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

<a id="wk1-tailId"></a><a id="14117" href="Erasure.Target.Properties.Substitution.html#14117" class="Function">wk1-tailId</a> <a id="14128" class="Symbol">:</a> <a id="14130" class="Symbol">(</a><a id="14131" href="Erasure.Target.Properties.Substitution.html#14131" class="Bound">t</a> <a id="14133" class="Symbol">:</a> <a id="14135" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="14140" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="14141" class="Symbol">)</a> <a id="14143" class="Symbol">→</a> <a id="14145" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="14149" href="Erasure.Target.Properties.Substitution.html#14131" class="Bound">t</a> <a id="14151" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="14153" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14159" class="Symbol">(</a><a id="14160" href="Erasure.Target.html#3329" class="Function">tail</a> <a id="14165" href="Erasure.Target.html#3410" class="Function">idSubst</a><a id="14172" class="Symbol">)</a> <a id="14174" href="Erasure.Target.Properties.Substitution.html#14131" class="Bound">t</a>
<a id="14176" href="Erasure.Target.Properties.Substitution.html#14117" class="Function">wk1-tailId</a> <a id="14187" href="Erasure.Target.Properties.Substitution.html#14187" class="Bound">t</a> <a id="14189" class="Symbol">=</a> <a id="14191" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="14197" class="Symbol">(</a><a id="14198" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="14202" class="Symbol">(</a><a id="14203" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="14212" class="Symbol">(</a><a id="14213" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="14217" href="Erasure.Target.Properties.Substitution.html#14187" class="Bound">t</a><a id="14218" class="Symbol">)))</a> <a id="14222" class="Symbol">(</a><a id="14223" href="Erasure.Target.Properties.Substitution.html#5735" class="Function">subst-wk</a> <a id="14232" href="Erasure.Target.Properties.Substitution.html#14187" class="Bound">t</a><a id="14233" class="Symbol">)</a>

<a id="wk1-sgSubst"></a><a id="14236" href="Erasure.Target.Properties.Substitution.html#14236" class="Function">wk1-sgSubst</a> <a id="14248" class="Symbol">:</a> <a id="14250" class="Symbol">∀</a> <a id="14252" class="Symbol">(</a><a id="14253" href="Erasure.Target.Properties.Substitution.html#14253" class="Bound">t</a> <a id="14255" class="Symbol">:</a> <a id="14257" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="14262" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="14263" class="Symbol">)</a> <a id="14265" href="Erasure.Target.Properties.Substitution.html#14265" class="Bound">t&#39;</a> <a id="14268" class="Symbol">→</a> <a id="14270" class="Symbol">(</a><a id="14271" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="14275" href="Erasure.Target.Properties.Substitution.html#14253" class="Bound">t</a><a id="14276" class="Symbol">)</a> <a id="14278" href="Erasure.Target.html#5083" class="Function Operator">[</a> <a id="14280" href="Erasure.Target.Properties.Substitution.html#14265" class="Bound">t&#39;</a> <a id="14283" href="Erasure.Target.html#5083" class="Function Operator">]</a> <a id="14285" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="14287" href="Erasure.Target.Properties.Substitution.html#14253" class="Bound">t</a>
<a id="14289" href="Erasure.Target.Properties.Substitution.html#14236" class="Function">wk1-sgSubst</a> <a id="14301" href="Erasure.Target.Properties.Substitution.html#14301" class="Bound">t</a> <a id="14303" href="Erasure.Target.Properties.Substitution.html#14303" class="Bound">t&#39;</a> <a id="14306" class="Keyword">rewrite</a> <a id="14314" href="Erasure.Target.Properties.Substitution.html#14117" class="Function">wk1-tailId</a> <a id="14325" href="Erasure.Target.Properties.Substitution.html#14301" class="Bound">t</a> <a id="14327" class="Symbol">=</a>
  <a id="14331" class="Keyword">let</a> <a id="14335" href="Erasure.Target.Properties.Substitution.html#14335" class="Bound">substVar-sgSubst-tail</a> <a id="14357" class="Symbol">:</a> <a id="14359" class="Symbol">∀</a> <a id="14361" href="Erasure.Target.Properties.Substitution.html#14361" class="Bound">a</a> <a id="14363" href="Erasure.Target.Properties.Substitution.html#14363" class="Bound">n</a> <a id="14365" class="Symbol">→</a> <a id="14367" class="Symbol">(</a><a id="14368" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="14376" href="Erasure.Target.Properties.Substitution.html#14361" class="Bound">a</a> <a id="14378" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="14382" href="Erasure.Target.html#3329" class="Function">tail</a> <a id="14387" href="Erasure.Target.html#3410" class="Function">idSubst</a><a id="14394" class="Symbol">)</a> <a id="14396" href="Erasure.Target.Properties.Substitution.html#14363" class="Bound">n</a> <a id="14398" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="14400" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="14408" href="Erasure.Target.Properties.Substitution.html#14363" class="Bound">n</a>
      <a id="14416" href="Erasure.Target.Properties.Substitution.html#14335" class="Bound">substVar-sgSubst-tail</a> <a id="14438" href="Erasure.Target.Properties.Substitution.html#14438" class="Bound">a</a> <a id="14440" href="Erasure.Target.Properties.Substitution.html#14440" class="Bound">n</a> <a id="14442" class="Symbol">=</a> <a id="14444" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="14451" class="Keyword">in</a>  <a id="14455" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="14461" class="Symbol">(</a><a id="14462" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
        <a id="14476" class="Symbol">(</a><a id="14477" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="14489" href="Erasure.Target.Properties.Substitution.html#14301" class="Bound">t</a><a id="14490" class="Symbol">)</a>
        <a id="14500" class="Symbol">(</a><a id="14501" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="14519" class="Symbol">(</a><a id="14520" href="Erasure.Target.Properties.Substitution.html#14335" class="Bound">substVar-sgSubst-tail</a> <a id="14542" href="Erasure.Target.Properties.Substitution.html#14303" class="Bound">t&#39;</a><a id="14544" class="Symbol">)</a> <a id="14546" href="Erasure.Target.Properties.Substitution.html#14301" class="Bound">t</a><a id="14547" class="Symbol">))</a>
      <a id="14556" class="Symbol">(</a><a id="14557" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="14566" href="Erasure.Target.Properties.Substitution.html#14301" class="Bound">t</a><a id="14567" class="Symbol">)</a>

<a id="doubleSubstComp"></a><a id="14570" href="Erasure.Target.Properties.Substitution.html#14570" class="Function">doubleSubstComp</a> <a id="14586" class="Symbol">:</a> <a id="14588" class="Symbol">(</a><a id="14589" href="Erasure.Target.Properties.Substitution.html#14589" class="Bound">A</a> <a id="14591" class="Symbol">:</a> <a id="14593" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="14598" class="Symbol">(</a><a id="14599" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="14602" class="Symbol">(</a><a id="14603" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="14606" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="14607" class="Symbol">)))</a> <a id="14611" class="Symbol">(</a><a id="14612" href="Erasure.Target.Properties.Substitution.html#14612" class="Bound">t</a> <a id="14614" href="Erasure.Target.Properties.Substitution.html#14614" class="Bound">u</a> <a id="14616" class="Symbol">:</a> <a id="14618" href="Erasure.Target.html#510" class="Datatype">Term</a> <a id="14623" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a><a id="14624" class="Symbol">)</a> <a id="14626" class="Symbol">(</a><a id="14627" href="Erasure.Target.Properties.Substitution.html#14627" class="Bound">σ</a> <a id="14629" class="Symbol">:</a> <a id="14631" href="Erasure.Target.html#2989" class="Function">Subst</a> <a id="14637" href="Erasure.Target.Properties.Substitution.html#523" class="Generalizable">m</a> <a id="14639" href="Erasure.Target.Properties.Substitution.html#525" class="Generalizable">n</a><a id="14640" class="Symbol">)</a>
                <a id="14658" class="Symbol">→</a> <a id="14660" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14666" class="Symbol">(</a><a id="14667" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="14678" href="Erasure.Target.Properties.Substitution.html#14627" class="Bound">σ</a> <a id="14680" class="Number">2</a><a id="14681" class="Symbol">)</a> <a id="14683" href="Erasure.Target.Properties.Substitution.html#14589" class="Bound">A</a> <a id="14685" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="14687" href="Erasure.Target.Properties.Substitution.html#14612" class="Bound">t</a> <a id="14689" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="14691" href="Erasure.Target.Properties.Substitution.html#14614" class="Bound">u</a> <a id="14693" href="Erasure.Target.html#5240" class="Function Operator">]</a>
                <a id="14711" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="14713" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14719" class="Symbol">(</a><a id="14720" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14730" class="Symbol">(</a><a id="14731" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14741" href="Erasure.Target.Properties.Substitution.html#14627" class="Bound">σ</a> <a id="14743" href="Erasure.Target.Properties.Substitution.html#14612" class="Bound">t</a><a id="14744" class="Symbol">)</a> <a id="14746" href="Erasure.Target.Properties.Substitution.html#14614" class="Bound">u</a><a id="14747" class="Symbol">)</a> <a id="14749" href="Erasure.Target.Properties.Substitution.html#14589" class="Bound">A</a>
<a id="14751" href="Erasure.Target.Properties.Substitution.html#14570" class="Function">doubleSubstComp</a> <a id="14767" class="Symbol">{</a><a id="14768" class="Argument">n</a> <a id="14770" class="Symbol">=</a> <a id="14772" href="Erasure.Target.Properties.Substitution.html#14772" class="Bound">n</a><a id="14773" class="Symbol">}</a> <a id="14775" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a> <a id="14777" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a> <a id="14779" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a> <a id="14781" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="14783" class="Symbol">=</a> <a id="14785" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="14793" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14799" class="Symbol">(</a><a id="14800" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="14811" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="14813" class="Number">2</a><a id="14814" class="Symbol">)</a> <a id="14816" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a> <a id="14818" href="Erasure.Target.html#5240" class="Function Operator">[</a> <a id="14820" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a> <a id="14822" href="Erasure.Target.html#5240" class="Function Operator">,</a> <a id="14824" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a> <a id="14826" href="Erasure.Target.html#5240" class="Function Operator">]</a>
    <a id="14832" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="14835" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="14847" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a> <a id="14849" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="14853" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14859" class="Symbol">(</a><a id="14860" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14870" class="Symbol">(</a><a id="14871" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14881" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="14889" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a><a id="14890" class="Symbol">)</a> <a id="14892" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a> <a id="14894" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="14898" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="14909" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="14911" class="Number">2</a><a id="14912" class="Symbol">)</a> <a id="14914" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a>
    <a id="14920" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="14923" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="14941" href="Erasure.Target.Properties.Substitution.html#15003" class="Function">varEq</a> <a id="14947" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a> <a id="14949" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="14953" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="14959" class="Symbol">(</a><a id="14960" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14970" class="Symbol">(</a><a id="14971" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="14981" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="14983" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a><a id="14984" class="Symbol">)</a> <a id="14986" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a><a id="14987" class="Symbol">)</a> <a id="14989" href="Erasure.Target.Properties.Substitution.html#14775" class="Bound">A</a> <a id="14991" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="14995" class="Keyword">where</a>
  <a id="15003" href="Erasure.Target.Properties.Substitution.html#15003" class="Function">varEq</a> <a id="15009" class="Symbol">:</a> <a id="15011" class="Symbol">(</a><a id="15012" href="Erasure.Target.Properties.Substitution.html#15012" class="Bound">x</a> <a id="15014" class="Symbol">:</a> <a id="15016" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="15020" class="Symbol">(</a><a id="15021" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="15024" class="Symbol">(</a><a id="15025" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="15028" href="Erasure.Target.Properties.Substitution.html#14772" class="Bound">n</a><a id="15029" class="Symbol">)))</a>
        <a id="15041" class="Symbol">→</a> <a id="15043" class="Symbol">(</a><a id="15044" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="15054" class="Symbol">(</a><a id="15055" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="15065" href="Erasure.Target.html#3410" class="Function">idSubst</a> <a id="15073" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a><a id="15074" class="Symbol">)</a> <a id="15076" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a> <a id="15078" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="15082" href="Erasure.Target.html#3690" class="Function">liftSubstn</a> <a id="15093" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="15095" class="Number">2</a><a id="15096" class="Symbol">)</a> <a id="15098" href="Erasure.Target.Properties.Substitution.html#15012" class="Bound">x</a>
        <a id="15108" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>  <a id="15111" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="15121" class="Symbol">(</a><a id="15122" href="Erasure.Target.html#3924" class="Function">consSubst</a> <a id="15132" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="15134" href="Erasure.Target.Properties.Substitution.html#14777" class="Bound">t</a><a id="15135" class="Symbol">)</a> <a id="15137" href="Erasure.Target.Properties.Substitution.html#14779" class="Bound">u</a> <a id="15139" href="Erasure.Target.Properties.Substitution.html#15012" class="Bound">x</a>
  <a id="15143" href="Erasure.Target.Properties.Substitution.html#15003" class="Function">varEq</a> <a id="15149" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="15152" class="Symbol">=</a> <a id="15154" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15161" href="Erasure.Target.Properties.Substitution.html#15003" class="Function">varEq</a> <a id="15167" class="Symbol">(</a><a id="15168" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="15171" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="15173" class="Symbol">)</a> <a id="15175" class="Symbol">=</a> <a id="15177" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="15184" href="Erasure.Target.Properties.Substitution.html#15003" class="Function">varEq</a> <a id="15190" class="Symbol">(</a><a id="15191" href="Erasure.Target.Properties.Substitution.html#15191" class="Bound">x</a> <a id="15193" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a> <a id="15196" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="15198" class="Symbol">)</a> <a id="15200" class="Symbol">=</a> <a id="15202" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="15208" class="Symbol">(</a><a id="15209" href="Erasure.Target.Properties.Substitution.html#13913" class="Function">wk1-tail</a> <a id="15218" class="Symbol">(</a><a id="15219" href="Erasure.Target.html#2884" class="Function">wk1</a> <a id="15223" class="Symbol">(</a><a id="15224" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="15226" href="Erasure.Target.Properties.Substitution.html#15191" class="Bound">x</a><a id="15227" class="Symbol">)))</a>
                          <a id="15257" class="Symbol">(</a><a id="15258" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="15264" class="Symbol">(</a><a id="15265" href="Erasure.Target.Properties.Substitution.html#13913" class="Function">wk1-tail</a> <a id="15274" class="Symbol">(</a><a id="15275" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="15277" href="Erasure.Target.Properties.Substitution.html#15191" class="Bound">x</a><a id="15278" class="Symbol">))</a> <a id="15281" class="Symbol">(</a><a id="15282" href="Erasure.Target.Properties.Substitution.html#2617" class="Function">subst-id</a> <a id="15291" class="Symbol">(</a><a id="15292" href="Erasure.Target.Properties.Substitution.html#14781" class="Bound">σ</a> <a id="15294" href="Erasure.Target.Properties.Substitution.html#15191" class="Bound">x</a><a id="15295" class="Symbol">)))</a>

<a id="15300" class="Comment">-- Lifted substitutions kind of commute with lifted single</a>
<a id="15359" class="Comment">-- substitutions.</a>

<a id="subst-liftSubst-sgSubst"></a><a id="15378" href="Erasure.Target.Properties.Substitution.html#15378" class="Function">subst-liftSubst-sgSubst</a> <a id="15402" class="Symbol">:</a>
  <a id="15406" class="Symbol">∀</a> <a id="15408" href="Erasure.Target.Properties.Substitution.html#15408" class="Bound">u</a> <a id="15410" class="Symbol">→</a>
  <a id="15414" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15420" class="Symbol">(</a><a id="15421" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15431" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="15432" class="Symbol">)</a> <a id="15434" class="Symbol">(</a><a id="15435" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15441" class="Symbol">(</a><a id="15442" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15452" class="Symbol">(</a><a id="15453" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="15461" href="Erasure.Target.Properties.Substitution.html#576" class="Generalizable">t</a><a id="15462" class="Symbol">))</a> <a id="15465" href="Erasure.Target.Properties.Substitution.html#15408" class="Bound">u</a><a id="15466" class="Symbol">)</a> <a id="15468" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a>
  <a id="15472" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15478" class="Symbol">(</a><a id="15479" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15489" class="Symbol">(</a><a id="15490" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="15498" class="Symbol">(</a><a id="15499" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15505" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a> <a id="15507" href="Erasure.Target.Properties.Substitution.html#576" class="Generalizable">t</a><a id="15508" class="Symbol">)))</a>
    <a id="15516" class="Symbol">(</a><a id="15517" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15523" class="Symbol">(</a><a id="15524" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15534" class="Symbol">(</a><a id="15535" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15545" href="Erasure.Target.Properties.Substitution.html#555" class="Generalizable">σ</a><a id="15546" class="Symbol">))</a> <a id="15549" href="Erasure.Target.Properties.Substitution.html#15408" class="Bound">u</a><a id="15550" class="Symbol">)</a>
<a id="15552" href="Erasure.Target.Properties.Substitution.html#15378" class="Function">subst-liftSubst-sgSubst</a> <a id="15576" class="Symbol">{</a><a id="15577" class="Argument">σ</a> <a id="15579" class="Symbol">=</a> <a id="15581" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a><a id="15582" class="Symbol">}</a> <a id="15584" class="Symbol">{</a><a id="15585" class="Argument">t</a> <a id="15587" class="Symbol">=</a> <a id="15589" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="15590" class="Symbol">}</a> <a id="15592" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="15594" class="Symbol">=</a>
  <a id="15598" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15604" class="Symbol">(</a><a id="15605" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15615" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a><a id="15616" class="Symbol">)</a> <a id="15618" class="Symbol">(</a><a id="15619" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15625" class="Symbol">(</a><a id="15626" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15636" class="Symbol">(</a><a id="15637" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="15645" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="15646" class="Symbol">))</a> <a id="15649" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a><a id="15650" class="Symbol">)</a>                  <a id="15669" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="15672" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="15684" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="15686" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="15690" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15696" class="Symbol">(</a><a id="15697" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15707" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a> <a id="15709" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="15713" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15723" class="Symbol">(</a><a id="15724" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="15732" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="15733" class="Symbol">))</a> <a id="15736" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a>                        <a id="15761" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="15764" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="15782" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="15796" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="15798" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="15802" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="15808" class="Symbol">(</a><a id="15809" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="15819" class="Symbol">(</a><a id="15820" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a> <a id="15822" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="15826" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="15834" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="15835" class="Symbol">))</a> <a id="15838" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a>                                  <a id="15873" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="15877" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a>
                                                                               <a id="15974" class="Symbol">(</a><a id="15975" href="Erasure.Target.Properties.Substitution.html#786" class="Function">substVar-lift</a> <a id="15989" class="Symbol">λ</a> <a id="15991" class="Keyword">where</a>
                                                                                  <a id="16079" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="16086" class="Symbol">→</a> <a id="16088" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
                                                                                  <a id="16175" class="Symbol">(_</a> <a id="16178" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="16180" class="Symbol">)</a> <a id="16182" class="Symbol">→</a> <a id="16184" href="Erasure.Target.Properties.Substitution.html#14236" class="Function">wk1-sgSubst</a> <a id="16196" class="Symbol">_</a> <a id="16198" class="Symbol">_)</a>
                                                                               <a id="16280" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="16282" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="16286" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16292" class="Symbol">(</a><a id="16293" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16303" class="Symbol">(</a><a id="16304" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="16312" class="Symbol">(</a><a id="16313" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16319" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a> <a id="16321" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="16322" class="Symbol">)</a> <a id="16324" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="16328" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16338" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a><a id="16339" class="Symbol">))</a> <a id="16342" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a>              <a id="16357" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="16361" href="Erasure.Target.Properties.Substitution.html#1220" class="Function">substVar-to-subst</a> <a id="16379" href="Erasure.Target.Properties.Substitution.html#6961" class="Function">substCompLift</a> <a id="16393" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="16395" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="16399" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16405" class="Symbol">(</a><a id="16406" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16416" class="Symbol">(</a><a id="16417" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="16425" class="Symbol">(</a><a id="16426" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16432" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a> <a id="16434" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="16435" class="Symbol">))</a> <a id="16438" href="Erasure.Target.html#4769" class="Function Operator">ₛ•ₛ</a> <a id="16442" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16452" class="Symbol">(</a><a id="16453" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16463" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a><a id="16464" class="Symbol">))</a> <a id="16467" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a>  <a id="16470" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="16474" href="Erasure.Target.Properties.Substitution.html#7662" class="Function">substCompEq</a> <a id="16486" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a> <a id="16488" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="16492" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16498" class="Symbol">(</a><a id="16499" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16509" class="Symbol">(</a><a id="16510" href="Erasure.Target.html#4033" class="Function">sgSubst</a> <a id="16518" class="Symbol">(</a><a id="16519" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16525" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a> <a id="16527" href="Erasure.Target.Properties.Substitution.html#15589" class="Bound">t</a><a id="16528" class="Symbol">)))</a>
    <a id="16536" class="Symbol">(</a><a id="16537" href="Erasure.Target.html#4203" class="Function">subst</a> <a id="16543" class="Symbol">(</a><a id="16544" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16554" class="Symbol">(</a><a id="16555" href="Erasure.Target.html#3581" class="Function">liftSubst</a> <a id="16565" href="Erasure.Target.Properties.Substitution.html#15581" class="Bound">σ</a><a id="16566" class="Symbol">))</a> <a id="16569" href="Erasure.Target.Properties.Substitution.html#15592" class="Bound">u</a><a id="16570" class="Symbol">)</a>                                  <a id="16605" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre></body></html>