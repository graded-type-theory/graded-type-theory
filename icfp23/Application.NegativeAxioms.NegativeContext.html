<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Application.NegativeAxioms.NegativeContext</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Negative contexts (contexts containing only negative types).</a>
<a id="138" class="Comment">------------------------------------------------------------------------</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="255" class="Keyword">module</a> <a id="262" href="Application.NegativeAxioms.NegativeContext.html" class="Module">Application.NegativeAxioms.NegativeContext</a>
  <a id="307" class="Symbol">{</a><a id="308" href="Application.NegativeAxioms.NegativeContext.html#308" class="Bound">a</a><a id="309" class="Symbol">}</a> <a id="311" class="Symbol">{</a><a id="312" href="Application.NegativeAxioms.NegativeContext.html#312" class="Bound">M</a> <a id="314" class="Symbol">:</a> <a id="316" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="320" href="Application.NegativeAxioms.NegativeContext.html#308" class="Bound">a</a><a id="321" class="Symbol">}</a>
  <a id="325" class="Symbol">(</a><a id="326" href="Application.NegativeAxioms.NegativeContext.html#326" class="Bound">R</a> <a id="328" class="Symbol">:</a> <a id="330" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="348" href="Application.NegativeAxioms.NegativeContext.html#312" class="Bound">M</a><a id="349" class="Symbol">)</a>
  <a id="353" class="Keyword">where</a>

<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="391" href="Application.NegativeAxioms.NegativeContext.html#312" class="Bound">M</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="422" href="Application.NegativeAxioms.NegativeContext.html#326" class="Bound">R</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Definition.Typed.Weakening.html" class="Module">Definition.Typed.Weakening</a> <a id="463" href="Application.NegativeAxioms.NegativeContext.html#326" class="Bound">R</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Application.NegativeAxioms.NegativeType.html" class="Module">Application.NegativeAxioms.NegativeType</a> <a id="517" href="Application.NegativeAxioms.NegativeContext.html#326" class="Bound">R</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="565" class="Keyword">private</a>
  <a id="Ctx"></a><a id="575" href="Application.NegativeAxioms.NegativeContext.html#575" class="Function">Ctx</a> <a id="579" class="Symbol">=</a> <a id="581" href="Definition.Untyped.NotParametrised.html#781" class="Datatype">Con</a> <a id="585" href="Definition.Untyped.html#1988" class="Datatype">Term</a>
  <a id="592" class="Keyword">variable</a>
    <a id="605" href="Application.NegativeAxioms.NegativeContext.html#605" class="Generalizable">m</a> <a id="607" class="Symbol">:</a> <a id="609" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="617" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="619" class="Symbol">:</a> <a id="621" href="Application.NegativeAxioms.NegativeContext.html#575" class="Function">Ctx</a> <a id="625" href="Application.NegativeAxioms.NegativeContext.html#605" class="Generalizable">m</a>
    <a id="631" href="Application.NegativeAxioms.NegativeContext.html#631" class="Generalizable">A</a> <a id="633" class="Symbol">:</a> <a id="635" href="Definition.Untyped.html#1988" class="Datatype">Term</a> <a id="640" href="Application.NegativeAxioms.NegativeContext.html#605" class="Generalizable">m</a>
    <a id="646" href="Application.NegativeAxioms.NegativeContext.html#646" class="Generalizable">x</a> <a id="648" class="Symbol">:</a> <a id="650" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="654" href="Application.NegativeAxioms.NegativeContext.html#605" class="Generalizable">m</a>

<a id="657" class="Comment">-- Negative contexts</a>
<a id="678" class="Comment">---------------------------------------------------------------------------</a>

<a id="755" class="Comment">-- A context is negative if all of its type entries are negative.</a>

<a id="822" class="Keyword">data</a> <a id="NegativeContext"></a><a id="827" href="Application.NegativeAxioms.NegativeContext.html#827" class="Datatype">NegativeContext</a> <a id="843" class="Symbol">:</a> <a id="845" href="Application.NegativeAxioms.NegativeContext.html#575" class="Function">Ctx</a> <a id="849" href="Application.NegativeAxioms.NegativeContext.html#605" class="Generalizable">m</a> <a id="851" class="Symbol">→</a> <a id="853" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="857" href="Application.NegativeAxioms.NegativeContext.html#308" class="Bound">a</a> <a id="859" class="Keyword">where</a>
  <a id="NegativeContext.ε"></a><a id="867" href="Application.NegativeAxioms.NegativeContext.html#867" class="InductiveConstructor">ε</a>   <a id="871" class="Symbol">:</a> <a id="873" href="Application.NegativeAxioms.NegativeContext.html#827" class="Datatype">NegativeContext</a> <a id="889" href="Definition.Untyped.NotParametrised.html#825" class="InductiveConstructor">ε</a>
  <a id="NegativeContext._∙_"></a><a id="893" href="Application.NegativeAxioms.NegativeContext.html#893" class="InductiveConstructor Operator">_∙_</a> <a id="897" class="Symbol">:</a> <a id="899" href="Application.NegativeAxioms.NegativeContext.html#827" class="Datatype">NegativeContext</a> <a id="915" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="917" class="Symbol">→</a> <a id="919" href="Application.NegativeAxioms.NegativeType.html#1234" class="Datatype">NegativeType</a> <a id="932" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="934" href="Application.NegativeAxioms.NegativeContext.html#631" class="Generalizable">A</a> <a id="936" class="Symbol">→</a> <a id="938" href="Application.NegativeAxioms.NegativeContext.html#827" class="Datatype">NegativeContext</a> <a id="954" class="Symbol">(</a><a id="955" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="957" href="Definition.Untyped.NotParametrised.html#894" class="InductiveConstructor Operator">∙</a> <a id="959" href="Application.NegativeAxioms.NegativeContext.html#631" class="Generalizable">A</a><a id="960" class="Symbol">)</a>

<a id="963" class="Comment">-- Lemma: Any entry in negative context is a negative type (needs weakening).</a>

<a id="lookupNegative"></a><a id="1042" href="Application.NegativeAxioms.NegativeContext.html#1042" class="Function">lookupNegative</a> <a id="1057" class="Symbol">:</a> <a id="1059" href="Definition.Typed.html#964" class="Datatype Operator">⊢</a> <a id="1061" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="Application.NegativeAxioms.NegativeContext.html#827" class="Datatype">NegativeContext</a> <a id="1081" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="1083" class="Symbol">→</a> <a id="1085" class="Symbol">(</a><a id="1086" href="Application.NegativeAxioms.NegativeContext.html#646" class="Generalizable">x</a> <a id="1088" href="Definition.Typed.html#769" class="Datatype Operator">∷</a> <a id="1090" href="Application.NegativeAxioms.NegativeContext.html#631" class="Generalizable">A</a> <a id="1092" href="Definition.Typed.html#769" class="Datatype Operator">∈</a> <a id="1094" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a><a id="1095" class="Symbol">)</a> <a id="1097" class="Symbol">→</a> <a id="1099" href="Application.NegativeAxioms.NegativeType.html#1234" class="Datatype">NegativeType</a> <a id="1112" href="Application.NegativeAxioms.NegativeContext.html#617" class="Generalizable">Γ</a> <a id="1114" href="Application.NegativeAxioms.NegativeContext.html#631" class="Generalizable">A</a>
<a id="1116" href="Application.NegativeAxioms.NegativeContext.html#1042" class="Function">lookupNegative</a> <a id="1131" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Bound">⊢Γ∙A</a>            <a id="1147" class="Symbol">(</a><a id="1148" href="Application.NegativeAxioms.NegativeContext.html#1148" class="Bound">nΓ</a> <a id="1151" href="Application.NegativeAxioms.NegativeContext.html#893" class="InductiveConstructor Operator">∙</a> <a id="1153" href="Application.NegativeAxioms.NegativeContext.html#1153" class="Bound">nA</a><a id="1155" class="Symbol">)</a> <a id="1157" href="Definition.Typed.html#835" class="InductiveConstructor">here</a>
  <a id="1164" class="Symbol">=</a> <a id="1166" href="Application.NegativeAxioms.NegativeType.html#1656" class="Function">wkNeg</a> <a id="1172" class="Symbol">(</a><a id="1173" href="Definition.Typed.Weakening.html#868" class="InductiveConstructor">step</a> <a id="1178" href="Definition.Typed.Weakening.html#821" class="InductiveConstructor">id</a><a id="1180" class="Symbol">)</a> <a id="1182" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Bound">⊢Γ∙A</a> <a id="1187" href="Application.NegativeAxioms.NegativeContext.html#1153" class="Bound">nA</a>
<a id="1190" href="Application.NegativeAxioms.NegativeContext.html#1042" class="Function">lookupNegative</a> <a id="1205" href="Application.NegativeAxioms.NegativeContext.html#1205" class="Bound">⊢Γ∙A</a><a id="1209" class="Symbol">@(</a><a id="1211" href="Application.NegativeAxioms.NegativeContext.html#1211" class="Bound">⊢Γ</a> <a id="1214" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="1216" href="Application.NegativeAxioms.NegativeContext.html#1216" class="Bound">Γ⊢A</a><a id="1219" class="Symbol">)</a> <a id="1221" class="Symbol">(</a><a id="1222" href="Application.NegativeAxioms.NegativeContext.html#1222" class="Bound">nΓ</a> <a id="1225" href="Application.NegativeAxioms.NegativeContext.html#893" class="InductiveConstructor Operator">∙</a> <a id="1227" href="Application.NegativeAxioms.NegativeContext.html#1227" class="Bound">nA</a><a id="1229" class="Symbol">)</a> <a id="1231" class="Symbol">(</a><a id="1232" href="Definition.Typed.html#880" class="InductiveConstructor">there</a> <a id="1238" href="Application.NegativeAxioms.NegativeContext.html#1238" class="Bound">h</a><a id="1239" class="Symbol">)</a>
  <a id="1243" class="Symbol">=</a> <a id="1245" href="Application.NegativeAxioms.NegativeType.html#1656" class="Function">wkNeg</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Definition.Typed.Weakening.html#868" class="InductiveConstructor">step</a> <a id="1257" href="Definition.Typed.Weakening.html#821" class="InductiveConstructor">id</a><a id="1259" class="Symbol">)</a> <a id="1261" href="Application.NegativeAxioms.NegativeContext.html#1205" class="Bound">⊢Γ∙A</a> <a id="1266" class="Symbol">(</a><a id="1267" href="Application.NegativeAxioms.NegativeContext.html#1042" class="Function">lookupNegative</a> <a id="1282" href="Application.NegativeAxioms.NegativeContext.html#1211" class="Bound">⊢Γ</a> <a id="1285" href="Application.NegativeAxioms.NegativeContext.html#1222" class="Bound">nΓ</a> <a id="1288" href="Application.NegativeAxioms.NegativeContext.html#1238" class="Bound">h</a><a id="1289" class="Symbol">)</a>
</pre></body></html>