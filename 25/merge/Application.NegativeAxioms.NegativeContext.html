<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Application.NegativeAxioms.NegativeContext</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Negative contexts (contexts containing only negative types).</a>
<a id="138" class="Comment">------------------------------------------------------------------------</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="283" class="Keyword">module</a> <a id="290" href="Application.NegativeAxioms.NegativeContext.html" class="Module">Application.NegativeAxioms.NegativeContext</a>
  <a id="335" class="Symbol">{</a><a id="336" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a><a id="337" class="Symbol">}</a> <a id="339" class="Symbol">{</a><a id="340" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a> <a id="342" class="Symbol">:</a> <a id="344" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="348" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a><a id="349" class="Symbol">}</a>
  <a id="353" class="Symbol">{</a><a id="354" href="Application.NegativeAxioms.NegativeContext.html#354" class="Bound">𝕄</a> <a id="356" class="Symbol">:</a> <a id="358" href="Graded.Modality.html#7127" class="Record">Modality</a> <a id="367" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a><a id="368" class="Symbol">}</a>
  <a id="372" class="Symbol">(</a><a id="373" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a> <a id="375" class="Symbol">:</a> <a id="377" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="395" href="Application.NegativeAxioms.NegativeContext.html#354" class="Bound">𝕄</a><a id="396" class="Symbol">)</a>
  <a id="400" class="Keyword">where</a>

<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="438" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="469" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Definition.Typed.Weakening.html" class="Module">Definition.Typed.Weakening</a> <a id="510" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>
<a id="512" class="Keyword">open</a> <a id="517" class="Keyword">import</a> <a id="524" href="Application.NegativeAxioms.NegativeType.html" class="Module">Application.NegativeAxioms.NegativeType</a> <a id="564" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>

<a id="567" class="Keyword">open</a> <a id="572" class="Keyword">import</a> <a id="579" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="612" class="Keyword">private</a>
  <a id="Ctx"></a><a id="622" href="Application.NegativeAxioms.NegativeContext.html#622" class="Function">Ctx</a> <a id="626" class="Symbol">=</a> <a id="628" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="632" href="Definition.Untyped.html#2457" class="Datatype">Term</a>
  <a id="639" class="Keyword">variable</a>
    <a id="652" href="Application.NegativeAxioms.NegativeContext.html#652" class="Generalizable">m</a> <a id="654" class="Symbol">:</a> <a id="656" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="664" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="666" class="Symbol">:</a> <a id="668" href="Application.NegativeAxioms.NegativeContext.html#622" class="Function">Ctx</a> <a id="672" href="Application.NegativeAxioms.NegativeContext.html#652" class="Generalizable">m</a>
    <a id="678" href="Application.NegativeAxioms.NegativeContext.html#678" class="Generalizable">A</a> <a id="680" class="Symbol">:</a> <a id="682" href="Definition.Untyped.html#2457" class="Datatype">Term</a> <a id="687" href="Application.NegativeAxioms.NegativeContext.html#652" class="Generalizable">m</a>
    <a id="693" href="Application.NegativeAxioms.NegativeContext.html#693" class="Generalizable">x</a> <a id="695" class="Symbol">:</a> <a id="697" href="Data.Fin.Base.html#1154" class="Datatype">Fin</a> <a id="701" href="Application.NegativeAxioms.NegativeContext.html#652" class="Generalizable">m</a>

<a id="704" class="Comment">-- Negative contexts</a>
<a id="725" class="Comment">---------------------------------------------------------------------------</a>

<a id="802" class="Comment">-- A context is negative if all of its type entries are negative.</a>

<a id="869" class="Keyword">data</a> <a id="NegativeContext"></a><a id="874" href="Application.NegativeAxioms.NegativeContext.html#874" class="Datatype">NegativeContext</a> <a id="890" class="Symbol">:</a> <a id="892" href="Application.NegativeAxioms.NegativeContext.html#622" class="Function">Ctx</a> <a id="896" href="Application.NegativeAxioms.NegativeContext.html#652" class="Generalizable">m</a> <a id="898" class="Symbol">→</a> <a id="900" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="904" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a> <a id="906" class="Keyword">where</a>
  <a id="NegativeContext.ε"></a><a id="914" href="Application.NegativeAxioms.NegativeContext.html#914" class="InductiveConstructor">ε</a>   <a id="918" class="Symbol">:</a> <a id="920" href="Application.NegativeAxioms.NegativeContext.html#874" class="Datatype">NegativeContext</a> <a id="936" href="Definition.Untyped.NotParametrised.html#835" class="InductiveConstructor">ε</a>
  <a id="NegativeContext._∙_"></a><a id="940" href="Application.NegativeAxioms.NegativeContext.html#940" class="InductiveConstructor Operator">_∙_</a> <a id="944" class="Symbol">:</a> <a id="946" href="Application.NegativeAxioms.NegativeContext.html#874" class="Datatype">NegativeContext</a> <a id="962" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="964" class="Symbol">→</a> <a id="966" href="Application.NegativeAxioms.NegativeType.html#1361" class="Datatype">NegativeType</a> <a id="979" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="981" href="Application.NegativeAxioms.NegativeContext.html#678" class="Generalizable">A</a> <a id="983" class="Symbol">→</a> <a id="985" href="Application.NegativeAxioms.NegativeContext.html#874" class="Datatype">NegativeContext</a> <a id="1001" class="Symbol">(</a><a id="1002" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="1004" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="1006" href="Application.NegativeAxioms.NegativeContext.html#678" class="Generalizable">A</a><a id="1007" class="Symbol">)</a>

<a id="1010" class="Comment">-- Lemma: Any entry in negative context is a negative type (needs weakening).</a>

<a id="lookupNegative"></a><a id="1089" href="Application.NegativeAxioms.NegativeContext.html#1089" class="Function">lookupNegative</a> <a id="1104" class="Symbol">:</a> <a id="1106" href="Definition.Typed.html#1137" class="Datatype Operator">⊢</a> <a id="1108" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="Application.NegativeAxioms.NegativeContext.html#874" class="Datatype">NegativeContext</a> <a id="1128" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="1130" class="Symbol">→</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Application.NegativeAxioms.NegativeContext.html#693" class="Generalizable">x</a> <a id="1135" href="Definition.Typed.html#942" class="Datatype Operator">∷</a> <a id="1137" href="Application.NegativeAxioms.NegativeContext.html#678" class="Generalizable">A</a> <a id="1139" href="Definition.Typed.html#942" class="Datatype Operator">∈</a> <a id="1141" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a><a id="1142" class="Symbol">)</a> <a id="1144" class="Symbol">→</a> <a id="1146" href="Application.NegativeAxioms.NegativeType.html#1361" class="Datatype">NegativeType</a> <a id="1159" href="Application.NegativeAxioms.NegativeContext.html#664" class="Generalizable">Γ</a> <a id="1161" href="Application.NegativeAxioms.NegativeContext.html#678" class="Generalizable">A</a>
<a id="1163" href="Application.NegativeAxioms.NegativeContext.html#1089" class="Function">lookupNegative</a> <a id="1178" href="Application.NegativeAxioms.NegativeContext.html#1178" class="Bound">⊢Γ∙A</a>            <a id="1194" class="Symbol">(</a><a id="1195" href="Application.NegativeAxioms.NegativeContext.html#1195" class="Bound">nΓ</a> <a id="1198" href="Application.NegativeAxioms.NegativeContext.html#940" class="InductiveConstructor Operator">∙</a> <a id="1200" href="Application.NegativeAxioms.NegativeContext.html#1200" class="Bound">nA</a><a id="1202" class="Symbol">)</a> <a id="1204" href="Definition.Typed.html#1008" class="InductiveConstructor">here</a>
  <a id="1211" class="Symbol">=</a> <a id="1213" href="Application.NegativeAxioms.NegativeType.html#1783" class="Function">wkNeg</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Definition.Typed.Weakening.html#959" class="InductiveConstructor">step</a> <a id="1225" href="Definition.Typed.Weakening.html#912" class="InductiveConstructor">id</a><a id="1227" class="Symbol">)</a> <a id="1229" href="Application.NegativeAxioms.NegativeContext.html#1178" class="Bound">⊢Γ∙A</a> <a id="1234" href="Application.NegativeAxioms.NegativeContext.html#1200" class="Bound">nA</a>
<a id="1237" href="Application.NegativeAxioms.NegativeContext.html#1089" class="Function">lookupNegative</a> <a id="1252" href="Application.NegativeAxioms.NegativeContext.html#1252" class="Bound">⊢Γ∙A</a><a id="1256" class="Symbol">@(</a><a id="1258" href="Application.NegativeAxioms.NegativeContext.html#1258" class="Bound">⊢Γ</a> <a id="1261" href="Definition.Typed.html#1185" class="InductiveConstructor Operator">∙</a> <a id="1263" href="Application.NegativeAxioms.NegativeContext.html#1263" class="Bound">Γ⊢A</a><a id="1266" class="Symbol">)</a> <a id="1268" class="Symbol">(</a><a id="1269" href="Application.NegativeAxioms.NegativeContext.html#1269" class="Bound">nΓ</a> <a id="1272" href="Application.NegativeAxioms.NegativeContext.html#940" class="InductiveConstructor Operator">∙</a> <a id="1274" href="Application.NegativeAxioms.NegativeContext.html#1274" class="Bound">nA</a><a id="1276" class="Symbol">)</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Definition.Typed.html#1053" class="InductiveConstructor">there</a> <a id="1285" href="Application.NegativeAxioms.NegativeContext.html#1285" class="Bound">h</a><a id="1286" class="Symbol">)</a>
  <a id="1290" class="Symbol">=</a> <a id="1292" href="Application.NegativeAxioms.NegativeType.html#1783" class="Function">wkNeg</a> <a id="1298" class="Symbol">(</a><a id="1299" href="Definition.Typed.Weakening.html#959" class="InductiveConstructor">step</a> <a id="1304" href="Definition.Typed.Weakening.html#912" class="InductiveConstructor">id</a><a id="1306" class="Symbol">)</a> <a id="1308" href="Application.NegativeAxioms.NegativeContext.html#1252" class="Bound">⊢Γ∙A</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Application.NegativeAxioms.NegativeContext.html#1089" class="Function">lookupNegative</a> <a id="1329" href="Application.NegativeAxioms.NegativeContext.html#1258" class="Bound">⊢Γ</a> <a id="1332" href="Application.NegativeAxioms.NegativeContext.html#1269" class="Bound">nΓ</a> <a id="1335" href="Application.NegativeAxioms.NegativeContext.html#1285" class="Bound">h</a><a id="1336" class="Symbol">)</a>
</pre></body></html>