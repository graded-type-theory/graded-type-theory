<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Instances.Examples</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Some examples which are used to illustrate properties of modality</a>
<a id="143" class="Comment">-- instances</a>
<a id="156" class="Comment">------------------------------------------------------------------------</a>

<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="273" class="Keyword">import</a> <a id="280" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="297" class="Keyword">module</a> <a id="304" href="Graded.Modality.Instances.Examples.html" class="Module">Graded.Modality.Instances.Examples</a>
  <a id="341" class="Symbol">{</a><a id="342" href="Graded.Modality.Instances.Examples.html#342" class="Bound">a</a><a id="343" class="Symbol">}</a> <a id="345" class="Symbol">{</a><a id="346" href="Graded.Modality.Instances.Examples.html#346" class="Bound">M</a> <a id="348" class="Symbol">:</a> <a id="350" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="354" href="Graded.Modality.Instances.Examples.html#342" class="Bound">a</a><a id="355" class="Symbol">}</a>
  <a id="359" class="Symbol">(</a><a id="360" class="Keyword">open</a> <a id="365" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="381" href="Graded.Modality.Instances.Examples.html#346" class="Bound">M</a><a id="382" class="Symbol">)</a>
  <a id="386" class="Symbol">{</a><a id="387" href="Graded.Modality.Instances.Examples.html#387" class="Bound">𝕄</a> <a id="389" class="Symbol">:</a> <a id="391" href="Graded.Modality.html#9574" class="Record">Modality</a><a id="399" class="Symbol">}</a>
  <a id="403" class="Symbol">(</a><a id="404" class="Keyword">open</a> <a id="409" href="Graded.Modality.html#9574" class="Module">Modality</a> <a id="418" href="Graded.Modality.Instances.Examples.html#387" class="Bound">𝕄</a><a id="419" class="Symbol">)</a>
  <a id="423" class="Symbol">(</a><a id="424" href="Graded.Modality.Instances.Examples.html#424" class="Bound">R</a> <a id="426" class="Symbol">:</a> <a id="428" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="446" href="Graded.Modality.Instances.Examples.html#387" class="Bound">𝕄</a><a id="447" class="Symbol">)</a>
  <a id="451" class="Symbol">(</a><a id="452" class="Keyword">open</a> <a id="457" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="475" href="Graded.Modality.Instances.Examples.html#424" class="Bound">R</a><a id="476" class="Symbol">)</a>
  <a id="480" class="Comment">-- It is assumed that &quot;Π 𝟙 , 𝟘&quot; is allowed.</a>
  <a id="526" class="Symbol">(</a><a id="527" href="Graded.Modality.Instances.Examples.html#527" class="Bound">Π-𝟙-𝟘</a> <a id="533" class="Symbol">:</a> <a id="535" href="Definition.Typed.Restrictions.html#1560" class="Function">Π-allowed</a> <a id="545" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="547" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="548" class="Symbol">)</a>
  <a id="552" class="Keyword">where</a>

<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="581" class="Keyword">open</a> <a id="586" class="Keyword">import</a> <a id="593" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="630" class="Keyword">hiding</a> <a id="637" class="Symbol">(</a><a id="638" href="Data.Nat.Base.html#5266" class="Function">pred</a><a id="642" class="Symbol">)</a>
<a id="644" class="Keyword">import</a> <a id="651" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>

<a id="681" class="Keyword">open</a> <a id="686" class="Keyword">import</a> <a id="693" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="710" href="Graded.Modality.Instances.Examples.html#424" class="Bound">R</a>
<a id="712" class="Keyword">open</a> <a id="717" class="Keyword">import</a> <a id="724" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="752" href="Graded.Modality.Instances.Examples.html#424" class="Bound">R</a>
<a id="754" class="Keyword">open</a> <a id="759" class="Keyword">import</a> <a id="766" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="785" href="Graded.Modality.Instances.Examples.html#346" class="Bound">M</a>

<a id="788" class="Keyword">private</a> <a id="796" class="Keyword">variable</a>
  <a id="807" href="Graded.Modality.Instances.Examples.html#807" class="Generalizable">n</a> <a id="809" class="Symbol">:</a> <a id="811" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>

<a id="816" class="Keyword">private</a>

  <a id="827" class="Comment">-- Some lemmas used below.</a>

  <a id="⊢ℕ"></a><a id="857" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a> <a id="860" class="Symbol">:</a> <a id="862" href="Definition.Typed.html#1164" class="Datatype Operator">⊢</a> <a id="864" class="InductiveConstructor">ε</a> <a id="866" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="868" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
  <a id="872" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a>  <a id="876" class="Symbol">=</a> <a id="878" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="880" href="Definition.Typed.html#1555" class="InductiveConstructor">ℕⱼ</a> <a id="883" href="Definition.Typed.html#1198" class="InductiveConstructor">ε</a>

  <a id="⊢ℕℕ"></a><a id="888" href="Graded.Modality.Instances.Examples.html#888" class="Function">⊢ℕℕ</a> <a id="892" class="Symbol">:</a> <a id="894" href="Definition.Typed.html#1164" class="Datatype Operator">⊢</a> <a id="896" class="InductiveConstructor">ε</a> <a id="898" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="900" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="902" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="904" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
  <a id="908" href="Graded.Modality.Instances.Examples.html#888" class="Function">⊢ℕℕ</a> <a id="912" class="Symbol">=</a> <a id="914" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="916" href="Definition.Typed.html#1555" class="InductiveConstructor">ℕⱼ</a> <a id="919" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a>

  <a id="⊢ℕℕℕ"></a><a id="925" href="Graded.Modality.Instances.Examples.html#925" class="Function">⊢ℕℕℕ</a> <a id="930" class="Symbol">:</a> <a id="932" href="Definition.Typed.html#1164" class="Datatype Operator">⊢</a> <a id="934" class="InductiveConstructor">ε</a> <a id="936" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="938" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="940" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="942" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="944" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="946" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
  <a id="950" href="Graded.Modality.Instances.Examples.html#925" class="Function">⊢ℕℕℕ</a> <a id="955" class="Symbol">=</a> <a id="957" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="959" href="Definition.Typed.html#1555" class="InductiveConstructor">ℕⱼ</a> <a id="962" href="Graded.Modality.Instances.Examples.html#888" class="Function">⊢ℕℕ</a>

  <a id="⊢ℕℕℕℕ"></a><a id="969" href="Graded.Modality.Instances.Examples.html#969" class="Function">⊢ℕℕℕℕ</a> <a id="975" class="Symbol">:</a> <a id="977" href="Definition.Typed.html#1164" class="Datatype Operator">⊢</a> <a id="979" class="InductiveConstructor">ε</a> <a id="981" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="983" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="985" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="987" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="989" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="991" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="993" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="995" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
  <a id="999" href="Graded.Modality.Instances.Examples.html#969" class="Function">⊢ℕℕℕℕ</a> <a id="1005" class="Symbol">=</a> <a id="1007" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="1009" href="Definition.Typed.html#1555" class="InductiveConstructor">ℕⱼ</a> <a id="1012" href="Graded.Modality.Instances.Examples.html#925" class="Function">⊢ℕℕℕ</a>

<a id="1018" class="Comment">-- A program that takes a natural number and adds it to itself:</a>
<a id="1082" class="Comment">-- λ n. n + n. This program should presumably not be seen as linear,</a>
<a id="1151" class="Comment">-- because the variable &quot;n&quot; is used twice.</a>

<a id="double"></a><a id="1195" href="Graded.Modality.Instances.Examples.html#1195" class="Function">double</a> <a id="1202" class="Symbol">:</a> <a id="1204" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="1209" class="Number">0</a>
<a id="1211" href="Graded.Modality.Instances.Examples.html#1195" class="Function">double</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Definition.Untyped.html#1613" class="InductiveConstructor">lam</a> <a id="1224" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="1226" class="Symbol">(</a><a id="1227" href="Definition.Untyped.html#1991" class="InductiveConstructor">natrec</a> <a id="1234" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="1236" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="1238" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="1240" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="1247" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="1249" class="Symbol">)</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Definition.Untyped.html#1961" class="InductiveConstructor">suc</a> <a id="1256" class="Symbol">(</a><a id="1257" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="1261" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="1263" class="Symbol">))</a> <a id="1266" class="Symbol">(</a><a id="1267" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="1271" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="1273" class="Symbol">))</a>

<a id="1277" class="Comment">-- The term double is well-typed.</a>
<a id="1311" class="Comment">--</a>
<a id="1314" class="Comment">-- Note that the term can be given a linear type.</a>
<a id="1364" class="Comment">--</a>
<a id="1367" class="Comment">-- With a certain &quot;linearity&quot; modality the term is also</a>
<a id="1423" class="Comment">-- well-resourced, see</a>
<a id="1446" class="Comment">-- Graded.Modality.Instances.Linearity.Bad.▸double. However, with</a>
<a id="1512" class="Comment">-- another linearity modality the term is not well-resourced, see</a>
<a id="1578" class="Comment">-- Graded.Modality.Instances.Linearity.Good.¬▸double.</a>

<a id="⊢double"></a><a id="1633" href="Graded.Modality.Instances.Examples.html#1633" class="Function">⊢double</a> <a id="1641" class="Symbol">:</a> <a id="1643" class="InductiveConstructor">ε</a> <a id="1645" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="1647" href="Graded.Modality.Instances.Examples.html#1195" class="Function">double</a> <a id="1654" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="1656" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">Π</a> <a id="1658" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="1660" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">,</a> <a id="1662" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="1664" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▷</a> <a id="1666" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="1668" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▹</a> <a id="1670" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
<a id="1672" href="Graded.Modality.Instances.Examples.html#1633" class="Function">⊢double</a> <a id="1680" class="Symbol">=</a>
  <a id="1684" href="Definition.Typed.Properties.Admissible.Pi.html#1165" class="Function">lamⱼ′</a> <a id="1690" href="Graded.Modality.Instances.Examples.html#527" class="Bound">Π-𝟙-𝟘</a> <a id="1696" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="1700" href="Definition.Typed.html#3563" class="InductiveConstructor">natrecⱼ</a> <a id="1708" class="Symbol">(</a><a id="1709" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="1713" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a> <a id="1716" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="1720" class="Symbol">)</a>
    <a id="1726" class="Symbol">(</a><a id="1727" href="Definition.Typed.html#3481" class="InductiveConstructor">sucⱼ</a> <a id="1732" class="Symbol">(</a><a id="1733" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="1737" href="Graded.Modality.Instances.Examples.html#925" class="Function">⊢ℕℕℕ</a> <a id="1742" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="1746" class="Symbol">))</a>
    <a id="1753" class="Symbol">(</a><a id="1754" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="1758" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a> <a id="1761" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="1765" class="Symbol">)</a>

<a id="1768" class="Comment">-- A term used to define plus</a>

<a id="plus′"></a><a id="1799" href="Graded.Modality.Instances.Examples.html#1799" class="Function">plus′</a> <a id="1805" class="Symbol">:</a> <a id="1807" class="Symbol">(</a><a id="1808" href="Graded.Modality.Instances.Examples.html#1808" class="Bound">t</a> <a id="1810" href="Graded.Modality.Instances.Examples.html#1810" class="Bound">u</a> <a id="1812" class="Symbol">:</a> <a id="1814" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="1819" href="Graded.Modality.Instances.Examples.html#807" class="Generalizable">n</a><a id="1820" class="Symbol">)</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="1829" href="Graded.Modality.Instances.Examples.html#807" class="Generalizable">n</a>
<a id="1831" href="Graded.Modality.Instances.Examples.html#1799" class="Function">plus′</a> <a id="1837" href="Graded.Modality.Instances.Examples.html#1837" class="Bound">t</a> <a id="1839" href="Graded.Modality.Instances.Examples.html#1839" class="Bound">u</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Definition.Untyped.html#1991" class="InductiveConstructor">natrec</a> <a id="1850" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="1852" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="1854" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="1856" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="1858" href="Graded.Modality.Instances.Examples.html#1837" class="Bound">t</a> <a id="1860" class="Symbol">(</a><a id="1861" href="Definition.Untyped.html#1961" class="InductiveConstructor">suc</a> <a id="1865" class="Symbol">(</a><a id="1866" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="1870" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="1872" class="Symbol">))</a> <a id="1875" href="Graded.Modality.Instances.Examples.html#1839" class="Bound">u</a>

<a id="1878" class="Comment">-- A program that takes two natural numbers and adds them:</a>
<a id="1937" class="Comment">-- λ m n. m + n. It might make sense to see this program as linear in</a>
<a id="2007" class="Comment">-- both arguments.</a>

<a id="plus"></a><a id="2027" href="Graded.Modality.Instances.Examples.html#2027" class="Function">plus</a> <a id="2032" class="Symbol">:</a> <a id="2034" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2039" class="Number">0</a>
<a id="2041" href="Graded.Modality.Instances.Examples.html#2027" class="Function">plus</a> <a id="2046" class="Symbol">=</a> <a id="2048" href="Definition.Untyped.html#1613" class="InductiveConstructor">lam</a> <a id="2052" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2054" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2056" href="Definition.Untyped.html#1613" class="InductiveConstructor">lam</a> <a id="2060" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2062" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2064" href="Graded.Modality.Instances.Examples.html#1799" class="Function">plus′</a> <a id="2070" class="Symbol">(</a><a id="2071" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2075" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="2077" class="Symbol">)</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2084" href="Tools.Fin.html#439" class="Function">x1</a><a id="2086" class="Symbol">)</a>

<a id="2089" class="Comment">-- The term plus is well-typed.</a>
<a id="2121" class="Comment">--</a>
<a id="2124" class="Comment">-- With a certain linearity modality the term is also well-resourced,</a>
<a id="2194" class="Comment">-- see Graded.Modality.Instances.Linearity.Good.▸plus. However, with</a>
<a id="2263" class="Comment">-- another &quot;linearity&quot; modality the term is not well-resourced, see</a>
<a id="2331" class="Comment">-- Graded.Modality.Instances.Linearity.Bad.¬▸plus.</a>

<a id="⊢plus"></a><a id="2383" href="Graded.Modality.Instances.Examples.html#2383" class="Function">⊢plus</a> <a id="2389" class="Symbol">:</a> <a id="2391" class="InductiveConstructor">ε</a> <a id="2393" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="2395" href="Graded.Modality.Instances.Examples.html#2027" class="Function">plus</a> <a id="2400" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="2402" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">Π</a> <a id="2404" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2406" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">,</a> <a id="2408" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="2410" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▷</a> <a id="2412" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="2414" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▹</a> <a id="2416" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">Π</a> <a id="2418" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2420" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">,</a> <a id="2422" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="2424" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▷</a> <a id="2426" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="2428" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▹</a> <a id="2430" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
<a id="2432" href="Graded.Modality.Instances.Examples.html#2383" class="Function">⊢plus</a> <a id="2438" class="Symbol">=</a>
  <a id="2442" href="Definition.Typed.Properties.Admissible.Pi.html#1165" class="Function">lamⱼ′</a> <a id="2448" href="Graded.Modality.Instances.Examples.html#527" class="Bound">Π-𝟙-𝟘</a> <a id="2454" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="2458" href="Definition.Typed.Properties.Admissible.Pi.html#1165" class="Function">lamⱼ′</a> <a id="2464" href="Graded.Modality.Instances.Examples.html#527" class="Bound">Π-𝟙-𝟘</a> <a id="2470" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="2474" href="Definition.Typed.html#3563" class="InductiveConstructor">natrecⱼ</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="2487" href="Graded.Modality.Instances.Examples.html#888" class="Function">⊢ℕℕ</a> <a id="2491" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="2495" class="Symbol">)</a>
    <a id="2501" class="Symbol">(</a><a id="2502" href="Definition.Typed.html#3481" class="InductiveConstructor">sucⱼ</a> <a id="2507" class="Symbol">(</a><a id="2508" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="2512" href="Graded.Modality.Instances.Examples.html#969" class="Function">⊢ℕℕℕℕ</a> <a id="2518" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="2522" class="Symbol">))</a>
    <a id="2529" class="Symbol">(</a><a id="2530" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="2534" href="Graded.Modality.Instances.Examples.html#888" class="Function">⊢ℕℕ</a> <a id="2538" class="Symbol">(</a><a id="2539" href="Definition.Typed.html#1080" class="InductiveConstructor">there</a> <a id="2545" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="2549" class="Symbol">))</a>

<a id="2553" class="Comment">-- A term used to define pred</a>

<a id="pred′"></a><a id="2584" href="Graded.Modality.Instances.Examples.html#2584" class="Function">pred′</a> <a id="2590" class="Symbol">:</a> <a id="2592" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2597" href="Graded.Modality.Instances.Examples.html#807" class="Generalizable">n</a> <a id="2599" class="Symbol">→</a> <a id="2601" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2606" href="Graded.Modality.Instances.Examples.html#807" class="Generalizable">n</a>
<a id="2608" href="Graded.Modality.Instances.Examples.html#2584" class="Function">pred′</a> <a id="2614" href="Graded.Modality.Instances.Examples.html#2614" class="Bound">t</a> <a id="2616" class="Symbol">=</a> <a id="2618" href="Definition.Untyped.html#1991" class="InductiveConstructor">natrec</a> <a id="2625" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2627" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="2629" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="2631" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="2633" href="Definition.Untyped.html#1945" class="InductiveConstructor">zero</a> <a id="2638" class="Symbol">(</a><a id="2639" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2643" href="Tools.Fin.html#439" class="Function">x1</a><a id="2645" class="Symbol">)</a> <a id="2647" href="Graded.Modality.Instances.Examples.html#2614" class="Bound">t</a>

<a id="2650" class="Comment">-- A program that takes a natural numbers and returns its predecessor (truncated)</a>
<a id="2732" class="Comment">-- It might make sense to see this program as linear.</a>

<a id="pred"></a><a id="2787" href="Graded.Modality.Instances.Examples.html#2787" class="Function">pred</a> <a id="2792" class="Symbol">:</a> <a id="2794" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2799" class="Number">0</a>
<a id="2801" href="Graded.Modality.Instances.Examples.html#2787" class="Function">pred</a> <a id="2806" class="Symbol">=</a> <a id="2808" href="Definition.Untyped.html#1613" class="InductiveConstructor">lam</a> <a id="2812" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2814" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2816" href="Graded.Modality.Instances.Examples.html#2584" class="Function">pred′</a> <a id="2822" class="Symbol">(</a><a id="2823" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2827" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a><a id="2829" class="Symbol">)</a>

<a id="2832" class="Comment">-- The term pred is well-typed.</a>

<a id="⊢pred"></a><a id="2865" href="Graded.Modality.Instances.Examples.html#2865" class="Function">⊢pred</a> <a id="2871" class="Symbol">:</a> <a id="2873" class="InductiveConstructor">ε</a> <a id="2875" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="2877" href="Graded.Modality.Instances.Examples.html#2787" class="Function">pred</a> <a id="2882" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="2884" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">Π</a> <a id="2886" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="2888" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">,</a> <a id="2890" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="2892" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▷</a> <a id="2894" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a> <a id="2896" href="Definition.Untyped.html#2440" class="InductiveConstructor Operator">▹</a> <a id="2898" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>
<a id="2900" href="Graded.Modality.Instances.Examples.html#2865" class="Function">⊢pred</a> <a id="2906" class="Symbol">=</a>
  <a id="2910" href="Definition.Typed.Properties.Admissible.Pi.html#1165" class="Function">lamⱼ′</a> <a id="2916" href="Graded.Modality.Instances.Examples.html#527" class="Bound">Π-𝟙-𝟘</a> <a id="2922" href="Function.Base.html#1974" class="Function Operator">$</a>
  <a id="2926" href="Definition.Typed.html#3563" class="InductiveConstructor">natrecⱼ</a> <a id="2934" class="Symbol">(</a><a id="2935" href="Definition.Typed.html#3432" class="InductiveConstructor">zeroⱼ</a> <a id="2941" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a><a id="2943" class="Symbol">)</a> <a id="2945" class="Symbol">(</a><a id="2946" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="2950" href="Graded.Modality.Instances.Examples.html#925" class="Function">⊢ℕℕℕ</a> <a id="2955" class="Symbol">(</a><a id="2956" href="Definition.Typed.html#1080" class="InductiveConstructor">there</a> <a id="2962" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="2966" class="Symbol">))</a>
    <a id="2973" class="Symbol">(</a><a id="2974" href="Definition.Typed.html#1845" class="InductiveConstructor">var</a> <a id="2978" href="Graded.Modality.Instances.Examples.html#857" class="Function">⊢ℕ</a> <a id="2981" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a><a id="2985" class="Symbol">)</a>
</pre></body></html>