<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Resource correctness of the heap semantics.</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="303" class="Keyword">import</a> <a id="310" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Tools.Sum.html" class="Module">Tools.Sum</a> <a id="357" class="Keyword">hiding</a> <a id="364" class="Symbol">(</a><a id="365" href="Tools.Sum.html#315" class="Function">id</a><a id="367" class="Symbol">;</a> <a id="369" href="Tools.Sum.html#397" class="Function">sym</a><a id="372" class="Symbol">)</a>

<a id="375" class="Keyword">module</a> <a id="382" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a>
  <a id="406" class="Symbol">{</a><a id="407" href="Graded.Heap.Soundness.html#407" class="Bound">a</a><a id="408" class="Symbol">}</a> <a id="410" class="Symbol">{</a><a id="411" href="Graded.Heap.Soundness.html#411" class="Bound">M</a> <a id="413" class="Symbol">:</a> <a id="415" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="419" href="Graded.Heap.Soundness.html#407" class="Bound">a</a><a id="420" class="Symbol">}</a> <a id="422" class="Symbol">{</a><a id="423" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="425" class="Symbol">:</a> <a id="427" href="Graded.Modality.html#8202" class="Record">Modality</a> <a id="436" href="Graded.Heap.Soundness.html#411" class="Bound">M</a><a id="437" class="Symbol">}</a>
  <a id="441" class="Symbol">{</a><a id="442" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="445" class="Symbol">:</a> <a id="447" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="466" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a><a id="467" class="Symbol">}</a>
  <a id="471" class="Symbol">(</a><a id="472" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a> <a id="475" class="Symbol">:</a> <a id="477" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="495" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a><a id="496" class="Symbol">)</a>
  <a id="500" class="Symbol">(</a><a id="501" class="Keyword">open</a> <a id="506" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a> <a id="531" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="534" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a><a id="536" class="Symbol">)</a>
  <a id="540" class="Symbol">(</a><a id="541" class="Keyword">open</a> <a id="546" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="564" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a><a id="566" class="Symbol">)</a>
  <a id="570" class="Symbol">(</a><a id="571" href="Graded.Heap.Soundness.html#571" class="Bound">As</a> <a id="574" class="Symbol">:</a> <a id="576" href="Graded.Heap.Bisimilarity.html#2206" class="Record">Assumptions</a><a id="587" class="Symbol">)</a>
  <a id="591" class="Keyword">where</a>

<a id="598" class="Keyword">open</a> <a id="603" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="622" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="625" class="Keyword">open</a> <a id="630" href="Graded.Modality.html#8202" class="Module">Modality</a> <a id="639" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="641" class="Keyword">open</a> <a id="646" href="Graded.Heap.Bisimilarity.html#2206" class="Module">Assumptions</a> <a id="658" href="Graded.Heap.Soundness.html#571" class="Bound">As</a>

<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="761" class="Keyword">import</a> <a id="768" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="796" class="Symbol">as</a> <a id="799" class="Module">PE</a>
<a id="802" class="Keyword">open</a> <a id="807" class="Keyword">import</a> <a id="814" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="829" class="Keyword">import</a> <a id="836" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="865" class="Symbol">as</a> <a id="868" class="Module">RPo</a>

<a id="873" class="Keyword">open</a> <a id="878" class="Keyword">import</a> <a id="885" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="904" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Definition.Untyped.Neutral.html" class="Module">Definition.Untyped.Neutral</a> <a id="945" href="Graded.Heap.Soundness.html#411" class="Bound">M</a> <a id="947" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>
<a id="960" class="Keyword">open</a> <a id="965" class="Keyword">import</a> <a id="972" href="Definition.Untyped.Inversion.html" class="Module">Definition.Untyped.Inversion</a> <a id="1001" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="1003" class="Keyword">open</a> <a id="1008" class="Keyword">import</a> <a id="1015" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a> <a id="1045" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="1047" class="Keyword">open</a> <a id="1052" class="Keyword">import</a> <a id="1059" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1076" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="1132" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1135" class="Keyword">open</a> <a id="1140" class="Keyword">import</a> <a id="1147" href="Definition.Typed.Consequences.Inversion.html" class="Module">Definition.Typed.Consequences.Inversion</a> <a id="1187" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1190" class="Keyword">open</a> <a id="1195" class="Keyword">import</a> <a id="1202" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="1233" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1236" class="Keyword">open</a> <a id="1241" class="Keyword">import</a> <a id="1248" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="1275" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1278" class="Keyword">open</a> <a id="1283" class="Keyword">import</a> <a id="1290" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a> <a id="1342" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1345" class="Keyword">open</a> <a id="1350" class="Keyword">import</a> <a id="1357" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html" class="Module">Definition.LogicalRelation.Substitution.Introductions.Nat</a> <a id="1415" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>

<a id="1419" class="Keyword">open</a> <a id="1424" class="Keyword">import</a> <a id="1431" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="1446" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1448" class="Keyword">open</a> <a id="1453" class="Keyword">import</a> <a id="1460" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1486" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1488" class="Keyword">open</a> <a id="1493" class="Keyword">import</a> <a id="1500" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="1525" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1527" class="Keyword">open</a> <a id="1532" class="Keyword">import</a> <a id="1539" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1551" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1553" class="Keyword">open</a> <a id="1558" class="Keyword">import</a> <a id="1565" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="1585" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1587" class="Keyword">open</a> <a id="1592" class="Keyword">import</a> <a id="1599" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1612" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="1614" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1617" class="Keyword">open</a> <a id="1622" class="Keyword">import</a> <a id="1629" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1652" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="1654" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>

<a id="1658" class="Keyword">open</a> <a id="1663" class="Keyword">import</a> <a id="1670" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1690" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1703" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1706" class="Keyword">open</a> <a id="1711" class="Keyword">import</a> <a id="1718" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1749" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1762" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1795" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1808" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1811" class="Keyword">open</a> <a id="1816" class="Keyword">import</a> <a id="1823" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="1851" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1864" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1867" class="Keyword">open</a> <a id="1872" class="Keyword">import</a> <a id="1879" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="1908" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1921" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1924" class="Keyword">open</a> <a id="1929" class="Keyword">import</a> <a id="1936" href="Graded.Heap.Usage.Reduction.html" class="Module">Graded.Heap.Usage.Reduction</a> <a id="1964" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1977" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="1980" href="Graded.Heap.Bisimilarity.html#2286" class="Field">Unitʷ-η→</a>
<a id="1989" class="Keyword">open</a> <a id="1994" class="Keyword">import</a> <a id="2001" href="Graded.Heap.Termination.html" class="Module">Graded.Heap.Termination</a> <a id="2025" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2028" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a> <a id="2031" href="Graded.Heap.Soundness.html#571" class="Bound">As</a>
<a id="2034" class="Keyword">open</a> <a id="2039" class="Keyword">import</a> <a id="2046" href="Graded.Heap.Typed.html" class="Module">Graded.Heap.Typed</a> <a id="2064" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2067" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2070" class="Keyword">open</a> <a id="2075" class="Keyword">import</a> <a id="2082" href="Graded.Heap.Typed.Inversion.html" class="Module">Graded.Heap.Typed.Inversion</a> <a id="2110" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2113" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2116" class="Keyword">open</a> <a id="2121" class="Keyword">import</a> <a id="2128" href="Graded.Heap.Typed.Reduction.html" class="Module">Graded.Heap.Typed.Reduction</a> <a id="2156" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2159" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2162" class="Keyword">open</a> <a id="2167" class="Keyword">import</a> <a id="2174" href="Graded.Heap.Typed.Properties.html" class="Module">Graded.Heap.Typed.Properties</a> <a id="2203" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2206" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2209" class="Keyword">open</a> <a id="2214" class="Keyword">import</a> <a id="2221" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="2243" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2256" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="2259" class="Keyword">open</a> <a id="2264" class="Keyword">import</a> <a id="2271" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="2304" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2317" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>

<a id="2321" class="Keyword">private</a> <a id="2329" class="Keyword">variable</a>
  <a id="2340" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a> <a id="2342" class="Symbol">:</a> <a id="2344" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="2350" href="Graded.Heap.Soundness.html#2350" class="Generalizable">n</a> <a id="2352" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="2354" href="Graded.Heap.Soundness.html#2354" class="Generalizable">A</a> <a id="2356" class="Symbol">:</a> <a id="2358" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2363" class="Symbol">_</a>
  <a id="2367" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="2369" class="Symbol">:</a> <a id="2371" href="Graded.Heap.Untyped.html#8839" class="Record">State</a> <a id="2377" class="Symbol">_</a> <a id="2379" class="Symbol">_</a> <a id="2381" class="Symbol">_</a>
  <a id="2385" href="Graded.Heap.Soundness.html#2385" class="Generalizable">γ</a> <a id="2387" href="Graded.Heap.Soundness.html#2387" class="Generalizable">δ</a> <a id="2389" href="Graded.Heap.Soundness.html#2389" class="Generalizable">η</a> <a id="2391" class="Symbol">:</a> <a id="2393" href="Graded.Context.html#692" class="Datatype">Conₘ</a> <a id="2398" class="Symbol">_</a>
  <a id="2402" href="Graded.Heap.Soundness.html#2402" class="Generalizable">Γ</a> <a id="2404" href="Graded.Heap.Soundness.html#2404" class="Generalizable">Δ</a> <a id="2406" class="Symbol">:</a> <a id="2408" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2412" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2417" class="Symbol">_</a>
  <a id="2421" href="Graded.Heap.Soundness.html#2421" class="Generalizable">H</a> <a id="2423" class="Symbol">:</a> <a id="2425" href="Graded.Heap.Untyped.html#5903" class="Datatype">Heap</a> <a id="2430" class="Symbol">_</a> <a id="2432" class="Symbol">_</a>
  <a id="2436" href="Graded.Heap.Soundness.html#2436" class="Generalizable">ρ</a> <a id="2438" class="Symbol">:</a> <a id="2440" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="2443" class="Symbol">_</a> <a id="2445" class="Symbol">_</a>
  <a id="2449" href="Graded.Heap.Soundness.html#2449" class="Generalizable">S</a> <a id="2451" class="Symbol">:</a> <a id="2453" href="Graded.Heap.Untyped.html#4634" class="Datatype">Stack</a> <a id="2459" class="Symbol">_</a>
  <a id="2463" href="Graded.Heap.Soundness.html#2463" class="Generalizable">m</a> <a id="2465" class="Symbol">:</a> <a id="2467" href="Graded.Mode.html#1062" class="Datatype">Mode</a>

<a id="2473" class="Keyword">opaque</a>

  <a id="2483" class="Comment">-- All well-resourced states of type ℕ that are in</a>
  <a id="2536" class="Comment">-- the logical relation reduce to numerals.</a>

  <a id="redNumeral′"></a><a id="2583" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a> <a id="2595" class="Symbol">:</a> <a id="2597" class="Symbol">{</a><a id="2598" href="Graded.Heap.Soundness.html#2598" class="Bound">Δ</a> <a id="2600" class="Symbol">:</a> <a id="2602" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2606" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2611" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a><a id="2612" class="Symbol">}</a>
             <a id="2627" class="Symbol">→</a> <a id="2629" class="Symbol">(</a><a id="2630" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="2647" class="InductiveConstructor">𝟙ᵐ</a> <a id="2650" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Definition.Typed.html#21923" class="Function">Consistent</a> <a id="2665" href="Graded.Heap.Soundness.html#2598" class="Bound">Δ</a><a id="2666" class="Symbol">)</a>
             <a id="2681" class="Symbol">→</a> <a id="2683" class="Symbol">(</a><a id="2684" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a> <a id="2686" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="2691" class="Number">0</a> <a id="2693" class="Symbol">→</a> <a id="2695" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="2714" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2727" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="2729" class="Symbol">)</a>
             <a id="2744" class="Symbol">→</a> <a id="2746" href="Graded.Heap.Soundness.html#2598" class="Bound">Δ</a> <a id="2748" href="Definition.LogicalRelation.html#3071" class="Record Operator">⊩ℕ</a> <a id="2751" href="Graded.Heap.Soundness.html#2350" class="Generalizable">n</a> <a id="2753" href="Definition.LogicalRelation.html#3071" class="Record Operator">∷ℕ</a> <a id="2756" class="Symbol">→</a> <a id="2758" href="Graded.Heap.Soundness.html#2350" class="Generalizable">n</a> <a id="2760" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="2765" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="2767" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="2769" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="2771" class="Symbol">→</a> <a id="2773" href="Graded.Heap.Soundness.html#2598" class="Bound">Δ</a> <a id="2775" href="Graded.Heap.Typed.html#3795" class="Datatype Operator">⊢ₛ</a> <a id="2778" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="2780" href="Graded.Heap.Typed.html#3795" class="Datatype Operator">∷</a> <a id="2782" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="2784" class="Symbol">→</a> <a id="2786" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="2788" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a>
             <a id="2803" class="Symbol">→</a> <a id="2805" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="2808" class="Symbol">λ</a> <a id="2810" href="Graded.Heap.Soundness.html#2810" class="Bound">m</a> <a id="2812" href="Graded.Heap.Soundness.html#2812" class="Bound">n</a> <a id="2814" href="Graded.Heap.Soundness.html#2814" class="Bound">H</a> <a id="2816" class="Symbol">(</a><a id="2817" href="Graded.Heap.Soundness.html#2817" class="Bound">ρ</a> <a id="2819" class="Symbol">:</a> <a id="2821" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="2824" href="Graded.Heap.Soundness.html#2810" class="Bound">m</a> <a id="2826" href="Graded.Heap.Soundness.html#2812" class="Bound">n</a><a id="2827" class="Symbol">)</a> <a id="2829" href="Graded.Heap.Soundness.html#2829" class="Bound">t</a> <a id="2831" class="Symbol">→</a> <a id="2833" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="2835" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="2838" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="2840" href="Graded.Heap.Soundness.html#2814" class="Bound">H</a> <a id="2842" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2844" href="Graded.Heap.Soundness.html#2829" class="Bound">t</a> <a id="2846" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2848" href="Graded.Heap.Soundness.html#2817" class="Bound">ρ</a> <a id="2850" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2852" class="InductiveConstructor">ε</a> <a id="2854" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="2856" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="2873" href="Definition.Untyped.html#3454" class="Datatype">Numeral</a> <a id="2881" href="Graded.Heap.Soundness.html#2829" class="Bound">t</a> <a id="2883" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2885" href="Graded.Heap.Soundness.html#2598" class="Bound">Δ</a> <a id="2887" href="Definition.Typed.html#5482" class="Datatype Operator">⊢</a> <a id="2889" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="2891" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="2893" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="2895" href="Definition.Typed.html#5482" class="Datatype Operator">≡</a> <a id="2897" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="2900" href="Graded.Heap.Soundness.html#2817" class="Bound">ρ</a> <a id="2902" href="Graded.Heap.Soundness.html#2829" class="Bound">t</a> <a id="2904" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="2906" href="Graded.Heap.Soundness.html#2814" class="Bound">H</a> <a id="2908" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a> <a id="2911" href="Definition.Typed.html#5482" class="Datatype Operator">∷</a> <a id="2913" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="2915" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="2932" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="2934" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="2936" href="Graded.Heap.Soundness.html#2814" class="Bound">H</a> <a id="2938" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2940" href="Graded.Heap.Soundness.html#2829" class="Bound">t</a> <a id="2942" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2944" href="Graded.Heap.Soundness.html#2817" class="Bound">ρ</a> <a id="2946" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2948" class="InductiveConstructor">ε</a> <a id="2950" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a>
  <a id="2954" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a> <a id="2966" href="Graded.Heap.Soundness.html#2966" class="Bound">consistent</a> <a id="2977" href="Graded.Heap.Soundness.html#2977" class="Bound">nem</a> <a id="2981" class="Symbol">(</a><a id="2982" href="Definition.LogicalRelation.html#3184" class="InductiveConstructor">ℕₜ</a> <a id="2985" class="Symbol">_</a> <a id="2987" href="Graded.Heap.Soundness.html#2987" class="Bound">d</a> <a id="2989" href="Graded.Heap.Soundness.html#2989" class="Bound">n≡n</a> <a id="2993" class="Symbol">(</a><a id="2994" href="Definition.LogicalRelation.html#3411" class="InductiveConstructor">sucᵣ</a> <a id="2999" href="Graded.Heap.Soundness.html#2999" class="Bound">x</a><a id="3000" class="Symbol">))</a> <a id="3003" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3011" href="Graded.Heap.Soundness.html#3011" class="Bound">⊢s</a> <a id="3014" href="Graded.Heap.Soundness.html#3014" class="Bound">▸s</a> <a id="3017" class="Symbol">=</a>
    <a id="3023" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3028" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="3036" href="Graded.Heap.Soundness.html#2966" class="Bound">consistent</a> <a id="3047" href="Graded.Heap.Soundness.html#2977" class="Bound">nem</a> <a id="3051" href="Graded.Heap.Soundness.html#3011" class="Bound">⊢s</a> <a id="3054" href="Graded.Heap.Soundness.html#3014" class="Bound">▸s</a> <a id="3057" class="Symbol">(</a><a id="3058" href="Definition.Typed.html#20806" class="Field">redₜ</a> <a id="3063" href="Graded.Heap.Soundness.html#2987" class="Bound">d</a> <a id="3065" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3067" href="Definition.Untyped.Neutral.html#2535" class="InductiveConstructor">sucₙ</a><a id="3071" class="Symbol">)</a> <a id="3073" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3076" class="Symbol">λ</a>
      <a id="3084" class="Symbol">(_</a> <a id="3087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3089" class="Symbol">_</a> <a id="3091" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3093" href="Graded.Heap.Soundness.html#3093" class="Bound">H</a> <a id="3095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3097" href="Graded.Heap.Soundness.html#3097" class="Bound">t</a> <a id="3099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3101" href="Graded.Heap.Soundness.html#3101" class="Bound">ρ</a> <a id="3103" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a> <a id="3109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3111" class="Symbol">_)</a> <a id="3114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3116" href="Graded.Heap.Soundness.html#3116" class="Bound">≡u</a> <a id="3119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3121" href="Graded.Heap.Soundness.html#3121" class="Bound">v</a><a id="3122" class="Symbol">)</a> <a id="3124" class="Symbol">→</a>
    <a id="3130" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3135" href="Definition.Untyped.Inversion.html#6493" class="Function">subst-suc</a> <a id="3145" class="Symbol">{</a><a id="3146" class="Argument">t</a> <a id="3148" class="Symbol">=</a> <a id="3150" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="3153" href="Graded.Heap.Soundness.html#3101" class="Bound">ρ</a> <a id="3155" href="Graded.Heap.Soundness.html#3097" class="Bound">t</a><a id="3156" class="Symbol">}</a> <a id="3158" href="Graded.Heap.Soundness.html#3116" class="Bound">≡u</a> <a id="3161" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3164" class="Symbol">λ</a> <a id="3166" class="Symbol">{</a>
      <a id="3174" class="Symbol">(</a><a id="3175" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3180" class="Symbol">(</a><a id="3181" href="Graded.Heap.Soundness.html#3181" class="Bound">x</a> <a id="3183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3185" href="Graded.Heap.Soundness.html#3185" class="Bound">≡x</a><a id="3187" class="Symbol">))</a> <a id="3190" class="Symbol">→</a>
    <a id="3196" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3201" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="3208" href="Graded.Heap.Soundness.html#3185" class="Bound">≡x</a> <a id="3211" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3214" class="Symbol">λ</a> <a id="3216" class="Symbol">{</a>
      <a id="3224" class="Symbol">(_</a> <a id="3227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3229" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3237" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3239" class="Symbol">_)</a> <a id="3242" class="Symbol">→</a>
    <a id="3248" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3253" href="Graded.Heap.Soundness.html#3121" class="Bound">v</a> <a id="3255" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3258" class="Symbol">λ</a> <a id="3260" class="Symbol">()};</a>
      <a id="3271" class="Symbol">(</a><a id="3272" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3277" class="Symbol">(</a><a id="3278" href="Graded.Heap.Soundness.html#3278" class="Bound">n′</a> <a id="3281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3283" href="Graded.Heap.Soundness.html#3283" class="Bound">≡suc</a> <a id="3288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3290" href="Graded.Heap.Soundness.html#3290" class="Bound">≡n</a><a id="3292" class="Symbol">))</a> <a id="3295" class="Symbol">→</a>
    <a id="3301" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3306" href="Definition.Untyped.Inversion.html#6386" class="Function">wk-suc</a> <a id="3313" href="Graded.Heap.Soundness.html#3283" class="Bound">≡suc</a> <a id="3318" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3321" class="Symbol">λ</a> <a id="3323" class="Symbol">{</a>
      <a id="3331" class="Symbol">(</a><a id="3332" href="Graded.Heap.Soundness.html#3332" class="Bound">n″</a> <a id="3335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3337" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3347" href="Graded.Heap.Soundness.html#3347" class="Bound">≡n′</a><a id="3350" class="Symbol">)</a> <a id="3352" class="Symbol">→</a>
    <a id="3358" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3363" href="Graded.Heap.Typed.Reduction.html#27397" class="Function">⇾*→≡</a> <a id="3368" href="Graded.Heap.Soundness.html#3011" class="Bound">⊢s</a> <a id="3371" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a> <a id="3374" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3377" class="Symbol">λ</a>
      <a id="3385" href="Graded.Heap.Soundness.html#3385" class="Bound">s≡</a> <a id="3388" class="Symbol">→</a>
    <a id="3394" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3399" href="Definition.Untyped.Properties.html#72148" class="Function">isNumeral?</a> <a id="3410" href="Graded.Heap.Soundness.html#3332" class="Bound">n″</a> <a id="3413" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3416" class="Symbol">λ</a> <a id="3418" class="Symbol">{</a>
      <a id="3426" class="Symbol">(</a><a id="3427" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3431" href="Graded.Heap.Soundness.html#3431" class="Bound">num</a><a id="3434" class="Symbol">)</a> <a id="3436" class="Symbol">→</a>
    <a id="3442" class="Symbol">_</a> <a id="3444" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3446" class="Symbol">_</a> <a id="3448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3450" class="Symbol">_</a> <a id="3452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3454" class="Symbol">_</a> <a id="3456" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3458" class="Symbol">_</a> <a id="3460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3462" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="3468" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a> <a id="3471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3473" href="Definition.Untyped.html#3520" class="InductiveConstructor">sucₙ</a> <a id="3478" href="Graded.Heap.Soundness.html#3431" class="Bound">num</a> <a id="3482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3484" href="Graded.Heap.Soundness.html#3385" class="Bound">s≡</a> <a id="3487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3489" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="3494" href="Graded.Heap.Soundness.html#3014" class="Bound">▸s</a> <a id="3497" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a> <a id="3500" class="Symbol">;</a>
      <a id="3508" class="Symbol">(</a><a id="3509" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3512" href="Graded.Heap.Soundness.html#3512" class="Bound">¬num</a><a id="3516" class="Symbol">)</a> <a id="3518" class="Symbol">→</a>
    <a id="3524" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3529" href="Graded.Heap.Typed.Inversion.html#7720" class="Function">⊢ₛ-inv</a> <a id="3536" class="Symbol">(</a><a id="3537" href="Graded.Heap.Typed.Reduction.html#19147" class="Function">⊢ₛ-⇾*</a> <a id="3543" href="Graded.Heap.Soundness.html#3011" class="Bound">⊢s</a> <a id="3546" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a><a id="3548" class="Symbol">)</a> <a id="3550" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3553" class="Symbol">λ</a>
      <a id="3561" class="Symbol">(_</a> <a id="3564" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3566" class="Symbol">_</a> <a id="3568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3570" href="Graded.Heap.Soundness.html#3570" class="Bound">⊢H</a> <a id="3573" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3575" href="Graded.Heap.Soundness.html#3575" class="Bound">⊢t</a> <a id="3578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3580" href="Graded.Heap.Soundness.html#3580" class="Bound">⊢S</a><a id="3582" class="Symbol">)</a> <a id="3584" class="Symbol">→</a>
    <a id="3590" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3595" href="Definition.Typed.Consequences.Inversion.html#4035" class="Function">inversion-suc</a> <a id="3609" href="Graded.Heap.Soundness.html#3575" class="Bound">⊢t</a> <a id="3612" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3615" class="Symbol">λ</a>
      <a id="3623" class="Symbol">(</a><a id="3624" href="Graded.Heap.Soundness.html#3624" class="Bound">⊢n″</a> <a id="3628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3630" href="Graded.Heap.Soundness.html#3630" class="Bound">≡ℕ</a><a id="3632" class="Symbol">)</a> <a id="3634" class="Symbol">→</a>
    <a id="3640" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3645" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="3652" class="Symbol">(</a><a id="3653" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="3658" href="Graded.Heap.Soundness.html#3014" class="Bound">▸s</a> <a id="3661" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a><a id="3663" class="Symbol">)</a> <a id="3665" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3668" class="Symbol">λ</a>
      <a id="3676" class="Symbol">(_</a> <a id="3679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3681" class="Symbol">_</a> <a id="3683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3685" class="Symbol">_</a> <a id="3687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3689" href="Graded.Heap.Soundness.html#3689" class="Bound">▸H</a> <a id="3692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3694" href="Graded.Heap.Soundness.html#3694" class="Bound">▸t</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Graded.Heap.Soundness.html#3699" class="Bound">▸ε</a> <a id="3702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3704" href="Graded.Heap.Soundness.html#3704" class="Bound">γ≤</a><a id="3706" class="Symbol">)</a> <a id="3708" class="Symbol">→</a>
    <a id="3714" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3719" href="Graded.Usage.Inversion.html#8458" class="Function">inv-usage-suc</a> <a id="3733" href="Graded.Heap.Soundness.html#3694" class="Bound">▸t</a> <a id="3736" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3739" class="Symbol">λ</a>
      <a id="3747" class="Symbol">(</a><a id="3748" href="Graded.Usage.Inversion.html#8332" class="InductiveConstructor">invUsageSuc</a> <a id="3760" href="Graded.Heap.Soundness.html#3760" class="Bound">▸n″</a> <a id="3764" href="Graded.Heap.Soundness.html#3764" class="Bound">δ≤</a><a id="3766" class="Symbol">)</a>  <a id="3769" class="Symbol">→</a>
    <a id="3775" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3780" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a> <a id="3792" class="Symbol">{</a><a id="3793" class="Argument">s</a> <a id="3795" class="Symbol">=</a> <a id="3797" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="3799" href="Graded.Heap.Soundness.html#3093" class="Bound">H</a> <a id="3801" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3803" href="Graded.Heap.Soundness.html#3332" class="Bound">n″</a> <a id="3806" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3808" href="Graded.Heap.Soundness.html#3101" class="Bound">ρ</a> <a id="3810" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3812" href="Graded.Heap.Untyped.html#4666" class="InductiveConstructor">ε</a> <a id="3814" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a><a id="3815" class="Symbol">}</a> <a id="3817" href="Graded.Heap.Soundness.html#2966" class="Bound">consistent</a> <a id="3828" href="Graded.Heap.Soundness.html#2977" class="Bound">nem</a> <a id="3832" href="Graded.Heap.Soundness.html#2999" class="Bound">x</a>
          <a id="3844" class="Symbol">(</a><a id="3845" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">PE.sym</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="3862" class="Symbol">(</a><a id="3863" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="3871" class="Symbol">(</a><a id="3872" href="Graded.Heap.Untyped.html#7996" class="Function Operator">_[</a> <a id="3875" href="Graded.Heap.Soundness.html#3093" class="Bound">H</a> <a id="3877" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="3879" class="Symbol">)</a> <a id="3881" href="Graded.Heap.Soundness.html#3347" class="Bound">≡n′</a><a id="3884" class="Symbol">)</a> <a id="3886" href="Graded.Heap.Soundness.html#3290" class="Bound">≡n</a><a id="3888" class="Symbol">))</a>
          <a id="3901" class="Symbol">(</a><a id="3902" href="Graded.Heap.Typed.html#3874" class="InductiveConstructor">⊢ₛ</a> <a id="3905" href="Graded.Heap.Soundness.html#3570" class="Bound">⊢H</a> <a id="3908" href="Graded.Heap.Soundness.html#3624" class="Bound">⊢n″</a> <a id="3912" href="Graded.Heap.Typed.html#3609" class="InductiveConstructor">ε</a><a id="3913" class="Symbol">)</a>
          <a id="3925" class="Symbol">(</a><a id="3926" href="Graded.Heap.Usage.html#3242" class="InductiveConstructor">▸ₛ</a> <a id="3929" href="Graded.Heap.Soundness.html#3689" class="Bound">▸H</a> <a id="3932" href="Graded.Heap.Soundness.html#3760" class="Bound">▸n″</a> <a id="3936" href="Graded.Heap.Soundness.html#3699" class="Bound">▸ε</a> <a id="3939" class="Symbol">(</a><a id="3940" href="Graded.Context.Properties.PartialOrder.html#790" class="Function">≤ᶜ-trans</a> <a id="3949" href="Graded.Heap.Soundness.html#3704" class="Bound">γ≤</a> <a id="3952" class="Symbol">(</a><a id="3953" href="Graded.Context.Properties.Addition.html#2897" class="Function">+ᶜ-monotoneˡ</a> <a id="3966" class="Symbol">(</a><a id="3967" href="Graded.Context.Properties.Multiplication.html#3380" class="Function">·ᶜ-monotoneʳ</a> <a id="3980" class="Symbol">(</a><a id="3981" href="Graded.Context.Weakening.html#3188" class="Function">wk-≤ᶜ</a> <a id="3987" href="Graded.Heap.Soundness.html#3101" class="Bound">ρ</a> <a id="3989" href="Graded.Heap.Soundness.html#3764" class="Bound">δ≤</a><a id="3991" class="Symbol">)))))</a> <a id="3997" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4000" class="Symbol">λ</a>
      <a id="4008" class="Symbol">(_</a> <a id="4011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4013" class="Symbol">_</a> <a id="4015" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4017" href="Graded.Heap.Soundness.html#4017" class="Bound">H′</a> <a id="4020" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4022" href="Graded.Heap.Soundness.html#4022" class="Bound">ρ′</a> <a id="4025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4027" href="Graded.Heap.Soundness.html#4027" class="Bound">t′</a> <a id="4030" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4032" href="Graded.Heap.Soundness.html#4032" class="Bound">d₀</a> <a id="4035" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4037" href="Graded.Heap.Soundness.html#4037" class="Bound">n</a> <a id="4039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4041" href="Graded.Heap.Soundness.html#4041" class="Bound">s′≡</a> <a id="4045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4047" href="Graded.Heap.Soundness.html#4047" class="Bound">▸s′</a><a id="4050" class="Symbol">)</a> <a id="4052" class="Symbol">→</a>
    <a id="4058" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4063" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="4070" href="Graded.Heap.Soundness.html#4047" class="Bound">▸s′</a> <a id="4074" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4077" class="Symbol">λ</a>
      <a id="4085" class="Symbol">(_</a> <a id="4088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4090" class="Symbol">_</a> <a id="4092" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4094" class="Symbol">_</a> <a id="4096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4098" href="Graded.Heap.Soundness.html#4098" class="Bound">▸H</a> <a id="4101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4103" href="Graded.Heap.Soundness.html#4103" class="Bound">▸t</a> <a id="4106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4108" href="Graded.Heap.Soundness.html#4108" class="Bound">▸S</a> <a id="4111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4113" href="Graded.Heap.Soundness.html#4113" class="Bound">γ≤</a><a id="4115" class="Symbol">)</a> <a id="4117" class="Symbol">→</a>
    <a id="4123" class="Symbol">_</a> <a id="4125" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4127" class="Symbol">_</a> <a id="4129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4131" class="Symbol">_</a> <a id="4133" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4135" class="Symbol">_</a> <a id="4137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4139" class="Symbol">_</a>
      <a id="4147" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4149" href="Graded.Heap.Reduction.Properties.html#1553" class="Function">↠*-concat</a> <a id="4159" class="Symbol">(</a><a id="4160" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="4166" href="Graded.Heap.Soundness.html#3106" class="Bound">d′</a><a id="4168" class="Symbol">)</a>
          <a id="4180" class="Symbol">(</a><a id="4181" href="Graded.Heap.Reduction.html#6427" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4184" href="Graded.Heap.Reduction.html#5752" class="InductiveConstructor">sucₕ</a> <a id="4189" href="Graded.Heap.Soundness.html#3512" class="Bound">¬num</a> <a id="4194" href="Graded.Heap.Reduction.html#6963" class="InductiveConstructor Operator">⇨</a> <a id="4196" href="Graded.Heap.Reduction.Properties.html#1553" class="Function">↠*-concat</a> <a id="4206" class="Symbol">(</a><a id="4207" href="Graded.Heap.Reduction.Properties.html#15755" class="Function">++sucₛ-↠*</a> <a id="4217" href="Graded.Heap.Soundness.html#4032" class="Bound">d₀</a><a id="4219" class="Symbol">)</a> <a id="4221" class="Symbol">(</a><a id="4222" href="Graded.Heap.Reduction.html#6427" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Graded.Heap.Reduction.html#5844" class="InductiveConstructor">numₕ</a> <a id="4231" href="Graded.Heap.Soundness.html#4037" class="Bound">n</a><a id="4232" class="Symbol">)</a> <a id="4234" href="Graded.Heap.Reduction.html#6963" class="InductiveConstructor Operator">⇨</a> <a id="4236" href="Graded.Heap.Reduction.html#6946" class="InductiveConstructor">id</a><a id="4238" class="Symbol">))</a>
      <a id="4247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4249" href="Definition.Untyped.html#3520" class="InductiveConstructor">sucₙ</a> <a id="4254" href="Graded.Heap.Soundness.html#4037" class="Bound">n</a> <a id="4256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4258" href="Definition.Typed.html#5684" class="InductiveConstructor">trans</a> <a id="4264" href="Graded.Heap.Soundness.html#3385" class="Bound">s≡</a> <a id="4267" class="Symbol">(</a><a id="4268" href="Definition.Typed.html#9167" class="InductiveConstructor">suc-cong</a> <a id="4277" href="Graded.Heap.Soundness.html#4041" class="Bound">s′≡</a><a id="4280" class="Symbol">)</a>
      <a id="4288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4290" href="Graded.Heap.Usage.html#3242" class="InductiveConstructor">▸ₛ</a> <a id="4293" href="Graded.Heap.Soundness.html#4098" class="Bound">▸H</a> <a id="4296" class="Symbol">(</a><a id="4297" href="Graded.Usage.html#9380" class="InductiveConstructor">sucₘ</a> <a id="4302" href="Graded.Heap.Soundness.html#4103" class="Bound">▸t</a><a id="4304" class="Symbol">)</a> <a id="4306" href="Graded.Heap.Soundness.html#4108" class="Bound">▸S</a> <a id="4309" href="Graded.Heap.Soundness.html#4113" class="Bound">γ≤</a> <a id="4312" class="Symbol">}}}</a>

  <a id="4319" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a> <a id="4331" href="Graded.Heap.Soundness.html#4331" class="Bound">consistent</a> <a id="4342" href="Graded.Heap.Soundness.html#4342" class="Bound">nem</a> <a id="4346" class="Symbol">(</a><a id="4347" href="Definition.LogicalRelation.html#3184" class="InductiveConstructor">ℕₜ</a> <a id="4350" class="Symbol">_</a> <a id="4352" href="Graded.Heap.Soundness.html#4352" class="Bound">d</a> <a id="4354" href="Graded.Heap.Soundness.html#4354" class="Bound">n≡n</a> <a id="4358" href="Definition.LogicalRelation.html#3466" class="InductiveConstructor">zeroᵣ</a><a id="4363" class="Symbol">)</a> <a id="4365" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4373" href="Graded.Heap.Soundness.html#4373" class="Bound">⊢s</a> <a id="4376" href="Graded.Heap.Soundness.html#4376" class="Bound">▸s</a> <a id="4379" class="Symbol">=</a>
    <a id="4385" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4390" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="4398" href="Graded.Heap.Soundness.html#4331" class="Bound">consistent</a> <a id="4409" href="Graded.Heap.Soundness.html#4342" class="Bound">nem</a> <a id="4413" href="Graded.Heap.Soundness.html#4373" class="Bound">⊢s</a> <a id="4416" href="Graded.Heap.Soundness.html#4376" class="Bound">▸s</a> <a id="4419" class="Symbol">(</a><a id="4420" href="Definition.Typed.html#20806" class="Field">redₜ</a> <a id="4425" href="Graded.Heap.Soundness.html#4352" class="Bound">d</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" href="Definition.Untyped.Neutral.html#2515" class="InductiveConstructor">zeroₙ</a><a id="4434" class="Symbol">)</a> <a id="4436" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4439" class="Symbol">λ</a>
      <a id="4447" class="Symbol">(_</a> <a id="4450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4452" class="Symbol">_</a> <a id="4454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4456" href="Graded.Heap.Soundness.html#4456" class="Bound">H</a> <a id="4458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4460" href="Graded.Heap.Soundness.html#4460" class="Bound">t</a> <a id="4462" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4464" href="Graded.Heap.Soundness.html#4464" class="Bound">ρ</a> <a id="4466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Graded.Heap.Soundness.html#4469" class="Bound">d′</a> <a id="4472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4474" class="Symbol">_)</a> <a id="4477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4479" href="Graded.Heap.Soundness.html#4479" class="Bound">≡u</a> <a id="4482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4484" href="Graded.Heap.Soundness.html#4484" class="Bound">v</a><a id="4485" class="Symbol">)</a> <a id="4487" class="Symbol">→</a>
    <a id="4493" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4498" href="Definition.Untyped.Inversion.html#6219" class="Function">subst-zero</a> <a id="4509" class="Symbol">{</a><a id="4510" class="Argument">t</a> <a id="4512" class="Symbol">=</a> <a id="4514" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="4517" href="Graded.Heap.Soundness.html#4464" class="Bound">ρ</a> <a id="4519" href="Graded.Heap.Soundness.html#4460" class="Bound">t</a><a id="4520" class="Symbol">}</a> <a id="4522" href="Graded.Heap.Soundness.html#4479" class="Bound">≡u</a> <a id="4525" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4528" class="Symbol">λ</a> <a id="4530" class="Symbol">{</a>
      <a id="4538" class="Symbol">(</a><a id="4539" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="4544" class="Symbol">(</a><a id="4545" href="Graded.Heap.Soundness.html#4545" class="Bound">x</a> <a id="4547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4549" href="Graded.Heap.Soundness.html#4549" class="Bound">≡x</a><a id="4551" class="Symbol">))</a> <a id="4554" class="Symbol">→</a>
    <a id="4560" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4565" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="4572" href="Graded.Heap.Soundness.html#4549" class="Bound">≡x</a> <a id="4575" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4578" class="Symbol">λ</a> <a id="4580" class="Symbol">{</a>
      <a id="4588" class="Symbol">(_</a> <a id="4591" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4593" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4603" href="Graded.Heap.Soundness.html#4603" class="Bound">w</a><a id="4604" class="Symbol">)</a> <a id="4606" class="Symbol">→</a>
    <a id="4612" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4617" href="Graded.Heap.Soundness.html#4484" class="Bound">v</a> <a id="4619" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4622" class="Symbol">λ</a> <a id="4624" class="Symbol">()}</a> <a id="4628" class="Symbol">;</a>
      <a id="4636" class="Symbol">(</a><a id="4637" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4642" href="Graded.Heap.Soundness.html#4642" class="Bound">≡zero</a><a id="4647" class="Symbol">)</a> <a id="4649" class="Symbol">→</a>
    <a id="4655" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4660" href="Definition.Untyped.Inversion.html#6152" class="Function">wk-zero</a> <a id="4668" href="Graded.Heap.Soundness.html#4642" class="Bound">≡zero</a> <a id="4674" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4677" class="Symbol">λ</a> <a id="4679" class="Symbol">{</a>
      <a id="4687" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4695" class="Symbol">→</a>
    <a id="4701" class="Symbol">_</a> <a id="4703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4705" class="Symbol">_</a> <a id="4707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4709" class="Symbol">_</a> <a id="4711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4713" class="Symbol">_</a> <a id="4715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4717" class="Symbol">_</a> <a id="4719" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4721" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="4727" href="Graded.Heap.Soundness.html#4469" class="Bound">d′</a> <a id="4730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4732" href="Definition.Untyped.html#3497" class="InductiveConstructor">zeroₙ</a> <a id="4738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4740" href="Graded.Heap.Typed.Reduction.html#27397" class="Function">⇾*→≡</a> <a id="4745" href="Graded.Heap.Soundness.html#4373" class="Bound">⊢s</a> <a id="4748" href="Graded.Heap.Soundness.html#4469" class="Bound">d′</a> <a id="4751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4753" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="4758" href="Graded.Heap.Soundness.html#4376" class="Bound">▸s</a> <a id="4761" href="Graded.Heap.Soundness.html#4469" class="Bound">d′</a> <a id="4764" class="Symbol">}}</a>

  <a id="4770" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a>
    <a id="4786" class="Symbol">{</a><a id="4787" href="Graded.Heap.Soundness.html#4787" class="Bound">s</a><a id="4788" class="Symbol">}</a> <a id="4790" href="Graded.Heap.Soundness.html#4790" class="Bound">consistent</a> <a id="4801" href="Graded.Heap.Soundness.html#4801" class="Bound">nem</a> <a id="4805" class="Symbol">(</a><a id="4806" href="Definition.LogicalRelation.html#3184" class="InductiveConstructor">ℕₜ</a> <a id="4809" class="Symbol">_</a> <a id="4811" href="Graded.Heap.Soundness.html#4811" class="Bound">d</a> <a id="4813" href="Graded.Heap.Soundness.html#4813" class="Bound">n≡n</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Definition.LogicalRelation.html#3498" class="InductiveConstructor">ne</a> <a id="4821" class="Symbol">(</a><a id="4822" href="Definition.LogicalRelation.html#1950" class="InductiveConstructor">neNfₜ</a> <a id="4828" href="Graded.Heap.Soundness.html#4828" class="Bound">neK</a> <a id="4832" href="Graded.Heap.Soundness.html#4832" class="Bound">⊢k</a> <a id="4835" href="Graded.Heap.Soundness.html#4835" class="Bound">k≡k</a><a id="4838" class="Symbol">)))</a> <a id="4842" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4850" href="Graded.Heap.Soundness.html#4850" class="Bound">⊢s</a> <a id="4853" href="Graded.Heap.Soundness.html#4853" class="Bound">▸s</a> <a id="4856" class="Symbol">=</a>
    <a id="4862" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4867" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="4875" class="Symbol">{</a><a id="4876" class="Argument">s</a> <a id="4878" class="Symbol">=</a> <a id="4880" href="Graded.Heap.Soundness.html#4787" class="Bound">s</a><a id="4881" class="Symbol">}</a> <a id="4883" href="Graded.Heap.Soundness.html#4790" class="Bound">consistent</a> <a id="4894" href="Graded.Heap.Soundness.html#4801" class="Bound">nem</a> <a id="4898" href="Graded.Heap.Soundness.html#4850" class="Bound">⊢s</a> <a id="4901" href="Graded.Heap.Soundness.html#4853" class="Bound">▸s</a> <a id="4904" class="Symbol">(</a><a id="4905" href="Definition.Typed.html#20806" class="Field">redₜ</a> <a id="4910" href="Graded.Heap.Soundness.html#4811" class="Bound">d</a> <a id="4912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4914" href="Definition.Untyped.Neutral.html#2659" class="InductiveConstructor">ne</a> <a id="4917" href="Graded.Heap.Soundness.html#4828" class="Bound">neK</a><a id="4920" class="Symbol">)</a> <a id="4922" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4925" class="Symbol">λ</a> <a id="4927" class="Symbol">{</a>
      <a id="4935" class="Symbol">(_</a> <a id="4938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4940" class="Symbol">_</a> <a id="4942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4944" href="Graded.Heap.Soundness.html#4944" class="Bound">H</a> <a id="4946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4948" href="Graded.Heap.Soundness.html#4948" class="Bound">t</a> <a id="4950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4952" href="Graded.Heap.Soundness.html#4952" class="Bound">ρ</a> <a id="4954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4956" href="Graded.Heap.Soundness.html#4956" class="Bound">d′</a> <a id="4959" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4961" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4971" href="Graded.Heap.Soundness.html#4971" class="Bound">v</a><a id="4972" class="Symbol">)</a> <a id="4974" class="Symbol">→</a>
    <a id="4980" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4987" class="Symbol">(</a><a id="4988" href="Graded.Heap.Untyped.Properties.html#2725" class="Function">Value→¬Neutral</a> <a id="5003" class="Symbol">(</a><a id="5004" href="Graded.Heap.Untyped.Properties.html#2258" class="Function">substValue</a> <a id="5015" class="Symbol">(</a><a id="5016" href="Graded.Heap.Untyped.html#7769" class="Function">toSubstₕ</a> <a id="5025" href="Graded.Heap.Soundness.html#4944" class="Bound">H</a><a id="5026" class="Symbol">)</a> <a id="5028" class="Symbol">(</a><a id="5029" href="Graded.Heap.Untyped.Properties.html#1818" class="Function">wkValue</a> <a id="5037" href="Graded.Heap.Soundness.html#4952" class="Bound">ρ</a> <a id="5039" href="Graded.Heap.Soundness.html#4971" class="Bound">v</a><a id="5040" class="Symbol">))</a> <a id="5043" href="Graded.Heap.Soundness.html#4828" class="Bound">neK</a><a id="5046" class="Symbol">)</a> <a id="5048" class="Symbol">}</a>


<a id="5052" class="Keyword">opaque</a>

  <a id="5062" class="Comment">-- All well-resourced, well-typed states of type ℕ reduce to numerals.</a>

  <a id="redNumeral"></a><a id="5136" href="Graded.Heap.Soundness.html#5136" class="Function">redNumeral</a> <a id="5147" class="Symbol">:</a> <a id="5149" class="Symbol">{</a><a id="5150" href="Graded.Heap.Soundness.html#5150" class="Bound">Δ</a> <a id="5152" class="Symbol">:</a> <a id="5154" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5158" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="5163" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a><a id="5164" class="Symbol">}</a>
             <a id="5179" class="Symbol">→</a> <a id="5181" class="Symbol">(</a><a id="5182" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="5199" class="InductiveConstructor">𝟙ᵐ</a> <a id="5202" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5204" class="Symbol">→</a> <a id="5206" href="Definition.Typed.html#21923" class="Function">Consistent</a> <a id="5217" href="Graded.Heap.Soundness.html#5150" class="Bound">Δ</a><a id="5218" class="Symbol">)</a>
             <a id="5233" class="Symbol">→</a> <a id="5235" class="Symbol">(</a><a id="5236" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a> <a id="5238" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5243" class="Number">0</a> <a id="5245" class="Symbol">→</a> <a id="5247" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="5266" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5279" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="5281" class="Symbol">)</a>
             <a id="5296" class="Symbol">→</a> <a id="5298" href="Graded.Heap.Soundness.html#5150" class="Bound">Δ</a> <a id="5300" href="Graded.Heap.Typed.html#3795" class="Datatype Operator">⊢ₛ</a> <a id="5303" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="5305" href="Graded.Heap.Typed.html#3795" class="Datatype Operator">∷</a> <a id="5307" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="5309" class="Symbol">→</a> <a id="5311" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="5313" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a>
             <a id="5328" class="Symbol">→</a> <a id="5330" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="5333" class="Symbol">λ</a> <a id="5335" href="Graded.Heap.Soundness.html#5335" class="Bound">m</a> <a id="5337" href="Graded.Heap.Soundness.html#5337" class="Bound">n</a> <a id="5339" href="Graded.Heap.Soundness.html#5339" class="Bound">H</a> <a id="5341" class="Symbol">(</a><a id="5342" href="Graded.Heap.Soundness.html#5342" class="Bound">ρ</a> <a id="5344" class="Symbol">:</a> <a id="5346" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="5349" href="Graded.Heap.Soundness.html#5335" class="Bound">m</a> <a id="5351" href="Graded.Heap.Soundness.html#5337" class="Bound">n</a><a id="5352" class="Symbol">)</a> <a id="5354" href="Graded.Heap.Soundness.html#5354" class="Bound">t</a> <a id="5356" class="Symbol">→</a> <a id="5358" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="5360" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="5363" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="5365" href="Graded.Heap.Soundness.html#5339" class="Bound">H</a> <a id="5367" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5369" href="Graded.Heap.Soundness.html#5354" class="Bound">t</a> <a id="5371" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5373" href="Graded.Heap.Soundness.html#5342" class="Bound">ρ</a> <a id="5375" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5377" class="InductiveConstructor">ε</a> <a id="5379" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="5381" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5398" href="Definition.Untyped.html#3454" class="Datatype">Numeral</a> <a id="5406" href="Graded.Heap.Soundness.html#5354" class="Bound">t</a> <a id="5408" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5410" href="Graded.Heap.Soundness.html#5150" class="Bound">Δ</a> <a id="5412" href="Definition.Typed.html#5482" class="Datatype Operator">⊢</a> <a id="5414" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="5416" href="Graded.Heap.Soundness.html#2367" class="Generalizable">s</a> <a id="5418" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="5420" href="Definition.Typed.html#5482" class="Datatype Operator">≡</a> <a id="5422" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="5425" href="Graded.Heap.Soundness.html#5342" class="Bound">ρ</a> <a id="5427" href="Graded.Heap.Soundness.html#5354" class="Bound">t</a> <a id="5429" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="5431" href="Graded.Heap.Soundness.html#5339" class="Bound">H</a> <a id="5433" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a> <a id="5436" href="Definition.Typed.html#5482" class="Datatype Operator">∷</a> <a id="5438" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="5440" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5457" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="5459" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="5461" href="Graded.Heap.Soundness.html#5339" class="Bound">H</a> <a id="5463" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5465" href="Graded.Heap.Soundness.html#5354" class="Bound">t</a> <a id="5467" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5469" href="Graded.Heap.Soundness.html#5342" class="Bound">ρ</a> <a id="5471" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5473" class="InductiveConstructor">ε</a> <a id="5475" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a>
  <a id="5479" href="Graded.Heap.Soundness.html#5136" class="Function">redNumeral</a> <a id="5490" class="Symbol">{</a><a id="5491" href="Graded.Heap.Soundness.html#5491" class="Bound">s</a><a id="5492" class="Symbol">}</a> <a id="5494" href="Graded.Heap.Soundness.html#5494" class="Bound">consistent</a> <a id="5505" href="Graded.Heap.Soundness.html#5505" class="Bound">nem</a> <a id="5509" href="Graded.Heap.Soundness.html#5509" class="Bound">⊢s</a> <a id="5512" href="Graded.Heap.Soundness.html#5512" class="Bound">▸s</a> <a id="5515" class="Symbol">=</a>
    <a id="5521" href="Graded.Heap.Soundness.html#2583" class="Function">redNumeral′</a> <a id="5533" href="Graded.Heap.Soundness.html#5494" class="Bound">consistent</a> <a id="5544" href="Graded.Heap.Soundness.html#5505" class="Bound">nem</a>
      <a id="5554" class="Symbol">(</a><a id="5555" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html#2491" class="Function">⊩∷ℕ⇔</a> <a id="5560" class="Symbol">.</a><a id="5561" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5567" class="Symbol">(</a><a id="5568" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1446" class="Function">reducible-⊩∷</a> <a id="5581" class="Symbol">(</a><a id="5582" href="Graded.Heap.Typed.Properties.html#3187" class="Function">⊢⦅⦆</a> <a id="5586" class="Symbol">{</a><a id="5587" class="Argument">s</a> <a id="5589" class="Symbol">=</a> <a id="5591" href="Graded.Heap.Soundness.html#5491" class="Bound">s</a><a id="5592" class="Symbol">}</a> <a id="5594" href="Graded.Heap.Soundness.html#5509" class="Bound">⊢s</a><a id="5596" class="Symbol">)</a> <a id="5598" class="Symbol">.</a><a id="5599" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5604" class="Symbol">))</a>
      <a id="5613" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5621" href="Graded.Heap.Soundness.html#5509" class="Bound">⊢s</a> <a id="5624" href="Graded.Heap.Soundness.html#5512" class="Bound">▸s</a>

<a id="5628" class="Keyword">opaque</a>

  <a id="5638" class="Comment">-- Given some assumptions, all well-typed and erased terms of type ℕ reduce to some</a>
  <a id="5724" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="5801" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness"></a><a id="5883" href="Graded.Heap.Soundness.html#5883" class="Function">soundness</a> <a id="5893" class="Symbol">:</a> <a id="5895" class="Symbol">{</a><a id="5896" href="Graded.Heap.Soundness.html#5896" class="Bound">Δ</a> <a id="5898" class="Symbol">:</a> <a id="5900" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5904" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="5909" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a><a id="5910" class="Symbol">}</a>
            <a id="5924" class="Symbol">→</a> <a id="5926" class="Symbol">(</a><a id="5927" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="5944" class="InductiveConstructor">𝟙ᵐ</a> <a id="5947" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5949" class="Symbol">→</a> <a id="5951" href="Definition.Typed.html#21923" class="Function">Consistent</a> <a id="5962" href="Graded.Heap.Soundness.html#5896" class="Bound">Δ</a><a id="5963" class="Symbol">)</a>
            <a id="5977" class="Symbol">→</a> <a id="5979" class="Symbol">(</a><a id="5980" href="Graded.Heap.Soundness.html#2340" class="Generalizable">k</a> <a id="5982" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5987" class="Number">0</a> <a id="5989" class="Symbol">→</a> <a id="5991" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="6010" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="6023" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="6025" class="Symbol">)</a>
            <a id="6039" class="Symbol">→</a> <a id="6041" href="Graded.Heap.Soundness.html#5896" class="Bound">Δ</a> <a id="6043" href="Definition.Typed.html#1755" class="Datatype Operator">⊢</a> <a id="6045" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="6047" href="Definition.Typed.html#1755" class="Datatype Operator">∷</a> <a id="6049" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="6051" class="Symbol">→</a> <a id="6053" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="6056" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="6058" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a>
            <a id="6072" class="Symbol">→</a> <a id="6074" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="6077" class="Symbol">λ</a> <a id="6079" href="Graded.Heap.Soundness.html#6079" class="Bound">m</a> <a id="6081" href="Graded.Heap.Soundness.html#6081" class="Bound">n</a> <a id="6083" href="Graded.Heap.Soundness.html#6083" class="Bound">H</a> <a id="6085" href="Graded.Heap.Soundness.html#6085" class="Bound">k</a> <a id="6087" class="Symbol">(</a><a id="6088" href="Graded.Heap.Soundness.html#6088" class="Bound">ρ</a> <a id="6090" class="Symbol">:</a> <a id="6092" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="6095" href="Graded.Heap.Soundness.html#6079" class="Bound">m</a> <a id="6097" href="Graded.Heap.Soundness.html#6081" class="Bound">n</a><a id="6098" class="Symbol">)</a> <a id="6100" class="Symbol">→</a>
              <a id="6116" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="6124" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="6126" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="6129" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="6131" href="Graded.Heap.Soundness.html#6083" class="Bound">H</a> <a id="6133" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6135" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="6140" href="Graded.Heap.Soundness.html#6085" class="Bound">k</a> <a id="6142" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6144" href="Graded.Heap.Soundness.html#6088" class="Bound">ρ</a> <a id="6146" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6148" class="InductiveConstructor">ε</a> <a id="6150" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="6152" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6168" class="Symbol">(</a><a id="6169" href="Graded.Heap.Soundness.html#5896" class="Bound">Δ</a> <a id="6171" href="Definition.Typed.html#5482" class="Datatype Operator">⊢</a> <a id="6173" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="6175" href="Definition.Typed.html#5482" class="Datatype Operator">≡</a> <a id="6177" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="6182" href="Graded.Heap.Soundness.html#6085" class="Bound">k</a> <a id="6184" href="Definition.Typed.html#5482" class="Datatype Operator">∷</a> <a id="6186" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="6187" class="Symbol">)</a> <a id="6189" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6205" href="Graded.Heap.Soundness.html#6083" class="Bound">H</a> <a id="6207" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="6210" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="6214" href="Graded.Heap.Soundness.html#5883" class="Function">soundness</a> <a id="6224" class="Symbol">{</a><a id="6225" href="Graded.Heap.Soundness.html#6225" class="Bound">k</a><a id="6226" class="Symbol">}</a> <a id="6228" class="Symbol">{</a><a id="6229" href="Graded.Heap.Soundness.html#6229" class="Bound">t</a><a id="6230" class="Symbol">}</a> <a id="6232" class="Symbol">{</a><a id="6233" href="Graded.Heap.Soundness.html#6233" class="Bound">Δ</a><a id="6234" class="Symbol">}</a> <a id="6236" href="Graded.Heap.Soundness.html#6236" class="Bound">consistent</a> <a id="6247" href="Graded.Heap.Soundness.html#6247" class="Bound">nem</a> <a id="6251" href="Graded.Heap.Soundness.html#6251" class="Bound">⊢t</a> <a id="6254" href="Graded.Heap.Soundness.html#6254" class="Bound">▸t</a> <a id="6257" class="Symbol">=</a>
    <a id="6263" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6268" href="Graded.Heap.Usage.Properties.html#1864" class="Function">▸initial</a> <a id="6277" href="Graded.Heap.Soundness.html#6254" class="Bound">▸t</a> <a id="6280" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6283" class="Symbol">λ</a>
      <a id="6291" href="Graded.Heap.Soundness.html#6291" class="Bound">▸s</a> <a id="6294" class="Symbol">→</a>
    <a id="6300" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6305" href="Graded.Heap.Soundness.html#5136" class="Function">redNumeral</a> <a id="6316" href="Graded.Heap.Soundness.html#6236" class="Bound">consistent</a> <a id="6327" href="Graded.Heap.Soundness.html#6247" class="Bound">nem</a> <a id="6331" class="Symbol">(</a><a id="6332" href="Graded.Heap.Typed.Properties.html#1830" class="Function">⊢initial</a> <a id="6341" href="Graded.Heap.Soundness.html#6251" class="Bound">⊢t</a><a id="6343" class="Symbol">)</a> <a id="6345" href="Graded.Heap.Soundness.html#6291" class="Bound">▸s</a> <a id="6348" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6351" class="Symbol">λ</a>
      <a id="6359" class="Symbol">(_</a> <a id="6362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6364" class="Symbol">_</a> <a id="6366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6368" href="Graded.Heap.Soundness.html#6368" class="Bound">H</a> <a id="6370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6372" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="6374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6376" href="Graded.Heap.Soundness.html#6376" class="Bound">t</a> <a id="6378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6380" href="Graded.Heap.Soundness.html#6380" class="Bound">d</a> <a id="6382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6384" href="Graded.Heap.Soundness.html#6384" class="Bound">num</a> <a id="6388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6390" href="Graded.Heap.Soundness.html#6390" class="Bound">s≡</a> <a id="6393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6395" href="Graded.Heap.Soundness.html#6395" class="Bound">▸s′</a><a id="6398" class="Symbol">)</a> <a id="6400" class="Symbol">→</a>
    <a id="6406" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6411" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="6418" href="Graded.Heap.Soundness.html#6395" class="Bound">▸s′</a> <a id="6422" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6425" class="Symbol">λ</a>
    <a id="6431" class="Comment">-- case ▸-↠* ▸s d of λ {</a>
      <a id="6462" class="Symbol">(</a><a id="6463" href="Graded.Heap.Soundness.html#6463" class="Bound">γ</a> <a id="6465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6467" href="Graded.Heap.Soundness.html#6467" class="Bound">δ</a> <a id="6469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6471" href="Graded.Heap.Soundness.html#6471" class="Bound">η</a> <a id="6473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6475" href="Graded.Heap.Soundness.html#6475" class="Bound">▸H</a> <a id="6478" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6480" href="Graded.Heap.Soundness.html#6480" class="Bound">▸n</a> <a id="6483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6485" href="Graded.Heap.Soundness.html#6485" class="Bound">▸ε</a> <a id="6488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6490" href="Graded.Heap.Soundness.html#6490" class="Bound">γ≤</a><a id="6492" class="Symbol">)</a> <a id="6494" class="Symbol">→</a>
    <a id="6500" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6505" href="Definition.Untyped.Properties.html#73520" class="Function">Numeral→sucᵏ</a> <a id="6518" href="Graded.Heap.Soundness.html#6384" class="Bound">num</a> <a id="6522" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6525" class="Symbol">λ</a>
      <a id="6533" class="Symbol">(</a><a id="6534" href="Graded.Heap.Soundness.html#6534" class="Bound">k</a> <a id="6536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6538" href="Graded.Heap.Soundness.html#6538" class="Bound">≡sucᵏ</a><a id="6543" class="Symbol">)</a> <a id="6545" class="Symbol">→</a>
    <a id="6551" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6556" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">PE.subst</a> <a id="6565" class="Symbol">(λ</a> <a id="6568" href="Graded.Heap.Soundness.html#6568" class="Bound">x</a> <a id="6570" class="Symbol">→</a> <a id="6572" class="Symbol">_</a> <a id="6574" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="6577" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="6579" class="Symbol">_</a> <a id="6581" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6583" href="Graded.Heap.Soundness.html#6568" class="Bound">x</a> <a id="6585" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6587" class="Symbol">_</a> <a id="6589" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6591" class="Symbol">_</a> <a id="6593" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a><a id="6594" class="Symbol">)</a> <a id="6596" href="Graded.Heap.Soundness.html#6538" class="Bound">≡sucᵏ</a> <a id="6602" href="Graded.Heap.Soundness.html#6380" class="Bound">d</a> <a id="6604" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6607" class="Symbol">λ</a>
      <a id="6615" href="Graded.Heap.Soundness.html#6615" class="Bound">d′</a> <a id="6618" class="Symbol">→</a>
    <a id="6624" class="Keyword">let</a> <a id="6628" class="Keyword">open</a> <a id="6633" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="6637" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a> <a id="6646" class="Keyword">in</a>
    <a id="6653" class="Symbol">_</a> <a id="6655" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6657" class="Symbol">_</a> <a id="6659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6661" class="Symbol">_</a> <a id="6663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6665" class="Symbol">_</a> <a id="6667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6669" class="Symbol">_</a>
      <a id="6677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6679" href="Graded.Heap.Soundness.html#6615" class="Bound">d′</a>
      <a id="6688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6690" href="Relation.Binary.PropositionalEquality.Core.html#2044" class="Function">PE.subst₂</a> <a id="6700" class="Symbol">(_</a> <a id="6703" href="Definition.Typed.html#5482" class="Datatype Operator">⊢_≡_∷</a> <a id="6709" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="6710" class="Symbol">)</a>
          <a id="6722" class="Symbol">(</a><a id="6723" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6732" class="Symbol">(</a><a id="6733" href="Graded.Heap.Untyped.Properties.html#23063" class="Function">erasedHeap-subst</a> <a id="6750" class="Symbol">(</a><a id="6751" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="6754" href="Definition.Untyped.NotParametrised.html#2630" class="InductiveConstructor">id</a> <a id="6757" class="Symbol">_))</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Definition.Untyped.Properties.html#9557" class="Function">wk-id</a> <a id="6768" class="Symbol">_))</a>
          <a id="6782" class="Symbol">(</a><a id="6783" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6792" class="Symbol">(</a><a id="6793" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="6801" class="Symbol">(λ</a> <a id="6804" href="Graded.Heap.Soundness.html#6804" class="Bound">x</a> <a id="6806" class="Symbol">→</a> <a id="6808" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="6811" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="6813" href="Graded.Heap.Soundness.html#6804" class="Bound">x</a> <a id="6815" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="6817" href="Graded.Heap.Soundness.html#6368" class="Bound">H</a> <a id="6819" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="6821" class="Symbol">)</a> <a id="6823" href="Graded.Heap.Soundness.html#6538" class="Bound">≡sucᵏ</a><a id="6828" class="Symbol">)</a>
            <a id="6842" class="Symbol">(</a><a id="6843" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6852" class="Symbol">(</a><a id="6853" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="6861" class="Symbol">(</a><a id="6862" href="Graded.Heap.Untyped.html#7996" class="Function Operator">_[</a> <a id="6865" href="Graded.Heap.Soundness.html#6368" class="Bound">H</a> <a id="6867" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="6869" class="Symbol">)</a> <a id="6871" class="Symbol">(</a><a id="6872" href="Definition.Untyped.Properties.html#73931" class="Function">wk-sucᵏ</a> <a id="6880" href="Graded.Heap.Soundness.html#6534" class="Bound">k</a><a id="6881" class="Symbol">))</a> <a id="6884" class="Symbol">(</a><a id="6885" href="Definition.Untyped.Properties.html#73760" class="Function">subst-sucᵏ</a> <a id="6896" href="Graded.Heap.Soundness.html#6534" class="Bound">k</a><a id="6897" class="Symbol">)))</a>
          <a id="6911" href="Graded.Heap.Soundness.html#6390" class="Bound">s≡</a>
      <a id="6920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6922" href="Graded.Heap.Usage.Properties.html#3776" class="Function">𝟘▸H→H≤𝟘</a> <a id="6930" class="Symbol">(</a><a id="6931" href="Graded.Heap.Usage.Properties.html#3227" class="Function">subₕ</a> <a id="6936" href="Graded.Heap.Soundness.html#6475" class="Bound">▸H</a> <a id="6939" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6941" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
          <a id="6957" href="Graded.Heap.Soundness.html#6463" class="Bound">γ</a>                      <a id="6980" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="6983" href="Graded.Heap.Soundness.html#6490" class="Bound">γ≤</a> <a id="6986" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="6998" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="7000" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="7003" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7010" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7012" href="Graded.Heap.Soundness.html#6467" class="Bound">δ</a> <a id="7014" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="7017" href="Graded.Heap.Soundness.html#6471" class="Bound">η</a>   <a id="7021" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7024" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7033" class="Symbol">(</a><a id="7034" href="Graded.Heap.Usage.Inversion.html#1571" class="Function">▸ˢ-ε-inv</a> <a id="7043" href="Graded.Heap.Soundness.html#6485" class="Bound">▸ε</a><a id="7045" class="Symbol">)</a> <a id="7047" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7059" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="7061" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="7064" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7071" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7073" href="Graded.Heap.Soundness.html#6467" class="Bound">δ</a> <a id="7075" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="7078" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>  <a id="7082" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7085" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="7098" class="Symbol">_</a> <a id="7100" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7112" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="7114" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="7117" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7124" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7126" href="Graded.Heap.Soundness.html#6467" class="Bound">δ</a>        <a id="7135" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7138" href="Graded.Context.Properties.Multiplication.html#701" class="Function">·ᶜ-identityˡ</a> <a id="7151" class="Symbol">_</a> <a id="7153" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7165" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7172" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7174" href="Graded.Heap.Soundness.html#6467" class="Bound">δ</a>             <a id="7188" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7191" href="Graded.Context.Weakening.html#3188" class="Function">wk-≤ᶜ</a> <a id="7197" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7199" class="Symbol">(</a><a id="7200" href="Graded.Usage.Inversion.html#8729" class="Function">inv-usage-numeral</a> <a id="7218" href="Graded.Heap.Soundness.html#6480" class="Bound">▸n</a> <a id="7221" href="Graded.Heap.Soundness.html#6384" class="Bound">num</a><a id="7224" class="Symbol">)</a> <a id="7226" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7238" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7245" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7247" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>            <a id="7261" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7264" href="Graded.Context.Weakening.html#1158" class="Function">wk-𝟘ᶜ</a> <a id="7270" href="Graded.Heap.Soundness.html#6372" class="Bound">ρ</a> <a id="7272" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
          <a id="7284" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                     <a id="7307" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7309" class="Symbol">)</a>

<a id="7312" class="Keyword">opaque</a>

  <a id="7322" class="Comment">-- The soundness property above specialized to closed terms</a>
  <a id="7384" class="Comment">-- All closed, well-typed and well-resourced terms of type ℕ reduce to some</a>
  <a id="7462" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="7539" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-closed"></a><a id="7621" href="Graded.Heap.Soundness.html#7621" class="Function">soundness-closed</a> <a id="7638" class="Symbol">:</a> <a id="7640" class="InductiveConstructor">ε</a> <a id="7642" href="Definition.Typed.html#1755" class="Datatype Operator">⊢</a> <a id="7644" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="7646" href="Definition.Typed.html#1755" class="Datatype Operator">∷</a> <a id="7648" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="7650" class="Symbol">→</a> <a id="7652" class="InductiveConstructor">ε</a> <a id="7654" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="7656" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a>
                   <a id="7677" class="Symbol">→</a> <a id="7679" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="7682" class="Symbol">λ</a> <a id="7684" href="Graded.Heap.Soundness.html#7684" class="Bound">m</a> <a id="7686" href="Graded.Heap.Soundness.html#7686" class="Bound">n</a> <a id="7688" href="Graded.Heap.Soundness.html#7688" class="Bound">H</a> <a id="7690" href="Graded.Heap.Soundness.html#7690" class="Bound">k</a> <a id="7692" class="Symbol">(</a><a id="7693" href="Graded.Heap.Soundness.html#7693" class="Bound">ρ</a> <a id="7695" class="Symbol">:</a> <a id="7697" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="7700" href="Graded.Heap.Soundness.html#7684" class="Bound">m</a> <a id="7702" href="Graded.Heap.Soundness.html#7686" class="Bound">n</a><a id="7703" class="Symbol">)</a> <a id="7705" class="Symbol">→</a>
                   <a id="7726" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="7734" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="7736" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="7739" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="7741" href="Graded.Heap.Soundness.html#7688" class="Bound">H</a> <a id="7743" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7745" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="7750" href="Graded.Heap.Soundness.html#7690" class="Bound">k</a> <a id="7752" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7754" href="Graded.Heap.Soundness.html#7693" class="Bound">ρ</a> <a id="7756" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7758" class="InductiveConstructor">ε</a> <a id="7760" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="7762" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="7783" class="Symbol">(</a><a id="7784" class="InductiveConstructor">ε</a> <a id="7786" href="Definition.Typed.html#5482" class="Datatype Operator">⊢</a> <a id="7788" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="7790" href="Definition.Typed.html#5482" class="Datatype Operator">≡</a> <a id="7792" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="7797" href="Graded.Heap.Soundness.html#7690" class="Bound">k</a> <a id="7799" href="Definition.Typed.html#5482" class="Datatype Operator">∷</a> <a id="7801" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="7802" class="Symbol">)</a> <a id="7804" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="7825" href="Graded.Heap.Soundness.html#7688" class="Bound">H</a> <a id="7827" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="7830" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="7834" href="Graded.Heap.Soundness.html#7621" class="Function">soundness-closed</a> <a id="7851" class="Symbol">=</a> <a id="7853" href="Graded.Heap.Soundness.html#5883" class="Function">soundness</a> <a id="7863" class="Symbol">(λ</a> <a id="7866" href="Graded.Heap.Soundness.html#7866" class="Bound">_</a> <a id="7868" href="Graded.Heap.Soundness.html#7868" class="Bound">_</a> <a id="7870" class="Symbol">→</a> <a id="7872" href="Definition.Typed.Consequences.Canonicity.html#1915" class="Function">¬Empty</a><a id="7878" class="Symbol">)</a> <a id="7880" class="Symbol">(λ</a> <a id="7883" href="Graded.Heap.Soundness.html#7883" class="Bound">0≢0</a> <a id="7887" class="Symbol">→</a> <a id="7889" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="7896" class="Symbol">(</a><a id="7897" href="Graded.Heap.Soundness.html#7883" class="Bound">0≢0</a> <a id="7901" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="7908" class="Symbol">))</a>

<a id="7912" class="Keyword">opaque</a>

  <a id="7922" class="Comment">-- The soundness property above specialized to open terms</a>
  <a id="7982" class="Comment">-- Given some assumptions, all well-typed and erased types of type ℕ reduce to some</a>
  <a id="8068" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘</a>

  <a id="8144" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-open"></a><a id="8226" href="Graded.Heap.Soundness.html#8226" class="Function">soundness-open</a> <a id="8241" class="Symbol">:</a> <a id="8243" class="Symbol">(</a><a id="8244" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="8261" class="InductiveConstructor">𝟙ᵐ</a> <a id="8264" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="8266" class="Symbol">→</a> <a id="8268" href="Definition.Typed.html#21923" class="Function">Consistent</a> <a id="8279" href="Graded.Heap.Soundness.html#2404" class="Generalizable">Δ</a><a id="8280" class="Symbol">)</a>
                   <a id="8301" class="Symbol">→</a> <a id="8303" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="8322" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="8335" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
                   <a id="8357" class="Symbol">→</a> <a id="8359" href="Graded.Heap.Soundness.html#2404" class="Generalizable">Δ</a> <a id="8361" href="Definition.Typed.html#1755" class="Datatype Operator">⊢</a> <a id="8363" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="8365" href="Definition.Typed.html#1755" class="Datatype Operator">∷</a> <a id="8367" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="8369" class="Symbol">→</a> <a id="8371" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="8374" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="8376" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a>
                   <a id="8397" class="Symbol">→</a> <a id="8399" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="8402" class="Symbol">λ</a> <a id="8404" href="Graded.Heap.Soundness.html#8404" class="Bound">m</a> <a id="8406" href="Graded.Heap.Soundness.html#8406" class="Bound">n</a> <a id="8408" href="Graded.Heap.Soundness.html#8408" class="Bound">H</a> <a id="8410" href="Graded.Heap.Soundness.html#8410" class="Bound">k</a> <a id="8412" class="Symbol">(</a><a id="8413" href="Graded.Heap.Soundness.html#8413" class="Bound">ρ</a> <a id="8415" class="Symbol">:</a> <a id="8417" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="8420" href="Graded.Heap.Soundness.html#8404" class="Bound">m</a> <a id="8422" href="Graded.Heap.Soundness.html#8406" class="Bound">n</a><a id="8423" class="Symbol">)</a> <a id="8425" class="Symbol">→</a>
                   <a id="8446" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="8454" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="8456" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="8459" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="8461" href="Graded.Heap.Soundness.html#8408" class="Bound">H</a> <a id="8463" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8465" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="8470" href="Graded.Heap.Soundness.html#8410" class="Bound">k</a> <a id="8472" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8474" href="Graded.Heap.Soundness.html#8413" class="Bound">ρ</a> <a id="8476" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8478" class="InductiveConstructor">ε</a> <a id="8480" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="8482" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8503" class="Symbol">(</a><a id="8504" href="Graded.Heap.Soundness.html#2404" class="Generalizable">Δ</a> <a id="8506" href="Definition.Typed.html#5482" class="Datatype Operator">⊢</a> <a id="8508" href="Graded.Heap.Soundness.html#2352" class="Generalizable">t</a> <a id="8510" href="Definition.Typed.html#5482" class="Datatype Operator">≡</a> <a id="8512" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="8517" href="Graded.Heap.Soundness.html#8410" class="Bound">k</a> <a id="8519" href="Definition.Typed.html#5482" class="Datatype Operator">∷</a> <a id="8521" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="8522" class="Symbol">)</a> <a id="8524" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8545" href="Graded.Heap.Soundness.html#8408" class="Bound">H</a> <a id="8547" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="8550" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="8554" href="Graded.Heap.Soundness.html#8226" class="Function">soundness-open</a> <a id="8569" href="Graded.Heap.Soundness.html#8569" class="Bound">consistent</a> <a id="8580" href="Graded.Heap.Soundness.html#8580" class="Bound">erased</a> <a id="8587" class="Symbol">=</a> <a id="8589" href="Graded.Heap.Soundness.html#5883" class="Function">soundness</a> <a id="8599" href="Graded.Heap.Soundness.html#8569" class="Bound">consistent</a> <a id="8610" class="Symbol">λ</a> <a id="8612" href="Graded.Heap.Soundness.html#8612" class="Bound">_</a> <a id="8614" class="Symbol">→</a> <a id="8616" href="Graded.Heap.Soundness.html#8580" class="Bound">erased</a>
</pre></body></html>