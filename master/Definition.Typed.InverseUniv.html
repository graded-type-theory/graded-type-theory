<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.InverseUniv</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Every well-formed type is a term in some universe</a>
<a id="127" class="Comment">------------------------------------------------------------------------</a>

<a id="201" class="Keyword">open</a> <a id="206" class="Keyword">import</a> <a id="213" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="272" class="Keyword">module</a> <a id="279" href="Definition.Typed.InverseUniv.html" class="Module">Definition.Typed.InverseUniv</a>
  <a id="310" class="Symbol">{</a><a id="311" href="Definition.Typed.InverseUniv.html#311" class="Bound">a</a><a id="312" class="Symbol">}</a> <a id="314" class="Symbol">{</a><a id="315" href="Definition.Typed.InverseUniv.html#315" class="Bound">M</a> <a id="317" class="Symbol">:</a> <a id="319" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="323" href="Definition.Typed.InverseUniv.html#311" class="Bound">a</a><a id="324" class="Symbol">}</a>
  <a id="328" class="Symbol">{</a><a id="329" href="Definition.Typed.InverseUniv.html#329" class="Bound">ğ•„</a> <a id="331" class="Symbol">:</a> <a id="333" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="342" href="Definition.Typed.InverseUniv.html#315" class="Bound">M</a><a id="343" class="Symbol">}</a>
  <a id="347" class="Symbol">(</a><a id="348" href="Definition.Typed.InverseUniv.html#348" class="Bound">R</a> <a id="350" class="Symbol">:</a> <a id="352" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="370" href="Definition.Typed.InverseUniv.html#329" class="Bound">ğ•„</a><a id="371" class="Symbol">)</a>
  <a id="375" class="Keyword">where</a>

<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="413" href="Definition.Typed.InverseUniv.html#315" class="Bound">M</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="444" href="Definition.Typed.InverseUniv.html#348" class="Bound">R</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Definition.Typed.Properties.Well-formed.html" class="Module">Definition.Typed.Properties.Well-formed</a> <a id="498" href="Definition.Typed.InverseUniv.html#348" class="Bound">R</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Definition.Typed.Syntactic.html" class="Module">Definition.Typed.Syntactic</a> <a id="539" href="Definition.Typed.InverseUniv.html#348" class="Bound">R</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="591" class="Keyword">open</a> <a id="596" class="Keyword">import</a> <a id="603" href="Tools.Product.html" class="Module">Tools.Product</a>

<a id="618" class="Keyword">private</a>
  <a id="628" class="Keyword">variable</a>
    <a id="641" href="Definition.Typed.InverseUniv.html#641" class="Generalizable">m</a> <a id="643" href="Definition.Typed.InverseUniv.html#643" class="Generalizable">n</a> <a id="645" class="Symbol">:</a> <a id="647" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="655" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a>   <a id="659" class="Symbol">:</a> <a id="661" href="Definition.Untyped.html#3577" class="Function">Cons</a> <a id="666" href="Definition.Typed.InverseUniv.html#641" class="Generalizable">m</a> <a id="668" href="Definition.Typed.InverseUniv.html#643" class="Generalizable">n</a>
    <a id="674" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="676" href="Definition.Typed.InverseUniv.html#676" class="Generalizable">B</a> <a id="678" class="Symbol">:</a> <a id="680" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="685" href="Definition.Typed.InverseUniv.html#643" class="Generalizable">n</a>

<a id="688" class="Keyword">opaque</a>

  <a id="698" class="Comment">-- Every well-formed type is also a term of type UÂ l for someÂ l.</a>

  <a id="inverseUniv"></a><a id="766" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="778" class="Symbol">:</a> <a id="780" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="782" href="Definition.Typed.html#2454" class="Datatype Operator">âŠ¢</a> <a id="784" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="786" class="Symbol">â†’</a> <a id="788" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="790" class="Symbol">Î»</a> <a id="792" href="Definition.Typed.InverseUniv.html#792" class="Bound">l</a> <a id="794" class="Symbol">â†’</a> <a id="796" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="798" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="800" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="802" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="804" href="Definition.Untyped.html#1678" class="InductiveConstructor">U</a> <a id="806" href="Definition.Typed.InverseUniv.html#792" class="Bound">l</a>
  <a id="810" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="822" class="Symbol">(</a><a id="823" href="Definition.Typed.html#2742" class="InductiveConstructor">â„•â±¼</a> <a id="826" href="Definition.Typed.InverseUniv.html#826" class="Bound">âŠ¢Î“</a><a id="828" class="Symbol">)</a>       <a id="836" class="Symbol">=</a> <a id="838" class="Symbol">_</a> <a id="840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="842" href="Definition.Typed.html#4714" class="InductiveConstructor">â„•â±¼</a> <a id="845" href="Definition.Typed.InverseUniv.html#826" class="Bound">âŠ¢Î“</a>
  <a id="850" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="862" class="Symbol">(</a><a id="863" href="Definition.Typed.html#2571" class="InductiveConstructor">Emptyâ±¼</a> <a id="870" href="Definition.Typed.InverseUniv.html#870" class="Bound">âŠ¢Î“</a><a id="872" class="Symbol">)</a>   <a id="876" class="Symbol">=</a> <a id="878" class="Symbol">_</a> <a id="880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="882" href="Definition.Typed.html#3282" class="InductiveConstructor">Emptyâ±¼</a> <a id="889" href="Definition.Typed.InverseUniv.html#870" class="Bound">âŠ¢Î“</a>
  <a id="894" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="906" class="Symbol">(</a><a id="907" href="Definition.Typed.html#2600" class="InductiveConstructor">Unitâ±¼</a> <a id="913" href="Definition.Typed.InverseUniv.html#913" class="Bound">âŠ¢Î“</a> <a id="916" href="Definition.Typed.InverseUniv.html#916" class="Bound">ok</a><a id="918" class="Symbol">)</a> <a id="920" class="Symbol">=</a> <a id="922" class="Symbol">_</a> <a id="924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="926" href="Definition.Typed.html#3384" class="InductiveConstructor">Unitâ±¼</a> <a id="932" href="Definition.Typed.InverseUniv.html#913" class="Bound">âŠ¢Î“</a> <a id="935" href="Definition.Typed.InverseUniv.html#916" class="Bound">ok</a>
  <a id="940" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="952" class="Symbol">(</a><a id="953" href="Definition.Typed.html#2500" class="InductiveConstructor">Uâ±¼</a> <a id="956" href="Definition.Typed.InverseUniv.html#956" class="Bound">âŠ¢Î“</a><a id="958" class="Symbol">)</a>       <a id="966" class="Symbol">=</a> <a id="968" class="Symbol">_</a> <a id="970" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="972" href="Definition.Typed.html#3240" class="InductiveConstructor">Uâ±¼</a> <a id="975" href="Definition.Typed.InverseUniv.html#956" class="Bound">âŠ¢Î“</a>
  <a id="980" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="992" class="Symbol">(</a><a id="993" href="Definition.Typed.html#2649" class="InductiveConstructor">Î Î£â±¼</a> <a id="997" href="Definition.Typed.InverseUniv.html#997" class="Bound">âŠ¢B</a> <a id="1000" href="Definition.Typed.InverseUniv.html#1000" class="Bound">ok</a><a id="1002" class="Symbol">)</a>   <a id="1006" class="Symbol">=</a>
    <a id="1012" class="Symbol">_</a> <a id="1014" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="1020" href="Definition.Typed.html#3691" class="InductiveConstructor">Î Î£â±¼</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1037" class="Symbol">(</a><a id="1038" href="Definition.Typed.Properties.Well-formed.html#11585" class="Function">âŠ¢âˆ™â†’âŠ¢</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Definition.Typed.Properties.Well-formed.html#10708" class="Function">wf</a> <a id="1047" href="Definition.Typed.InverseUniv.html#997" class="Bound">âŠ¢B</a><a id="1049" class="Symbol">))</a> <a id="1052" class="Symbol">.</a><a id="1053" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a><a id="1058" class="Symbol">)</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1073" href="Definition.Typed.InverseUniv.html#997" class="Bound">âŠ¢B</a> <a id="1076" class="Symbol">.</a><a id="1077" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a><a id="1082" class="Symbol">)</a> <a id="1084" href="Definition.Typed.InverseUniv.html#1000" class="Bound">ok</a>
  <a id="1089" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1101" class="Symbol">(</a><a id="1102" href="Definition.Typed.html#2767" class="InductiveConstructor">Idâ±¼</a> <a id="1106" class="Symbol">_</a> <a id="1108" href="Definition.Typed.InverseUniv.html#1108" class="Bound">âŠ¢t</a> <a id="1111" href="Definition.Typed.InverseUniv.html#1111" class="Bound">âŠ¢u</a><a id="1113" class="Symbol">)</a> <a id="1115" class="Symbol">=</a>
    <a id="1121" class="Symbol">_</a> <a id="1123" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1125" href="Definition.Typed.html#5071" class="InductiveConstructor">Idâ±¼</a> <a id="1129" class="Symbol">(</a><a id="1130" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Definition.Typed.Syntactic.html#682" class="Function">syntacticTerm</a> <a id="1157" href="Definition.Typed.InverseUniv.html#1108" class="Bound">âŠ¢t</a><a id="1159" class="Symbol">)</a> <a id="1161" class="Symbol">.</a><a id="1162" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a><a id="1167" class="Symbol">)</a> <a id="1169" href="Definition.Typed.InverseUniv.html#1108" class="Bound">âŠ¢t</a> <a id="1172" href="Definition.Typed.InverseUniv.html#1111" class="Bound">âŠ¢u</a>
  <a id="1177" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1189" class="Symbol">(</a><a id="1190" href="Definition.Typed.html#2527" class="InductiveConstructor">univ</a> <a id="1195" href="Definition.Typed.InverseUniv.html#1195" class="Bound">âŠ¢A</a><a id="1197" class="Symbol">)</a> <a id="1199" class="Symbol">=</a> <a id="1201" class="Symbol">_</a> <a id="1203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1205" href="Definition.Typed.InverseUniv.html#1195" class="Bound">âŠ¢A</a>

<a id="1209" class="Keyword">opaque</a>

  <a id="1219" class="Comment">-- Being a type is logically equivalent to being a term of type UÂ l</a>
  <a id="1289" class="Comment">-- for someÂ l.</a>

  <a id="âŠ¢â‡”âŠ¢âˆ·U"></a><a id="1307" href="Definition.Typed.InverseUniv.html#1307" class="Function">âŠ¢â‡”âŠ¢âˆ·U</a> <a id="1313" class="Symbol">:</a> <a id="1315" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1317" href="Definition.Typed.html#2454" class="Datatype Operator">âŠ¢</a> <a id="1319" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1321" href="Tools.Function.html#1253" class="Function Operator">â‡”</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1326" class="Symbol">Î»</a> <a id="1328" href="Definition.Typed.InverseUniv.html#1328" class="Bound">l</a> <a id="1330" class="Symbol">â†’</a> <a id="1332" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1334" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="1336" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1338" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="1340" href="Definition.Untyped.html#1678" class="InductiveConstructor">U</a> <a id="1342" href="Definition.Typed.InverseUniv.html#1328" class="Bound">l</a><a id="1343" class="Symbol">)</a>
  <a id="1347" href="Definition.Typed.InverseUniv.html#1307" class="Function">âŠ¢â‡”âŠ¢âˆ·U</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="Definition.Typed.InverseUniv.html#766" class="Function">inverseUniv</a> <a id="1367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1369" href="Definition.Typed.html#2527" class="InductiveConstructor">univ</a> <a id="1374" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1377" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a>

<a id="1384" class="Keyword">opaque</a>

  <a id="1394" class="Comment">-- If A reduces toÂ B, then A reduces to B at type UÂ l for someÂ l.</a>

  <a id="inverseUnivRed"></a><a id="1463" href="Definition.Typed.InverseUniv.html#1463" class="Function">inverseUnivRed</a> <a id="1478" class="Symbol">:</a> <a id="1480" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1482" href="Definition.Typed.html#19668" class="Datatype Operator">âŠ¢</a> <a id="1484" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1486" href="Definition.Typed.html#19668" class="Datatype Operator">â‡’</a> <a id="1488" href="Definition.Typed.InverseUniv.html#676" class="Generalizable">B</a> <a id="1490" class="Symbol">â†’</a> <a id="1492" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1494" class="Symbol">Î»</a> <a id="1496" href="Definition.Typed.InverseUniv.html#1496" class="Bound">l</a> <a id="1498" class="Symbol">â†’</a> <a id="1500" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1502" href="Definition.Typed.html#14235" class="Datatype Operator">âŠ¢</a> <a id="1504" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1506" href="Definition.Typed.html#14235" class="Datatype Operator">â‡’</a> <a id="1508" href="Definition.Typed.InverseUniv.html#676" class="Generalizable">B</a> <a id="1510" href="Definition.Typed.html#14235" class="Datatype Operator">âˆ·</a> <a id="1512" href="Definition.Untyped.html#1678" class="InductiveConstructor">U</a> <a id="1514" href="Definition.Typed.InverseUniv.html#1496" class="Bound">l</a>
  <a id="1518" href="Definition.Typed.InverseUniv.html#1463" class="Function">inverseUnivRed</a> <a id="1533" class="Symbol">(</a><a id="1534" href="Definition.Typed.html#19723" class="InductiveConstructor">univ</a> <a id="1539" href="Definition.Typed.InverseUniv.html#1539" class="Bound">Aâ‡’B</a><a id="1542" class="Symbol">)</a> <a id="1544" class="Symbol">=</a> <a id="1546" class="Symbol">_</a> <a id="1548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1550" href="Definition.Typed.InverseUniv.html#1539" class="Bound">Aâ‡’B</a>

<a id="1555" class="Keyword">opaque</a>

  <a id="1565" class="Comment">-- Î“Â âŠ¢Â AÂ â‡’Â B is logically equivalent to âˆƒÂ Î»Â lÂ â†’Â Î“Â âŠ¢Â AÂ â‡’Â BÂ âˆ·Â UÂ l.</a>

  <a id="âŠ¢â‡’â‡”âŠ¢â‡’âˆ·U"></a><a id="1633" href="Definition.Typed.InverseUniv.html#1633" class="Function">âŠ¢â‡’â‡”âŠ¢â‡’âˆ·U</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1645" href="Definition.Typed.html#19668" class="Datatype Operator">âŠ¢</a> <a id="1647" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1649" href="Definition.Typed.html#19668" class="Datatype Operator">â‡’</a> <a id="1651" href="Definition.Typed.InverseUniv.html#676" class="Generalizable">B</a> <a id="1653" href="Tools.Function.html#1253" class="Function Operator">â‡”</a> <a id="1655" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1657" class="Symbol">Î»</a> <a id="1659" href="Definition.Typed.InverseUniv.html#1659" class="Bound">l</a> <a id="1661" class="Symbol">â†’</a> <a id="1663" href="Definition.Typed.InverseUniv.html#655" class="Generalizable">Î“</a> <a id="1665" href="Definition.Typed.html#14235" class="Datatype Operator">âŠ¢</a> <a id="1667" href="Definition.Typed.InverseUniv.html#674" class="Generalizable">A</a> <a id="1669" href="Definition.Typed.html#14235" class="Datatype Operator">â‡’</a> <a id="1671" href="Definition.Typed.InverseUniv.html#676" class="Generalizable">B</a> <a id="1673" href="Definition.Typed.html#14235" class="Datatype Operator">âˆ·</a> <a id="1675" href="Definition.Untyped.html#1678" class="InductiveConstructor">U</a> <a id="1677" href="Definition.Typed.InverseUniv.html#1659" class="Bound">l</a>
  <a id="1681" href="Definition.Typed.InverseUniv.html#1633" class="Function">âŠ¢â‡’â‡”âŠ¢â‡’âˆ·U</a> <a id="1689" class="Symbol">=</a> <a id="1691" href="Definition.Typed.InverseUniv.html#1463" class="Function">inverseUnivRed</a> <a id="1706" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1708" href="Definition.Typed.html#19723" class="InductiveConstructor">univ</a> <a id="1713" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1716" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a>
</pre></body></html>