<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Instances.Erasure.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The erasure modality.</a>
<a id="99" class="Comment">------------------------------------------------------------------------</a>

<a id="173" class="Keyword">open</a> <a id="178" class="Keyword">import</a> <a id="185" href="Definition.Modality.Instances.Erasure.html" class="Module">Definition.Modality.Instances.Erasure</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Definition.Mode.Restrictions.html" class="Module">Definition.Mode.Restrictions</a>

<a id="265" class="Keyword">module</a> <a id="272" href="Definition.Modality.Instances.Erasure.Modality.html" class="Module">Definition.Modality.Instances.Erasure.Modality</a>
  <a id="321" class="Symbol">(</a><a id="322" href="Definition.Modality.Instances.Erasure.Modality.html#322" class="Bound">rs</a> <a id="325" class="Symbol">:</a> <a id="327" href="Definition.Mode.Restrictions.html#274" class="Record">Mode-restrictions</a><a id="344" class="Symbol">)</a>
  <a id="348" class="Keyword">where</a>

<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="449" class="Keyword">open</a> <a id="454" class="Keyword">import</a> <a id="461" href="Definition.Modality.html" class="Module">Definition.Modality</a> <a id="481" href="Definition.Modality.Instances.Erasure.html#397" class="Datatype">Erasure</a> <a id="489" class="Keyword">public</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="519" class="Comment">-- Erasure annotations forms a semiring with meet</a>

<a id="erasure-semiring-with-meet"></a><a id="570" href="Definition.Modality.Instances.Erasure.Modality.html#570" class="Function">erasure-semiring-with-meet</a> <a id="597" class="Symbol">:</a> <a id="599" href="Definition.Modality.html#498" class="Record">Semiring-with-meet</a>
<a id="618" href="Definition.Modality.Instances.Erasure.Modality.html#570" class="Function">erasure-semiring-with-meet</a> <a id="645" class="Symbol">=</a> <a id="647" class="Keyword">record</a>
  <a id="656" class="Symbol">{</a> <a id="658" href="Definition.Modality.html#684" class="Field Operator">_+_</a> <a id="662" class="Symbol">=</a> <a id="664" href="Definition.Modality.Instances.Erasure.html#699" class="Function Operator">_+_</a>
  <a id="670" class="Symbol">;</a> <a id="672" href="Definition.Modality.html#712" class="Field Operator">_·_</a> <a id="676" class="Symbol">=</a> <a id="678" href="Definition.Modality.Instances.Erasure.html#780" class="Function Operator">_·_</a>
  <a id="684" class="Symbol">;</a> <a id="686" href="Definition.Modality.html#746" class="Field Operator">_∧_</a> <a id="690" class="Symbol">=</a> <a id="692" href="Definition.Modality.Instances.Erasure.html#876" class="Function Operator">_∧_</a>
  <a id="698" class="Symbol">;</a> <a id="700" href="Definition.Modality.html#807" class="Field">𝟘</a> <a id="702" class="Symbol">=</a> <a id="704" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a>
  <a id="708" class="Symbol">;</a> <a id="710" href="Definition.Modality.html#817" class="Field">𝟙</a> <a id="712" class="Symbol">=</a> <a id="714" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a>
  <a id="718" class="Symbol">;</a> <a id="720" href="Definition.Modality.html#902" class="Field">+-·-Semiring</a> <a id="733" class="Symbol">=</a> <a id="735" href="Definition.Modality.Instances.Erasure.html#8162" class="Function">+-·-Semiring</a>
  <a id="750" class="Symbol">;</a> <a id="752" href="Definition.Modality.html#974" class="Field">∧-Semilattice</a> <a id="766" class="Symbol">=</a> <a id="768" href="Definition.Modality.Instances.Erasure.html#7072" class="Function">+-Semilattice</a>
  <a id="784" class="Symbol">;</a> <a id="786" href="Definition.Modality.html#1061" class="Field">·-distrib-∧</a> <a id="798" class="Symbol">=</a> <a id="800" href="Definition.Modality.Instances.Erasure.html#5447" class="Function">·-distrib-+</a>
  <a id="814" class="Symbol">;</a> <a id="816" href="Definition.Modality.html#1149" class="Field">+-distrib-∧</a> <a id="828" class="Symbol">=</a> <a id="830" href="Definition.Modality.Instances.Erasure.html#6047" class="Function">+-distrib-+</a>
  <a id="844" class="Symbol">}</a>

<a id="847" class="Comment">-- The zero of the erasure semiring is well-behaved</a>

<a id="erasure-has-well-behaved-zero"></a><a id="900" href="Definition.Modality.Instances.Erasure.Modality.html#900" class="Function">erasure-has-well-behaved-zero</a> <a id="930" class="Symbol">:</a> <a id="932" href="Definition.Modality.html#2699" class="Record">Has-well-behaved-zero</a> <a id="954" href="Definition.Modality.Instances.Erasure.Modality.html#570" class="Function">erasure-semiring-with-meet</a>
<a id="981" href="Definition.Modality.Instances.Erasure.Modality.html#900" class="Function">erasure-has-well-behaved-zero</a> <a id="1011" class="Symbol">=</a> <a id="1013" class="Keyword">record</a>
  <a id="1022" class="Symbol">{</a> <a id="1024" href="Definition.Modality.html#2833" class="Field">𝟙≉𝟘</a> <a id="1028" class="Symbol">=</a> <a id="1030" class="Symbol">λ</a> <a id="1032" class="Symbol">()</a>
  <a id="1037" class="Symbol">;</a> <a id="1039" href="Definition.Modality.html#2909" class="Field">is-𝟘?</a> <a id="1045" class="Symbol">=</a> <a id="1047" class="Symbol">λ</a> <a id="1049" class="Keyword">where</a>
      <a id="1061" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1069" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1080" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1087" class="Symbol">(λ</a> <a id="1090" class="Symbol">())</a>
  <a id="1096" class="Symbol">;</a> <a id="1098" href="Definition.Modality.html#3186" class="Field">zero-product</a> <a id="1111" class="Symbol">=</a> <a id="1113" class="Symbol">λ</a> <a id="1115" class="Keyword">where</a>
      <a id="1127" class="Symbol">{</a><a id="1128" class="Argument">p</a> <a id="1130" class="Symbol">=</a> <a id="1132" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1133" class="Symbol">}</a> <a id="1135" class="Symbol">{</a><a id="1136" class="Argument">q</a> <a id="1138" class="Symbol">=</a> <a id="1140" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1141" class="Symbol">}</a> <a id="1143" class="Symbol">_</a>  <a id="1146" class="Symbol">→</a> <a id="1148" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1153" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1164" class="Symbol">{</a><a id="1165" class="Argument">p</a> <a id="1167" class="Symbol">=</a> <a id="1169" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1170" class="Symbol">}</a> <a id="1172" class="Symbol">{</a><a id="1173" class="Argument">q</a> <a id="1175" class="Symbol">=</a> <a id="1177" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1178" class="Symbol">}</a> <a id="1180" class="Symbol">_</a>  <a id="1183" class="Symbol">→</a> <a id="1185" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1190" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1201" class="Symbol">{</a><a id="1202" class="Argument">p</a> <a id="1204" class="Symbol">=</a> <a id="1206" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1207" class="Symbol">}</a> <a id="1209" class="Symbol">{</a><a id="1210" class="Argument">q</a> <a id="1212" class="Symbol">=</a> <a id="1214" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1215" class="Symbol">}</a> <a id="1217" class="Symbol">_</a>  <a id="1220" class="Symbol">→</a> <a id="1222" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1227" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1238" class="Symbol">{</a><a id="1239" class="Argument">p</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1244" class="Symbol">}</a> <a id="1246" class="Symbol">{</a><a id="1247" class="Argument">q</a> <a id="1249" class="Symbol">=</a> <a id="1251" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1252" class="Symbol">}</a> <a id="1254" class="Symbol">()</a>
  <a id="1259" class="Symbol">;</a> <a id="1261" href="Definition.Modality.html#3480" class="Field">+-positiveˡ</a> <a id="1273" class="Symbol">=</a> <a id="1275" class="Symbol">λ</a> <a id="1277" class="Keyword">where</a>
      <a id="1289" class="Symbol">{</a><a id="1290" class="Argument">p</a> <a id="1292" class="Symbol">=</a> <a id="1294" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1295" class="Symbol">}</a>         <a id="1305" class="Symbol">_</a>  <a id="1308" class="Symbol">→</a> <a id="1310" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1321" class="Symbol">{</a><a id="1322" class="Argument">p</a> <a id="1324" class="Symbol">=</a> <a id="1326" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1327" class="Symbol">}</a> <a id="1329" class="Symbol">{</a><a id="1330" class="Argument">q</a> <a id="1332" class="Symbol">=</a> <a id="1334" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1335" class="Symbol">}</a> <a id="1337" class="Symbol">()</a>
      <a id="1346" class="Symbol">{</a><a id="1347" class="Argument">p</a> <a id="1349" class="Symbol">=</a> <a id="1351" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1352" class="Symbol">}</a> <a id="1354" class="Symbol">{</a><a id="1355" class="Argument">q</a> <a id="1357" class="Symbol">=</a> <a id="1359" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1360" class="Symbol">}</a> <a id="1362" class="Symbol">()</a>
  <a id="1367" class="Symbol">;</a> <a id="1369" href="Definition.Modality.html#3730" class="Field">∧-positiveˡ</a> <a id="1381" class="Symbol">=</a> <a id="1383" class="Symbol">λ</a> <a id="1385" class="Keyword">where</a>
      <a id="1397" class="Symbol">{</a><a id="1398" class="Argument">p</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1403" class="Symbol">}</a> <a id="1405" class="Symbol">_</a> <a id="1407" class="Symbol">→</a> <a id="1409" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1420" class="Symbol">{</a><a id="1421" class="Argument">p</a> <a id="1423" class="Symbol">=</a> <a id="1425" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1426" class="Symbol">}</a> <a id="1428" class="Symbol">()</a>
  <a id="1433" class="Symbol">}</a>

<a id="1436" class="Comment">-- Erasure annotations forms a semiring with meet and star</a>

<a id="erasure-semiring-with-meet-and-star"></a><a id="1496" href="Definition.Modality.Instances.Erasure.Modality.html#1496" class="Function">erasure-semiring-with-meet-and-star</a> <a id="1532" class="Symbol">:</a> <a id="1534" href="Definition.Modality.html#3834" class="Record">Semiring-with-meet-and-star</a>
<a id="1562" href="Definition.Modality.Instances.Erasure.Modality.html#1496" class="Function">erasure-semiring-with-meet-and-star</a> <a id="1598" class="Symbol">=</a> <a id="1600" class="Keyword">record</a>
  <a id="1609" class="Symbol">{</a> <a id="1611" href="Definition.Modality.html#3906" class="Field">semiring-with-meet</a> <a id="1630" class="Symbol">=</a> <a id="1632" href="Definition.Modality.Instances.Erasure.Modality.html#570" class="Function">erasure-semiring-with-meet</a>
  <a id="1661" class="Symbol">;</a> <a id="1663" href="Definition.Modality.html#4047" class="Field Operator">_⊛_▷_</a> <a id="1669" class="Symbol">=</a> <a id="1671" href="Definition.Modality.Instances.Erasure.html#931" class="Function Operator">_⊛_▷_</a>
  <a id="1679" class="Symbol">;</a> <a id="1681" href="Definition.Modality.html#4129" class="Field">⊛-ineq</a> <a id="1688" class="Symbol">=</a> <a id="1690" href="Definition.Modality.Instances.Erasure.html#3157" class="Function">⊛-ineq₁</a> <a id="1698" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1700" href="Definition.Modality.Instances.Erasure.html#3369" class="Function">⊛-ineq₂</a>
  <a id="1710" class="Symbol">;</a> <a id="1712" href="Definition.Modality.html#4308" class="Field">+-sub-interchangeable-⊛</a> <a id="1736" class="Symbol">=</a> <a id="1738" href="Definition.Modality.Instances.Erasure.html#3569" class="Function">+-sub-interchangeable-⊛</a>
  <a id="1764" class="Symbol">;</a> <a id="1766" href="Definition.Modality.html#4472" class="Field">·-sub-distribʳ-⊛</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Definition.Modality.Instances.Erasure.html#3947" class="Function">·-sub-distribʳ-⊛</a>
  <a id="1804" class="Symbol">;</a> <a id="1806" href="Definition.Modality.html#4614" class="Field">⊛-sub-distrib-∧</a> <a id="1822" class="Symbol">=</a> <a id="1824" class="Symbol">λ</a> <a id="1826" href="Definition.Modality.Instances.Erasure.Modality.html#1826" class="Bound">r</a> <a id="1828" class="Symbol">→</a> <a id="1830" href="Definition.Modality.Instances.Erasure.html#4254" class="Function">⊛-sub-distribˡ-∧</a> <a id="1847" href="Definition.Modality.Instances.Erasure.Modality.html#1826" class="Bound">r</a> <a id="1849" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1851" href="Definition.Modality.Instances.Erasure.html#4497" class="Function">⊛-sub-distribʳ-∧</a> <a id="1868" href="Definition.Modality.Instances.Erasure.Modality.html#1826" class="Bound">r</a>
  <a id="1872" class="Symbol">}</a>

<a id="1875" class="Comment">-- The erasure modality instance</a>

<a id="ErasureModality"></a><a id="1909" href="Definition.Modality.Instances.Erasure.Modality.html#1909" class="Function">ErasureModality</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="Definition.Modality.html#5110" class="Record">Modality</a>
<a id="1936" href="Definition.Modality.Instances.Erasure.Modality.html#1909" class="Function">ErasureModality</a> <a id="1952" class="Symbol">=</a> <a id="1954" class="Keyword">record</a>
  <a id="1963" class="Symbol">{</a> <a id="1965" href="Definition.Modality.html#5152" class="Field">semiring-with-meet-and-star</a> <a id="1993" class="Symbol">=</a> <a id="1995" href="Definition.Modality.Instances.Erasure.Modality.html#1496" class="Function">erasure-semiring-with-meet-and-star</a>
  <a id="2033" class="Symbol">;</a> <a id="2035" href="Definition.Modality.html#5323" class="Field">mode-restrictions</a> <a id="2053" class="Symbol">=</a> <a id="2055" href="Definition.Modality.Instances.Erasure.Modality.html#322" class="Bound">rs</a>
  <a id="2060" class="Symbol">;</a> <a id="2062" href="Definition.Modality.html#5488" class="Field">𝟘-well-behaved</a> <a id="2077" class="Symbol">=</a> <a id="2079" class="Symbol">λ</a> <a id="2081" href="Definition.Modality.Instances.Erasure.Modality.html#2081" class="Bound">_</a> <a id="2083" class="Symbol">→</a> <a id="2085" href="Definition.Modality.Instances.Erasure.Modality.html#900" class="Function">erasure-has-well-behaved-zero</a>
  <a id="2117" class="Symbol">}</a>
</pre></body></html>