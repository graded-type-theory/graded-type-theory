<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Usage.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties of the usage relation for Heaps, Stacks and States.</a>
<a id="140" class="Comment">------------------------------------------------------------------------</a>

<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a>

<a id="363" class="Keyword">module</a> <a id="370" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a>
  <a id="401" class="Symbol">{</a><a id="402" href="Graded.Heap.Usage.Properties.html#402" class="Bound">a</a><a id="403" class="Symbol">}</a> <a id="405" class="Symbol">{</a><a id="406" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="408" class="Symbol">:</a> <a id="410" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="414" href="Graded.Heap.Usage.Properties.html#402" class="Bound">a</a><a id="415" class="Symbol">}</a> <a id="417" class="Symbol">{</a><a id="418" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a> <a id="420" class="Symbol">:</a> <a id="422" href="Graded.Modality.html#9626" class="Record">Modality</a> <a id="431" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a><a id="432" class="Symbol">}</a>
  <a id="436" class="Symbol">(</a><a id="437" href="Graded.Heap.Usage.Properties.html#437" class="Bound">type-variant</a> <a id="450" class="Symbol">:</a> <a id="452" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a><a id="464" class="Symbol">)</a>
  <a id="468" class="Symbol">(</a><a id="469" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a> <a id="472" class="Symbol">:</a> <a id="474" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="493" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a><a id="494" class="Symbol">)</a>
  <a id="498" class="Symbol">(</a><a id="499" class="Keyword">open</a> <a id="504" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="523" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a><a id="525" class="Symbol">)</a>
  <a id="529" class="Symbol">(</a><a id="530" href="Graded.Heap.Usage.Properties.html#530" class="Bound">factoring-nr</a> <a id="543" class="Symbol">:</a>
    <a id="549" class="Symbol">⦃</a> <a id="551" href="Graded.Heap.Usage.Properties.html#551" class="Bound">has-nr</a> <a id="558" class="Symbol">:</a> <a id="560" href="Graded.Usage.Restrictions.html#3510" class="Function">Nr-available</a> <a id="573" class="Symbol">⦄</a> <a id="575" class="Symbol">→</a>
    <a id="581" href="Graded.Modality.html#7302" class="Record">Is-factoring-nr</a> <a id="597" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="599" class="Symbol">(</a><a id="600" href="Graded.Usage.Restrictions.Natrec.html#2196" class="Function">Natrec-mode-Has-nr</a> <a id="619" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a> <a id="621" href="Graded.Heap.Usage.Properties.html#551" class="Bound">has-nr</a><a id="627" class="Symbol">))</a>
  <a id="632" class="Keyword">where</a>

<a id="639" class="Keyword">open</a> <a id="644" href="Graded.Modality.html#9626" class="Module">Modality</a> <a id="653" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>

<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="687" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a>
<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="716" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="756" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="795" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="797" class="Keyword">open</a> <a id="802" class="Keyword">import</a> <a id="809" href="Graded.Modality.Nr-instances.html" class="Module">Graded.Modality.Nr-instances</a>
<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="877" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="879" class="Keyword">open</a> <a id="884" class="Keyword">import</a> <a id="891" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="903" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="905" class="Keyword">open</a> <a id="910" class="Keyword">import</a> <a id="917" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="937" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a>
<a id="939" class="Keyword">open</a> <a id="944" class="Keyword">import</a> <a id="951" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="964" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a> <a id="966" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Graded.Usage.Restrictions.Instance.html" class="Module">Graded.Usage.Restrictions.Instance</a> <a id="1016" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a>
<a id="1019" class="Keyword">open</a> <a id="1024" class="Keyword">import</a> <a id="1031" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1054" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a> <a id="1056" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a>
<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Graded.Usage.Properties.html" class="Module">Graded.Usage.Properties</a> <a id="1095" href="Graded.Heap.Usage.Properties.html#418" class="Bound">𝕄</a> <a id="1097" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a>

<a id="1101" class="Keyword">open</a> <a id="1106" class="Keyword">import</a> <a id="1113" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1133" href="Graded.Heap.Usage.Properties.html#437" class="Bound">type-variant</a> <a id="1146" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a> <a id="1149" href="Graded.Heap.Usage.Properties.html#530" class="Bound">factoring-nr</a>
<a id="1162" class="Keyword">open</a> <a id="1167" class="Keyword">import</a> <a id="1174" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1192" href="Graded.Heap.Usage.Properties.html#437" class="Bound">type-variant</a> <a id="1205" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a> <a id="1208" href="Graded.Heap.Usage.Properties.html#530" class="Bound">factoring-nr</a>
<a id="1221" class="Keyword">open</a> <a id="1226" class="Keyword">import</a> <a id="1233" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="1261" href="Graded.Heap.Usage.Properties.html#437" class="Bound">type-variant</a> <a id="1274" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a> <a id="1277" href="Graded.Heap.Usage.Properties.html#530" class="Bound">factoring-nr</a>

<a id="1291" class="Keyword">open</a> <a id="1296" class="Keyword">import</a> <a id="1303" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="1315" class="Keyword">open</a> <a id="1320" class="Keyword">import</a> <a id="1327" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="1337" class="Keyword">open</a> <a id="1342" class="Keyword">import</a> <a id="1349" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="1364" class="Keyword">open</a> <a id="1369" class="Keyword">import</a> <a id="1376" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="1386" class="Keyword">using</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="1396" class="Symbol">;</a> <a id="1398" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a><a id="1400" class="Symbol">)</a>
<a id="1402" class="Keyword">open</a> <a id="1407" class="Keyword">import</a> <a id="1414" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="1428" class="Keyword">open</a> <a id="1433" class="Keyword">import</a> <a id="1440" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="1468" class="Keyword">open</a> <a id="1473" class="Keyword">import</a> <a id="1480" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="1495" class="Keyword">open</a> <a id="1500" class="Keyword">import</a> <a id="1507" href="Tools.Sum.html" class="Module">Tools.Sum</a>
<a id="1517" class="Keyword">import</a> <a id="1524" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="1553" class="Symbol">as</a> <a id="1556" class="Module">RPo</a>
<a id="1560" class="Keyword">import</a> <a id="1567" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a> <a id="1605" class="Symbol">as</a> <a id="1608" class="Module">RPe</a>


<a id="1614" class="Keyword">private</a> <a id="1622" class="Keyword">variable</a>
  <a id="1633" href="Graded.Heap.Usage.Properties.html#1633" class="Generalizable">k</a> <a id="1635" href="Graded.Heap.Usage.Properties.html#1635" class="Generalizable">n</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="1645" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="1647" href="Graded.Heap.Usage.Properties.html#1647" class="Generalizable">δ</a> <a id="1649" href="Graded.Heap.Usage.Properties.html#1649" class="Generalizable">η</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="1658" class="Symbol">_</a>
  <a id="1662" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="1664" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="1666" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="1668" class="Symbol">:</a> <a id="1670" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a>
  <a id="1674" href="Graded.Heap.Usage.Properties.html#1674" class="Generalizable">m</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="Graded.Mode.html#1062" class="Datatype">Mode</a>
  <a id="1685" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="1687" href="Graded.Heap.Usage.Properties.html#1687" class="Generalizable">H′</a> <a id="1690" class="Symbol">:</a> <a id="1692" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="1697" class="Symbol">_</a> <a id="1699" class="Symbol">_</a>
  <a id="1703" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="1705" class="Symbol">:</a> <a id="1707" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1711" class="Symbol">_</a>
  <a id="1715" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="Graded.Heap.Untyped.html#1818" class="Function">Ptr</a> <a id="1723" class="Symbol">_</a>
  <a id="1727" href="Graded.Heap.Usage.Properties.html#1727" class="Generalizable">A</a> <a id="1729" href="Graded.Heap.Usage.Properties.html#1729" class="Generalizable">z</a> <a id="1731" href="Graded.Heap.Usage.Properties.html#1731" class="Generalizable">s</a> <a id="1733" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="1735" class="Symbol">:</a> <a id="1737" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="1742" class="Symbol">_</a>
  <a id="1746" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="1748" href="Graded.Heap.Usage.Properties.html#1748" class="Generalizable">ρ′</a> <a id="1751" class="Symbol">:</a> <a id="1753" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1756" class="Symbol">_</a> <a id="1758" class="Symbol">_</a>
  <a id="1762" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="1764" class="Symbol">:</a> <a id="1766" href="Graded.Heap.Untyped.html#5884" class="Datatype">Stack</a> <a id="1772" class="Symbol">_</a>
  <a id="1776" href="Graded.Heap.Usage.Properties.html#1776" class="Generalizable">e</a> <a id="1778" class="Symbol">:</a> <a id="1780" href="Graded.Heap.Untyped.html#2597" class="Datatype">Elim</a> <a id="1785" class="Symbol">_</a>
  <a id="1789" href="Graded.Heap.Usage.Properties.html#1789" class="Generalizable">c</a> <a id="1791" class="Symbol">:</a> <a id="1793" href="Graded.Heap.Untyped.html#2132" class="Function">Entryₘ</a> <a id="1800" class="Symbol">_</a> <a id="1802" class="Symbol">_</a>
  <a id="1806" href="Graded.Heap.Usage.Properties.html#1806" class="Generalizable">c′</a> <a id="1809" class="Symbol">:</a> <a id="1811" href="Graded.Heap.Untyped.html#2050" class="Function">Entry</a> <a id="1817" class="Symbol">_</a> <a id="1819" class="Symbol">_</a>

<a id="1822" class="Keyword">opaque</a>

  <a id="1832" class="Comment">-- Usage for erased heaps</a>

  <a id="▸erasedHeap"></a><a id="1861" href="Graded.Heap.Usage.Properties.html#1861" class="Function">▸erasedHeap</a> <a id="1873" class="Symbol">:</a> <a id="1875" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="1878" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="1881" href="Graded.Heap.Untyped.html#7560" class="Function">erasedHeap</a> <a id="1892" href="Graded.Heap.Usage.Properties.html#1635" class="Generalizable">n</a>
  <a id="1896" href="Graded.Heap.Usage.Properties.html#1861" class="Function">▸erasedHeap</a> <a id="1908" class="Symbol">{(</a><a id="1910" class="Number">0</a><a id="1911" class="Symbol">)}</a> <a id="1914" class="Symbol">=</a> <a id="1916" href="Graded.Heap.Usage.html#2025" class="InductiveConstructor">ε</a>
  <a id="1920" href="Graded.Heap.Usage.Properties.html#1861" class="Function">▸erasedHeap</a> <a id="1932" class="Symbol">{(</a><a id="1934" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="1937" href="Graded.Heap.Usage.Properties.html#1937" class="Bound">n</a><a id="1938" class="Symbol">)}</a> <a id="1941" class="Symbol">=</a> <a id="1943" href="Graded.Heap.Usage.Properties.html#1861" class="Function">▸erasedHeap</a> <a id="1955" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a>

<a id="1959" class="Keyword">opaque</a>

  <a id="1969" class="Comment">-- Well-usage for the initial state</a>

  <a id="▸initial"></a><a id="2008" href="Graded.Heap.Usage.Properties.html#2008" class="Function">▸initial</a> <a id="2017" class="Symbol">:</a> <a id="2019" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="2022" class="Symbol">{</a><a id="2023" href="Graded.Heap.Usage.Properties.html#1635" class="Generalizable">n</a><a id="2024" class="Symbol">}</a> <a id="2026" href="Graded.Usage.html#16774" class="Function Operator">▸</a> <a id="2028" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2030" class="Symbol">→</a> <a id="2032" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="2034" href="Graded.Heap.Untyped.html#11562" class="Function">initial</a> <a id="2042" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a>
  <a id="2046" href="Graded.Heap.Usage.Properties.html#2008" class="Function">▸initial</a> <a id="2055" href="Graded.Heap.Usage.Properties.html#2055" class="Bound">▸t</a> <a id="2058" class="Symbol">=</a>
    <a id="2064" href="Graded.Heap.Usage.html#3890" class="InductiveConstructor">▸ₛ</a> <a id="2067" href="Graded.Heap.Usage.Properties.html#1861" class="Function">▸erasedHeap</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2092" href="Graded.Mode.html#20163" class="Function">⌞𝟙⌟</a><a id="2095" class="Symbol">)</a> <a id="2097" href="Graded.Heap.Usage.Properties.html#2055" class="Bound">▸t</a><a id="2099" class="Symbol">)</a> <a id="2101" href="Graded.Heap.Usage.html#3656" class="InductiveConstructor">ε</a>
      <a id="2109" class="Symbol">(</a><a id="2110" href="Graded.Context.Properties.PartialOrder.html#1343" class="Function">≤ᶜ-reflexive</a> <a id="2123" class="Symbol">(</a><a id="2124" href="Graded.Context.Properties.Equivalence.html#976" class="Function">≈ᶜ-sym</a> <a id="2131" class="Symbol">(</a><a id="2132" href="Graded.Context.Properties.Equivalence.html#704" class="Function">≈ᶜ-trans</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="2155" class="Symbol">_)</a> <a id="2158" class="Symbol">(</a><a id="2159" href="Graded.Context.Properties.Multiplication.html#1091" class="Function">·ᶜ-zeroʳ</a> <a id="2168" class="Symbol">_))))</a>

<a id="2175" class="Keyword">opaque</a>

  <a id="2185" class="Comment">-- Usage of closures where the mode is 𝟘ᵐ</a>

  <a id="▸ᶜ⁰"></a><a id="2230" href="Graded.Heap.Usage.Properties.html#2230" class="Function">▸ᶜ⁰</a> <a id="2234" class="Symbol">:</a> <a id="2236" class="Symbol">∀</a> <a id="2238" class="Symbol">{</a><a id="2239" href="Graded.Heap.Usage.Properties.html#2239" class="Bound">ok</a><a id="2241" class="Symbol">}</a>
      <a id="2249" class="Symbol">→</a> <a id="2251" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2253" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="2256" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="2260" href="Graded.Heap.Usage.Properties.html#2239" class="Bound">ok</a> <a id="2263" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a> <a id="2265" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="2267" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a>
      <a id="2275" class="Symbol">→</a> <a id="2277" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2279" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2281" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2283" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2289" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2291" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2295" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a><a id="2296" class="Symbol">)</a>
  <a id="2300" href="Graded.Heap.Usage.Properties.html#2230" class="Function">▸ᶜ⁰</a> <a id="2304" class="Symbol">{</a><a id="2305" href="Graded.Heap.Usage.Properties.html#2305" class="Bound">γ</a><a id="2306" class="Symbol">}</a> <a id="2308" class="Symbol">{</a><a id="2309" href="Graded.Heap.Usage.Properties.html#2309" class="Bound">t</a><a id="2310" class="Symbol">}</a> <a id="2312" class="Symbol">{</a><a id="2313" href="Graded.Heap.Usage.Properties.html#2313" class="Bound">ρ</a><a id="2314" class="Symbol">}</a> <a id="2316" href="Graded.Heap.Usage.Properties.html#2316" class="Bound">▸t</a> <a id="2319" class="Symbol">=</a>
    <a id="2325" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="2328" class="Symbol">(</a><a id="2329" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="2336" class="Symbol">(</a><a id="2337" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2341" href="Graded.Mode.html#19127" class="Function">⌞𝟘⌟</a><a id="2344" class="Symbol">)</a> <a id="2346" href="Graded.Heap.Usage.Properties.html#2316" class="Bound">▸t</a><a id="2348" class="Symbol">)</a> <a id="2350" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a>

<a id="2358" class="Keyword">opaque</a>

  <a id="2368" class="Comment">-- Usage of closures where the mode is 𝟘ᵐ?</a>

  <a id="▸ᶜ⁰?"></a><a id="2414" href="Graded.Heap.Usage.Properties.html#2414" class="Function">▸ᶜ⁰?</a> <a id="2419" class="Symbol">:</a> <a id="2421" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2423" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="2426" href="Graded.Mode.html#3339" class="Function">𝟘ᵐ?</a> <a id="2430" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="2432" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a>
       <a id="2441" class="Symbol">→</a> <a id="2443" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2445" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2447" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2449" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2452" class="Symbol">(</a><a id="2453" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2457" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2461" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a><a id="2462" class="Symbol">)</a>
  <a id="2466" href="Graded.Heap.Usage.Properties.html#2414" class="Function">▸ᶜ⁰?</a> <a id="2471" class="Symbol">{</a><a id="2472" href="Graded.Heap.Usage.Properties.html#2472" class="Bound">γ</a><a id="2473" class="Symbol">}</a> <a id="2475" class="Symbol">{</a><a id="2476" href="Graded.Heap.Usage.Properties.html#2476" class="Bound">t</a><a id="2477" class="Symbol">}</a> <a id="2479" class="Symbol">{</a><a id="2480" href="Graded.Heap.Usage.Properties.html#2480" class="Bound">ρ</a><a id="2481" class="Symbol">}</a> <a id="2483" class="Symbol">=</a>
    <a id="2489" href="Graded.Mode.html#3614" class="Function">𝟘ᵐ?-elim</a> <a id="2498" class="Symbol">(λ</a> <a id="2501" href="Graded.Heap.Usage.Properties.html#2501" class="Bound">m</a> <a id="2503" class="Symbol">→</a> <a id="2505" href="Graded.Heap.Usage.Properties.html#2472" class="Bound">γ</a> <a id="2507" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="2510" href="Graded.Heap.Usage.Properties.html#2501" class="Bound">m</a> <a id="2512" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="2514" href="Graded.Heap.Usage.Properties.html#2476" class="Bound">t</a> <a id="2516" class="Symbol">→</a> <a id="2518" href="Graded.Heap.Usage.Properties.html#2472" class="Bound">γ</a> <a id="2520" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2522" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2524" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="2530" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2532" href="Graded.Heap.Usage.Properties.html#2476" class="Bound">t</a> <a id="2534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2536" href="Graded.Heap.Usage.Properties.html#2480" class="Bound">ρ</a><a id="2537" class="Symbol">))</a>
      <a id="2546" href="Graded.Heap.Usage.Properties.html#2230" class="Function">▸ᶜ⁰</a> <a id="2550" class="Symbol">(λ</a> <a id="2553" href="Graded.Heap.Usage.Properties.html#2553" class="Bound">not-ok</a> <a id="2560" href="Graded.Heap.Usage.Properties.html#2560" class="Bound">▸t</a> <a id="2563" class="Symbol">→</a> <a id="2565" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2581" class="Symbol">(</a><a id="2582" href="Graded.Mode.html#2470" class="Function">only-𝟙ᵐ-without-𝟘ᵐ</a> <a id="2601" href="Graded.Heap.Usage.Properties.html#2553" class="Bound">not-ok</a><a id="2607" class="Symbol">))</a> <a id="2610" href="Graded.Heap.Usage.Properties.html#2560" class="Bound">▸t</a><a id="2612" class="Symbol">)</a> <a id="2614" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a><a id="2620" class="Symbol">)</a>

<a id="2623" class="Keyword">opaque</a>

  <a id="2633" class="Comment">-- Subsumption for closures</a>

  <a id="subᶜ"></a><a id="2664" href="Graded.Heap.Usage.Properties.html#2664" class="Function">subᶜ</a> <a id="2669" class="Symbol">:</a> <a id="2671" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2673" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2675" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2677" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2680" href="Graded.Heap.Usage.Properties.html#1789" class="Generalizable">c</a> <a id="2682" class="Symbol">→</a> <a id="2684" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2686" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2688" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="2690" class="Symbol">→</a> <a id="2692" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2694" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2696" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="2698" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2701" href="Graded.Heap.Usage.Properties.html#1789" class="Generalizable">c</a>
  <a id="2705" href="Graded.Heap.Usage.Properties.html#2664" class="Function">subᶜ</a> <a id="2710" class="Symbol">(</a><a id="2711" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="2714" href="Graded.Heap.Usage.Properties.html#2714" class="Bound">▸t</a> <a id="2717" href="Graded.Heap.Usage.Properties.html#2717" class="Bound">p′≤p</a><a id="2721" class="Symbol">)</a> <a id="2723" href="Graded.Heap.Usage.Properties.html#2723" class="Bound">p≤q</a> <a id="2727" class="Symbol">=</a> <a id="2729" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="2732" href="Graded.Heap.Usage.Properties.html#2714" class="Bound">▸t</a> <a id="2735" class="Symbol">(</a><a id="2736" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2744" href="Graded.Heap.Usage.Properties.html#2717" class="Bound">p′≤p</a> <a id="2749" href="Graded.Heap.Usage.Properties.html#2723" class="Bound">p≤q</a><a id="2752" class="Symbol">)</a>

<a id="2755" class="Keyword">opaque</a>

  <a id="2765" class="Comment">-- A lemma for well-resourced closures</a>

  <a id="▸ᶜᵖ"></a><a id="2807" href="Graded.Heap.Usage.Properties.html#2807" class="Function">▸ᶜᵖ</a> <a id="2811" class="Symbol">:</a> <a id="2813" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2815" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="2818" href="Graded.Mode.html#5213" class="Function Operator">⌞</a> <a id="2820" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2822" href="Graded.Mode.html#5213" class="Function Operator">⌟</a> <a id="2824" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="2826" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2828" class="Symbol">→</a> <a id="2830" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2832" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2834" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2836" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2839" class="Symbol">(</a><a id="2840" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2842" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2844" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2848" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a><a id="2849" class="Symbol">)</a>
  <a id="2853" href="Graded.Heap.Usage.Properties.html#2807" class="Function">▸ᶜᵖ</a> <a id="2857" href="Graded.Heap.Usage.Properties.html#2857" class="Bound">▸t</a> <a id="2860" class="Symbol">=</a> <a id="2862" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="2865" href="Graded.Heap.Usage.Properties.html#2857" class="Bound">▸t</a> <a id="2868" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a>

<a id="2876" class="Keyword">opaque</a>

  <a id="2886" class="Comment">-- A lemma for well-resourced closures</a>

  <a id="▸ᶜᵖʳ"></a><a id="2928" href="Graded.Heap.Usage.Properties.html#2928" class="Function">▸ᶜᵖʳ</a> <a id="2933" class="Symbol">:</a> <a id="2935" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2937" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="2940" href="Graded.Mode.html#5213" class="Function Operator">⌞</a> <a id="2942" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2944" href="Graded.Mode.html#5213" class="Function Operator">⌟</a> <a id="2946" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="2948" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2950" class="Symbol">→</a> <a id="2952" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="2954" class="Symbol">λ</a> <a id="2956" href="Graded.Heap.Usage.Properties.html#2956" class="Bound">δ</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="Graded.Heap.Usage.Properties.html#2956" class="Bound">δ</a> <a id="2962" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="2964" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2966" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="2968" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="2970" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="2973" class="Symbol">(</a><a id="2974" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="2976" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="2978" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="2980" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2982" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="2984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2986" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a><a id="2987" class="Symbol">)</a> <a id="2989" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2991" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="2993" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="2996" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="2998" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3001" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="3003" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3006" href="Graded.Heap.Usage.Properties.html#2956" class="Bound">δ</a>
  <a id="3010" href="Graded.Heap.Usage.Properties.html#2928" class="Function">▸ᶜᵖʳ</a> <a id="3015" class="Symbol">{</a><a id="3016" href="Graded.Heap.Usage.Properties.html#3016" class="Bound">r</a><a id="3017" class="Symbol">}</a> <a id="3019" href="Graded.Heap.Usage.Properties.html#3019" class="Bound">▸t</a> <a id="3022" class="Symbol">=</a>
    <a id="3028" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3033" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="3039" href="Graded.Heap.Usage.Properties.html#3016" class="Bound">r</a> <a id="3041" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3044" class="Symbol">λ</a> <a id="3046" class="Keyword">where</a>
      <a id="3058" class="Symbol">(</a><a id="3059" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3063" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3067" class="Symbol">)</a> <a id="3069" class="Symbol">→</a>
        <a id="3079" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3084" href="Graded.Usage.Properties.html#3688" class="Function">▸-𝟘ᵐ?</a> <a id="3090" href="Graded.Heap.Usage.Properties.html#3019" class="Bound">▸t</a> <a id="3093" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3096" class="Symbol">λ</a>
          <a id="3108" class="Symbol">(_</a> <a id="3111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3113" href="Graded.Heap.Usage.Properties.html#3113" class="Bound">▸t′</a><a id="3116" class="Symbol">)</a> <a id="3118" class="Symbol">→</a>
            <a id="3132" class="Symbol">_</a> <a id="3134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3136" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="3142" class="Symbol">(λ</a> <a id="3145" href="Graded.Heap.Usage.Properties.html#3145" class="Bound">x</a> <a id="3147" class="Symbol">→</a> <a id="3149" class="Symbol">_</a> <a id="3151" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">⨾</a> <a id="3153" href="Graded.Heap.Usage.Properties.html#3145" class="Bound">x</a> <a id="3155" href="Graded.Heap.Usage.html#1751" class="Datatype Operator">▸ᶜ</a> <a id="3158" class="Symbol">(</a><a id="3159" href="Graded.Heap.Usage.Properties.html#3145" class="Bound">x</a> <a id="3161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3163" class="Symbol">_))</a> <a id="3167" class="Symbol">(</a><a id="3168" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Graded.Modality.html#4129" class="Function">·-zeroʳ</a> <a id="3181" class="Symbol">_))</a> <a id="3185" class="Symbol">(</a><a id="3186" href="Graded.Heap.Usage.Properties.html#2414" class="Function">▸ᶜ⁰?</a> <a id="3191" href="Graded.Heap.Usage.Properties.html#3113" class="Bound">▸t′</a><a id="3194" class="Symbol">)</a>
              <a id="3210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3212" href="Graded.Context.Properties.Equivalence.html#704" class="Function">≈ᶜ-trans</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="3231" class="Symbol">_)</a> <a id="3234" class="Symbol">(</a><a id="3235" href="Graded.Context.Properties.Equivalence.html#976" class="Function">≈ᶜ-sym</a> <a id="3242" class="Symbol">(</a><a id="3243" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="3252" class="Symbol">_))</a>
      <a id="3262" class="Symbol">(</a><a id="3263" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3266" href="Graded.Heap.Usage.Properties.html#3266" class="Bound">r≢𝟘</a><a id="3269" class="Symbol">)</a> <a id="3271" class="Symbol">→</a>
        <a id="3281" class="Symbol">_</a> <a id="3283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3285" href="Graded.Heap.Usage.Properties.html#2807" class="Function">▸ᶜᵖ</a> <a id="3289" class="Symbol">(</a><a id="3290" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="3297" class="Symbol">(</a><a id="3298" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3302" class="Symbol">(</a><a id="3303" href="Graded.Mode.html#27364" class="Function">≢𝟘→⌞·⌟≡ʳ</a> <a id="3312" href="Graded.Heap.Usage.Properties.html#3266" class="Bound">r≢𝟘</a><a id="3315" class="Symbol">))</a> <a id="3318" href="Graded.Heap.Usage.Properties.html#3019" class="Bound">▸t</a><a id="3320" class="Symbol">)</a> <a id="3322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3324" href="Graded.Context.Properties.Equivalence.html#572" class="Function">≈ᶜ-refl</a>

<a id="3333" class="Keyword">opaque</a>

  <a id="3343" class="Comment">-- Subsumption for heaps</a>

  <a id="subₕ"></a><a id="3371" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3376" class="Symbol">:</a> <a id="3378" class="Symbol">⦃</a> <a id="3380" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="3402" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="3404" href="Graded.Modality.html#9767" class="Function">semiring-with-meet</a> <a id="3423" class="Symbol">⦄</a>
       <a id="3432" class="Symbol">→</a> <a id="3434" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="3436" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3439" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="3441" class="Symbol">→</a> <a id="3443" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="3445" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="3448" href="Graded.Heap.Usage.Properties.html#1647" class="Generalizable">δ</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Graded.Heap.Usage.Properties.html#1647" class="Generalizable">δ</a> <a id="3454" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3457" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a>
  <a id="3461" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3466" class="Symbol">{</a><a id="3467" class="Argument">δ</a> <a id="3469" class="Symbol">=</a> <a id="3471" href="Graded.Context.html#756" class="InductiveConstructor">ε</a><a id="3472" class="Symbol">}</a> <a id="3474" href="Graded.Heap.Usage.html#2025" class="InductiveConstructor">ε</a> <a id="3476" href="Graded.Context.html#909" class="InductiveConstructor">ε</a> <a id="3478" class="Symbol">=</a> <a id="3480" href="Graded.Heap.Usage.html#2025" class="InductiveConstructor">ε</a>
  <a id="3484" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3489" class="Symbol">{</a><a id="3490" class="Argument">δ</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="Graded.Heap.Usage.Properties.html#3494" class="Bound">δ</a> <a id="3496" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="3498" href="Graded.Heap.Usage.Properties.html#3498" class="Bound">p</a><a id="3499" class="Symbol">}</a> <a id="3501" class="Symbol">(</a><a id="3502" href="Graded.Heap.Usage.Properties.html#3502" class="Bound">▸H</a> <a id="3505" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="3507" href="Graded.Heap.Usage.Properties.html#3507" class="Bound">▸c</a><a id="3509" class="Symbol">)</a> <a id="3511" class="Symbol">(</a><a id="3512" href="Graded.Heap.Usage.Properties.html#3512" class="Bound">γ≤δ</a> <a id="3516" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="3518" href="Graded.Heap.Usage.Properties.html#3518" class="Bound">p″≤p</a><a id="3522" class="Symbol">)</a> <a id="3524" class="Symbol">=</a>
    <a id="3530" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3535" href="Graded.Heap.Usage.Properties.html#3502" class="Bound">▸H</a> <a id="3538" class="Symbol">(</a><a id="3539" href="Graded.Context.Properties.Addition.html#3470" class="Function">+ᶜ-monotone</a> <a id="3551" href="Graded.Heap.Usage.Properties.html#3512" class="Bound">γ≤δ</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Graded.Context.Properties.Multiplication.html#3151" class="Function">·ᶜ-monotoneˡ</a> <a id="3569" href="Graded.Heap.Usage.Properties.html#3518" class="Bound">p″≤p</a><a id="3573" class="Symbol">))</a> <a id="3576" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="3578" href="Graded.Heap.Usage.Properties.html#2664" class="Function">subᶜ</a> <a id="3583" href="Graded.Heap.Usage.Properties.html#3507" class="Bound">▸c</a> <a id="3586" href="Graded.Heap.Usage.Properties.html#3518" class="Bound">p″≤p</a>
  <a id="3593" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3598" class="Symbol">{</a><a id="3599" class="Argument">δ</a> <a id="3601" class="Symbol">=</a> <a id="3603" href="Graded.Heap.Usage.Properties.html#3603" class="Bound">δ</a> <a id="3605" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="3607" href="Graded.Heap.Usage.Properties.html#3607" class="Bound">p</a><a id="3608" class="Symbol">}</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Graded.Heap.Usage.Properties.html#3611" class="Bound">▸H</a> <a id="3614" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="3616" class="Symbol">)</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Graded.Heap.Usage.Properties.html#3619" class="Bound">γ≤δ</a> <a id="3623" href="Graded.Context.html#922" class="InductiveConstructor Operator">∙</a> <a id="3625" href="Graded.Heap.Usage.Properties.html#3625" class="Bound">𝟘≤p</a><a id="3628" class="Symbol">)</a> <a id="3630" class="Symbol">=</a>
    <a id="3636" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="3642" class="Symbol">(λ</a> <a id="3645" href="Graded.Heap.Usage.Properties.html#3645" class="Bound">p</a> <a id="3647" class="Symbol">→</a> <a id="3649" class="Symbol">(</a><a id="3650" href="Graded.Heap.Usage.Properties.html#3603" class="Bound">δ</a> <a id="3652" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="3654" href="Graded.Heap.Usage.Properties.html#3645" class="Bound">p</a><a id="3655" class="Symbol">)</a> <a id="3657" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3660" class="Symbol">_)</a> <a id="3663" class="Symbol">(</a><a id="3664" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3668" class="Symbol">(</a><a id="3669" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="3672" href="Graded.Heap.Usage.Properties.html#3625" class="Bound">𝟘≤p</a><a id="3675" class="Symbol">))</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="3684" href="Graded.Heap.Usage.Properties.html#3611" class="Bound">▸H</a> <a id="3687" href="Graded.Heap.Usage.Properties.html#3619" class="Bound">γ≤δ</a> <a id="3691" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="3693" class="Symbol">)</a>

<a id="3696" class="Keyword">opaque</a>

  <a id="3706" class="Comment">-- An inversion lemma for ▸ʰ with a dummy entry.</a>

  <a id="inv-▸ʰ●"></a><a id="3758" href="Graded.Heap.Usage.Properties.html#3758" class="Function">inv-▸ʰ●</a> <a id="3766" class="Symbol">:</a> <a id="3768" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="3770" class="InductiveConstructor Operator">∙</a> <a id="3772" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="3774" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3777" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="3779" class="InductiveConstructor Operator">∙●</a> <a id="3782" class="Symbol">→</a> <a id="3784" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="3786" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3788" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="3790" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3792" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="3794" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3797" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a>
  <a id="3801" href="Graded.Heap.Usage.Properties.html#3758" class="Function">inv-▸ʰ●</a> <a id="3809" class="Symbol">(</a><a id="3810" href="Graded.Heap.Usage.Properties.html#3810" class="Bound">▸H</a> <a id="3813" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="3815" class="Symbol">)</a> <a id="3817" class="Symbol">=</a> <a id="3819" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3824" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3826" href="Graded.Heap.Usage.Properties.html#3810" class="Bound">▸H</a>

<a id="3830" class="Keyword">opaque</a>

  <a id="3840" class="Comment">-- A well-resourced heap under the zero-context has all grades bounded by 𝟘.</a>

  <a id="𝟘▸H→H≤𝟘"></a><a id="3920" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="3928" class="Symbol">:</a> <a id="3930" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="3933" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="3936" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="3938" class="Symbol">→</a> <a id="3940" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="3942" href="Graded.Heap.Usage.html#1520" class="Datatype Operator">≤ʰ</a> <a id="3945" href="Graded.Modality.html#995" class="Function">𝟘</a>
  <a id="3949" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="3957" class="Symbol">{</a><a id="3958" class="Argument">H</a> <a id="3960" class="Symbol">=</a> <a id="3962" href="Graded.Heap.Untyped.html#7402" class="InductiveConstructor">ε</a><a id="3963" class="Symbol">}</a> <a id="3965" href="Graded.Heap.Usage.html#2025" class="InductiveConstructor">ε</a> <a id="3967" class="Symbol">=</a> <a id="3969" href="Graded.Heap.Usage.html#1566" class="InductiveConstructor">ε</a>
  <a id="3973" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="3981" class="Symbol">{</a><a id="3982" class="Argument">H</a> <a id="3984" class="Symbol">=</a> <a id="3986" href="Graded.Heap.Usage.Properties.html#3986" class="Bound">H</a> <a id="3988" href="Graded.Heap.Untyped.html#7419" class="InductiveConstructor Operator">∙</a> <a id="3990" href="Graded.Heap.Usage.Properties.html#3990" class="Bound">c</a><a id="3991" class="Symbol">}</a> <a id="3993" class="Symbol">(</a><a id="3994" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">_∙_</a> <a id="3998" class="Symbol">{</a><a id="3999" href="Graded.Heap.Usage.Properties.html#3999" class="Bound">ρ</a><a id="4000" class="Symbol">}</a> <a id="4002" class="Symbol">{</a><a id="4003" href="Graded.Heap.Usage.Properties.html#4003" class="Bound">δ</a><a id="4004" class="Symbol">}</a> <a id="4006" href="Graded.Heap.Usage.Properties.html#4006" class="Bound">▸H</a> <a id="4009" class="Symbol">(</a><a id="4010" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="4013" class="Symbol">_</a> <a id="4015" href="Graded.Heap.Usage.Properties.html#4015" class="Bound">p≤𝟘</a><a id="4018" class="Symbol">))</a> <a id="4021" class="Symbol">=</a>
    <a id="4027" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="4042" class="Symbol">(</a><a id="4043" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">_▸ʰ</a> <a id="4047" class="Symbol">_)</a> <a id="4050" class="Symbol">(</a><a id="4051" href="Graded.Context.Properties.Equivalence.html#1583" class="Function">≈ᶜ→≡</a> <a id="4056" href="Graded.Heap.Usage.Properties.html#4143" class="Function">lemma</a><a id="4061" class="Symbol">)</a> <a id="4063" href="Graded.Heap.Usage.Properties.html#4006" class="Bound">▸H</a><a id="4065" class="Symbol">)</a> <a id="4067" href="Graded.Heap.Usage.html#1579" class="InductiveConstructor Operator">∙</a> <a id="4069" href="Graded.Heap.Usage.Properties.html#4015" class="Bound">p≤𝟘</a>
    <a id="4077" class="Keyword">where</a>
    <a id="4087" class="Keyword">open</a> <a id="4092" class="Keyword">import</a> <a id="4099" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="4127" href="Graded.Context.Properties.Equivalence.html#1296" class="Function">Conₘ-setoid</a>
    <a id="4143" href="Graded.Heap.Usage.Properties.html#4143" class="Function">lemma</a> <a id="4149" class="Symbol">:</a> <a id="4151" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="4154" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="4157" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="4159" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4162" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="4169" href="Graded.Heap.Usage.Properties.html#3999" class="Bound">ρ</a> <a id="4171" href="Graded.Heap.Usage.Properties.html#4003" class="Bound">δ</a> <a id="4173" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="4176" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>
    <a id="4183" href="Graded.Heap.Usage.Properties.html#4143" class="Function">lemma</a> <a id="4189" class="Symbol">=</a> <a id="4191" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4203" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="4206" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="4209" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="4211" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4214" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="4221" href="Graded.Heap.Usage.Properties.html#3999" class="Bound">ρ</a> <a id="4223" href="Graded.Heap.Usage.Properties.html#4003" class="Bound">δ</a>  <a id="4226" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4229" href="Graded.Context.Properties.Addition.html#738" class="Function">+ᶜ-identityˡ</a> <a id="4242" class="Symbol">_</a> <a id="4244" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="4252" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="4254" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4257" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="4264" href="Graded.Heap.Usage.Properties.html#3999" class="Bound">ρ</a> <a id="4266" href="Graded.Heap.Usage.Properties.html#4003" class="Bound">δ</a>        <a id="4275" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4278" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="4287" class="Symbol">_</a> <a id="4289" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="4297" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>                     <a id="4320" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="4324" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="4332" class="Symbol">{</a><a id="4333" class="Argument">H</a> <a id="4335" class="Symbol">=</a> <a id="4337" href="Graded.Heap.Usage.Properties.html#4337" class="Bound">H</a> <a id="4339" href="Graded.Heap.Untyped.html#7477" class="InductiveConstructor Operator">∙●</a><a id="4341" class="Symbol">}</a> <a id="4343" href="Graded.Heap.Usage.Properties.html#4343" class="Bound">▸H</a> <a id="4346" class="Symbol">=</a> <a id="4348" href="Graded.Heap.Usage.Properties.html#3920" class="Function">𝟘▸H→H≤𝟘</a> <a id="4356" class="Symbol">(</a><a id="4357" href="Graded.Heap.Usage.Properties.html#3758" class="Function">inv-▸ʰ●</a> <a id="4365" href="Graded.Heap.Usage.Properties.html#4343" class="Bound">▸H</a> <a id="4368" class="Symbol">.</a><a id="4369" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="4374" class="Symbol">)</a> <a id="4376" href="Graded.Heap.Usage.html#1625" class="InductiveConstructor Operator">∙●</a>

<a id="4380" class="Keyword">opaque</a>

  <a id="4390" class="Comment">-- In a well-resorced heap, a pointer lookup yields a well-resourced</a>
  <a id="4461" class="Comment">-- term and a well-resourced heap.</a>

  <a id="▸-heapLookup"></a><a id="4499" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="4512" class="Symbol">:</a> <a id="4514" class="Symbol">⦃</a> <a id="4516" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="4538" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="4540" href="Graded.Modality.html#9767" class="Function">semiring-with-meet</a> <a id="4559" class="Symbol">⦄</a>
               <a id="4576" class="Symbol">→</a> <a id="4578" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="4580" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⊢</a> <a id="4582" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="4584" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">↦[</a> <a id="4587" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="4589" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">]</a> <a id="4591" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="4593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4595" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="4597" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⨾</a> <a id="4599" href="Graded.Heap.Usage.Properties.html#1687" class="Generalizable">H′</a>
               <a id="4617" class="Symbol">→</a> <a id="4619" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="4621" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="4624" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a>
               <a id="4641" class="Symbol">→</a> <a id="4643" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="4645" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="4647" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="4649" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="4651" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="4653" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="4655" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="4657" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a>
               <a id="4674" class="Symbol">→</a> <a id="4676" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="4678" class="Symbol">λ</a> <a id="4680" href="Graded.Heap.Usage.Properties.html#4680" class="Bound">δ</a> <a id="4682" class="Symbol">→</a> <a id="4684" href="Graded.Heap.Usage.Properties.html#4680" class="Bound">δ</a> <a id="4686" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="4689" href="Graded.Mode.html#5213" class="Function Operator">⌞</a> <a id="4691" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="4693" href="Graded.Mode.html#5213" class="Function Operator">⌟</a> <a id="4695" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="4697" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="4699" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4701" class="Symbol">(</a><a id="4702" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="4704" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="4706" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="4708" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="4710" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a><a id="4711" class="Symbol">)</a> <a id="4713" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="4716" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="4718" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="4721" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="4728" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="4730" href="Graded.Heap.Usage.Properties.html#4680" class="Bound">δ</a> <a id="4732" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="4735" href="Graded.Heap.Usage.Properties.html#1687" class="Generalizable">H′</a>
  <a id="4740" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="4753" class="Symbol">{</a><a id="4754" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a><a id="4755" class="Symbol">}</a> <a id="4757" class="Symbol">{</a><a id="4758" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a><a id="4759" class="Symbol">}</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Graded.Heap.Untyped.html#8076" class="InductiveConstructor">here</a> <a id="4767" class="Symbol">{</a><a id="4768" class="Argument">r</a> <a id="4770" class="Symbol">=</a> <a id="4772" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a><a id="4774" class="Symbol">}</a> <a id="4776" href="Graded.Heap.Usage.Properties.html#4776" class="Bound">p′-q≡r′</a><a id="4783" class="Symbol">)</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">_∙_</a> <a id="4790" class="Symbol">{</a><a id="4791" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a><a id="4792" class="Symbol">}</a> <a id="4794" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="4797" class="Symbol">(</a><a id="4798" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="4801" class="Symbol">{</a><a id="4802" class="Argument">q</a> <a id="4804" class="Symbol">=</a> <a id="4806" href="Graded.Heap.Usage.Properties.html#4806" class="Bound">p′</a><a id="4808" class="Symbol">}</a> <a id="4810" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a> <a id="4813" href="Graded.Heap.Usage.Properties.html#4813" class="Bound">p′≤p</a><a id="4817" class="Symbol">))</a> <a id="4820" href="Graded.Heap.Usage.Properties.html#4820" class="Bound">p-q≤r</a> <a id="4826" class="Symbol">=</a>
    <a id="4832" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4837" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="4843" href="Graded.Heap.Usage.Properties.html#4806" class="Bound">p′</a> <a id="4846" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4849" class="Symbol">λ</a> <a id="4851" class="Keyword">where</a>
      <a id="4863" class="Symbol">(</a><a id="4864" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="4868" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4872" class="Symbol">)</a> <a id="4874" class="Symbol">→</a>
        <a id="4884" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4889" href="Graded.Heap.Usage.Properties.html#5949" class="Function">p′≡𝟘→</a> <a id="4895" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4900" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4903" class="Symbol">λ</a> <a id="4905" class="Symbol">{</a>
          <a id="4917" class="Symbol">(</a><a id="4918" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4925" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4932" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4939" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4943" class="Symbol">)</a> <a id="4945" class="Symbol">→</a>
        <a id="4955" class="Symbol">_</a> <a id="4957" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4959" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a> <a id="4962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4964" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="4969" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="4972" href="Graded.Heap.Usage.Properties.html#7071" class="Function">lemma₀</a> <a id="4979" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="4981" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="4984" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a> <a id="4987" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a> <a id="4996" class="Symbol">}</a>
      <a id="5004" class="Symbol">(</a><a id="5005" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="5008" href="Graded.Heap.Usage.Properties.html#5008" class="Bound">p′≢𝟘</a><a id="5012" class="Symbol">)</a> <a id="5014" class="Symbol">→</a>
        <a id="5024" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5029" href="Graded.Usage.Properties.html#3688" class="Function">▸-𝟘ᵐ?</a> <a id="5035" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a> <a id="5038" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5041" class="Symbol">λ</a>
          <a id="5053" class="Symbol">(</a><a id="5054" href="Graded.Heap.Usage.Properties.html#5054" class="Bound">η</a> <a id="5056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5058" href="Graded.Heap.Usage.Properties.html#5058" class="Bound">▸⁰t</a><a id="5061" class="Symbol">)</a> <a id="5063" class="Symbol">→</a>
        <a id="5073" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5078" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="5085" class="Symbol">(</a><a id="5086" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="5090" href="Graded.Mode.html#19198" class="Function">⌞𝟘⌟≡𝟘ᵐ?</a><a id="5097" class="Symbol">)</a> <a id="5099" href="Graded.Heap.Usage.Properties.html#5058" class="Bound">▸⁰t</a> <a id="5103" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5106" class="Symbol">λ</a>
          <a id="5118" href="Graded.Heap.Usage.Properties.html#5118" class="Bound">▸⁰t′</a> <a id="5123" class="Symbol">→</a>
        <a id="5133" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5138" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="5144" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="5146" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5149" class="Symbol">λ</a> <a id="5151" class="Keyword">where</a>
          <a id="5167" class="Symbol">(</a><a id="5168" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="5172" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5176" class="Symbol">)</a> <a id="5178" class="Symbol">→</a>
            <a id="5192" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5197" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="5203" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="5206" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5209" class="Symbol">λ</a> <a id="5211" class="Keyword">where</a>
              <a id="5231" class="Symbol">(</a><a id="5232" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="5236" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5240" class="Symbol">)</a> <a id="5242" class="Symbol">→</a>
                <a id="5260" class="Symbol">_</a> <a id="5262" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5264" href="Graded.Heap.Usage.Properties.html#5118" class="Bound">▸⁰t′</a> <a id="5269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5271" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="5276" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="5279" class="Symbol">(</a><a id="5280" href="Graded.Heap.Usage.Properties.html#7387" class="Function">lemma₁</a> <a id="5287" class="Symbol">(</a><a id="5288" href="Graded.Heap.Usage.Properties.html#6164" class="Function">r′≡𝟘→</a> <a id="5294" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5298" class="Symbol">)</a> <a id="5300" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5304" class="Symbol">)</a> <a id="5306" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="5308" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="5311" href="Graded.Heap.Usage.Properties.html#5118" class="Bound">▸⁰t′</a> <a id="5316" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a>
              <a id="5339" class="Symbol">(</a><a id="5340" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="5343" href="Graded.Heap.Usage.Properties.html#5343" class="Bound">r′≢𝟘</a><a id="5347" class="Symbol">)</a> <a id="5349" class="Symbol">→</a>
                <a id="5367" class="Symbol">_</a> <a id="5369" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5371" href="Graded.Heap.Usage.Properties.html#5118" class="Bound">▸⁰t′</a> <a id="5376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5378" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="5383" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="5386" class="Symbol">(</a><a id="5387" href="Graded.Heap.Usage.Properties.html#7931" class="Function">lemma₂</a> <a id="5394" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5398" class="Symbol">)</a> <a id="5400" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="5402" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="5405" class="Symbol">(</a><a id="5406" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="5413" class="Symbol">(</a><a id="5414" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="5420" class="Symbol">(</a><a id="5421" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5430" href="Graded.Heap.Usage.Properties.html#5008" class="Bound">p′≢𝟘</a><a id="5434" class="Symbol">)</a> <a id="5436" class="Symbol">(</a><a id="5437" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="5441" class="Symbol">(</a><a id="5442" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5451" href="Graded.Heap.Usage.Properties.html#5343" class="Bound">r′≢𝟘</a><a id="5455" class="Symbol">)))</a> <a id="5459" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a><a id="5461" class="Symbol">)</a> <a id="5463" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a>
          <a id="5482" class="Symbol">(</a><a id="5483" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="5486" href="Graded.Heap.Usage.Properties.html#5486" class="Bound">q≢𝟘</a><a id="5489" class="Symbol">)</a> <a id="5491" class="Symbol">→</a>
            <a id="5505" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5510" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="5517" class="Symbol">(</a><a id="5518" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="5524" class="Symbol">(</a><a id="5525" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5534" href="Graded.Heap.Usage.Properties.html#5008" class="Bound">p′≢𝟘</a><a id="5538" class="Symbol">)</a> <a id="5540" class="Symbol">(</a><a id="5541" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="5545" class="Symbol">(</a><a id="5546" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5555" href="Graded.Heap.Usage.Properties.html#5486" class="Bound">q≢𝟘</a><a id="5558" class="Symbol">)))</a> <a id="5562" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a> <a id="5565" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5568" class="Symbol">λ</a>
              <a id="5584" href="Graded.Heap.Usage.Properties.html#5584" class="Bound">▸t′</a> <a id="5588" class="Symbol">→</a>
            <a id="5602" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5607" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="5613" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="5616" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5619" class="Symbol">λ</a> <a id="5621" class="Keyword">where</a>
              <a id="5641" class="Symbol">(</a><a id="5642" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="5646" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5650" class="Symbol">)</a> <a id="5652" class="Symbol">→</a>
                <a id="5670" class="Symbol">_</a> <a id="5672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5674" href="Graded.Heap.Usage.Properties.html#5584" class="Bound">▸t′</a> <a id="5678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5680" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="5685" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="5688" class="Symbol">(</a><a id="5689" href="Graded.Heap.Usage.Properties.html#8338" class="Function">lemma₃</a> <a id="5696" class="Symbol">(</a><a id="5697" href="Graded.Heap.Usage.Properties.html#6164" class="Function">r′≡𝟘→</a> <a id="5703" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5707" class="Symbol">))</a> <a id="5710" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="5712" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="5715" href="Graded.Heap.Usage.Properties.html#5118" class="Bound">▸⁰t′</a> <a id="5720" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a>
              <a id="5743" class="Symbol">(</a><a id="5744" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="5747" href="Graded.Heap.Usage.Properties.html#5747" class="Bound">r′≢𝟘</a><a id="5751" class="Symbol">)</a> <a id="5753" class="Symbol">→</a>
                <a id="5771" class="Symbol">_</a> <a id="5773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5775" href="Graded.Heap.Usage.Properties.html#5584" class="Bound">▸t′</a> <a id="5779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5781" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="5786" href="Graded.Heap.Usage.Properties.html#4794" class="Bound">▸H</a> <a id="5789" href="Graded.Heap.Usage.Properties.html#7071" class="Function">lemma₀</a> <a id="5796" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="5798" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="5801" class="Symbol">(</a><a id="5802" href="Graded.Usage.Properties.html#2606" class="Function">▸-cong</a> <a id="5809" class="Symbol">(</a><a id="5810" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="5816" class="Symbol">(</a><a id="5817" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5826" href="Graded.Heap.Usage.Properties.html#5008" class="Bound">p′≢𝟘</a><a id="5830" class="Symbol">)</a> <a id="5832" class="Symbol">(</a><a id="5833" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="5837" class="Symbol">(</a><a id="5838" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="5847" href="Graded.Heap.Usage.Properties.html#5747" class="Bound">r′≢𝟘</a><a id="5851" class="Symbol">)))</a> <a id="5855" href="Graded.Heap.Usage.Properties.html#4810" class="Bound">▸t</a><a id="5857" class="Symbol">)</a> <a id="5859" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a>
    <a id="5872" class="Keyword">where</a>
    <a id="5882" href="Graded.Heap.Usage.Properties.html#5882" class="Function">r′≤r</a> <a id="5887" class="Symbol">:</a> <a id="5889" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="5892" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="5894" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a>
    <a id="5900" href="Graded.Heap.Usage.Properties.html#5882" class="Function">r′≤r</a> <a id="5905" class="Symbol">=</a> <a id="5907" href="Graded.Heap.Usage.Properties.html#4776" class="Bound">p′-q≡r′</a> <a id="5915" class="Symbol">.</a><a id="5916" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5922" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="5924" class="Symbol">(</a><a id="5925" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="5933" href="Graded.Heap.Usage.Properties.html#4813" class="Bound">p′≤p</a> <a id="5938" href="Graded.Heap.Usage.Properties.html#4820" class="Bound">p-q≤r</a><a id="5943" class="Symbol">)</a>
    <a id="5949" href="Graded.Heap.Usage.Properties.html#5949" class="Function">p′≡𝟘→</a> <a id="5955" class="Symbol">:</a> <a id="5957" href="Graded.Heap.Usage.Properties.html#4806" class="Bound">p′</a> <a id="5960" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5962" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="5964" class="Symbol">→</a> <a id="5966" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="5968" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5970" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="5972" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5974" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="5976" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5978" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="5980" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5982" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="5984" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5986" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="5988" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5990" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="5993" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5995" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="6001" href="Graded.Heap.Usage.Properties.html#5949" class="Function">p′≡𝟘→</a> <a id="6007" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6012" class="Symbol">=</a>
      <a id="6020" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6025" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="6028" href="Graded.Heap.Usage.Properties.html#4813" class="Bound">p′≤p</a> <a id="6033" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6036" class="Symbol">λ</a> <a id="6038" class="Symbol">{</a>
        <a id="6048" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6053" class="Symbol">→</a>
      <a id="6061" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6066" href="Graded.Modality.Properties.Subtraction.html#6814" class="Function">𝟘-p≤q</a> <a id="6072" href="Graded.Heap.Usage.Properties.html#4820" class="Bound">p-q≤r</a> <a id="6078" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6081" class="Symbol">λ</a> <a id="6083" class="Symbol">{</a>
        <a id="6093" class="Symbol">(</a><a id="6094" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6101" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6105" class="Symbol">)</a> <a id="6107" class="Symbol">→</a>
      <a id="6115" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6120" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6122" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6129" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6136" href="Graded.Modality.Properties.Subtraction.html#6971" class="Function">𝟘-p≡q</a> <a id="6142" href="Graded.Heap.Usage.Properties.html#4776" class="Bound">p′-q≡r′</a> <a id="6150" class="Symbol">.</a><a id="6151" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6157" class="Symbol">}}</a>
    <a id="6164" href="Graded.Heap.Usage.Properties.html#6164" class="Function">r′≡𝟘→</a> <a id="6170" class="Symbol">:</a> <a id="6172" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="6175" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6177" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="6179" class="Symbol">→</a> <a id="6181" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6183" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6185" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="6191" href="Graded.Heap.Usage.Properties.html#6164" class="Function">r′≡𝟘→</a> <a id="6197" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6202" class="Symbol">=</a> <a id="6204" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="6207" href="Graded.Heap.Usage.Properties.html#5882" class="Function">r′≤r</a>
    <a id="6216" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a> <a id="6224" class="Symbol">:</a> <a id="6226" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6228" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6230" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6232" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6234" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6236" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="6238" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="6244" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a> <a id="6252" class="Symbol">=</a> <a id="6254" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6266" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a>          <a id="6277" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6281" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="6293" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6295" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6303" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6305" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6307" href="Graded.Modality.html#995" class="Function">𝟘</a>      <a id="6314" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6318" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a> <a id="6326" class="Symbol">(</a><a id="6327" href="Graded.Modality.html#4129" class="Function">·-zeroʳ</a> <a id="6335" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a><a id="6336" class="Symbol">)</a> <a id="6338" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6346" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6348" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6350" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6352" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="6354" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="6356" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="6364" class="Keyword">where</a>
      <a id="6376" class="Keyword">open</a> <a id="6381" href="Tools.Reasoning.PropositionalEquality.html" class="Module">RPe</a>
    <a id="6389" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a> <a id="6398" class="Symbol">:</a> <a id="6400" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a> <a id="6403" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="6405" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6407" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6409" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6411" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="6413" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="6419" href="Graded.Heap.Usage.Properties.html#6389" class="Function">r′≤r+q·𝟘</a> <a id="6428" class="Symbol">=</a> <a id="6430" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6442" href="Graded.Heap.Usage.Properties.html#4772" class="Bound">r′</a>        <a id="6452" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="6455" href="Graded.Modality.Properties.Subtraction.html#2092" class="Function">-≡≤-monotoneˡ</a> <a id="6469" href="Graded.Heap.Usage.Properties.html#4813" class="Bound">p′≤p</a> <a id="6474" href="Graded.Heap.Usage.Properties.html#4776" class="Bound">p′-q≡r′</a> <a id="6482" href="Graded.Heap.Usage.Properties.html#4820" class="Bound">p-q≤r</a> <a id="6488" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="6496" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a>         <a id="6506" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="6509" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a> <a id="6517" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="6525" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6527" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6529" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6531" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="6533" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="6535" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="6543" class="Keyword">where</a>
      <a id="6555" class="Keyword">open</a> <a id="6560" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="6564" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>
    <a id="6576" href="Graded.Heap.Usage.Properties.html#6576" class="Function">lemma₀′</a> <a id="6584" class="Symbol">:</a> <a id="6586" class="Symbol">∀</a> <a id="6588" class="Symbol">{</a><a id="6589" href="Graded.Heap.Usage.Properties.html#6589" class="Bound">n</a><a id="6590" class="Symbol">}</a> <a id="6592" class="Symbol">{</a><a id="6593" href="Graded.Heap.Usage.Properties.html#6593" class="Bound">γ</a> <a id="6595" href="Graded.Heap.Usage.Properties.html#6595" class="Bound">δ</a> <a id="6597" class="Symbol">:</a> <a id="6599" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="6604" href="Graded.Heap.Usage.Properties.html#6589" class="Bound">n</a><a id="6605" class="Symbol">}</a> <a id="6607" class="Symbol">→</a> <a id="6609" href="Graded.Heap.Usage.Properties.html#6593" class="Bound">γ</a> <a id="6611" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6614" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="6616" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6619" href="Graded.Heap.Usage.Properties.html#6595" class="Bound">δ</a> <a id="6621" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="6624" class="Symbol">(</a><a id="6625" href="Graded.Heap.Usage.Properties.html#6593" class="Bound">γ</a> <a id="6627" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6630" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6632" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6635" href="Graded.Heap.Usage.Properties.html#6595" class="Bound">δ</a><a id="6636" class="Symbol">)</a> <a id="6638" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6641" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6643" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6646" href="Graded.Heap.Usage.Properties.html#6595" class="Bound">δ</a>
    <a id="6652" href="Graded.Heap.Usage.Properties.html#6576" class="Function">lemma₀′</a> <a id="6660" class="Symbol">{</a><a id="6661" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a><a id="6662" class="Symbol">}</a> <a id="6664" class="Symbol">{</a><a id="6665" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6666" class="Symbol">}</a> <a id="6668" class="Symbol">=</a> <a id="6670" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6682" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6684" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6687" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="6689" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6692" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a>                       <a id="6716" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="6719" href="Graded.Context.Properties.Addition.html#3183" class="Function">+ᶜ-monotoneʳ</a> <a id="6732" class="Symbol">(</a><a id="6733" href="Graded.Context.Properties.Multiplication.html#3151" class="Function">·ᶜ-monotoneˡ</a> <a id="6746" href="Graded.Heap.Usage.Properties.html#4820" class="Bound">p-q≤r</a><a id="6751" class="Symbol">)</a> <a id="6753" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="6761" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6763" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6766" class="Symbol">(</a><a id="6767" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6769" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="6771" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a><a id="6772" class="Symbol">)</a> <a id="6774" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6777" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a>                 <a id="6795" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="6798" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="6807" class="Symbol">(</a><a id="6808" href="Graded.Context.Properties.Multiplication.html#1881" class="Function">·ᶜ-distribʳ-+ᶜ</a> <a id="6823" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6825" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6827" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6828" class="Symbol">)</a> <a id="6830" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="6838" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6840" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6846" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6849" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a> <a id="6851" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6854" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6856" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6859" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6860" class="Symbol">)</a>           <a id="6872" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="6875" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="6884" class="Symbol">(</a><a id="6885" href="Graded.Context.Properties.Addition.html#1325" class="Function">+ᶜ-comm</a> <a id="6893" class="Symbol">(</a><a id="6894" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6896" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6899" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6900" class="Symbol">)</a> <a id="6902" class="Symbol">(</a><a id="6903" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6905" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6908" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6909" class="Symbol">))</a> <a id="6912" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="6920" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6922" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6925" class="Symbol">(</a><a id="6926" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6928" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6931" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a> <a id="6933" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="6936" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6938" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6941" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6942" class="Symbol">)</a>           <a id="6954" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="6958" href="Graded.Context.Properties.Addition.html#1126" class="Function">+ᶜ-assoc</a> <a id="6967" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6969" class="Symbol">(</a><a id="6970" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="6972" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6975" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6976" class="Symbol">)</a> <a id="6978" class="Symbol">(</a><a id="6979" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="6981" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="6984" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="6985" class="Symbol">)</a> <a id="6987" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="6995" class="Symbol">(</a><a id="6996" href="Graded.Heap.Usage.Properties.html#6661" class="Bound">γ</a> <a id="6998" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7001" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7003" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7006" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a><a id="7007" class="Symbol">)</a> <a id="7009" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7012" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7014" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7017" href="Graded.Heap.Usage.Properties.html#6665" class="Bound">δ</a>           <a id="7029" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="7037" class="Keyword">where</a>
      <a id="7049" class="Keyword">open</a> <a id="7054" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="7058" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>
    <a id="7071" href="Graded.Heap.Usage.Properties.html#7071" class="Function">lemma₀</a> <a id="7078" class="Symbol">:</a> <a id="7080" class="Symbol">∀</a> <a id="7082" class="Symbol">{</a><a id="7083" href="Graded.Heap.Usage.Properties.html#7083" class="Bound">n</a><a id="7084" class="Symbol">}</a> <a id="7086" class="Symbol">{</a><a id="7087" href="Graded.Heap.Usage.Properties.html#7087" class="Bound">γ</a> <a id="7089" href="Graded.Heap.Usage.Properties.html#7089" class="Bound">δ</a> <a id="7091" class="Symbol">:</a> <a id="7093" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="7098" href="Graded.Heap.Usage.Properties.html#7083" class="Bound">n</a><a id="7099" class="Symbol">}</a> <a id="7101" class="Symbol">→</a> <a id="7103" href="Graded.Heap.Usage.Properties.html#7087" class="Bound">γ</a> <a id="7105" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7108" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="7110" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7113" href="Graded.Heap.Usage.Properties.html#7089" class="Bound">δ</a> <a id="7115" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="7118" class="Symbol">(</a><a id="7119" href="Graded.Heap.Usage.Properties.html#7087" class="Bound">γ</a> <a id="7121" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7124" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7126" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7129" href="Graded.Heap.Usage.Properties.html#7089" class="Bound">δ</a><a id="7130" class="Symbol">)</a> <a id="7132" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7135" class="Symbol">(</a><a id="7136" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7138" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="7140" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7142" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="7144" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="7145" class="Symbol">)</a> <a id="7147" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7150" href="Graded.Heap.Usage.Properties.html#7089" class="Bound">δ</a>
    <a id="7156" href="Graded.Heap.Usage.Properties.html#7071" class="Function">lemma₀</a> <a id="7163" class="Symbol">{</a><a id="7164" href="Graded.Heap.Usage.Properties.html#7164" class="Bound">γ</a><a id="7165" class="Symbol">}</a> <a id="7167" class="Symbol">{</a><a id="7168" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a><a id="7169" class="Symbol">}</a> <a id="7171" class="Symbol">=</a> <a id="7173" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7185" href="Graded.Heap.Usage.Properties.html#7164" class="Bound">γ</a> <a id="7187" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7190" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="7192" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7195" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a>                       <a id="7219" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7222" href="Graded.Heap.Usage.Properties.html#6576" class="Function">lemma₀′</a> <a id="7230" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="7238" class="Symbol">(</a><a id="7239" href="Graded.Heap.Usage.Properties.html#7164" class="Bound">γ</a> <a id="7241" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7244" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7246" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7249" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a><a id="7250" class="Symbol">)</a> <a id="7252" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7255" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7257" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7260" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a>           <a id="7272" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7275" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7284" class="Symbol">(</a><a id="7285" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">·ᶜ-congʳ</a> <a id="7294" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a><a id="7301" class="Symbol">)</a> <a id="7303" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="7311" class="Symbol">(</a><a id="7312" href="Graded.Heap.Usage.Properties.html#7164" class="Bound">γ</a> <a id="7314" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7317" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7319" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7322" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a><a id="7323" class="Symbol">)</a> <a id="7325" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7328" class="Symbol">(</a><a id="7329" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7331" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="7333" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7335" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="7337" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="7338" class="Symbol">)</a> <a id="7340" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7343" href="Graded.Heap.Usage.Properties.html#7168" class="Bound">δ</a> <a id="7345" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="7353" class="Keyword">where</a>
      <a id="7365" class="Keyword">open</a> <a id="7370" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="7374" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>
    <a id="7387" href="Graded.Heap.Usage.Properties.html#7387" class="Function">lemma₁</a> <a id="7394" class="Symbol">:</a> <a id="7396" class="Symbol">∀</a> <a id="7398" class="Symbol">{</a><a id="7399" href="Graded.Heap.Usage.Properties.html#7399" class="Bound">n</a><a id="7400" class="Symbol">}</a> <a id="7402" class="Symbol">{</a><a id="7403" href="Graded.Heap.Usage.Properties.html#7403" class="Bound">γ</a> <a id="7405" href="Graded.Heap.Usage.Properties.html#7405" class="Bound">δ</a> <a id="7407" href="Graded.Heap.Usage.Properties.html#7407" class="Bound">η</a> <a id="7409" class="Symbol">:</a> <a id="7411" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="7416" href="Graded.Heap.Usage.Properties.html#7399" class="Bound">n</a><a id="7417" class="Symbol">}</a> <a id="7419" class="Symbol">→</a> <a id="7421" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7423" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7425" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7427" class="Symbol">→</a> <a id="7429" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7431" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7433" href="Graded.Modality.html#995" class="Function">𝟘</a>
           <a id="7446" class="Symbol">→</a> <a id="7448" href="Graded.Heap.Usage.Properties.html#7403" class="Bound">γ</a> <a id="7450" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7453" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="7455" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7458" href="Graded.Heap.Usage.Properties.html#7405" class="Bound">δ</a> <a id="7460" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="7463" class="Symbol">(</a><a id="7464" href="Graded.Heap.Usage.Properties.html#7403" class="Bound">γ</a> <a id="7466" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7469" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7471" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7474" href="Graded.Heap.Usage.Properties.html#7407" class="Bound">η</a><a id="7475" class="Symbol">)</a> <a id="7477" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7480" class="Symbol">(</a><a id="7481" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="7483" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="7485" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7487" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="7489" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="7490" class="Symbol">)</a> <a id="7492" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7495" href="Graded.Heap.Usage.Properties.html#7407" class="Bound">η</a>
    <a id="7501" href="Graded.Heap.Usage.Properties.html#7387" class="Function">lemma₁</a> <a id="7508" class="Symbol">{</a><a id="7509" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a><a id="7510" class="Symbol">}</a> <a id="7512" class="Symbol">{</a><a id="7513" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a><a id="7514" class="Symbol">}</a> <a id="7516" class="Symbol">{</a><a id="7517" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a><a id="7518" class="Symbol">}</a> <a id="7520" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7525" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7530" class="Symbol">=</a> <a id="7532" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7544" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a> <a id="7546" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7549" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="7551" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7554" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a>                        <a id="7579" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7582" href="Graded.Heap.Usage.Properties.html#6576" class="Function">lemma₀′</a> <a id="7590" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="7598" class="Symbol">(</a><a id="7599" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a> <a id="7601" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7604" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7606" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7609" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a><a id="7610" class="Symbol">)</a> <a id="7612" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7615" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7617" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7620" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a>            <a id="7633" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7636" href="Graded.Context.Properties.Addition.html#2458" class="Function">+ᶜ-cong</a> <a id="7644" class="Symbol">(</a><a id="7645" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7654" class="Symbol">(</a><a id="7655" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="7664" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a><a id="7665" class="Symbol">))</a> <a id="7668" class="Symbol">(</a><a id="7669" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="7678" href="Graded.Heap.Usage.Properties.html#7513" class="Bound">δ</a><a id="7679" class="Symbol">)</a> <a id="7681" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="7689" class="Symbol">(</a><a id="7690" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a> <a id="7692" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7695" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="7697" class="Symbol">)</a> <a id="7699" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7702" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>                    <a id="7724" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="7728" href="Graded.Context.Properties.Addition.html#2458" class="Function">+ᶜ-cong</a> <a id="7736" class="Symbol">(</a><a id="7737" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7746" class="Symbol">(</a><a id="7747" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="7756" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a><a id="7757" class="Symbol">))</a> <a id="7760" class="Symbol">(</a><a id="7761" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="7770" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a><a id="7771" class="Symbol">)</a> <a id="7773" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="7781" class="Symbol">(</a><a id="7782" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a> <a id="7784" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7787" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7789" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7792" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a><a id="7793" class="Symbol">)</a> <a id="7795" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7798" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7800" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7803" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a>            <a id="7816" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7819" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7828" class="Symbol">(</a><a id="7829" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">·ᶜ-congʳ</a> <a id="7838" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a><a id="7845" class="Symbol">)</a> <a id="7847" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="7855" class="Symbol">(</a><a id="7856" href="Graded.Heap.Usage.Properties.html#7509" class="Bound">γ</a> <a id="7858" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7861" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7863" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7866" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a><a id="7867" class="Symbol">)</a> <a id="7869" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7872" class="Symbol">(</a><a id="7873" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7875" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="7877" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="7879" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="7881" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="7882" class="Symbol">)</a> <a id="7884" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7887" href="Graded.Heap.Usage.Properties.html#7517" class="Bound">η</a> <a id="7889" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="7897" class="Keyword">where</a>
      <a id="7909" class="Keyword">open</a> <a id="7914" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="7918" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>
    <a id="7931" href="Graded.Heap.Usage.Properties.html#7931" class="Function">lemma₂</a> <a id="7938" class="Symbol">:</a> <a id="7940" class="Symbol">∀</a> <a id="7942" class="Symbol">{</a><a id="7943" href="Graded.Heap.Usage.Properties.html#7943" class="Bound">n</a><a id="7944" class="Symbol">}</a> <a id="7946" class="Symbol">{</a><a id="7947" href="Graded.Heap.Usage.Properties.html#7947" class="Bound">γ</a> <a id="7949" href="Graded.Heap.Usage.Properties.html#7949" class="Bound">δ</a> <a id="7951" href="Graded.Heap.Usage.Properties.html#7951" class="Bound">η</a> <a id="7953" class="Symbol">:</a> <a id="7955" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="7960" href="Graded.Heap.Usage.Properties.html#7943" class="Bound">n</a><a id="7961" class="Symbol">}</a> <a id="7963" class="Symbol">→</a> <a id="7965" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="7967" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7969" href="Graded.Modality.html#995" class="Function">𝟘</a>
           <a id="7982" class="Symbol">→</a> <a id="7984" href="Graded.Heap.Usage.Properties.html#7947" class="Bound">γ</a> <a id="7986" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="7989" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="7991" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="7994" href="Graded.Heap.Usage.Properties.html#7949" class="Bound">δ</a> <a id="7996" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="7999" class="Symbol">(</a><a id="8000" href="Graded.Heap.Usage.Properties.html#7947" class="Bound">γ</a> <a id="8002" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8005" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8007" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8010" href="Graded.Heap.Usage.Properties.html#7951" class="Bound">η</a><a id="8011" class="Symbol">)</a> <a id="8013" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8016" class="Symbol">(</a><a id="8017" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8019" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8021" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8023" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8025" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8026" class="Symbol">)</a> <a id="8028" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8031" href="Graded.Heap.Usage.Properties.html#7949" class="Bound">δ</a>
    <a id="8037" href="Graded.Heap.Usage.Properties.html#7931" class="Function">lemma₂</a> <a id="8044" class="Symbol">{</a><a id="8045" href="Graded.Heap.Usage.Properties.html#8045" class="Bound">γ</a><a id="8046" class="Symbol">}</a> <a id="8048" class="Symbol">{</a><a id="8049" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a><a id="8050" class="Symbol">}</a> <a id="8052" class="Symbol">{</a><a id="8053" href="Graded.Heap.Usage.Properties.html#8053" class="Bound">η</a><a id="8054" class="Symbol">}</a> <a id="8056" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8061" class="Symbol">=</a> <a id="8063" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="8075" href="Graded.Heap.Usage.Properties.html#8045" class="Bound">γ</a> <a id="8077" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8080" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="8082" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8085" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a> <a id="8087" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="8090" href="Graded.Heap.Usage.Properties.html#7071" class="Function">lemma₀</a> <a id="8097" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="8105" class="Symbol">(</a><a id="8106" href="Graded.Heap.Usage.Properties.html#8045" class="Bound">γ</a> <a id="8108" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8111" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8113" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8116" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a><a id="8117" class="Symbol">)</a> <a id="8119" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8122" class="Symbol">(</a><a id="8123" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8125" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8127" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8129" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8131" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8132" class="Symbol">)</a> <a id="8134" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8137" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a> <a id="8139" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8142" href="Graded.Context.Properties.Addition.html#2746" class="Function">+ᶜ-congʳ</a> <a id="8151" class="Symbol">(</a><a id="8152" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="8161" class="Symbol">(</a><a id="8162" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8171" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a><a id="8172" class="Symbol">))</a> <a id="8175" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="8183" class="Symbol">(</a><a id="8184" href="Graded.Heap.Usage.Properties.html#8045" class="Bound">γ</a> <a id="8186" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8189" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="8191" class="Symbol">)</a> <a id="8193" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8196" class="Symbol">(</a><a id="8197" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8199" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8201" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8203" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8205" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8206" class="Symbol">)</a> <a id="8208" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8211" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a>     <a id="8217" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="8221" href="Graded.Context.Properties.Addition.html#2746" class="Function">+ᶜ-congʳ</a> <a id="8230" class="Symbol">(</a><a id="8231" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="8240" class="Symbol">(</a><a id="8241" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8250" href="Graded.Heap.Usage.Properties.html#8053" class="Bound">η</a><a id="8251" class="Symbol">))</a> <a id="8254" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="8262" class="Symbol">(</a><a id="8263" href="Graded.Heap.Usage.Properties.html#8045" class="Bound">γ</a> <a id="8265" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8268" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8270" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8273" href="Graded.Heap.Usage.Properties.html#8053" class="Bound">η</a><a id="8274" class="Symbol">)</a> <a id="8276" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8279" class="Symbol">(</a><a id="8280" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8282" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8284" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8286" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8288" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8289" class="Symbol">)</a> <a id="8291" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8294" href="Graded.Heap.Usage.Properties.html#8049" class="Bound">δ</a> <a id="8296" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="8304" class="Keyword">where</a>
      <a id="8316" class="Keyword">open</a> <a id="8321" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="8325" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>
    <a id="8338" href="Graded.Heap.Usage.Properties.html#8338" class="Function">lemma₃</a> <a id="8345" class="Symbol">:</a> <a id="8347" class="Symbol">∀</a> <a id="8349" class="Symbol">{</a><a id="8350" href="Graded.Heap.Usage.Properties.html#8350" class="Bound">n</a><a id="8351" class="Symbol">}</a> <a id="8353" class="Symbol">{</a><a id="8354" href="Graded.Heap.Usage.Properties.html#8354" class="Bound">γ</a> <a id="8356" href="Graded.Heap.Usage.Properties.html#8356" class="Bound">δ</a> <a id="8358" href="Graded.Heap.Usage.Properties.html#8358" class="Bound">η</a> <a id="8360" class="Symbol">:</a> <a id="8362" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="8367" href="Graded.Heap.Usage.Properties.html#8350" class="Bound">n</a><a id="8368" class="Symbol">}</a> <a id="8370" class="Symbol">→</a> <a id="8372" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8374" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8376" href="Graded.Modality.html#995" class="Function">𝟘</a>
           <a id="8389" class="Symbol">→</a> <a id="8391" href="Graded.Heap.Usage.Properties.html#8354" class="Bound">γ</a> <a id="8393" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8396" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="8398" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8401" href="Graded.Heap.Usage.Properties.html#8356" class="Bound">δ</a> <a id="8403" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="8406" class="Symbol">(</a><a id="8407" href="Graded.Heap.Usage.Properties.html#8354" class="Bound">γ</a> <a id="8409" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8412" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8414" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8417" href="Graded.Heap.Usage.Properties.html#8356" class="Bound">δ</a><a id="8418" class="Symbol">)</a> <a id="8420" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8423" class="Symbol">(</a><a id="8424" href="Graded.Heap.Usage.Properties.html#4758" class="Bound">r</a> <a id="8426" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8428" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8430" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8432" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8433" class="Symbol">)</a> <a id="8435" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8438" href="Graded.Heap.Usage.Properties.html#8358" class="Bound">η</a>
    <a id="8444" href="Graded.Heap.Usage.Properties.html#8338" class="Function">lemma₃</a> <a id="8451" class="Symbol">{</a><a id="8452" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a><a id="8453" class="Symbol">}</a> <a id="8455" class="Symbol">{</a><a id="8456" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8457" class="Symbol">}</a> <a id="8459" class="Symbol">{</a><a id="8460" href="Graded.Heap.Usage.Properties.html#8460" class="Bound">η</a><a id="8461" class="Symbol">}</a> <a id="8463" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8468" class="Symbol">=</a> <a id="8470" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="8482" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a> <a id="8484" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8487" href="Graded.Heap.Usage.Properties.html#4791" class="Bound">p</a> <a id="8489" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8492" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a>                        <a id="8517" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="8520" href="Graded.Heap.Usage.Properties.html#6576" class="Function">lemma₀′</a> <a id="8528" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="8536" class="Symbol">(</a><a id="8537" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a> <a id="8539" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8542" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8544" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8547" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8548" class="Symbol">)</a> <a id="8550" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8553" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8555" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8558" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a>            <a id="8571" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8574" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="8583" class="Symbol">(</a><a id="8584" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8593" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8594" class="Symbol">)</a> <a id="8596" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="8604" class="Symbol">(</a><a id="8605" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a> <a id="8607" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8610" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8612" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8615" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8616" class="Symbol">)</a> <a id="8618" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8621" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a>                <a id="8639" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="8643" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="8652" class="Symbol">(</a><a id="8653" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8662" href="Graded.Heap.Usage.Properties.html#8460" class="Bound">η</a><a id="8663" class="Symbol">)</a> <a id="8665" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="8673" class="Symbol">(</a><a id="8674" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a> <a id="8676" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8679" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8681" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8684" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8685" class="Symbol">)</a> <a id="8687" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8690" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8692" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8695" href="Graded.Heap.Usage.Properties.html#8460" class="Bound">η</a>            <a id="8708" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8711" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="8720" class="Symbol">(</a><a id="8721" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">·ᶜ-congʳ</a> <a id="8730" href="Graded.Heap.Usage.Properties.html#6216" class="Function">r≡r+q·𝟘</a><a id="8737" class="Symbol">)</a> <a id="8739" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="8747" class="Symbol">(</a><a id="8748" href="Graded.Heap.Usage.Properties.html#8452" class="Bound">γ</a> <a id="8750" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8753" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8755" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8758" href="Graded.Heap.Usage.Properties.html#8456" class="Bound">δ</a><a id="8759" class="Symbol">)</a> <a id="8761" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="8764" class="Symbol">(</a><a id="8765" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="8767" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="8769" href="Graded.Heap.Usage.Properties.html#4754" class="Bound">q</a> <a id="8771" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="8773" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="8774" class="Symbol">)</a> <a id="8776" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8779" href="Graded.Heap.Usage.Properties.html#8460" class="Bound">η</a> <a id="8781" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="8789" class="Keyword">where</a>
      <a id="8801" class="Keyword">open</a> <a id="8806" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="8810" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>

  <a id="8822" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="8835" class="Symbol">{</a><a id="8836" class="Argument">H</a> <a id="8838" class="Symbol">=</a> <a id="8840" href="Graded.Heap.Usage.Properties.html#8840" class="Bound">H</a> <a id="8842" href="Graded.Heap.Untyped.html#7419" class="InductiveConstructor Operator">∙</a> <a id="8844" class="Symbol">(</a><a id="8845" href="Graded.Heap.Usage.Properties.html#8845" class="Bound">p′</a> <a id="8848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8850" href="Graded.Heap.Usage.Properties.html#8850" class="Bound">u</a> <a id="8852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8854" href="Graded.Heap.Usage.Properties.html#8854" class="Bound">ρ</a><a id="8855" class="Symbol">)}</a> <a id="8858" class="Symbol">{</a><a id="8859" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="8861" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="8863" class="Symbol">}</a> <a id="8865" class="Symbol">{</a><a id="8866" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a><a id="8867" class="Symbol">}</a> <a id="8869" class="Symbol">{</a><a id="8870" class="Argument">γ</a> <a id="8872" class="Symbol">=</a> <a id="8874" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="8876" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="8878" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a><a id="8879" class="Symbol">}</a> <a id="8881" class="Symbol">{</a><a id="8882" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="8883" class="Symbol">}</a>
    <a id="8889" class="Symbol">(</a><a id="8890" href="Graded.Heap.Untyped.html#8150" class="InductiveConstructor">there</a> <a id="8896" class="Symbol">{</a><a id="8897" class="Argument">c</a> <a id="8899" class="Symbol">=</a> <a id="8901" class="Symbol">_</a> <a id="8903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8905" href="Graded.Heap.Usage.Properties.html#8905" class="Bound">ρ′</a><a id="8907" class="Symbol">}</a> <a id="8909" href="Graded.Heap.Usage.Properties.html#8909" class="Bound">d</a><a id="8910" class="Symbol">)</a> <a id="8912" class="Symbol">(</a><a id="8913" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">_∙_</a> <a id="8917" class="Symbol">{</a><a id="8918" href="Graded.Heap.Usage.Properties.html#8918" class="Bound">δ</a><a id="8919" class="Symbol">}</a> <a id="8921" href="Graded.Heap.Usage.Properties.html#8921" class="Bound">▸H</a> <a id="8924" class="Symbol">(</a><a id="8925" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="8928" href="Graded.Heap.Usage.Properties.html#8928" class="Bound">▸u</a> <a id="8931" href="Graded.Heap.Usage.Properties.html#8931" class="Bound">p′≤p</a><a id="8935" class="Symbol">))</a> <a id="8938" href="Graded.Heap.Usage.Properties.html#8938" class="Bound">γ⟨y⟩-q≤r</a> <a id="8947" class="Symbol">=</a>
    <a id="8953" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="8958" href="Graded.Modality.Properties.Subtraction.html#4077" class="Function">p+q-r≤p-r+q</a> <a id="8970" href="Graded.Heap.Usage.Properties.html#8938" class="Bound">γ⟨y⟩-q≤r</a> <a id="8979" class="Symbol">((</a><a id="8981" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="8983" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="8986" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="8993" href="Graded.Heap.Usage.Properties.html#8854" class="Bound">ρ</a> <a id="8995" href="Graded.Heap.Usage.Properties.html#8918" class="Bound">δ</a><a id="8996" class="Symbol">)</a> <a id="8998" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9000" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9002" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="9003" class="Symbol">)</a> <a id="9005" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9008" class="Symbol">λ</a>
      <a id="9016" href="Graded.Heap.Usage.Properties.html#9016" class="Bound">γ⟨y⟩+pδ⟨y⟩-q≤pδ⟨y⟩+r</a> <a id="9037" class="Symbol">→</a>
    <a id="9043" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9048" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="9054" class="Symbol">(</a><a id="9055" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">_-</a> <a id="9058" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9060" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="9062" class="Symbol">((</a><a id="9064" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9066" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9069" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="9076" href="Graded.Heap.Usage.Properties.html#8854" class="Bound">ρ</a> <a id="9078" href="Graded.Heap.Usage.Properties.html#8918" class="Bound">δ</a><a id="9079" class="Symbol">)</a> <a id="9081" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9083" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9085" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="9087" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="9089" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9090" class="Symbol">))</a>
           <a id="9104" class="Symbol">(</a><a id="9105" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Graded.Context.Properties.Lookup.html#1765" class="Function">lookup-distrib-+ᶜ</a> <a id="9128" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9130" class="Symbol">(</a><a id="9131" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9133" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9136" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="9143" href="Graded.Heap.Usage.Properties.html#8854" class="Bound">ρ</a> <a id="9145" href="Graded.Heap.Usage.Properties.html#8918" class="Bound">δ</a><a id="9146" class="Symbol">)</a> <a id="9148" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a><a id="9149" class="Symbol">))</a>
           <a id="9163" href="Graded.Heap.Usage.Properties.html#9016" class="Bound">γ⟨y⟩+pδ⟨y⟩-q≤pδ⟨y⟩+r</a> <a id="9184" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9187" class="Symbol">λ</a>
      <a id="9195" href="Graded.Heap.Usage.Properties.html#9195" class="Bound">γ+pδ⟨y⟩-q≤pδ⟨y⟩+r</a> <a id="9213" class="Symbol">→</a>
    <a id="9219" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9224" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="9237" href="Graded.Heap.Usage.Properties.html#8909" class="Bound">d</a> <a id="9239" href="Graded.Heap.Usage.Properties.html#8921" class="Bound">▸H</a> <a id="9242" href="Graded.Heap.Usage.Properties.html#9195" class="Bound">γ+pδ⟨y⟩-q≤pδ⟨y⟩+r</a> <a id="9260" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9263" class="Symbol">λ</a>
      <a id="9271" class="Symbol">(</a><a id="9272" href="Graded.Heap.Usage.Properties.html#9272" class="Bound">δ′</a> <a id="9275" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9277" href="Graded.Heap.Usage.Properties.html#9277" class="Bound">▸t</a> <a id="9280" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9282" href="Graded.Heap.Usage.Properties.html#9282" class="Bound">▸H′</a><a id="9285" class="Symbol">)</a> <a id="9287" class="Symbol">→</a>
    <a id="9293" class="Symbol">_</a> <a id="9295" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9297" href="Graded.Heap.Usage.Properties.html#9277" class="Bound">▸t</a> <a id="9300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9302" href="Graded.Heap.Usage.Properties.html#3371" class="Function">subₕ</a> <a id="9307" href="Graded.Heap.Usage.Properties.html#9282" class="Bound">▸H′</a> <a id="9311" href="Graded.Heap.Usage.Properties.html#9347" class="Function">lemma₁</a> <a id="9318" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="9320" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="9323" href="Graded.Heap.Usage.Properties.html#8928" class="Bound">▸u</a> <a id="9326" href="Graded.Heap.Usage.Properties.html#10434" class="Function">lemma₂</a>
    <a id="9337" class="Keyword">where</a>
    <a id="9347" href="Graded.Heap.Usage.Properties.html#9347" class="Function">lemma₁</a> <a id="9354" class="Symbol">:</a> <a id="9356" class="Symbol">∀</a> <a id="9358" class="Symbol">{</a><a id="9359" href="Graded.Heap.Usage.Properties.html#9359" class="Bound">δ</a> <a id="9361" href="Graded.Heap.Usage.Properties.html#9361" class="Bound">δ′</a><a id="9363" class="Symbol">}</a>
           <a id="9376" class="Symbol">→</a>  <a id="9379" class="Symbol">(</a><a id="9380" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9382" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9385" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9387" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9390" href="Graded.Heap.Usage.Properties.html#9359" class="Bound">δ</a> <a id="9392" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9394" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9396" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9398" class="Symbol">(</a><a id="9399" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9401" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9404" href="Graded.Heap.Usage.Properties.html#9359" class="Bound">δ</a><a id="9405" class="Symbol">)</a> <a id="9407" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9409" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9411" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="9413" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="9415" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9416" class="Symbol">)</a> <a id="9418" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9421" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9423" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9426" href="Graded.Heap.Usage.Properties.html#9361" class="Bound">δ′</a>
           <a id="9440" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="9443" class="Symbol">((</a><a id="9445" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9447" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9449" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9451" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9453" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9454" class="Symbol">)</a> <a id="9456" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9459" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9461" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9464" href="Graded.Heap.Usage.Properties.html#9361" class="Bound">δ′</a><a id="9466" class="Symbol">)</a> <a id="9468" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9471" class="Symbol">(</a><a id="9472" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9474" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="9476" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9478" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="9480" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="9481" class="Symbol">)</a> <a id="9483" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9486" href="Graded.Heap.Usage.Properties.html#9359" class="Bound">δ</a>
    <a id="9492" href="Graded.Heap.Usage.Properties.html#9347" class="Function">lemma₁</a> <a id="9499" class="Symbol">{</a><a id="9500" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9501" class="Symbol">}</a> <a id="9503" class="Symbol">{</a><a id="9504" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="9506" class="Symbol">}</a> <a id="9508" class="Symbol">=</a> <a id="9510" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="9522" class="Symbol">(</a><a id="9523" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9525" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9528" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9530" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9533" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a> <a id="9535" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9537" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9539" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9541" class="Symbol">(</a><a id="9542" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9544" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9547" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9548" class="Symbol">)</a> <a id="9550" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9552" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9554" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="9556" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="9558" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9559" class="Symbol">)</a> <a id="9561" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9564" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9566" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9569" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a>
        <a id="9580" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9583" href="Graded.Context.Properties.Addition.html#2746" class="Function">+ᶜ-congʳ</a> <a id="9592" class="Symbol">(</a><a id="9593" href="Graded.Context.Properties.Update.html#3392" class="Function">update-congʳ</a> <a id="9606" class="Symbol">(</a><a id="9607" href="Algebra.Structures.html#13444" class="Function">+-comm</a> <a id="9614" class="Symbol">_</a> <a id="9616" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9617" class="Symbol">))</a> <a id="9620" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="9628" class="Symbol">(</a><a id="9629" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9631" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9634" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9636" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9639" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a> <a id="9641" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9643" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9645" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9647" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a> <a id="9649" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="9651" class="Symbol">(</a><a id="9652" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9654" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9657" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9658" class="Symbol">)</a> <a id="9660" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9662" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9664" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="9665" class="Symbol">)</a> <a id="9667" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9670" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9672" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9675" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a>
        <a id="9686" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9689" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="9694" class="Symbol">(</a><a id="9695" href="Graded.Context.html#1574" class="Function Operator">_+ᶜ</a> <a id="9699" class="Symbol">_)</a> <a id="9702" class="Symbol">(</a><a id="9703" href="Graded.Context.Properties.Update.html#3879" class="Function">update-distrib-+ᶜ</a> <a id="9721" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9723" class="Symbol">(</a><a id="9724" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9726" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9729" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9730" class="Symbol">)</a> <a id="9732" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a> <a id="9734" class="Symbol">_</a> <a id="9736" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a><a id="9737" class="Symbol">)</a> <a id="9739" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="9747" class="Symbol">((</a><a id="9749" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9751" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9753" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9755" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9757" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9758" class="Symbol">)</a> <a id="9760" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9763" class="Symbol">(</a><a id="9764" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9766" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9769" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a> <a id="9771" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9773" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9775" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9777" class="Symbol">(</a><a id="9778" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9780" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9783" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9784" class="Symbol">)</a> <a id="9786" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="9788" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9790" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="9791" class="Symbol">))</a> <a id="9794" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9797" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9799" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9802" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a>
        <a id="9813" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9816" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="9821" class="Symbol">(λ</a> <a id="9824" href="Graded.Heap.Usage.Properties.html#9824" class="Bound">x</a> <a id="9826" class="Symbol">→</a> <a id="9828" class="Symbol">(_</a> <a id="9831" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9834" href="Graded.Heap.Usage.Properties.html#9824" class="Bound">x</a><a id="9835" class="Symbol">)</a> <a id="9837" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9840" class="Symbol">_)</a> <a id="9843" class="Symbol">(</a><a id="9844" href="Graded.Context.Properties.Update.html#997" class="Function">update-self</a> <a id="9856" class="Symbol">(</a><a id="9857" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9859" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9862" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9863" class="Symbol">)</a> <a id="9865" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a><a id="9866" class="Symbol">)</a> <a id="9868" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="9876" class="Symbol">((</a><a id="9878" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9880" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9882" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9884" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9886" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9887" class="Symbol">)</a> <a id="9889" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9892" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9894" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9897" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9898" class="Symbol">)</a> <a id="9900" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9903" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9905" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9908" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a>
        <a id="9919" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9922" href="Graded.Context.Properties.Addition.html#1126" class="Function">+ᶜ-assoc</a> <a id="9931" class="Symbol">(</a><a id="9932" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9934" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9936" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9938" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9940" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9941" class="Symbol">)</a> <a id="9943" class="Symbol">(</a><a id="9944" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9946" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9949" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="9950" class="Symbol">)</a> <a id="9952" class="Symbol">(</a><a id="9953" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9955" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9958" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="9960" class="Symbol">)</a> <a id="9962" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="9970" class="Symbol">(</a><a id="9971" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="9973" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="9975" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="9977" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="9979" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="9980" class="Symbol">)</a> <a id="9982" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9985" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="9987" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="9990" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a> <a id="9992" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="9995" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="9997" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10000" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a>
        <a id="10011" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="10014" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="10023" class="Symbol">(</a><a id="10024" href="Graded.Context.Properties.Addition.html#1325" class="Function">+ᶜ-comm</a> <a id="10032" class="Symbol">(</a><a id="10033" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10035" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10038" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="10039" class="Symbol">)</a> <a id="10041" class="Symbol">(</a><a id="10042" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10044" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10047" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="10049" class="Symbol">))</a> <a id="10052" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="10060" class="Symbol">(</a><a id="10061" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="10063" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10065" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="10067" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10069" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="10070" class="Symbol">)</a> <a id="10072" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10075" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10077" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10080" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a> <a id="10083" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10086" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10088" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10091" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a>
        <a id="10101" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="10105" href="Graded.Context.Properties.Addition.html#1126" class="Function">+ᶜ-assoc</a> <a id="10114" class="Symbol">(</a><a id="10115" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="10117" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10119" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="10121" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10123" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="10124" class="Symbol">)</a> <a id="10126" class="Symbol">(</a><a id="10127" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10129" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10132" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="10134" class="Symbol">)</a> <a id="10136" class="Symbol">(</a><a id="10137" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10139" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10142" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a><a id="10143" class="Symbol">)</a> <a id="10145" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="10153" class="Symbol">((</a><a id="10155" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="10157" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10159" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="10161" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10163" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="10164" class="Symbol">)</a> <a id="10166" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10169" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10171" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10174" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="10176" class="Symbol">)</a> <a id="10178" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10181" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10183" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10186" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a>
        <a id="10196" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="10200" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="10209" class="Symbol">(</a><a id="10210" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">·ᶜ-congʳ</a> <a id="10219" class="Symbol">(</a><a id="10220" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="10232" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a><a id="10233" class="Symbol">))</a> <a id="10236" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="10244" class="Symbol">((</a><a id="10246" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="10248" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10250" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="10252" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10254" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="10255" class="Symbol">)</a> <a id="10257" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10260" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10262" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10265" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="10267" class="Symbol">)</a> <a id="10269" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10272" class="Symbol">(</a><a id="10273" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10275" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="10277" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="10278" class="Symbol">)</a> <a id="10280" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10283" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a>
        <a id="10293" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="10297" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="10306" class="Symbol">(</a><a id="10307" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">·ᶜ-congʳ</a> <a id="10316" class="Symbol">(</a><a id="10317" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a> <a id="10325" class="Symbol">(</a><a id="10326" href="Graded.Modality.html#4129" class="Function">·-zeroʳ</a> <a id="10334" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a><a id="10335" class="Symbol">)))</a> <a id="10339" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="10347" class="Symbol">((</a><a id="10349" href="Graded.Heap.Usage.Properties.html#8874" class="Bound">γ</a> <a id="10351" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10353" href="Graded.Heap.Usage.Properties.html#8859" class="Bound">y</a> <a id="10355" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10357" href="Graded.Heap.Usage.Properties.html#8882" class="Bound">r</a><a id="10358" class="Symbol">)</a> <a id="10360" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10363" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10365" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10368" href="Graded.Heap.Usage.Properties.html#9504" class="Bound">δ′</a><a id="10370" class="Symbol">)</a> <a id="10372" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10375" class="Symbol">(</a><a id="10376" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10378" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="10380" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10382" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="10384" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="10385" class="Symbol">)</a> <a id="10387" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10390" href="Graded.Heap.Usage.Properties.html#9500" class="Bound">δ</a> <a id="10392" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="10400" class="Keyword">where</a>
      <a id="10412" class="Keyword">open</a> <a id="10417" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="10421" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a>
    <a id="10434" href="Graded.Heap.Usage.Properties.html#10434" class="Function">lemma₂</a> <a id="10441" class="Symbol">:</a> <a id="10443" href="Graded.Heap.Usage.Properties.html#8845" class="Bound">p′</a> <a id="10446" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="10448" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10450" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="10452" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10454" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="10456" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="10462" href="Graded.Heap.Usage.Properties.html#10434" class="Function">lemma₂</a> <a id="10469" class="Symbol">=</a> <a id="10471" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="10483" href="Graded.Heap.Usage.Properties.html#8845" class="Bound">p′</a>         <a id="10494" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="10497" href="Graded.Heap.Usage.Properties.html#8931" class="Bound">p′≤p</a> <a id="10502" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="10510" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a>          <a id="10521" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="10525" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="10537" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10539" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="10547" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10549" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="10551" href="Graded.Modality.html#995" class="Function">𝟘</a>      <a id="10558" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="10562" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a> <a id="10570" class="Symbol">(</a><a id="10571" href="Graded.Modality.html#4129" class="Function">·-zeroʳ</a> <a id="10579" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a><a id="10580" class="Symbol">)</a> <a id="10582" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="10590" href="Graded.Heap.Usage.Properties.html#8878" class="Bound">p</a> <a id="10592" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="10594" href="Graded.Heap.Usage.Properties.html#8866" class="Bound">q</a> <a id="10596" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="10598" href="Graded.Modality.html#995" class="Function">𝟘</a>  <a id="10601" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="10609" class="Keyword">where</a>
      <a id="10621" class="Keyword">open</a> <a id="10626" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="10630" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>
  <a id="10640" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="10653" class="Symbol">{</a><a id="10654" class="Argument">H</a> <a id="10656" class="Symbol">=</a> <a id="10658" href="Graded.Heap.Usage.Properties.html#10658" class="Bound">H</a> <a id="10660" href="Graded.Heap.Untyped.html#7477" class="InductiveConstructor Operator">∙●</a><a id="10662" class="Symbol">}</a> <a id="10664" class="Symbol">{</a><a id="10665" href="Graded.Heap.Usage.Properties.html#10665" class="Bound">y</a> <a id="10667" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="10669" class="Symbol">}</a> <a id="10671" class="Symbol">{</a><a id="10672" href="Graded.Heap.Usage.Properties.html#10672" class="Bound">q</a><a id="10673" class="Symbol">}</a> <a id="10675" class="Symbol">{</a><a id="10676" href="Graded.Heap.Usage.Properties.html#10676" class="Bound">H′</a><a id="10678" class="Symbol">}</a> <a id="10680" class="Symbol">{</a><a id="10681" class="Argument">γ</a> <a id="10683" class="Symbol">=</a> <a id="10685" href="Graded.Heap.Usage.Properties.html#10685" class="Bound">γ</a> <a id="10687" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="10689" href="Graded.Heap.Usage.Properties.html#10689" class="Bound">p</a><a id="10690" class="Symbol">}</a> <a id="10692" class="Symbol">{</a><a id="10693" href="Graded.Heap.Usage.Properties.html#10693" class="Bound">r</a><a id="10694" class="Symbol">}</a>
      <a id="10702" class="Symbol">(</a><a id="10703" href="Graded.Heap.Untyped.html#8229" class="InductiveConstructor">there●</a> <a id="10710" class="Symbol">{</a><a id="10711" class="Argument">c</a> <a id="10713" class="Symbol">=</a> <a id="10715" class="Symbol">_</a> <a id="10717" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10719" href="Graded.Heap.Usage.Properties.html#10719" class="Bound">ρ′</a><a id="10721" class="Symbol">}</a> <a id="10723" href="Graded.Heap.Usage.Properties.html#10723" class="Bound">d</a><a id="10724" class="Symbol">)</a> <a id="10726" class="Symbol">(</a><a id="10727" href="Graded.Heap.Usage.Properties.html#10727" class="Bound">▸H</a> <a id="10730" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="10732" class="Symbol">)</a> <a id="10734" href="Graded.Heap.Usage.Properties.html#10734" class="Bound">γ⟨y⟩-q≤r</a> <a id="10743" class="Symbol">=</a>
    <a id="10749" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="10754" href="Graded.Heap.Usage.Properties.html#4499" class="Function">▸-heapLookup</a> <a id="10767" href="Graded.Heap.Usage.Properties.html#10723" class="Bound">d</a> <a id="10769" href="Graded.Heap.Usage.Properties.html#10727" class="Bound">▸H</a> <a id="10772" href="Graded.Heap.Usage.Properties.html#10734" class="Bound">γ⟨y⟩-q≤r</a> <a id="10781" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="10784" class="Symbol">λ</a>
      <a id="10792" class="Symbol">(</a><a id="10793" href="Graded.Heap.Usage.Properties.html#10793" class="Bound">δ</a> <a id="10795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10797" href="Graded.Heap.Usage.Properties.html#10797" class="Bound">▸t</a> <a id="10800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10802" href="Graded.Heap.Usage.Properties.html#10802" class="Bound">▸H′</a><a id="10805" class="Symbol">)</a> <a id="10807" class="Symbol">→</a>
    <a id="10813" href="Graded.Heap.Usage.Properties.html#10793" class="Bound">δ</a> <a id="10815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10817" href="Graded.Heap.Usage.Properties.html#10797" class="Bound">▸t</a>
      <a id="10826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10828" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="10834" class="Symbol">(</a><a id="10835" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">_▸ʰ</a> <a id="10839" href="Graded.Heap.Usage.Properties.html#10676" class="Bound">H′</a><a id="10841" class="Symbol">)</a> <a id="10843" class="Symbol">((</a><a id="10845" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10850" class="Symbol">((</a><a id="10852" href="Graded.Heap.Usage.Properties.html#10685" class="Bound">γ</a> <a id="10854" href="Graded.Context.html#1144" class="Function Operator">,</a> <a id="10856" href="Graded.Heap.Usage.Properties.html#10665" class="Bound">y</a> <a id="10858" href="Graded.Context.html#1144" class="Function Operator">≔</a> <a id="10860" href="Graded.Heap.Usage.Properties.html#10693" class="Bound">r</a><a id="10861" class="Symbol">)</a> <a id="10863" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="10866" href="Graded.Heap.Usage.Properties.html#10672" class="Bound">q</a> <a id="10868" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="10871" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="10878" href="Graded.Heap.Usage.Properties.html#10719" class="Bound">ρ′</a> <a id="10881" href="Graded.Heap.Usage.Properties.html#10793" class="Bound">δ</a> <a id="10883" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙_</a><a id="10885" class="Symbol">)</a>
          <a id="10897" class="Symbol">(</a><a id="10898" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="10902" class="Symbol">(</a><a id="10903" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="10909" class="Symbol">(</a><a id="10910" href="Algebra.Structures.html#13356" class="Function">+-identityˡ</a> <a id="10922" class="Symbol">_)</a> <a id="10925" class="Symbol">(</a><a id="10926" href="Graded.Modality.html#4129" class="Function">·-zeroʳ</a> <a id="10934" class="Symbol">_)))))</a> <a id="10941" class="Symbol">(</a><a id="10942" href="Graded.Heap.Usage.Properties.html#10802" class="Bound">▸H′</a> <a id="10946" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="10948" class="Symbol">)</a>

<a id="10951" class="Keyword">opaque</a>

  <a id="10961" class="Comment">-- For well-resourced natrec terms, there is a valid</a>
  <a id="11016" class="Comment">-- choice for the multiplicity.</a>

  <a id="▸natrec→Ok-nr"></a><a id="11051" href="Graded.Heap.Usage.Properties.html#11051" class="Function">▸natrec→Ok-nr</a> <a id="11065" class="Symbol">:</a>
    <a id="11071" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11073" href="Graded.Usage.Restrictions.html#3582" class="Function">Nr-not-available</a> <a id="11090" class="Symbol">→</a>
    <a id="11096" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="11098" href="Graded.Usage.html#8680" class="Datatype Operator">▸[</a> <a id="11101" href="Graded.Heap.Usage.Properties.html#1674" class="Generalizable">m</a> <a id="11103" href="Graded.Usage.html#8680" class="Datatype Operator">]</a> <a id="11105" href="Definition.Untyped.html#1748" class="InductiveConstructor">natrec</a> <a id="11112" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="11114" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="11116" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="11118" href="Graded.Heap.Usage.Properties.html#1727" class="Generalizable">A</a> <a id="11120" href="Graded.Heap.Usage.Properties.html#1729" class="Generalizable">z</a> <a id="11122" href="Graded.Heap.Usage.Properties.html#1731" class="Generalizable">s</a> <a id="11124" href="Graded.Heap.Usage.Properties.html#1733" class="Generalizable">t</a> <a id="11126" class="Symbol">→</a>
    <a id="11132" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="11134" class="Symbol">λ</a> <a id="11136" href="Graded.Heap.Usage.Properties.html#11136" class="Bound">q′</a> <a id="11139" class="Symbol">→</a> <a id="11141" href="Graded.Heap.Untyped.html#3570" class="Datatype">Ok-natrec-multiplicity</a> <a id="11164" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="11166" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="11168" href="Graded.Heap.Usage.Properties.html#11136" class="Bound">q′</a>
  <a id="11173" href="Graded.Heap.Usage.Properties.html#11051" class="Function">▸natrec→Ok-nr</a> <a id="11187" class="Symbol">{</a><a id="11188" href="Graded.Heap.Usage.Properties.html#11188" class="Bound">p</a><a id="11189" class="Symbol">}</a> <a id="11191" class="Symbol">{</a><a id="11192" href="Graded.Heap.Usage.Properties.html#11192" class="Bound">r</a><a id="11193" class="Symbol">}</a> <a id="11195" href="Graded.Heap.Usage.Properties.html#11195" class="Bound">not-ok</a> <a id="11202" href="Graded.Heap.Usage.Properties.html#11202" class="Bound">▸nr</a> <a id="11206" class="Symbol">=</a>
    <a id="11212" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="11217" href="Graded.Usage.Inversion.html#10063" class="Function">inv-usage-natrec</a> <a id="11234" href="Graded.Heap.Usage.Properties.html#11202" class="Bound">▸nr</a> <a id="11238" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="11241" class="Symbol">λ</a> <a id="11243" class="Keyword">where</a>
      <a id="11255" class="Symbol">(</a><a id="11256" href="Graded.Usage.Inversion.html#9791" class="InductiveConstructor">invUsageNatrec</a> <a id="11271" class="Symbol">_</a> <a id="11273" class="Symbol">_</a> <a id="11275" class="Symbol">_</a> <a id="11277" class="Symbol">_</a> <a id="11279" class="Symbol">_</a> <a id="11281" href="Graded.Usage.Inversion.html#9085" class="InductiveConstructor">invUsageNatrecNr</a><a id="11297" class="Symbol">)</a> <a id="11299" class="Symbol">→</a>
        <a id="11309" href="Graded.Modality.html#7469" class="Field">nr₂</a> <a id="11313" href="Graded.Heap.Usage.Properties.html#11188" class="Bound">p</a> <a id="11315" href="Graded.Heap.Usage.Properties.html#11192" class="Bound">r</a> <a id="11317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11319" href="Graded.Heap.Untyped.html#3621" class="InductiveConstructor">Ok-natrec-multiplicity.has-nr</a> <a id="11349" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="11360" class="Symbol">(</a><a id="11361" href="Graded.Usage.Inversion.html#9791" class="InductiveConstructor">invUsageNatrec</a> <a id="11376" class="Symbol">_</a> <a id="11378" class="Symbol">_</a> <a id="11380" class="Symbol">_</a> <a id="11382" class="Symbol">_</a> <a id="11384" class="Symbol">_</a> <a id="11386" class="Symbol">(</a><a id="11387" href="Graded.Usage.Inversion.html#9184" class="InductiveConstructor">invUsageNatrecNoNr</a> <a id="11406" class="Symbol">⦃</a> <a id="11408" class="Symbol">(</a><a id="11409" href="Graded.Heap.Usage.Properties.html#11409" class="Bound">x</a><a id="11410" class="Symbol">)</a> <a id="11412" class="Symbol">⦄</a> <a id="11414" class="Symbol">_</a> <a id="11416" class="Symbol">_</a> <a id="11418" class="Symbol">_</a> <a id="11420" class="Symbol">_))</a> <a id="11424" class="Symbol">→</a>
        <a id="11434" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="11441" class="Symbol">(</a><a id="11442" href="Graded.Heap.Usage.Properties.html#11195" class="Bound">not-ok</a> <a id="11449" href="Graded.Heap.Usage.Properties.html#11409" class="Bound">x</a><a id="11450" class="Symbol">)</a>
      <a id="11458" class="Symbol">(</a><a id="11459" href="Graded.Usage.Inversion.html#9791" class="InductiveConstructor">invUsageNatrec</a> <a id="11474" class="Symbol">_</a> <a id="11476" class="Symbol">_</a> <a id="11478" class="Symbol">_</a> <a id="11480" class="Symbol">_</a> <a id="11482" class="Symbol">_</a> <a id="11484" class="Symbol">(</a><a id="11485" href="Graded.Usage.Inversion.html#9439" class="InductiveConstructor">invUsageNatrecNoNrGLB</a> <a id="11507" href="Graded.Heap.Usage.Properties.html#11507" class="Bound">x-glb</a> <a id="11513" class="Symbol">_))</a> <a id="11517" class="Symbol">→</a>
        <a id="11527" class="Symbol">_</a> <a id="11529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11531" href="Graded.Heap.Untyped.html#3711" class="InductiveConstructor">no-nr</a> <a id="11537" href="Graded.Heap.Usage.Properties.html#11507" class="Bound">x-glb</a>

<a id="11544" class="Keyword">opaque</a>

  <a id="11554" class="Comment">-- An invariant of InvUsageNatrecₑ</a>

  <a id="InvUsageNatrecₑ-≤"></a><a id="11592" href="Graded.Heap.Usage.Properties.html#11592" class="Function">InvUsageNatrecₑ-≤</a> <a id="11610" class="Symbol">:</a> <a id="11612" href="Graded.Heap.Usage.Inversion.html#5034" class="Datatype">InvUsageNatrecₑ</a> <a id="11628" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="11630" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="11632" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="11634" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="11636" href="Graded.Heap.Usage.Properties.html#1647" class="Generalizable">δ</a> <a id="11638" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="11640" href="Graded.Heap.Usage.Properties.html#1649" class="Generalizable">η</a> <a id="11642" class="Symbol">→</a> <a id="11644" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="11646" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="11648" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="11650" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="11652" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="11654" href="Graded.Modality.html#975" class="Function Operator">·</a> <a id="11656" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="11658" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11660" href="Graded.Heap.Usage.Properties.html#1649" class="Generalizable">η</a> <a id="11662" href="Graded.Context.html#1928" class="Function Operator">≤ᶜ</a> <a id="11665" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="11672" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="11674" href="Graded.Heap.Usage.Properties.html#1647" class="Generalizable">δ</a> <a id="11676" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="11679" href="Graded.Heap.Usage.Properties.html#1666" class="Generalizable">r</a> <a id="11681" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="11684" href="Graded.Heap.Usage.Properties.html#1649" class="Generalizable">η</a>
  <a id="11688" href="Graded.Heap.Usage.Properties.html#11592" class="Function">InvUsageNatrecₑ-≤</a> <a id="11706" class="Symbol">{</a><a id="11707" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a><a id="11708" class="Symbol">}</a> <a id="11710" class="Symbol">{</a><a id="11711" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a><a id="11712" class="Symbol">}</a> <a id="11714" class="Symbol">{</a><a id="11715" href="Graded.Heap.Usage.Properties.html#11715" class="Bound">q</a><a id="11716" class="Symbol">}</a> <a id="11718" class="Symbol">{</a><a id="11719" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a><a id="11720" class="Symbol">}</a> <a id="11722" class="Symbol">{</a><a id="11723" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a><a id="11724" class="Symbol">}</a> <a id="11726" class="Symbol">{</a><a id="11727" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a><a id="11728" class="Symbol">}</a> <a id="11730" class="Symbol">=</a> <a id="11732" class="Symbol">λ</a> <a id="11734" class="Keyword">where</a>
    <a id="11744" class="Symbol">(</a><a id="11745" href="Graded.Heap.Usage.Inversion.html#5121" class="InductiveConstructor">invUsageNatrecNr</a> <a id="11762" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11766" class="Symbol">)</a> <a id="11768" class="Symbol">→</a> <a id="11770" href="Graded.Modality.Properties.Natrec.html#1797" class="Function">nr₂≤</a>  <a id="11776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11778" class="Symbol">(</a><a id="11779" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="11791" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="11798" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="11800" class="Symbol">(</a><a id="11801" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="11805" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="11807" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="11809" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="11811" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="11813" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="11815" class="Symbol">)</a>                      <a id="11838" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="11841" href="Graded.Context.Weakening.html#3514" class="Function">wk-≤ᶜ</a> <a id="11847" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="11849" href="Graded.Context.Properties.Natrec.html#3049" class="Function">nrᶜ-suc</a> <a id="11857" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="11865" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="11872" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="11874" class="Symbol">(</a><a id="11875" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="11877" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="11880" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="11882" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="11885" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="11888" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="11891" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="11893" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="11896" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="11900" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="11902" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="11904" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="11906" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="11908" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="11910" class="Symbol">)</a> <a id="11912" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11915" href="Graded.Context.Weakening.html#2943" class="Function">wk-≈ᶜ</a> <a id="11921" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="11923" class="Symbol">(</a><a id="11924" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="11933" class="Symbol">(</a><a id="11934" href="Graded.Context.Properties.Addition.html#2746" class="Function">+ᶜ-congʳ</a> <a id="11943" class="Symbol">(</a><a id="11944" href="Graded.Context.Properties.Multiplication.html#1091" class="Function">·ᶜ-zeroʳ</a> <a id="11953" class="Symbol">_)))</a> <a id="11958" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="11966" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="11973" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="11975" class="Symbol">(</a><a id="11976" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="11978" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="11981" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a> <a id="11984" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="11987" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="11989" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="11992" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="11996" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="11998" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12000" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="12002" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12004" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="12006" class="Symbol">)</a>      <a id="12013" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12016" href="Graded.Context.Weakening.html#2943" class="Function">wk-≈ᶜ</a> <a id="12022" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12024" class="Symbol">(</a><a id="12025" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="12034" class="Symbol">(</a><a id="12035" href="Graded.Context.Properties.Addition.html#738" class="Function">+ᶜ-identityˡ</a> <a id="12048" class="Symbol">_))</a> <a id="12052" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="12060" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12067" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12069" class="Symbol">(</a><a id="12070" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12072" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12075" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12077" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12080" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="12084" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="12086" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12088" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="12090" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12092" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="12094" class="Symbol">)</a>            <a id="12107" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12110" href="Graded.Context.Weakening.html#1428" class="Function">wk-+ᶜ</a> <a id="12116" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12118" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="12126" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12133" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12135" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12137" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12140" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12147" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12149" class="Symbol">(</a><a id="12150" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12152" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12155" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="12159" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="12161" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12163" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="12165" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12167" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="12169" class="Symbol">)</a>   <a id="12173" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12176" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="12185" class="Symbol">(</a><a id="12186" href="Graded.Context.Weakening.html#1725" class="Function">wk-·ᶜ</a> <a id="12192" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a><a id="12193" class="Symbol">)</a> <a id="12195" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="12203" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12210" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12212" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12214" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12217" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12219" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12222" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12229" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12231" class="Symbol">(</a><a id="12232" href="Graded.Context.html#2083" class="Function">nrᶜ</a> <a id="12236" href="Graded.Heap.Usage.Properties.html#11707" class="Bound">p</a> <a id="12238" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12240" href="Graded.Heap.Usage.Properties.html#11719" class="Bound">γ</a> <a id="12242" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12244" href="Graded.Context.html#2571" class="Function">𝟘ᶜ</a><a id="12246" class="Symbol">)</a>   <a id="12250" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="12251" class="Symbol">)</a>
    <a id="12257" class="Symbol">(</a><a id="12258" href="Graded.Heap.Usage.Inversion.html#5252" class="InductiveConstructor">invUsageNatrecNoNr</a> <a id="12277" class="Symbol">{</a><a id="12278" href="Graded.Heap.Usage.Properties.html#12278" class="Bound">χ</a><a id="12279" class="Symbol">}</a> <a id="12281" href="Graded.Heap.Usage.Properties.html#12281" class="Bound">x-glb</a> <a id="12287" href="Graded.Heap.Usage.Properties.html#12287" class="Bound">χ-glb</a><a id="12292" class="Symbol">)</a> <a id="12294" class="Symbol">→</a> <a id="12296" href="Graded.Modality.Properties.Natrec.html#4754" class="Function">nrᵢ-GLB-≤</a> <a id="12306" href="Graded.Heap.Usage.Properties.html#12281" class="Bound">x-glb</a> <a id="12312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12314" class="Symbol">(</a><a id="12315" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="12327" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12334" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12336" href="Graded.Heap.Usage.Properties.html#12278" class="Bound">χ</a>                      <a id="12359" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="12362" href="Graded.Context.Weakening.html#3514" class="Function">wk-≤ᶜ</a> <a id="12368" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12370" class="Symbol">(</a><a id="12371" href="Graded.Context.Properties.html#18931" class="Function">nrᵢᶜ-GLBᶜ-≤ᶜ</a> <a id="12384" href="Graded.Heap.Usage.Properties.html#12287" class="Bound">χ-glb</a><a id="12389" class="Symbol">)</a> <a id="12391" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="12399" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12406" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12408" class="Symbol">(</a><a id="12409" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12411" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12414" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12416" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12419" href="Graded.Heap.Usage.Properties.html#12278" class="Bound">χ</a><a id="12420" class="Symbol">)</a>          <a id="12431" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12434" href="Graded.Context.Weakening.html#1428" class="Function">wk-+ᶜ</a> <a id="12440" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12442" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="12450" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12457" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12459" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12461" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12464" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12471" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12473" class="Symbol">(</a><a id="12474" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12476" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12479" href="Graded.Heap.Usage.Properties.html#12278" class="Bound">χ</a><a id="12480" class="Symbol">)</a> <a id="12482" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12485" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="12494" class="Symbol">(</a><a id="12495" href="Graded.Context.Weakening.html#1725" class="Function">wk-·ᶜ</a> <a id="12501" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a><a id="12502" class="Symbol">)</a> <a id="12504" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="12512" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12519" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12521" href="Graded.Heap.Usage.Properties.html#11723" class="Bound">δ</a> <a id="12523" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="12526" href="Graded.Heap.Usage.Properties.html#11711" class="Bound">r</a> <a id="12528" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="12531" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="12538" href="Graded.Heap.Usage.Properties.html#11727" class="Bound">ρ</a> <a id="12540" href="Graded.Heap.Usage.Properties.html#12278" class="Bound">χ</a>   <a id="12544" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="12545" class="Symbol">)</a>
      <a id="12553" class="Keyword">where</a>
      <a id="12565" class="Keyword">open</a> <a id="12570" href="Graded.Context.Properties.PartialOrder.html#2065" class="Module">≤ᶜ-reasoning</a>

<a id="12584" class="Comment">-- Some properties proven under some assumptions about erased matches</a>

<a id="12655" class="Keyword">module</a> <a id="12662" href="Graded.Heap.Usage.Properties.html#12662" class="Module">_</a> <a id="12664" class="Symbol">(</a><a id="12665" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="12669" class="Symbol">:</a> <a id="12671" href="Graded.Restrictions.html#13793" class="Function">No-erased-matches′</a> <a id="12690" href="Graded.Heap.Usage.Properties.html#437" class="Bound">type-variant</a> <a id="12703" href="Graded.Heap.Usage.Properties.html#469" class="Bound">UR</a><a id="12705" class="Symbol">)</a> <a id="12707" class="Keyword">where</a>

  <a id="12716" class="Keyword">opaque</a>

    <a id="12728" class="Comment">-- The multiplicity of a well-resourced eliminator is not zero</a>

    <a id="12796" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="12803" class="Symbol">:</a> <a id="12805" class="Symbol">⦃</a> <a id="12807" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="12829" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="12831" href="Graded.Modality.html#9767" class="Function">semiring-with-meet</a> <a id="12850" class="Symbol">⦄</a>
           <a id="12863" class="Symbol">→</a> <a id="12865" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="12867" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">▸ᵉ[</a> <a id="12871" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12874" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="12876" href="Graded.Heap.Usage.Properties.html#1776" class="Generalizable">e</a> <a id="12878" class="Symbol">→</a> <a id="12880" href="Graded.Heap.Untyped.html#5123" class="Function Operator">∣</a> <a id="12882" href="Graded.Heap.Usage.Properties.html#1776" class="Generalizable">e</a> <a id="12884" href="Graded.Heap.Untyped.html#5123" class="Function Operator">∣ᵉ</a> <a id="12887" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12889" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="12891" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a>
             <a id="12906" href="Tools.Product.html#656" class="Function">∃₃</a> <a id="12909" class="Symbol">λ</a> <a id="12911" href="Graded.Heap.Usage.Properties.html#12911" class="Bound">n</a> <a id="12913" class="Symbol">(</a><a id="12914" href="Graded.Heap.Usage.Properties.html#12914" class="Bound">A</a> <a id="12916" class="Symbol">:</a> <a id="12918" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="12923" href="Graded.Heap.Usage.Properties.html#12911" class="Bound">n</a><a id="12924" class="Symbol">)</a> <a id="12926" href="Graded.Heap.Usage.Properties.html#12926" class="Bound">ρ</a> <a id="12928" class="Symbol">→</a> <a id="12930" href="Graded.Heap.Usage.Properties.html#1776" class="Generalizable">e</a> <a id="12932" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12934" href="Graded.Heap.Untyped.html#3059" class="InductiveConstructor">emptyrecₑ</a> <a id="12944" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="12946" href="Graded.Heap.Usage.Properties.html#12914" class="Bound">A</a> <a id="12948" href="Graded.Heap.Usage.Properties.html#12926" class="Bound">ρ</a> <a id="12950" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12952" href="Graded.Usage.Restrictions.html#1782" class="Field">Emptyrec-allowed</a> <a id="12969" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12972" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="12978" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="12985" class="Symbol">(</a><a id="12986" href="Graded.Heap.Usage.html#2378" class="InductiveConstructor">∘ₑ</a> <a id="12989" href="Graded.Heap.Usage.Properties.html#12989" class="Bound">x</a><a id="12990" class="Symbol">)</a> <a id="12992" class="Symbol">=</a> <a id="12994" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="12999" href="Graded.Modality.html#4545" class="Field">non-trivial</a>
    <a id="13015" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13022" class="Symbol">(</a><a id="13023" href="Graded.Heap.Usage.html#2436" class="InductiveConstructor">fstₑ</a> <a id="13028" href="Graded.Heap.Usage.Properties.html#13028" class="Bound">x</a><a id="13029" class="Symbol">)</a> <a id="13031" class="Symbol">=</a> <a id="13033" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13038" href="Graded.Modality.html#4545" class="Field">non-trivial</a>
    <a id="13054" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13061" href="Graded.Heap.Usage.html#2482" class="InductiveConstructor">sndₑ</a> <a id="13066" class="Symbol">=</a> <a id="13068" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13073" href="Graded.Modality.html#4545" class="Field">non-trivial</a>
    <a id="13089" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13096" class="Symbol">(</a><a id="13097" href="Graded.Heap.Usage.html#2509" class="InductiveConstructor">prodrecₑ</a> <a id="13106" href="Graded.Heap.Usage.Properties.html#13106" class="Bound">x</a> <a id="13108" href="Graded.Heap.Usage.Properties.html#13108" class="Bound">ok</a><a id="13110" class="Symbol">)</a> <a id="13112" class="Symbol">=</a> <a id="13114" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13119" class="Symbol">(</a><a id="13120" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="13124" href="Graded.Modality.html#4545" class="Field">non-trivial</a> <a id="13136" class="Symbol">.</a><a id="13137" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13143" href="Graded.Heap.Usage.Properties.html#13108" class="Bound">ok</a><a id="13145" class="Symbol">)</a>
    <a id="13151" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13158" class="Symbol">(</a><a id="13159" href="Graded.Heap.Usage.html#2640" class="InductiveConstructor">natrecₑ</a> <a id="13167" class="Symbol">_</a> <a id="13169" class="Symbol">_</a> <a id="13171" class="Symbol">_</a> <a id="13173" href="Graded.Heap.Usage.Properties.html#13173" class="Bound">≡nr₂</a><a id="13177" class="Symbol">)</a> <a id="13179" class="Symbol">=</a>
      <a id="13187" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13192" class="Symbol">(λ</a> <a id="13195" href="Graded.Heap.Usage.Properties.html#13195" class="Bound">≡𝟘</a> <a id="13198" class="Symbol">→</a> <a id="13200" href="Graded.Modality.html#7494" class="Field">nr₂≢𝟘</a> <a id="13206" class="Symbol">(</a><a id="13207" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="13213" class="Symbol">(</a><a id="13214" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="13218" href="Graded.Heap.Usage.Properties.html#13173" class="Bound">≡nr₂</a><a id="13222" class="Symbol">)</a> <a id="13224" href="Graded.Heap.Usage.Properties.html#13195" class="Bound">≡𝟘</a><a id="13226" class="Symbol">))</a>
    <a id="13233" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13240" class="Symbol">(</a><a id="13241" href="Graded.Heap.Usage.html#2875" class="InductiveConstructor">natrec-no-nrₑ</a> <a id="13255" class="Symbol">_</a> <a id="13257" class="Symbol">_</a> <a id="13259" class="Symbol">_</a> <a id="13261" href="Graded.Heap.Usage.Properties.html#13261" class="Bound">q-glb</a> <a id="13267" class="Symbol">_)</a> <a id="13270" class="Symbol">=</a>
      <a id="13278" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13283" class="Symbol">λ</a> <a id="13285" href="Graded.Heap.Usage.Properties.html#13285" class="Bound">≡𝟘</a> <a id="13288" class="Symbol">→</a> <a id="13290" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1991" class="Function">𝟘≰𝟙</a> <a id="13294" class="Symbol">(</a><a id="13295" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="13303" class="Symbol">(</a><a id="13304" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="13316" class="Symbol">(</a><a id="13317" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="13321" href="Graded.Heap.Usage.Properties.html#13285" class="Bound">≡𝟘</a><a id="13323" class="Symbol">))</a> <a id="13326" class="Symbol">(</a><a id="13327" href="Graded.Heap.Usage.Properties.html#13261" class="Bound">q-glb</a> <a id="13333" class="Symbol">.</a><a id="13334" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13340" class="Number">0</a><a id="13341" class="Symbol">))</a>
    <a id="13348" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13355" class="Symbol">(</a><a id="13356" href="Graded.Heap.Usage.html#3210" class="InductiveConstructor">unitrecₑ</a> <a id="13365" href="Graded.Heap.Usage.Properties.html#13365" class="Bound">x</a> <a id="13367" href="Graded.Heap.Usage.Properties.html#13367" class="Bound">ok</a> <a id="13370" href="Graded.Heap.Usage.Properties.html#13370" class="Bound">no-η</a><a id="13374" class="Symbol">)</a> <a id="13376" class="Symbol">=</a> <a id="13378" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13383" class="Symbol">(</a><a id="13384" href="Graded.Heap.Usage.Properties.html#13370" class="Bound">no-η</a> <a id="13389" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="13392" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="13396" href="Graded.Modality.html#4545" class="Field">non-trivial</a> <a id="13408" class="Symbol">.</a><a id="13409" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13415" class="Symbol">.</a><a id="13416" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13422" href="Graded.Heap.Usage.Properties.html#13367" class="Bound">ok</a><a id="13424" class="Symbol">)</a>
    <a id="13430" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13437" class="Symbol">(</a><a id="13438" href="Graded.Heap.Usage.html#3323" class="InductiveConstructor">emptyrecₑ</a> <a id="13448" class="Symbol">{</a><a id="13449" href="Graded.Heap.Usage.Properties.html#13449" class="Bound">p</a><a id="13450" class="Symbol">}</a> <a id="13452" href="Graded.Heap.Usage.Properties.html#13452" class="Bound">ok</a><a id="13454" class="Symbol">)</a> <a id="13456" class="Symbol">=</a>
      <a id="13464" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13469" href="Graded.Modality.html#1864" class="Function">is-𝟘?</a> <a id="13475" href="Graded.Heap.Usage.Properties.html#13449" class="Bound">p</a> <a id="13477" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13480" class="Symbol">λ</a> <a id="13482" class="Keyword">where</a>
        <a id="13496" class="Symbol">(</a><a id="13497" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13501" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13505" class="Symbol">)</a> <a id="13507" class="Symbol">→</a> <a id="13509" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="13514" class="Symbol">(_</a> <a id="13517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13519" class="Symbol">_</a> <a id="13521" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13523" class="Symbol">_</a> <a id="13525" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13527" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13534" href="Graded.Heap.Usage.Properties.html#13452" class="Bound">ok</a><a id="13536" class="Symbol">)</a>
        <a id="13546" class="Symbol">(</a><a id="13547" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="13550" href="Graded.Heap.Usage.Properties.html#13550" class="Bound">p≢𝟘</a><a id="13553" class="Symbol">)</a> <a id="13555" class="Symbol">→</a> <a id="13557" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13562" href="Graded.Heap.Usage.Properties.html#13550" class="Bound">p≢𝟘</a>
    <a id="13570" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13577" class="Symbol">(</a><a id="13578" href="Graded.Heap.Usage.html#3387" class="InductiveConstructor">Jₑ</a> <a id="13581" href="Graded.Heap.Usage.Properties.html#13581" class="Bound">x</a><a id="13582" class="Symbol">)</a> <a id="13584" class="Keyword">rewrite</a> <a id="13592" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="13596" href="Graded.Modality.html#4545" class="Field">non-trivial</a> <a id="13608" class="Symbol">.</a><a id="13609" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13615" class="Symbol">.</a><a id="13616" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13622" class="Symbol">.</a><a id="13623" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13629" class="Symbol">.</a><a id="13630" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13636" class="Symbol">=</a> <a id="13638" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13643" href="Graded.Modality.Properties.Has-well-behaved-zero.html#2332" class="Function">ω≢𝟘</a>
    <a id="13651" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13658" class="Symbol">(</a><a id="13659" href="Graded.Heap.Usage.html#3445" class="InductiveConstructor">Kₑ</a> <a id="13662" href="Graded.Heap.Usage.Properties.html#13662" class="Bound">x</a><a id="13663" class="Symbol">)</a> <a id="13665" class="Keyword">rewrite</a> <a id="13673" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="13677" href="Graded.Modality.html#4545" class="Field">non-trivial</a> <a id="13689" class="Symbol">.</a><a id="13690" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13696" class="Symbol">.</a><a id="13697" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13703" class="Symbol">.</a><a id="13704" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13710" class="Symbol">.</a><a id="13711" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13717" class="Symbol">=</a> <a id="13719" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13724" href="Graded.Modality.Properties.Has-well-behaved-zero.html#2332" class="Function">ω≢𝟘</a>
    <a id="13732" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="13739" class="Symbol">(</a><a id="13740" href="Graded.Heap.Usage.html#3499" class="InductiveConstructor">[]-congₑ</a> <a id="13749" href="Graded.Heap.Usage.Properties.html#13749" class="Bound">ok</a><a id="13751" class="Symbol">)</a> <a id="13753" class="Symbol">=</a> <a id="13755" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="13760" class="Symbol">λ</a> <a id="13762" href="Graded.Heap.Usage.Properties.html#13762" class="Bound">_</a> <a id="13764" class="Symbol">→</a> <a id="13766" href="Graded.Heap.Usage.Properties.html#12665" class="Bound">nem</a> <a id="13770" href="Graded.Modality.html#4545" class="Field">non-trivial</a> <a id="13782" class="Symbol">.</a><a id="13783" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13789" class="Symbol">.</a><a id="13790" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13796" class="Symbol">.</a><a id="13797" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13803" href="Graded.Heap.Usage.Properties.html#13749" class="Bound">ok</a>

  <a id="13809" class="Keyword">opaque</a>

    <a id="13821" class="Comment">-- The multiplicity of a well-resourced stack is either not zero</a>
    <a id="13890" class="Comment">-- or contains a non-erased application of emptyrec</a>

    <a id="13947" href="Graded.Heap.Usage.Properties.html#13947" class="Function">▸∣S∣≢𝟘</a> <a id="13954" class="Symbol">:</a> <a id="13956" class="Symbol">⦃</a> <a id="13958" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="13980" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="13982" href="Graded.Modality.html#9767" class="Function">semiring-with-meet</a> <a id="14001" class="Symbol">⦄</a>
           <a id="14014" class="Symbol">→</a> <a id="14016" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="14018" href="Graded.Heap.Usage.html#3596" class="Datatype Operator">▸ˢ</a> <a id="14021" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="14023" class="Symbol">→</a> <a id="14025" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="14027" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="14029" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="14031" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="14033" href="Graded.Modality.html#995" class="Function">𝟘</a> <a id="14035" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="14037" class="Symbol">(</a><a id="14038" href="Graded.Heap.Untyped.html#6660" class="Datatype Operator">emptyrec₀∈</a> <a id="14049" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="14051" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14053" href="Graded.Usage.Restrictions.html#1782" class="Field">Emptyrec-allowed</a> <a id="14070" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="14073" href="Graded.Modality.html#995" class="Function">𝟘</a><a id="14074" class="Symbol">)</a>
    <a id="14080" href="Graded.Heap.Usage.Properties.html#13947" class="Function">▸∣S∣≢𝟘</a> <a id="14087" href="Graded.Heap.Usage.html#3656" class="InductiveConstructor">ε</a> <a id="14089" class="Symbol">=</a> <a id="14091" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14096" href="Graded.Modality.html#4545" class="Field">non-trivial</a>
    <a id="14112" href="Graded.Heap.Usage.Properties.html#13947" class="Function">▸∣S∣≢𝟘</a> <a id="14119" class="Symbol">(</a><a id="14120" href="Graded.Heap.Usage.Properties.html#14120" class="Bound">▸e</a> <a id="14123" href="Graded.Heap.Usage.html#3670" class="InductiveConstructor Operator">∙</a> <a id="14125" href="Graded.Heap.Usage.Properties.html#14125" class="Bound">▸S</a><a id="14127" class="Symbol">)</a> <a id="14129" class="Symbol">=</a>
      <a id="14137" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14142" href="Graded.Heap.Usage.Properties.html#13947" class="Function">▸∣S∣≢𝟘</a> <a id="14149" href="Graded.Heap.Usage.Properties.html#14125" class="Bound">▸S</a> <a id="14152" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14155" class="Symbol">λ</a> <a id="14157" class="Keyword">where</a>
        <a id="14171" class="Symbol">(</a><a id="14172" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14177" class="Symbol">(</a><a id="14178" href="Graded.Heap.Usage.Properties.html#14178" class="Bound">x</a> <a id="14180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14182" href="Graded.Heap.Usage.Properties.html#14182" class="Bound">ok</a><a id="14184" class="Symbol">))</a> <a id="14187" class="Symbol">→</a> <a id="14189" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14194" class="Symbol">(</a><a id="14195" href="Graded.Heap.Untyped.html#6746" class="InductiveConstructor">there</a> <a id="14201" href="Graded.Heap.Usage.Properties.html#14178" class="Bound">x</a> <a id="14203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14205" href="Graded.Heap.Usage.Properties.html#14182" class="Bound">ok</a><a id="14207" class="Symbol">)</a>
        <a id="14217" class="Symbol">(</a><a id="14218" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14223" href="Graded.Heap.Usage.Properties.html#14223" class="Bound">∣S∣≢𝟘</a><a id="14228" class="Symbol">)</a> <a id="14230" class="Symbol">→</a>
          <a id="14242" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14247" href="Graded.Heap.Usage.Properties.html#12796" class="Function">▸∣e∣≢𝟘</a> <a id="14254" class="Symbol">(</a><a id="14255" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="14261" class="Symbol">(_</a> <a id="14264" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">▸ᵉ[_]</a> <a id="14270" class="Symbol">_)</a> <a id="14273" class="Symbol">(</a><a id="14274" href="Graded.Mode.html#19828" class="Function">≢𝟘→⌞⌟≡𝟙ᵐ</a> <a id="14283" href="Graded.Heap.Usage.Properties.html#14223" class="Bound">∣S∣≢𝟘</a><a id="14288" class="Symbol">)</a> <a id="14290" href="Graded.Heap.Usage.Properties.html#14120" class="Bound">▸e</a><a id="14292" class="Symbol">)</a> <a id="14294" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14297" class="Symbol">λ</a> <a id="14299" class="Keyword">where</a>
            <a id="14317" class="Symbol">(</a><a id="14318" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14323" class="Symbol">(_</a> <a id="14326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14328" class="Symbol">_</a> <a id="14330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14332" class="Symbol">_</a> <a id="14334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14336" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14343" href="Graded.Heap.Usage.Properties.html#14343" class="Bound">ok</a><a id="14345" class="Symbol">))</a> <a id="14348" class="Symbol">→</a> <a id="14350" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14355" class="Symbol">(</a><a id="14356" href="Graded.Heap.Untyped.html#6704" class="InductiveConstructor">here</a> <a id="14361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14363" href="Graded.Heap.Usage.Properties.html#14343" class="Bound">ok</a><a id="14365" class="Symbol">)</a>
            <a id="14379" class="Symbol">(</a><a id="14380" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14385" href="Graded.Heap.Usage.Properties.html#14385" class="Bound">∣e∣≢𝟘</a><a id="14390" class="Symbol">)</a> <a id="14392" class="Symbol">→</a> <a id="14394" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14399" class="Symbol">λ</a> <a id="14401" href="Graded.Heap.Usage.Properties.html#14401" class="Bound">∣eS∣≡𝟘</a> <a id="14408" class="Symbol">→</a>
              <a id="14424" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14429" href="Graded.Modality.html#4872" class="Field">zero-product</a> <a id="14442" href="Graded.Heap.Usage.Properties.html#14401" class="Bound">∣eS∣≡𝟘</a> <a id="14449" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14452" class="Symbol">λ</a> <a id="14454" class="Keyword">where</a>
                <a id="14476" class="Symbol">(</a><a id="14477" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14482" href="Graded.Heap.Usage.Properties.html#14482" class="Bound">∣S∣≡𝟘</a><a id="14487" class="Symbol">)</a> <a id="14489" class="Symbol">→</a> <a id="14491" href="Graded.Heap.Usage.Properties.html#14223" class="Bound">∣S∣≢𝟘</a> <a id="14497" href="Graded.Heap.Usage.Properties.html#14482" class="Bound">∣S∣≡𝟘</a>
                <a id="14519" class="Symbol">(</a><a id="14520" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14525" href="Graded.Heap.Usage.Properties.html#14525" class="Bound">∣e∣≡𝟘</a><a id="14530" class="Symbol">)</a> <a id="14532" class="Symbol">→</a> <a id="14534" href="Graded.Heap.Usage.Properties.html#14385" class="Bound">∣e∣≢𝟘</a> <a id="14540" href="Graded.Heap.Usage.Properties.html#14525" class="Bound">∣e∣≡𝟘</a>

<a id="14547" class="Comment">-- Some properties proven under the assumption that the modality</a>
<a id="14612" class="Comment">-- supports subtraction.</a>

<a id="14638" class="Keyword">module</a> <a id="14645" href="Graded.Heap.Usage.Properties.html#14645" class="Module">_</a> <a id="14647" class="Symbol">⦃</a> <a id="14649" href="Graded.Heap.Usage.Properties.html#14649" class="Bound">_</a> <a id="14651" class="Symbol">:</a> <a id="14653" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="14675" href="Graded.Heap.Usage.Properties.html#406" class="Bound">M</a> <a id="14677" href="Graded.Modality.html#9767" class="Function">semiring-with-meet</a> <a id="14696" class="Symbol">⦄</a>
         <a id="14707" class="Symbol">(</a><a id="14708" href="Graded.Heap.Usage.Properties.html#14708" class="Bound">subtraction-ok</a> <a id="14723" class="Symbol">:</a> <a id="14725" href="Graded.Modality.Properties.Subtraction.html#4801" class="Function">Supports-subtraction</a><a id="14745" class="Symbol">)</a> <a id="14747" class="Keyword">where</a>

  <a id="14756" class="Comment">-- Under some assumptions, lookup always succeeds for well-resourced heaps</a>

  <a id="14834" class="Keyword">opaque</a>

    <a id="14846" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="14852" class="Symbol">:</a> <a id="14854" class="Symbol">{</a><a id="14855" href="Graded.Heap.Usage.Properties.html#14855" class="Bound">H</a> <a id="14857" class="Symbol">:</a> <a id="14859" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="14864" href="Graded.Heap.Usage.Properties.html#1633" class="Generalizable">k</a> <a id="14866" class="Symbol">_}</a>
        <a id="14877" class="Symbol">→</a> <a id="14879" href="Graded.Heap.Usage.Properties.html#14855" class="Bound">H</a> <a id="14881" href="Graded.Heap.Untyped.html#8365" class="Datatype Operator">⊢</a> <a id="14883" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="14885" href="Graded.Heap.Untyped.html#8365" class="Datatype Operator">↦</a> <a id="14887" href="Graded.Heap.Usage.Properties.html#1806" class="Generalizable">c′</a> <a id="14890" class="Symbol">→</a> <a id="14892" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="14894" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="14897" href="Graded.Heap.Usage.Properties.html#14855" class="Bound">H</a> <a id="14899" class="Symbol">→</a> <a id="14901" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="14903" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="14905" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="14907" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="14909" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="14911" href="Graded.Heap.Usage.Properties.html#1662" class="Generalizable">p</a> <a id="14913" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="14915" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a>
        <a id="14925" class="Symbol">→</a> <a id="14927" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="14929" class="Symbol">λ</a> <a id="14931" href="Graded.Heap.Usage.Properties.html#14931" class="Bound">H′</a> <a id="14934" class="Symbol">→</a> <a id="14936" href="Graded.Heap.Usage.Properties.html#14855" class="Bound">H</a> <a id="14938" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⊢</a> <a id="14940" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="14942" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">↦[</a> <a id="14945" href="Graded.Heap.Usage.Properties.html#1664" class="Generalizable">q</a> <a id="14947" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">]</a> <a id="14949" href="Graded.Heap.Usage.Properties.html#1806" class="Generalizable">c′</a> <a id="14952" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⨾</a> <a id="14954" href="Graded.Heap.Usage.Properties.html#14931" class="Bound">H′</a>
    <a id="14961" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="14967" href="Graded.Heap.Untyped.html#8432" class="InductiveConstructor">here</a> <a id="14972" class="Symbol">(</a><a id="14973" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">_∙_</a> <a id="14977" href="Graded.Heap.Usage.Properties.html#14977" class="Bound">▸H</a> <a id="14980" class="Symbol">(</a><a id="14981" href="Graded.Heap.Usage.html#1814" class="InductiveConstructor">▸ᶜ</a> <a id="14984" class="Symbol">_</a> <a id="14986" href="Graded.Heap.Usage.Properties.html#14986" class="Bound">mq≤p′</a><a id="14991" class="Symbol">))</a> <a id="14994" href="Graded.Heap.Usage.Properties.html#14994" class="Bound">p′≤p+q′</a> <a id="15002" class="Symbol">=</a>
      <a id="15010" class="Symbol">_</a> <a id="15012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15014" href="Graded.Heap.Untyped.html#8076" class="InductiveConstructor">here</a> <a id="15019" class="Symbol">(</a><a id="15020" href="Graded.Heap.Usage.Properties.html#14708" class="Bound">subtraction-ok</a> <a id="15035" class="Symbol">(</a><a id="15036" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="15044" href="Graded.Heap.Usage.Properties.html#14986" class="Bound">mq≤p′</a> <a id="15050" href="Graded.Heap.Usage.Properties.html#14994" class="Bound">p′≤p+q′</a><a id="15057" class="Symbol">)</a> <a id="15059" class="Symbol">.</a><a id="15060" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="15065" class="Symbol">)</a>
    <a id="15071" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="15077" class="Symbol">{</a><a id="15078" class="Argument">y</a> <a id="15080" class="Symbol">=</a> <a id="15082" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15084" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="15086" class="Symbol">}</a> <a id="15088" class="Symbol">{</a><a id="15089" class="Argument">γ</a> <a id="15091" class="Symbol">=</a> <a id="15093" href="Graded.Heap.Usage.Properties.html#15093" class="Bound">γ</a> <a id="15095" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="15097" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a><a id="15098" class="Symbol">}</a> <a id="15100" class="Symbol">{</a><a id="15101" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a><a id="15102" class="Symbol">}</a> <a id="15104" class="Symbol">{</a><a id="15105" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a><a id="15106" class="Symbol">}</a> <a id="15108" class="Symbol">(</a><a id="15109" href="Graded.Heap.Untyped.html#8468" class="InductiveConstructor">there</a> <a id="15115" href="Graded.Heap.Usage.Properties.html#15115" class="Bound">d</a><a id="15116" class="Symbol">)</a> <a id="15118" class="Symbol">(</a><a id="15119" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">_∙_</a> <a id="15123" class="Symbol">{</a><a id="15124" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a><a id="15125" class="Symbol">}</a> <a id="15127" class="Symbol">{</a><a id="15128" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15129" class="Symbol">}</a> <a id="15131" href="Graded.Heap.Usage.Properties.html#15131" class="Bound">▸H</a> <a id="15134" class="Symbol">_)</a> <a id="15137" href="Graded.Heap.Usage.Properties.html#15137" class="Bound">γ⟨y⟩≤p+q</a> <a id="15146" class="Symbol">=</a>
      <a id="15154" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="15159" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="15165" href="Graded.Heap.Usage.Properties.html#15115" class="Bound">d</a> <a id="15167" href="Graded.Heap.Usage.Properties.html#15131" class="Bound">▸H</a> <a id="15170" href="Graded.Heap.Usage.Properties.html#15260" class="Function">lemma</a> <a id="15176" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="15179" class="Symbol">λ</a>
        <a id="15189" class="Symbol">(_</a> <a id="15192" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15194" href="Graded.Heap.Usage.Properties.html#15194" class="Bound">d′</a><a id="15196" class="Symbol">)</a> <a id="15198" class="Symbol">→</a>
      <a id="15206" class="Symbol">_</a> <a id="15208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15210" href="Graded.Heap.Untyped.html#8150" class="InductiveConstructor">there</a> <a id="15216" href="Graded.Heap.Usage.Properties.html#15194" class="Bound">d′</a>
      <a id="15225" class="Keyword">where</a>
      <a id="15237" class="Keyword">open</a> <a id="15242" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="15246" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>
      <a id="15260" href="Graded.Heap.Usage.Properties.html#15260" class="Function">lemma</a> <a id="15266" class="Symbol">:</a> <a id="15268" class="Symbol">(</a><a id="15269" href="Graded.Heap.Usage.Properties.html#15093" class="Bound">γ</a> <a id="15271" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="15274" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15276" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15279" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15286" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15288" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15289" class="Symbol">)</a> <a id="15291" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15293" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15295" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="15297" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="15299" class="Symbol">(</a><a id="15300" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15302" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15304" class="Symbol">(</a><a id="15305" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15307" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15310" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15317" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15319" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15320" class="Symbol">)</a> <a id="15322" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15324" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15326" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="15327" class="Symbol">)</a> <a id="15329" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15331" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a>
      <a id="15339" href="Graded.Heap.Usage.Properties.html#15260" class="Function">lemma</a> <a id="15345" class="Symbol">=</a> <a id="15347" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="15361" class="Symbol">(</a><a id="15362" href="Graded.Heap.Usage.Properties.html#15093" class="Bound">γ</a> <a id="15364" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="15367" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15369" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15372" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15379" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15381" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15382" class="Symbol">)</a> <a id="15384" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15386" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15388" href="Graded.Context.html#1320" class="Function Operator">⟩</a>      <a id="15395" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15398" href="Graded.Context.Properties.Lookup.html#1765" class="Function">lookup-distrib-+ᶜ</a> <a id="15416" href="Graded.Heap.Usage.Properties.html#15093" class="Bound">γ</a> <a id="15418" class="Symbol">_</a> <a id="15420" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15422" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="15432" href="Graded.Heap.Usage.Properties.html#15093" class="Bound">γ</a> <a id="15434" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15436" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15438" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="15440" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15442" class="Symbol">(</a><a id="15443" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15445" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15448" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15455" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15457" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15458" class="Symbol">)</a> <a id="15460" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15462" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15464" href="Graded.Context.html#1320" class="Function Operator">⟩</a>  <a id="15467" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="15470" href="Graded.Modality.Properties.Addition.html#808" class="Function">+-monotoneˡ</a> <a id="15482" href="Graded.Heap.Usage.Properties.html#15137" class="Bound">γ⟨y⟩≤p+q</a> <a id="15491" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
        <a id="15501" class="Symbol">(</a><a id="15502" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15504" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15506" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a><a id="15507" class="Symbol">)</a> <a id="15509" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15511" class="Symbol">(</a><a id="15512" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15514" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15517" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15524" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15526" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15527" class="Symbol">)</a> <a id="15529" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15531" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15533" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="15535" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15538" href="Algebra.Structures.html#13154" class="Function">+-assoc</a> <a id="15546" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15548" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a> <a id="15550" class="Symbol">_</a> <a id="15552" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
        <a id="15562" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15564" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15566" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a> <a id="15568" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15570" class="Symbol">(</a><a id="15571" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15573" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15576" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15583" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15585" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15586" class="Symbol">)</a> <a id="15588" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15590" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15592" href="Graded.Context.html#1320" class="Function Operator">⟩</a>   <a id="15596" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15599" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a> <a id="15607" class="Symbol">(</a><a id="15608" href="Algebra.Structures.html#13444" class="Function">+-comm</a> <a id="15615" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a> <a id="15617" class="Symbol">_)</a> <a id="15620" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
        <a id="15630" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15632" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15634" class="Symbol">(</a><a id="15635" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15637" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15640" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15647" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15649" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15650" class="Symbol">)</a> <a id="15652" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15654" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15656" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="15658" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15660" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a>   <a id="15664" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="15668" href="Algebra.Structures.html#13154" class="Function">+-assoc</a> <a id="15676" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15678" class="Symbol">_</a> <a id="15680" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a> <a id="15682" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
        <a id="15692" class="Symbol">(</a><a id="15693" href="Graded.Heap.Usage.Properties.html#15101" class="Bound">p</a> <a id="15695" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15697" class="Symbol">(</a><a id="15698" href="Graded.Heap.Usage.Properties.html#15097" class="Bound">r</a> <a id="15700" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="15703" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="15710" href="Graded.Heap.Usage.Properties.html#15124" class="Bound">ρ</a> <a id="15712" href="Graded.Heap.Usage.Properties.html#15128" class="Bound">δ</a><a id="15713" class="Symbol">)</a> <a id="15715" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="15717" href="Graded.Heap.Usage.Properties.html#15082" class="Bound">y</a> <a id="15719" href="Graded.Context.html#1320" class="Function Operator">⟩</a><a id="15720" class="Symbol">)</a> <a id="15722" href="Graded.Modality.html#971" class="Function Operator">+</a> <a id="15724" href="Graded.Heap.Usage.Properties.html#15105" class="Bound">q</a> <a id="15726" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="15732" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="15738" class="Symbol">(</a><a id="15739" href="Graded.Heap.Untyped.html#8522" class="InductiveConstructor">there●</a> <a id="15746" href="Graded.Heap.Usage.Properties.html#15746" class="Bound">d</a><a id="15747" class="Symbol">)</a> <a id="15749" class="Symbol">(</a><a id="15750" href="Graded.Heap.Usage.Properties.html#15750" class="Bound">▸H</a> <a id="15753" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="15755" class="Symbol">)</a> <a id="15757" href="Graded.Heap.Usage.Properties.html#15757" class="Bound">γ⟨y⟩≤p+q</a> <a id="15766" class="Symbol">=</a>
      <a id="15774" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="15779" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="15785" href="Graded.Heap.Usage.Properties.html#15746" class="Bound">d</a> <a id="15787" href="Graded.Heap.Usage.Properties.html#15750" class="Bound">▸H</a> <a id="15790" href="Graded.Heap.Usage.Properties.html#15757" class="Bound">γ⟨y⟩≤p+q</a> <a id="15799" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="15802" class="Symbol">λ</a>
        <a id="15812" class="Symbol">(_</a> <a id="15815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15817" href="Graded.Heap.Usage.Properties.html#15817" class="Bound">d′</a><a id="15819" class="Symbol">)</a> <a id="15821" class="Symbol">→</a>
      <a id="15829" class="Symbol">_</a> <a id="15831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15833" href="Graded.Heap.Untyped.html#8229" class="InductiveConstructor">there●</a> <a id="15840" href="Graded.Heap.Usage.Properties.html#15817" class="Bound">d′</a>

  <a id="15846" class="Keyword">opaque</a>

    <a id="15858" class="Comment">-- A variant of the above property with usage of states</a>

    <a id="15919" href="Graded.Heap.Usage.Properties.html#15919" class="Function">▸↦→↦[]</a> <a id="15926" class="Symbol">:</a> <a id="15928" class="Symbol">{</a><a id="15929" href="Graded.Heap.Usage.Properties.html#15929" class="Bound">H</a> <a id="15931" class="Symbol">:</a> <a id="15933" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="15938" href="Graded.Heap.Usage.Properties.html#1633" class="Generalizable">k</a> <a id="15940" class="Symbol">_}</a>
          <a id="15953" class="Symbol">→</a> <a id="15955" href="Graded.Heap.Usage.Properties.html#15929" class="Bound">H</a> <a id="15957" href="Graded.Heap.Untyped.html#8365" class="Datatype Operator">⊢</a> <a id="15959" href="Definition.Untyped.NotParametrised.html#3851" class="Function">wkVar</a> <a id="15965" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="15967" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="15969" href="Graded.Heap.Untyped.html#8365" class="Datatype Operator">↦</a> <a id="15971" href="Graded.Heap.Usage.Properties.html#1806" class="Generalizable">c′</a>
          <a id="15984" class="Symbol">→</a> <a id="15986" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="15988" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="15990" href="Graded.Heap.Usage.Properties.html#15929" class="Bound">H</a> <a id="15992" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="15994" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="15998" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="16000" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="16002" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="16004" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="16006" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="16008" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
          <a id="16020" class="Symbol">→</a> <a id="16022" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="16024" class="Symbol">λ</a> <a id="16026" href="Graded.Heap.Usage.Properties.html#16026" class="Bound">H′</a> <a id="16029" class="Symbol">→</a> <a id="16031" href="Graded.Heap.Usage.Properties.html#15929" class="Bound">H</a> <a id="16033" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⊢</a> <a id="16035" href="Definition.Untyped.NotParametrised.html#3851" class="Function">wkVar</a> <a id="16041" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="16043" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="16045" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">↦[</a> <a id="16048" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="16050" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="16052" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="16054" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">]</a> <a id="16056" href="Graded.Heap.Usage.Properties.html#1806" class="Generalizable">c′</a> <a id="16059" href="Graded.Heap.Untyped.html#7962" class="Datatype Operator">⨾</a> <a id="16061" href="Graded.Heap.Usage.Properties.html#16026" class="Bound">H′</a>
    <a id="16068" href="Graded.Heap.Usage.Properties.html#15919" class="Function">▸↦→↦[]</a> <a id="16075" class="Symbol">{</a><a id="16076" href="Graded.Heap.Usage.Properties.html#16076" class="Bound">ρ</a><a id="16077" class="Symbol">}</a> <a id="16079" class="Symbol">{</a><a id="16080" href="Graded.Heap.Usage.Properties.html#16080" class="Bound">x</a><a id="16081" class="Symbol">}</a> <a id="16083" class="Symbol">{</a><a id="16084" href="Graded.Heap.Usage.Properties.html#16084" class="Bound">S</a><a id="16085" class="Symbol">}</a> <a id="16087" href="Graded.Heap.Usage.Properties.html#16087" class="Bound">d</a> <a id="16089" href="Graded.Heap.Usage.Properties.html#16089" class="Bound">▸s</a> <a id="16092" class="Symbol">=</a>
      <a id="16100" class="Keyword">let</a> <a id="16104" class="Symbol">_</a> <a id="16106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16108" class="Symbol">_</a> <a id="16110" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16112" href="Graded.Heap.Usage.Properties.html#16112" class="Bound">▸H</a> <a id="16115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16117" class="Symbol">_</a> <a id="16119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16121" href="Graded.Heap.Usage.Properties.html#16121" class="Bound">γ⟨x⟩≤</a> <a id="16127" class="Symbol">=</a> <a id="16129" href="Graded.Heap.Usage.Inversion.html#3679" class="Function">▸ₛ-var-inv′</a> <a id="16141" href="Graded.Heap.Usage.Properties.html#16089" class="Bound">▸s</a>
      <a id="16150" class="Keyword">in</a>  <a id="16154" href="Graded.Heap.Usage.Properties.html#14846" class="Function">↦→↦[]</a> <a id="16160" href="Graded.Heap.Usage.Properties.html#16087" class="Bound">d</a> <a id="16162" href="Graded.Heap.Usage.Properties.html#16112" class="Bound">▸H</a> <a id="16165" class="Symbol">(</a><a id="16166" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="16174" href="Graded.Heap.Usage.Properties.html#16121" class="Bound">γ⟨x⟩≤</a> <a id="16180" class="Symbol">(</a><a id="16181" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="16193" class="Symbol">(</a><a id="16194" href="Algebra.Structures.html#13444" class="Function">+-comm</a> <a id="16201" class="Symbol">_</a> <a id="16203" class="Symbol">_)))</a>

  <a id="16211" class="Keyword">opaque</a>

    <a id="16223" class="Comment">-- If a pointer points to a dummy entry in a well-resource heap then</a>
    <a id="16296" class="Comment">-- the corresponding entry in the usage context is 𝟘.</a>

    <a id="16355" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16359" class="Symbol">:</a> <a id="16361" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="16363" href="Graded.Heap.Untyped.html#8629" class="Datatype Operator">⊢</a> <a id="16365" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="16367" href="Graded.Heap.Untyped.html#8629" class="Datatype Operator">↦●</a> <a id="16370" class="Symbol">→</a> <a id="16372" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="16374" href="Graded.Heap.Usage.html#1974" class="Datatype Operator">▸ʰ</a> <a id="16377" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="16379" class="Symbol">→</a> <a id="16381" href="Graded.Heap.Usage.Properties.html#1645" class="Generalizable">γ</a> <a id="16383" href="Graded.Context.html#1320" class="Function Operator">⟨</a> <a id="16385" href="Graded.Heap.Usage.Properties.html#1715" class="Generalizable">y</a> <a id="16387" href="Graded.Context.html#1320" class="Function Operator">⟩</a> <a id="16389" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16391" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="16397" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16401" href="Graded.Heap.Untyped.html#8680" class="InductiveConstructor">here</a> <a id="16406" class="Symbol">(</a><a id="16407" href="Graded.Heap.Usage.Properties.html#16407" class="Bound">▸H</a> <a id="16410" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="16412" class="Symbol">)</a> <a id="16414" class="Symbol">=</a> <a id="16416" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="16425" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16429" class="Symbol">{</a><a id="16430" class="Argument">γ</a> <a id="16432" class="Symbol">=</a> <a id="16434" href="Graded.Heap.Usage.Properties.html#16434" class="Bound">γ</a> <a id="16436" href="Graded.Context.html#771" class="InductiveConstructor Operator">∙</a> <a id="16438" href="Graded.Heap.Usage.Properties.html#16438" class="Bound">p</a><a id="16439" class="Symbol">}</a> <a id="16441" class="Symbol">(</a><a id="16442" href="Graded.Heap.Untyped.html#8702" class="InductiveConstructor">there</a> <a id="16448" href="Graded.Heap.Usage.Properties.html#16448" class="Bound">d</a><a id="16449" class="Symbol">)</a> <a id="16451" class="Symbol">(</a><a id="16452" href="Graded.Heap.Usage.Properties.html#16452" class="Bound">▸H</a> <a id="16455" href="Graded.Heap.Usage.html#2038" class="InductiveConstructor Operator">∙</a> <a id="16457" href="Graded.Heap.Usage.Properties.html#16457" class="Bound">x</a><a id="16458" class="Symbol">)</a> <a id="16460" class="Symbol">=</a>
      <a id="16468" href="Graded.Context.Properties.Has-well-behaved-zero.html#1733" class="Function">+ᶜ-positive-⟨⟩</a> <a id="16483" href="Graded.Heap.Usage.Properties.html#16434" class="Bound">γ</a> <a id="16485" class="Symbol">(</a><a id="16486" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16490" href="Graded.Heap.Usage.Properties.html#16448" class="Bound">d</a> <a id="16492" href="Graded.Heap.Usage.Properties.html#16452" class="Bound">▸H</a><a id="16494" class="Symbol">)</a> <a id="16496" class="Symbol">.</a><a id="16497" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="16507" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16511" class="Symbol">(</a><a id="16512" href="Graded.Heap.Untyped.html#8740" class="InductiveConstructor">there●</a> <a id="16519" href="Graded.Heap.Usage.Properties.html#16519" class="Bound">d</a><a id="16520" class="Symbol">)</a> <a id="16522" class="Symbol">(</a><a id="16523" href="Graded.Heap.Usage.Properties.html#16523" class="Bound">▸H</a> <a id="16526" href="Graded.Heap.Usage.html#2136" class="InductiveConstructor Operator">∙●</a><a id="16528" class="Symbol">)</a> <a id="16530" class="Symbol">=</a> <a id="16532" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16536" href="Graded.Heap.Usage.Properties.html#16519" class="Bound">d</a> <a id="16538" href="Graded.Heap.Usage.Properties.html#16523" class="Bound">▸H</a>

  <a id="16544" class="Keyword">opaque</a>

    <a id="16556" class="Comment">-- In a well-resourced state with a variable in head position with a</a>
    <a id="16629" class="Comment">-- corresponding dummy entry in the heap, the stack multiplicity and usage</a>
    <a id="16708" class="Comment">-- context of the stack are both 𝟘.</a>

    <a id="16749" href="Graded.Heap.Usage.Properties.html#16749" class="Function">▸s●</a> <a id="16753" class="Symbol">:</a> <a id="16755" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="16757" href="Graded.Heap.Untyped.html#8629" class="Datatype Operator">⊢</a> <a id="16759" href="Definition.Untyped.NotParametrised.html#3851" class="Function">wkVar</a> <a id="16765" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="16767" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="16769" href="Graded.Heap.Untyped.html#8629" class="Datatype Operator">↦●</a> <a id="16772" class="Symbol">→</a> <a id="16774" href="Graded.Heap.Usage.html#3843" class="Datatype Operator">▸</a> <a id="16776" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="16778" href="Graded.Heap.Usage.Properties.html#1685" class="Generalizable">H</a> <a id="16780" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="16782" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="16786" href="Graded.Heap.Usage.Properties.html#1703" class="Generalizable">x</a> <a id="16788" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="16790" href="Graded.Heap.Usage.Properties.html#1746" class="Generalizable">ρ</a> <a id="16792" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="16794" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="16796" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="16798" class="Symbol">→</a> <a id="16800" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="16802" href="Graded.Heap.Usage.Properties.html#1762" class="Generalizable">S</a> <a id="16804" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="16806" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16808" href="Graded.Modality.html#995" class="Function">𝟘</a>
    <a id="16814" href="Graded.Heap.Usage.Properties.html#16749" class="Function">▸s●</a> <a id="16818" href="Graded.Heap.Usage.Properties.html#16818" class="Bound">d</a> <a id="16820" href="Graded.Heap.Usage.Properties.html#16820" class="Bound">▸s</a> <a id="16823" class="Symbol">=</a>
      <a id="16831" class="Keyword">let</a> <a id="16835" class="Symbol">_</a> <a id="16837" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16839" class="Symbol">_</a> <a id="16841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16843" href="Graded.Heap.Usage.Properties.html#16843" class="Bound">▸H</a> <a id="16846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16848" href="Graded.Heap.Usage.Properties.html#16848" class="Bound">▸S</a> <a id="16851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16853" href="Graded.Heap.Usage.Properties.html#16853" class="Bound">γ⟨x⟩≤</a> <a id="16859" class="Symbol">=</a> <a id="16861" href="Graded.Heap.Usage.Inversion.html#3679" class="Function">▸ₛ-var-inv′</a> <a id="16873" href="Graded.Heap.Usage.Properties.html#16820" class="Bound">▸s</a>
      <a id="16882" class="Keyword">in</a>  <a id="16886" href="Graded.Modality.html#5199" class="Field">+-positiveˡ</a> <a id="16898" class="Symbol">(</a><a id="16899" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="16902" class="Symbol">(</a><a id="16903" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="16911" class="Symbol">(</a><a id="16912" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="16924" class="Symbol">(</a><a id="16925" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="16929" class="Symbol">(</a><a id="16930" href="Graded.Heap.Usage.Properties.html#16355" class="Function">▸H●</a> <a id="16934" href="Graded.Heap.Usage.Properties.html#16818" class="Bound">d</a> <a id="16936" href="Graded.Heap.Usage.Properties.html#16843" class="Bound">▸H</a><a id="16938" class="Symbol">)))</a> <a id="16942" href="Graded.Heap.Usage.Properties.html#16853" class="Bound">γ⟨x⟩≤</a><a id="16947" class="Symbol">))</a>
</pre></body></html>