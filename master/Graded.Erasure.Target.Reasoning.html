<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Target.Reasoning</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- &quot;Equational&quot; reasoning combinators for _⇒*_</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">module</a> <a id="202" href="Graded.Erasure.Target.Reasoning.html" class="Module">Graded.Erasure.Target.Reasoning</a> <a id="234" class="Keyword">where</a>

<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Graded.Erasure.Target.Properties.html" class="Module">Graded.Erasure.Target.Properties</a>

<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="410" class="Symbol">as</a> <a id="413" class="Module">PE</a> <a id="416" class="Keyword">using</a> <a id="422" class="Symbol">(</a><a id="423" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="426" class="Symbol">)</a>

<a id="429" class="Keyword">private</a> <a id="437" class="Keyword">variable</a>
  <a id="448" href="Graded.Erasure.Target.Reasoning.html#448" class="Generalizable">n</a>   <a id="452" class="Symbol">:</a> <a id="454" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="460" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="462" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a> <a id="464" class="Symbol">:</a> <a id="466" href="Graded.Erasure.Target.html#1227" class="Datatype">Term</a> <a id="471" class="Symbol">_</a>

<a id="474" class="Keyword">infix</a>  <a id="481" class="Number">-1</a> <a id="484" href="Graded.Erasure.Target.Reasoning.html#1353" class="Function Operator">_∎⇒</a>
<a id="488" class="Keyword">infixr</a> <a id="495" class="Number">-2</a> <a id="498" href="Graded.Erasure.Target.Reasoning.html#555" class="Function">step-⇒</a> <a id="505" href="Graded.Erasure.Target.Reasoning.html#702" class="Function">step-⇒*</a> <a id="513" href="Graded.Erasure.Target.Reasoning.html#895" class="Function">step-≡</a> <a id="520" href="Graded.Erasure.Target.Reasoning.html#1087" class="Function">step-≡˘</a> <a id="528" href="Graded.Erasure.Target.Reasoning.html#1264" class="Function Operator">_≡⟨⟩⇒_</a>

<a id="536" class="Comment">-- A single step.</a>

<a id="step-⇒"></a><a id="555" href="Graded.Erasure.Target.Reasoning.html#555" class="Function">step-⇒</a> <a id="562" class="Symbol">:</a> <a id="564" class="Symbol">∀</a> <a id="566" href="Graded.Erasure.Target.Reasoning.html#566" class="Bound">t</a> <a id="568" class="Symbol">→</a> <a id="570" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="572" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="575" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a> <a id="577" class="Symbol">→</a> <a id="579" href="Graded.Erasure.Target.Reasoning.html#566" class="Bound">t</a> <a id="581" href="Graded.Erasure.Target.html#7014" class="Datatype Operator">⇒</a> <a id="583" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="585" class="Symbol">→</a> <a id="587" href="Graded.Erasure.Target.Reasoning.html#566" class="Bound">t</a> <a id="589" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="592" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a>
<a id="594" href="Graded.Erasure.Target.Reasoning.html#555" class="Function">step-⇒</a> <a id="601" class="Symbol">_</a> <a id="603" class="Symbol">=</a> <a id="605" href="Function.Base.html#1638" class="Function">flip</a> <a id="610" href="Graded.Erasure.Target.html#7909" class="InductiveConstructor">trans</a>

<a id="617" class="Keyword">syntax</a> <a id="624" href="Graded.Erasure.Target.Reasoning.html#555" class="Function">step-⇒</a> <a id="631" class="Bound">t</a> <a id="633" class="Bound">u⇒v</a> <a id="637" class="Bound">t⇒u</a> <a id="641" class="Symbol">=</a> <a id="643" class="Bound">t</a> <a id="645" class="Function">⇒⟨</a> <a id="648" class="Bound">t⇒u</a> <a id="652" class="Function">⟩</a> <a id="654" class="Bound">u⇒v</a>

<a id="659" class="Symbol">{-#</a> <a id="663" class="Keyword">INLINE</a> <a id="670" href="Graded.Erasure.Target.Reasoning.html#555" class="Function">step-⇒</a> <a id="677" class="Symbol">#-}</a>

<a id="682" class="Comment">-- Multiple steps.</a>

<a id="step-⇒*"></a><a id="702" href="Graded.Erasure.Target.Reasoning.html#702" class="Function">step-⇒*</a> <a id="710" class="Symbol">:</a> <a id="712" class="Symbol">∀</a> <a id="714" href="Graded.Erasure.Target.Reasoning.html#714" class="Bound">t</a> <a id="716" class="Symbol">→</a> <a id="718" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="720" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="723" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a> <a id="725" class="Symbol">→</a> <a id="727" href="Graded.Erasure.Target.Reasoning.html#714" class="Bound">t</a> <a id="729" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="732" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="734" class="Symbol">→</a> <a id="736" href="Graded.Erasure.Target.Reasoning.html#714" class="Bound">t</a> <a id="738" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="741" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a>
<a id="743" href="Graded.Erasure.Target.Reasoning.html#702" class="Function">step-⇒*</a> <a id="751" class="Symbol">_</a> <a id="753" class="Symbol">=</a> <a id="755" href="Function.Base.html#1638" class="Function">flip</a> <a id="760" href="Graded.Erasure.Target.Properties.Reduction.html#609" class="Function">red*concat</a>

<a id="772" class="Keyword">syntax</a> <a id="779" href="Graded.Erasure.Target.Reasoning.html#702" class="Function">step-⇒*</a> <a id="787" class="Bound">t</a> <a id="789" class="Bound">u⇒v</a> <a id="793" class="Bound">t⇒u</a> <a id="797" class="Symbol">=</a> <a id="799" class="Bound">t</a> <a id="801" class="Function">⇒*⟨</a> <a id="805" class="Bound">t⇒u</a> <a id="809" class="Function">⟩</a> <a id="811" class="Bound">u⇒v</a>

<a id="816" class="Symbol">{-#</a> <a id="820" class="Keyword">INLINE</a> <a id="827" href="Graded.Erasure.Target.Reasoning.html#702" class="Function">step-⇒*</a> <a id="835" class="Symbol">#-}</a>

<a id="840" class="Comment">-- A reasoning step that uses propositional equality.</a>

<a id="step-≡"></a><a id="895" href="Graded.Erasure.Target.Reasoning.html#895" class="Function">step-≡</a> <a id="902" class="Symbol">:</a> <a id="904" class="Symbol">∀</a> <a id="906" href="Graded.Erasure.Target.Reasoning.html#906" class="Bound">t</a> <a id="908" class="Symbol">→</a> <a id="910" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="912" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="915" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a> <a id="917" class="Symbol">→</a> <a id="919" href="Graded.Erasure.Target.Reasoning.html#906" class="Bound">t</a> <a id="921" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="923" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="925" class="Symbol">→</a> <a id="927" href="Graded.Erasure.Target.Reasoning.html#906" class="Bound">t</a> <a id="929" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="932" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a>
<a id="934" href="Graded.Erasure.Target.Reasoning.html#895" class="Function">step-≡</a> <a id="941" class="Symbol">_</a> <a id="943" href="Graded.Erasure.Target.Reasoning.html#943" class="Bound">u⇒v</a> <a id="947" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="955" class="Symbol">=</a> <a id="957" href="Graded.Erasure.Target.Reasoning.html#943" class="Bound">u⇒v</a>

<a id="962" class="Keyword">syntax</a> <a id="969" href="Graded.Erasure.Target.Reasoning.html#895" class="Function">step-≡</a> <a id="976" class="Bound">t</a> <a id="978" class="Bound">u⇒v</a> <a id="982" class="Bound">t≡u</a> <a id="986" class="Symbol">=</a> <a id="988" class="Bound">t</a> <a id="990" class="Function">≡⟨</a> <a id="993" class="Bound">t≡u</a> <a id="997" class="Function">⟩⇒</a> <a id="1000" class="Bound">u⇒v</a>

<a id="1005" class="Comment">-- A reasoning step that uses propositional equality, combined with</a>
<a id="1073" class="Comment">-- symmetry.</a>

<a id="step-≡˘"></a><a id="1087" href="Graded.Erasure.Target.Reasoning.html#1087" class="Function">step-≡˘</a> <a id="1095" class="Symbol">:</a> <a id="1097" class="Symbol">∀</a> <a id="1099" href="Graded.Erasure.Target.Reasoning.html#1099" class="Bound">t</a> <a id="1101" class="Symbol">→</a> <a id="1103" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="1105" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="1108" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="1114" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1116" href="Graded.Erasure.Target.Reasoning.html#1099" class="Bound">t</a> <a id="1118" class="Symbol">→</a> <a id="1120" href="Graded.Erasure.Target.Reasoning.html#1099" class="Bound">t</a> <a id="1122" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="1125" href="Graded.Erasure.Target.Reasoning.html#462" class="Generalizable">v</a>
<a id="1127" href="Graded.Erasure.Target.Reasoning.html#1087" class="Function">step-≡˘</a> <a id="1135" class="Symbol">_</a> <a id="1137" href="Graded.Erasure.Target.Reasoning.html#1137" class="Bound">u⇒v</a> <a id="1141" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="Graded.Erasure.Target.Reasoning.html#1137" class="Bound">u⇒v</a>

<a id="1156" class="Keyword">syntax</a> <a id="1163" href="Graded.Erasure.Target.Reasoning.html#1087" class="Function">step-≡˘</a> <a id="1171" class="Bound">t</a> <a id="1173" class="Bound">u⇒v</a> <a id="1177" class="Bound">u≡t</a> <a id="1181" class="Symbol">=</a> <a id="1183" class="Bound">t</a> <a id="1185" class="Function">≡˘⟨</a> <a id="1189" class="Bound">u≡t</a> <a id="1193" class="Function">⟩⇒</a> <a id="1196" class="Bound">u⇒v</a>

<a id="1201" class="Comment">-- A reasoning step that uses (Agda&#39;s) definitional equality.</a>

<a id="_≡⟨⟩⇒_"></a><a id="1264" href="Graded.Erasure.Target.Reasoning.html#1264" class="Function Operator">_≡⟨⟩⇒_</a> <a id="1271" class="Symbol">:</a> <a id="1273" class="Symbol">∀</a> <a id="1275" href="Graded.Erasure.Target.Reasoning.html#1275" class="Bound">t</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="Graded.Erasure.Target.Reasoning.html#1275" class="Bound">t</a> <a id="1281" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="1284" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="Graded.Erasure.Target.Reasoning.html#1275" class="Bound">t</a> <a id="1290" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="1293" href="Graded.Erasure.Target.Reasoning.html#460" class="Generalizable">u</a>
<a id="1295" class="Symbol">_</a> <a id="1297" href="Graded.Erasure.Target.Reasoning.html#1264" class="Function Operator">≡⟨⟩⇒</a> <a id="1302" href="Graded.Erasure.Target.Reasoning.html#1302" class="Bound">t⇒u</a> <a id="1306" class="Symbol">=</a> <a id="1308" href="Graded.Erasure.Target.Reasoning.html#1302" class="Bound">t⇒u</a>

<a id="1313" class="Symbol">{-#</a> <a id="1317" class="Keyword">INLINE</a> <a id="1324" href="Graded.Erasure.Target.Reasoning.html#1264" class="Function Operator">_≡⟨⟩⇒_</a> <a id="1331" class="Symbol">#-}</a>

<a id="1336" class="Comment">-- Reflexivity.</a>

<a id="_∎⇒"></a><a id="1353" href="Graded.Erasure.Target.Reasoning.html#1353" class="Function Operator">_∎⇒</a> <a id="1357" class="Symbol">:</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a> <a id="1362" class="Symbol">:</a> <a id="1364" href="Graded.Erasure.Target.html#1227" class="Datatype">Term</a> <a id="1369" href="Graded.Erasure.Target.Reasoning.html#448" class="Generalizable">n</a><a id="1370" class="Symbol">)</a> <a id="1372" class="Symbol">→</a> <a id="1374" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a> <a id="1376" href="Graded.Erasure.Target.html#7857" class="Datatype Operator">⇒*</a> <a id="1379" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a>
<a id="1381" class="Symbol">_</a> <a id="1383" href="Graded.Erasure.Target.Reasoning.html#1353" class="Function Operator">∎⇒</a> <a id="1386" class="Symbol">=</a> <a id="1388" href="Graded.Erasure.Target.html#7893" class="InductiveConstructor">refl</a>

<a id="1394" class="Symbol">{-#</a> <a id="1398" class="Keyword">INLINE</a> <a id="1405" href="Graded.Erasure.Target.Reasoning.html#1353" class="Function Operator">_∎⇒</a> <a id="1409" class="Symbol">#-}</a>
</pre></body></html>