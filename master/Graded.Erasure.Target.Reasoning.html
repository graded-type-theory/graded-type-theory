<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Target.Reasoning</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- &quot;Equational&quot; reasoning combinators for _⇒*_</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">module</a> <a id="202" href="Graded.Erasure.Target.Reasoning.html" class="Module">Graded.Erasure.Target.Reasoning</a> <a id="234" class="Keyword">where</a>

<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Graded.Erasure.Target.Properties.html" class="Module">Graded.Erasure.Target.Properties</a>

<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Tools.List.html" class="Module">Tools.List</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="433" class="Symbol">as</a> <a id="436" class="Module">PE</a> <a id="439" class="Keyword">using</a> <a id="445" class="Symbol">(</a><a id="446" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="449" class="Symbol">)</a>

<a id="452" class="Keyword">private</a> <a id="460" class="Keyword">variable</a>
  <a id="471" href="Graded.Erasure.Target.Reasoning.html#471" class="Generalizable">n</a>   <a id="475" class="Symbol">:</a> <a id="477" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="483" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="485" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a> <a id="487" class="Symbol">:</a> <a id="489" href="Graded.Erasure.Target.html#1296" class="Datatype">Term</a> <a id="494" class="Symbol">_</a>
  <a id="498" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a>   <a id="502" class="Symbol">:</a> <a id="504" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="509" class="Symbol">(</a><a id="510" href="Graded.Erasure.Target.html#1296" class="Datatype">Term</a> <a id="515" class="Symbol">_)</a>

<a id="519" class="Keyword">infix</a>  <a id="526" class="Number">-1</a> <a id="529" href="Graded.Erasure.Target.Reasoning.html#1446" class="Function Operator">_∎⇒</a>
<a id="533" class="Keyword">infixr</a> <a id="540" class="Number">-2</a> <a id="543" href="Graded.Erasure.Target.Reasoning.html#600" class="Function">step-⇒</a> <a id="550" href="Graded.Erasure.Target.Reasoning.html#759" class="Function">step-⇒*</a> <a id="558" href="Graded.Erasure.Target.Reasoning.html#964" class="Function">step-≡</a> <a id="565" href="Graded.Erasure.Target.Reasoning.html#1164" class="Function">step-≡˘</a> <a id="573" href="Graded.Erasure.Target.Reasoning.html#1349" class="Function Operator">_≡⟨⟩⇒_</a>

<a id="581" class="Comment">-- A single step.</a>

<a id="step-⇒"></a><a id="600" href="Graded.Erasure.Target.Reasoning.html#600" class="Function">step-⇒</a> <a id="607" class="Symbol">:</a> <a id="609" class="Symbol">∀</a> <a id="611" href="Graded.Erasure.Target.Reasoning.html#611" class="Bound">t</a> <a id="613" class="Symbol">→</a> <a id="615" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="617" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="619" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="621" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="624" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a> <a id="626" class="Symbol">→</a> <a id="628" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="630" href="Graded.Erasure.Target.html#7338" class="Datatype Operator">⊢</a> <a id="632" href="Graded.Erasure.Target.Reasoning.html#611" class="Bound">t</a> <a id="634" href="Graded.Erasure.Target.html#7338" class="Datatype Operator">⇒</a> <a id="636" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="638" class="Symbol">→</a> <a id="640" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="642" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="644" href="Graded.Erasure.Target.Reasoning.html#611" class="Bound">t</a> <a id="646" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="649" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a>
<a id="651" href="Graded.Erasure.Target.Reasoning.html#600" class="Function">step-⇒</a> <a id="658" class="Symbol">_</a> <a id="660" class="Symbol">=</a> <a id="662" href="Function.Base.html#1657" class="Function">flip</a> <a id="667" href="Graded.Erasure.Target.html#8427" class="InductiveConstructor">trans</a>

<a id="674" class="Keyword">syntax</a> <a id="681" href="Graded.Erasure.Target.Reasoning.html#600" class="Function">step-⇒</a> <a id="688" class="Bound">t</a> <a id="690" class="Bound">u⇒v</a> <a id="694" class="Bound">t⇒u</a> <a id="698" class="Symbol">=</a> <a id="700" class="Bound">t</a> <a id="702" class="Function">⇒⟨</a> <a id="705" class="Bound">t⇒u</a> <a id="709" class="Function">⟩</a> <a id="711" class="Bound">u⇒v</a>

<a id="716" class="Symbol">{-#</a> <a id="720" class="Keyword">INLINE</a> <a id="727" href="Graded.Erasure.Target.Reasoning.html#600" class="Function">step-⇒</a> <a id="734" class="Symbol">#-}</a>

<a id="739" class="Comment">-- Multiple steps.</a>

<a id="step-⇒*"></a><a id="759" href="Graded.Erasure.Target.Reasoning.html#759" class="Function">step-⇒*</a> <a id="767" class="Symbol">:</a> <a id="769" class="Symbol">∀</a> <a id="771" href="Graded.Erasure.Target.Reasoning.html#771" class="Bound">t</a> <a id="773" class="Symbol">→</a> <a id="775" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="777" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="779" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="781" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="784" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a> <a id="786" class="Symbol">→</a> <a id="788" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="790" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="792" href="Graded.Erasure.Target.Reasoning.html#771" class="Bound">t</a> <a id="794" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="797" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="799" class="Symbol">→</a> <a id="801" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="803" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="805" href="Graded.Erasure.Target.Reasoning.html#771" class="Bound">t</a> <a id="807" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="810" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a>
<a id="812" href="Graded.Erasure.Target.Reasoning.html#759" class="Function">step-⇒*</a> <a id="820" class="Symbol">_</a> <a id="822" class="Symbol">=</a> <a id="824" href="Function.Base.html#1657" class="Function">flip</a> <a id="829" href="Graded.Erasure.Target.Properties.Reduction.html#971" class="Function">red*concat</a>

<a id="841" class="Keyword">syntax</a> <a id="848" href="Graded.Erasure.Target.Reasoning.html#759" class="Function">step-⇒*</a> <a id="856" class="Bound">t</a> <a id="858" class="Bound">u⇒v</a> <a id="862" class="Bound">t⇒u</a> <a id="866" class="Symbol">=</a> <a id="868" class="Bound">t</a> <a id="870" class="Function">⇒*⟨</a> <a id="874" class="Bound">t⇒u</a> <a id="878" class="Function">⟩</a> <a id="880" class="Bound">u⇒v</a>

<a id="885" class="Symbol">{-#</a> <a id="889" class="Keyword">INLINE</a> <a id="896" href="Graded.Erasure.Target.Reasoning.html#759" class="Function">step-⇒*</a> <a id="904" class="Symbol">#-}</a>

<a id="909" class="Comment">-- A reasoning step that uses propositional equality.</a>

<a id="step-≡"></a><a id="964" href="Graded.Erasure.Target.Reasoning.html#964" class="Function">step-≡</a> <a id="971" class="Symbol">:</a> <a id="973" class="Symbol">∀</a> <a id="975" href="Graded.Erasure.Target.Reasoning.html#975" class="Bound">t</a> <a id="977" class="Symbol">→</a> <a id="979" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="981" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="983" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="985" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="988" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a> <a id="990" class="Symbol">→</a> <a id="992" href="Graded.Erasure.Target.Reasoning.html#975" class="Bound">t</a> <a id="994" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="996" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="998" class="Symbol">→</a> <a id="1000" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1002" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1004" href="Graded.Erasure.Target.Reasoning.html#975" class="Bound">t</a> <a id="1006" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1009" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a>
<a id="1011" href="Graded.Erasure.Target.Reasoning.html#964" class="Function">step-≡</a> <a id="1018" class="Symbol">_</a> <a id="1020" href="Graded.Erasure.Target.Reasoning.html#1020" class="Bound">u⇒v</a> <a id="1024" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="1032" class="Symbol">=</a> <a id="1034" href="Graded.Erasure.Target.Reasoning.html#1020" class="Bound">u⇒v</a>

<a id="1039" class="Keyword">syntax</a> <a id="1046" href="Graded.Erasure.Target.Reasoning.html#964" class="Function">step-≡</a> <a id="1053" class="Bound">t</a> <a id="1055" class="Bound">u⇒v</a> <a id="1059" class="Bound">t≡u</a> <a id="1063" class="Symbol">=</a> <a id="1065" class="Bound">t</a> <a id="1067" class="Function">≡⟨</a> <a id="1070" class="Bound">t≡u</a> <a id="1074" class="Function">⟩⇒</a> <a id="1077" class="Bound">u⇒v</a>

<a id="1082" class="Comment">-- A reasoning step that uses propositional equality, combined with</a>
<a id="1150" class="Comment">-- symmetry.</a>

<a id="step-≡˘"></a><a id="1164" href="Graded.Erasure.Target.Reasoning.html#1164" class="Function">step-≡˘</a> <a id="1172" class="Symbol">:</a> <a id="1174" class="Symbol">∀</a> <a id="1176" href="Graded.Erasure.Target.Reasoning.html#1176" class="Bound">t</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1182" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1184" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="1186" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1189" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a> <a id="1191" class="Symbol">→</a> <a id="1193" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="1195" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1197" href="Graded.Erasure.Target.Reasoning.html#1176" class="Bound">t</a> <a id="1199" class="Symbol">→</a> <a id="1201" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1203" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1205" href="Graded.Erasure.Target.Reasoning.html#1176" class="Bound">t</a> <a id="1207" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1210" href="Graded.Erasure.Target.Reasoning.html#485" class="Generalizable">v</a>
<a id="1212" href="Graded.Erasure.Target.Reasoning.html#1164" class="Function">step-≡˘</a> <a id="1220" class="Symbol">_</a> <a id="1222" href="Graded.Erasure.Target.Reasoning.html#1222" class="Bound">u⇒v</a> <a id="1226" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="1234" class="Symbol">=</a> <a id="1236" href="Graded.Erasure.Target.Reasoning.html#1222" class="Bound">u⇒v</a>

<a id="1241" class="Keyword">syntax</a> <a id="1248" href="Graded.Erasure.Target.Reasoning.html#1164" class="Function">step-≡˘</a> <a id="1256" class="Bound">t</a> <a id="1258" class="Bound">u⇒v</a> <a id="1262" class="Bound">u≡t</a> <a id="1266" class="Symbol">=</a> <a id="1268" class="Bound">t</a> <a id="1270" class="Function">≡˘⟨</a> <a id="1274" class="Bound">u≡t</a> <a id="1278" class="Function">⟩⇒</a> <a id="1281" class="Bound">u⇒v</a>

<a id="1286" class="Comment">-- A reasoning step that uses (Agda&#39;s) definitional equality.</a>

<a id="_≡⟨⟩⇒_"></a><a id="1349" href="Graded.Erasure.Target.Reasoning.html#1349" class="Function Operator">_≡⟨⟩⇒_</a> <a id="1356" class="Symbol">:</a> <a id="1358" class="Symbol">∀</a> <a id="1360" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a> <a id="1362" class="Symbol">→</a> <a id="1364" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1366" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1368" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a> <a id="1370" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1373" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a> <a id="1375" class="Symbol">→</a> <a id="1377" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1379" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1381" href="Graded.Erasure.Target.Reasoning.html#1360" class="Bound">t</a> <a id="1383" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1386" href="Graded.Erasure.Target.Reasoning.html#483" class="Generalizable">u</a>
<a id="1388" class="Symbol">_</a> <a id="1390" href="Graded.Erasure.Target.Reasoning.html#1349" class="Function Operator">≡⟨⟩⇒</a> <a id="1395" href="Graded.Erasure.Target.Reasoning.html#1395" class="Bound">t⇒u</a> <a id="1399" class="Symbol">=</a> <a id="1401" href="Graded.Erasure.Target.Reasoning.html#1395" class="Bound">t⇒u</a>

<a id="1406" class="Symbol">{-#</a> <a id="1410" class="Keyword">INLINE</a> <a id="1417" href="Graded.Erasure.Target.Reasoning.html#1349" class="Function Operator">_≡⟨⟩⇒_</a> <a id="1424" class="Symbol">#-}</a>

<a id="1429" class="Comment">-- Reflexivity.</a>

<a id="_∎⇒"></a><a id="1446" href="Graded.Erasure.Target.Reasoning.html#1446" class="Function Operator">_∎⇒</a> <a id="1450" class="Symbol">:</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Graded.Erasure.Target.Reasoning.html#1453" class="Bound">t</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Graded.Erasure.Target.html#1296" class="Datatype">Term</a> <a id="1462" href="Graded.Erasure.Target.Reasoning.html#471" class="Generalizable">n</a><a id="1463" class="Symbol">)</a> <a id="1465" class="Symbol">→</a> <a id="1467" href="Graded.Erasure.Target.Reasoning.html#498" class="Generalizable">∇</a> <a id="1469" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⊢</a> <a id="1471" href="Graded.Erasure.Target.Reasoning.html#1453" class="Bound">t</a> <a id="1473" href="Graded.Erasure.Target.html#8349" class="Datatype Operator">⇒*</a> <a id="1476" href="Graded.Erasure.Target.Reasoning.html#1453" class="Bound">t</a>
<a id="1478" class="Symbol">_</a> <a id="1480" href="Graded.Erasure.Target.Reasoning.html#1446" class="Function Operator">∎⇒</a> <a id="1483" class="Symbol">=</a> <a id="1485" href="Graded.Erasure.Target.html#8407" class="InductiveConstructor">refl</a>

<a id="1491" class="Symbol">{-#</a> <a id="1495" class="Keyword">INLINE</a> <a id="1502" href="Graded.Erasure.Target.Reasoning.html#1446" class="Function Operator">_∎⇒</a> <a id="1506" class="Symbol">#-}</a>
</pre></body></html>