<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Symbol">{-#</a> <a id="206" class="Keyword">OPTIONS</a> <a id="214" class="Pragma">--hidden-argument-puns</a> <a id="237" class="Symbol">#-}</a>

<a id="242" class="Keyword">import</a> <a id="249" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="266" class="Keyword">module</a> <a id="273" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="295" class="Symbol">{</a><a id="296" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="297" class="Symbol">}</a> <a id="299" class="Symbol">{</a><a id="300" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="302" class="Symbol">:</a> <a id="304" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="308" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="309" class="Symbol">}</a>
  <a id="313" class="Symbol">(</a><a id="314" class="Keyword">open</a> <a id="319" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="335" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="336" class="Symbol">)</a>
  <a id="340" class="Symbol">(</a><a id="341" href="Graded.Restrictions.html#341" class="Bound">𝕄</a> <a id="343" class="Symbol">:</a> <a id="345" href="Graded.Modality.html#7127" class="Record">Modality</a><a id="353" class="Symbol">)</a>
  <a id="357" class="Keyword">where</a>

<a id="364" class="Keyword">open</a> <a id="369" href="Graded.Modality.html#7127" class="Module">Modality</a> <a id="378" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>

<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="479" class="Keyword">open</a> <a id="484" class="Keyword">import</a> <a id="491" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="505" class="Symbol">as</a> <a id="508" class="Module">Σ</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="577" class="Symbol">as</a> <a id="580" class="Module">Dec</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Graded.Modality.Dedicated-nr.html" class="Module">Graded.Modality.Dedicated-nr</a> <a id="649" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="690" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="716" href="Graded.Restrictions.html#341" class="Bound">𝕄</a> as <a id="Mode"></a><a id="721" href="Graded.Restrictions.html#721" class="Module">Mode</a> <a id="726" class="Keyword">hiding</a> <a id="733" class="Symbol">(</a><a id="734" href="Graded.Mode.html#5609" class="Function Operator">_≟_</a><a id="737" class="Symbol">)</a>
<a id="739" class="Keyword">import</a> <a id="746" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="781" class="Symbol">as</a> <a id="784" class="Module">UD</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="865" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>

<a id="868" class="Keyword">import</a> <a id="875" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="921" class="Symbol">as</a> <a id="924" class="Module">TD</a>
<a id="927" class="Keyword">open</a> <a id="932" class="Keyword">import</a> <a id="939" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="969" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="971" class="Keyword">open</a> <a id="976" class="Keyword">import</a> <a id="983" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1018" class="Keyword">open</a> <a id="1023" class="Keyword">import</a> <a id="1030" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1077" class="Keyword">private</a> <a id="1085" class="Keyword">variable</a>
  <a id="1096" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="1099" class="Symbol">:</a> <a id="1101" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
  <a id="1121" href="Graded.Restrictions.html#1121" class="Generalizable">UR</a> <a id="1124" class="Symbol">:</a> <a id="1126" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
  <a id="1147" href="Graded.Restrictions.html#1147" class="Generalizable">b</a>  <a id="1150" class="Symbol">:</a> <a id="1152" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1159" href="Graded.Restrictions.html#1159" class="Generalizable">ok</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1166" class="Symbol">_</a>
  <a id="1170" href="Graded.Restrictions.html#1170" class="Generalizable">s</a>  <a id="1173" class="Symbol">:</a> <a id="1175" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a>

<a id="1185" class="Comment">------------------------------------------------------------------------</a>
<a id="1258" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1305" class="Comment">-- No type restrictions except that if the modality is trivial, then</a>
<a id="1374" class="Comment">-- []-cong is not allowed, and the K rule is allowed if the boolean is</a>
<a id="1445" class="Comment">-- true.</a>

<a id="no-type-restrictions"></a><a id="1455" href="Graded.Restrictions.html#1455" class="Function">no-type-restrictions</a> <a id="1476" class="Symbol">:</a> <a id="1478" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1483" class="Symbol">→</a> <a id="1485" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="1503" href="Graded.Restrictions.html#1455" class="Function">no-type-restrictions</a> <a id="1524" href="Graded.Restrictions.html#1524" class="Bound">allowed</a> <a id="1532" class="Symbol">=</a> <a id="1534" class="Symbol">λ</a> <a id="1536" class="Keyword">where</a>
    <a id="1546" class="Symbol">.</a><a id="1547" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a>     <a id="1564" class="Symbol">→</a> <a id="1566" class="Symbol">λ</a> <a id="1568" href="Graded.Restrictions.html#1568" class="Bound">_</a> <a id="1570" class="Symbol">→</a> <a id="1572" href="Level.html#409" class="Record">Lift</a> <a id="1577" class="Symbol">_</a> <a id="1579" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1585" class="Symbol">.</a><a id="1586" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>       <a id="1603" class="Symbol">→</a> <a id="1605" class="Symbol">λ</a> <a id="1607" href="Graded.Restrictions.html#1607" class="Bound">_</a> <a id="1609" href="Graded.Restrictions.html#1609" class="Bound">_</a> <a id="1611" href="Graded.Restrictions.html#1611" class="Bound">_</a> <a id="1613" class="Symbol">→</a> <a id="1615" href="Level.html#409" class="Record">Lift</a> <a id="1620" class="Symbol">_</a> <a id="1622" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1628" class="Symbol">.</a><a id="1629" href="Definition.Typed.Restrictions.html#1951" class="Field">K-allowed</a>        <a id="1646" class="Symbol">→</a> <a id="1648" href="Level.html#409" class="Record">Lift</a> <a id="1653" class="Symbol">_</a> <a id="1655" class="Symbol">(</a><a id="1656" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1658" href="Graded.Restrictions.html#1524" class="Bound">allowed</a><a id="1665" class="Symbol">)</a>
    <a id="1671" class="Symbol">.</a><a id="1672" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a>  <a id="1689" class="Symbol">→</a> <a id="1691" class="Symbol">λ</a> <a id="1693" href="Graded.Restrictions.html#1693" class="Bound">_</a> <a id="1695" class="Symbol">→</a> <a id="1697" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="1699" href="Graded.Modality.html#1867" class="Function">Trivial</a>
    <a id="1711" class="Symbol">.</a><a id="1712" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a>   <a id="1729" class="Symbol">→</a> <a id="1731" class="Symbol">_</a>
    <a id="1737" class="Symbol">.</a><a id="1738" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-cong→¬Trivial</a> <a id="1755" class="Symbol">→</a> <a id="1757" href="Function.Base.html#704" class="Function">idᶠ</a>
  <a id="1763" class="Keyword">where</a>
  <a id="1771" class="Keyword">open</a> <a id="1776" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a>

<a id="1795" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="1864" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="1896" href="Graded.Restrictions.html#1896" class="Function">equal-binder-quantities</a> <a id="1920" class="Symbol">:</a> <a id="1922" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="1940" class="Symbol">→</a> <a id="1942" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="1960" href="Graded.Restrictions.html#1896" class="Function">equal-binder-quantities</a> <a id="1984" href="Graded.Restrictions.html#1984" class="Bound">R</a> <a id="1986" class="Symbol">=</a> <a id="1988" class="Keyword">record</a> <a id="1995" href="Graded.Restrictions.html#1984" class="Bound">R</a>
  <a id="1999" class="Symbol">{</a> <a id="2001" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>     <a id="2016" class="Symbol">=</a> <a id="2018" class="Symbol">λ</a> <a id="2020" href="Graded.Restrictions.html#2020" class="Bound">b</a> <a id="2022" href="Graded.Restrictions.html#2022" class="Bound">p</a> <a id="2024" href="Graded.Restrictions.html#2024" class="Bound">q</a> <a id="2026" class="Symbol">→</a> <a id="2028" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2039" href="Graded.Restrictions.html#2020" class="Bound">b</a> <a id="2041" href="Graded.Restrictions.html#2022" class="Bound">p</a> <a id="2043" href="Graded.Restrictions.html#2024" class="Bound">q</a> <a id="2045" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2047" href="Graded.Restrictions.html#2022" class="Bound">p</a> <a id="2049" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2051" href="Graded.Restrictions.html#2024" class="Bound">q</a>
  <a id="2055" class="Symbol">;</a> <a id="2057" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2072" class="Symbol">=</a> <a id="2074" class="Symbol">λ</a> <a id="2076" href="Graded.Restrictions.html#2076" class="Bound">ok</a> <a id="2079" class="Symbol">→</a>
      <a id="2087" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2102" href="Graded.Restrictions.html#2076" class="Bound">ok</a> <a id="2105" class="Symbol">.</a><a id="2106" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2112" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2114" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2129" href="Graded.Restrictions.html#2076" class="Bound">ok</a> <a id="2132" class="Symbol">.</a><a id="2133" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2141" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2148" class="Symbol">}</a>
  <a id="2152" class="Keyword">where</a>
  <a id="2160" class="Keyword">open</a> <a id="2165" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="2183" href="Graded.Restrictions.html#1984" class="Bound">R</a>

<a id="2186" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2250" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2301" href="Graded.Restrictions.html#2301" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2324" class="Symbol">:</a>
  <a id="2328" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="2346" class="Symbol">→</a> <a id="2348" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="2366" href="Graded.Restrictions.html#2301" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2389" href="Graded.Restrictions.html#2389" class="Bound">R</a> <a id="2391" class="Symbol">=</a> <a id="2393" class="Keyword">record</a> <a id="2400" href="Graded.Restrictions.html#2389" class="Bound">R</a>
  <a id="2404" class="Symbol">{</a> <a id="2406" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>     <a id="2421" class="Symbol">=</a> <a id="2423" class="Symbol">λ</a> <a id="2425" href="Graded.Restrictions.html#2425" class="Bound">b</a> <a id="2427" href="Graded.Restrictions.html#2427" class="Bound">p</a> <a id="2429" href="Graded.Restrictions.html#2429" class="Bound">q</a> <a id="2431" class="Symbol">→</a> <a id="2433" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2444" href="Graded.Restrictions.html#2425" class="Bound">b</a> <a id="2446" href="Graded.Restrictions.html#2427" class="Bound">p</a> <a id="2448" href="Graded.Restrictions.html#2429" class="Bound">q</a> <a id="2450" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2452" href="Graded.Restrictions.html#2429" class="Bound">q</a> <a id="2454" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2456" href="Graded.Modality.html#847" class="Function">𝟘</a>
  <a id="2460" class="Symbol">;</a> <a id="2462" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2477" class="Symbol">=</a> <a id="2479" class="Symbol">λ</a> <a id="2481" href="Graded.Restrictions.html#2481" class="Bound">ok</a> <a id="2484" class="Symbol">→</a>
      <a id="2492" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2507" href="Graded.Restrictions.html#2481" class="Bound">ok</a> <a id="2510" class="Symbol">.</a><a id="2511" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2519" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="2534" href="Graded.Restrictions.html#2481" class="Bound">ok</a> <a id="2537" class="Symbol">.</a><a id="2538" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2546" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2553" class="Symbol">}</a>
  <a id="2557" class="Keyword">where</a>
  <a id="2565" class="Keyword">open</a> <a id="2570" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="2588" href="Graded.Restrictions.html#2389" class="Bound">R</a>

<a id="2591" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="2658" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="2728" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="2796" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="2859" href="Graded.Restrictions.html#2859" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="2887" class="Symbol">:</a>
  <a id="2891" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="2909" class="Symbol">→</a> <a id="2911" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="2929" href="Graded.Restrictions.html#2859" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="2957" href="Graded.Restrictions.html#2957" class="Bound">R</a> <a id="2959" class="Symbol">=</a> <a id="2961" class="Keyword">record</a> <a id="2968" href="Graded.Restrictions.html#2957" class="Bound">R</a>
  <a id="2972" class="Symbol">{</a> <a id="2974" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2985" class="Symbol">=</a> <a id="2987" class="Symbol">λ</a> <a id="2989" href="Graded.Restrictions.html#2989" class="Bound">b</a> <a id="2991" href="Graded.Restrictions.html#2991" class="Bound">p</a> <a id="2993" href="Graded.Restrictions.html#2993" class="Bound">q</a> <a id="2995" class="Symbol">→</a>
      <a id="3003" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="3014" href="Graded.Restrictions.html#2989" class="Bound">b</a> <a id="3016" href="Graded.Restrictions.html#2991" class="Bound">p</a> <a id="3018" href="Graded.Restrictions.html#2993" class="Bound">q</a> <a id="3020" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3028" class="Symbol">(</a><a id="3029" href="Graded.Restrictions.html#2991" class="Bound">p</a> <a id="3031" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3033" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3035" class="Symbol">→</a> <a id="3037" href="Graded.Restrictions.html#2993" class="Bound">q</a> <a id="3039" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3041" href="Graded.Modality.html#851" class="Function">ω</a><a id="3042" class="Symbol">)</a> <a id="3044" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3052" class="Symbol">(</a><a id="3053" href="Graded.Restrictions.html#2991" class="Bound">p</a> <a id="3055" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3057" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3059" class="Symbol">→</a> <a id="3061" href="Graded.Restrictions.html#2993" class="Bound">q</a> <a id="3063" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3065" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3066" class="Symbol">)</a>
  <a id="3070" class="Symbol">;</a> <a id="3072" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3087" class="Symbol">=</a> <a id="3089" class="Symbol">λ</a> <a id="3091" href="Graded.Restrictions.html#3091" class="Bound">ok</a> <a id="3094" class="Symbol">→</a>
        <a id="3104" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3119" href="Graded.Restrictions.html#3091" class="Bound">ok</a> <a id="3122" class="Symbol">.</a><a id="3123" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3135" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3137" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3152" href="Graded.Restrictions.html#3091" class="Bound">ok</a> <a id="3155" class="Symbol">.</a><a id="3156" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3170" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3182" class="Symbol">λ</a> <a id="3184" href="Graded.Restrictions.html#3184" class="Bound">_</a> <a id="3186" class="Symbol">→</a> <a id="3188" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3195" class="Symbol">}</a>
  <a id="3199" class="Keyword">where</a>
  <a id="3207" class="Keyword">open</a> <a id="3212" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="3230" href="Graded.Restrictions.html#2957" class="Bound">R</a>

<a id="3233" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3305" href="Graded.Restrictions.html#3305" class="Function">strong-types-restricted′</a> <a id="3330" class="Symbol">:</a>
  <a id="3334" class="Symbol">(</a><a id="3335" href="Graded.Restrictions.html#3335" class="Bound">P</a> <a id="3337" class="Symbol">:</a> <a id="3339" href="Definition.Untyped.NotParametrised.html#1445" class="Datatype">BinderMode</a> <a id="3350" class="Symbol">→</a> <a id="3352" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="3354" class="Symbol">→</a> <a id="3356" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3360" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="3361" class="Symbol">)</a> <a id="3363" class="Symbol">→</a>
  <a id="3367" class="Symbol">(∀</a> <a id="3370" class="Symbol">{</a><a id="3371" href="Graded.Restrictions.html#3371" class="Bound">s</a><a id="3372" class="Symbol">}</a> <a id="3374" class="Symbol">→</a> <a id="3376" href="Graded.Restrictions.html#3371" class="Bound">s</a> <a id="3378" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3380" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a> <a id="3382" class="Symbol">→</a> <a id="3384" href="Graded.Restrictions.html#3335" class="Bound">P</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="3391" href="Graded.Restrictions.html#3371" class="Bound">s</a><a id="3392" class="Symbol">)</a> <a id="3394" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3395" class="Symbol">)</a> <a id="3397" class="Symbol">→</a>
  <a id="3401" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="3419" class="Symbol">→</a> <a id="3421" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="3439" href="Graded.Restrictions.html#3305" class="Function">strong-types-restricted′</a> <a id="3464" href="Graded.Restrictions.html#3464" class="Bound">P</a> <a id="3466" href="Graded.Restrictions.html#3466" class="Bound">hyp</a> <a id="3470" href="Graded.Restrictions.html#3470" class="Bound">R</a> <a id="3472" class="Symbol">=</a> <a id="3474" class="Keyword">record</a> <a id="3481" href="Graded.Restrictions.html#3470" class="Bound">R</a>
  <a id="3485" class="Symbol">{</a> <a id="3487" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="3500" class="Symbol">=</a> <a id="3502" class="Symbol">λ</a> <a id="3504" href="Graded.Restrictions.html#3504" class="Bound">s</a> <a id="3506" class="Symbol">→</a>
      <a id="3514" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="3527" href="Graded.Restrictions.html#3504" class="Bound">s</a> <a id="3529" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3531" href="Graded.Restrictions.html#3504" class="Bound">s</a> <a id="3533" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3535" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a>
  <a id="3539" class="Symbol">;</a> <a id="3541" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="3552" class="Symbol">=</a> <a id="3554" class="Symbol">λ</a> <a id="3556" href="Graded.Restrictions.html#3556" class="Bound">b</a> <a id="3558" href="Graded.Restrictions.html#3558" class="Bound">p</a> <a id="3560" href="Graded.Restrictions.html#3560" class="Bound">q</a> <a id="3562" class="Symbol">→</a>
      <a id="3570" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="3581" href="Graded.Restrictions.html#3556" class="Bound">b</a> <a id="3583" href="Graded.Restrictions.html#3558" class="Bound">p</a> <a id="3585" href="Graded.Restrictions.html#3560" class="Bound">q</a> <a id="3587" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3589" href="Graded.Restrictions.html#3464" class="Bound">P</a> <a id="3591" href="Graded.Restrictions.html#3556" class="Bound">b</a> <a id="3593" href="Graded.Restrictions.html#3558" class="Bound">p</a>
  <a id="3597" class="Symbol">;</a> <a id="3599" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="3615" class="Symbol">=</a> <a id="3617" class="Symbol">λ</a> <a id="3619" href="Graded.Restrictions.html#3619" class="Bound">s</a> <a id="3621" class="Symbol">→</a>
      <a id="3629" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="3645" href="Graded.Restrictions.html#3619" class="Bound">s</a> <a id="3647" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3649" href="Graded.Restrictions.html#3619" class="Bound">s</a> <a id="3651" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3653" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a>
  <a id="3657" class="Symbol">;</a> <a id="3659" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3674" class="Symbol">=</a> <a id="3676" class="Symbol">λ</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Graded.Restrictions.html#3679" class="Bound">ok</a> <a id="3682" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3684" href="Graded.Restrictions.html#3684" class="Bound">s≢𝕤</a><a id="3687" class="Symbol">)</a> <a id="3689" class="Symbol">→</a>
        <a id="3699" class="Symbol">(</a><a id="3700" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3715" href="Graded.Restrictions.html#3679" class="Bound">ok</a> <a id="3718" class="Symbol">.</a><a id="3719" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3727" href="Graded.Restrictions.html#3684" class="Bound">s≢𝕤</a><a id="3730" class="Symbol">)</a>
      <a id="3738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3740" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="3755" href="Graded.Restrictions.html#3679" class="Bound">ok</a> <a id="3758" class="Symbol">.</a><a id="3759" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3773" href="Graded.Restrictions.html#3466" class="Bound">hyp</a> <a id="3777" href="Graded.Restrictions.html#3684" class="Bound">s≢𝕤</a>
  <a id="3783" class="Symbol">;</a> <a id="3785" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-cong→¬Trivial</a> <a id="3802" class="Symbol">=</a>
      <a id="3810" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-cong→¬Trivial</a> <a id="3827" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="3830" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="3838" class="Symbol">}</a>
  <a id="3842" class="Keyword">where</a>
  <a id="3850" class="Keyword">open</a> <a id="3855" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="3873" href="Graded.Restrictions.html#3470" class="Bound">R</a>

<a id="3876" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="3935" class="Comment">-- restrictions:</a>
<a id="3952" class="Comment">--</a>
<a id="3955" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="3997" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4058" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4094" href="Graded.Restrictions.html#4094" class="Function">strong-types-restricted</a> <a id="4118" class="Symbol">:</a>
  <a id="4122" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4140" class="Symbol">→</a> <a id="4142" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4160" href="Graded.Restrictions.html#4094" class="Function">strong-types-restricted</a> <a id="4184" class="Symbol">=</a>
  <a id="4188" href="Graded.Restrictions.html#3305" class="Function">strong-types-restricted′</a> <a id="4213" class="Symbol">(λ</a> <a id="4216" href="Graded.Restrictions.html#4216" class="Bound">b</a> <a id="4218" href="Graded.Restrictions.html#4218" class="Bound">p</a> <a id="4220" class="Symbol">→</a> <a id="4222" href="Graded.Restrictions.html#4216" class="Bound">b</a> <a id="4224" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4226" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="4230" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a> <a id="4232" class="Symbol">→</a> <a id="4234" href="Graded.Restrictions.html#4218" class="Bound">p</a> <a id="4236" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4238" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="4239" class="Symbol">)</a>
    <a id="4245" class="Symbol">(λ</a> <a id="4248" class="Symbol">{</a> <a id="4250" href="Graded.Restrictions.html#4250" class="Bound">hyp</a> <a id="4254" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4259" class="Symbol">→</a> <a id="4261" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4268" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4270" href="Graded.Restrictions.html#4250" class="Bound">hyp</a> <a id="4274" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4279" class="Symbol">})</a>

<a id="4283" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4348" class="Comment">--</a>
<a id="4351" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4393" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4430" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4466" href="Graded.Restrictions.html#4466" class="Function">no-strong-types</a> <a id="4482" class="Symbol">:</a>
  <a id="4486" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4504" class="Symbol">→</a> <a id="4506" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4524" href="Graded.Restrictions.html#4466" class="Function">no-strong-types</a> <a id="4540" class="Symbol">=</a>
  <a id="4544" href="Graded.Restrictions.html#3305" class="Function">strong-types-restricted′</a> <a id="4569" class="Symbol">(λ</a> <a id="4572" href="Graded.Restrictions.html#4572" class="Bound">b</a> <a id="4574" href="Graded.Restrictions.html#4574" class="Bound">_</a> <a id="4576" class="Symbol">→</a> <a id="4578" href="Level.html#409" class="Record">Lift</a> <a id="4583" class="Symbol">_</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Graded.Restrictions.html#4572" class="Bound">b</a> <a id="4588" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4590" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="4594" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="4595" class="Symbol">))</a>
    <a id="4602" class="Symbol">(λ</a> <a id="4605" href="Graded.Restrictions.html#4605" class="Bound">hyp</a> <a id="4609" class="Symbol">→</a> <a id="4611" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="4616" class="Symbol">(λ</a> <a id="4619" class="Symbol">{</a> <a id="4621" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4626" class="Symbol">→</a> <a id="4628" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4635" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4637" href="Graded.Restrictions.html#4605" class="Bound">hyp</a> <a id="4641" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4646" class="Symbol">}))</a>

<a id="4651" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="4716" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="4752" href="Graded.Restrictions.html#4752" class="Function">no-erased-matches-TR</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a> <a id="4784" class="Symbol">→</a> <a id="4786" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4804" class="Symbol">→</a> <a id="4806" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4824" href="Graded.Restrictions.html#4752" class="Function">no-erased-matches-TR</a> <a id="4845" href="Graded.Restrictions.html#4845" class="Bound">s</a> <a id="4847" href="Graded.Restrictions.html#4847" class="Bound">TR</a> <a id="4850" class="Symbol">=</a> <a id="4852" class="Keyword">record</a> <a id="4859" href="Graded.Restrictions.html#4847" class="Bound">TR</a>
  <a id="4864" class="Symbol">{</a> <a id="4866" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a>  <a id="4883" class="Symbol">=</a> <a id="4885" class="Symbol">λ</a> <a id="4887" href="Graded.Restrictions.html#4887" class="Bound">s′</a> <a id="4890" class="Symbol">→</a> <a id="4892" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="4908" href="Graded.Restrictions.html#4887" class="Bound">s′</a> <a id="4911" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4913" href="Graded.Restrictions.html#4887" class="Bound">s′</a> <a id="4916" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4918" href="Graded.Restrictions.html#4845" class="Bound">s</a>
  <a id="4922" class="Symbol">;</a> <a id="4924" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a>   <a id="4941" class="Symbol">=</a> <a id="4943" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-cong→Erased</a> <a id="4958" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4961" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4969" class="Symbol">;</a> <a id="4971" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-cong→¬Trivial</a> <a id="4988" class="Symbol">=</a> <a id="4990" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-cong→¬Trivial</a> <a id="5007" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5010" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5018" class="Symbol">}</a>
  <a id="5022" class="Keyword">where</a>
  <a id="5030" class="Keyword">open</a> <a id="5035" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="5053" href="Graded.Restrictions.html#4847" class="Bound">TR</a>

<a id="5057" class="Comment">------------------------------------------------------------------------</a>
<a id="5130" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5178" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5242" class="Comment">-- matches are allowed for J and K, Id-erased is inhabited if the</a>
<a id="5308" class="Comment">-- first boolean is true, and starˢ is treated as a sink if the second</a>
<a id="5379" class="Comment">-- boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="5400" href="Graded.Restrictions.html#5400" class="Function">no-usage-restrictions</a> <a id="5422" class="Symbol">:</a> <a id="5424" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5429" class="Symbol">→</a> <a id="5431" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5436" class="Symbol">→</a> <a id="5438" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="5457" href="Graded.Restrictions.html#5400" class="Function">no-usage-restrictions</a> <a id="5479" href="Graded.Restrictions.html#5479" class="Bound">erased</a> <a id="5486" href="Graded.Restrictions.html#5486" class="Bound">sink</a> <a id="5491" class="Symbol">=</a> <a id="5493" class="Symbol">λ</a> <a id="5495" class="Keyword">where</a>
    <a id="5505" class="Symbol">.</a><a id="5506" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a>                   <a id="5540" class="Symbol">→</a> <a id="5542" class="Symbol">λ</a> <a id="5544" href="Graded.Restrictions.html#5544" class="Bound">_</a> <a id="5546" href="Graded.Restrictions.html#5546" class="Bound">_</a> <a id="5548" href="Graded.Restrictions.html#5548" class="Bound">_</a> <a id="5550" href="Graded.Restrictions.html#5550" class="Bound">_</a> <a id="5552" class="Symbol">→</a> <a id="5554" href="Level.html#409" class="Record">Lift</a> <a id="5559" class="Symbol">_</a> <a id="5561" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5567" class="Symbol">.</a><a id="5568" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a>  <a id="5602" class="Symbol">→</a> <a id="5604" class="Symbol">_</a>
    <a id="5610" class="Symbol">.</a><a id="5611" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a>                   <a id="5645" class="Symbol">→</a> <a id="5647" class="Symbol">λ</a> <a id="5649" href="Graded.Restrictions.html#5649" class="Bound">_</a> <a id="5651" href="Graded.Restrictions.html#5651" class="Bound">_</a> <a id="5653" href="Graded.Restrictions.html#5653" class="Bound">_</a> <a id="5655" class="Symbol">→</a> <a id="5657" href="Level.html#409" class="Record">Lift</a> <a id="5662" class="Symbol">_</a> <a id="5664" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5670" class="Symbol">.</a><a id="5671" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a>  <a id="5705" class="Symbol">→</a> <a id="5707" class="Symbol">_</a>
    <a id="5713" class="Symbol">.</a><a id="5714" href="Graded.Usage.Restrictions.html#1576" class="Field">Emptyrec-allowed</a>                  <a id="5748" class="Symbol">→</a> <a id="5750" class="Symbol">λ</a> <a id="5752" href="Graded.Restrictions.html#5752" class="Bound">_</a> <a id="5754" href="Graded.Restrictions.html#5754" class="Bound">_</a> <a id="5756" class="Symbol">→</a> <a id="5758" href="Level.html#409" class="Record">Lift</a> <a id="5763" class="Symbol">_</a> <a id="5765" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5771" class="Symbol">.</a><a id="5772" href="Graded.Usage.Restrictions.html#1718" class="Field">Emptyrec-allowed-downwards-closed</a> <a id="5806" class="Symbol">→</a> <a id="5808" class="Symbol">_</a>
    <a id="5814" class="Symbol">.</a><a id="5815" href="Graded.Usage.Restrictions.html#1869" class="Field">starˢ-sink</a>                        <a id="5849" class="Symbol">→</a> <a id="5851" href="Graded.Restrictions.html#5486" class="Bound">sink</a>
    <a id="5860" class="Symbol">.</a><a id="5861" href="Graded.Usage.Restrictions.html#1948" class="Field">Id-erased</a>                         <a id="5895" class="Symbol">→</a> <a id="5897" href="Level.html#409" class="Record">Lift</a> <a id="5902" class="Symbol">_</a> <a id="5904" class="Symbol">(</a><a id="5905" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="5907" href="Graded.Restrictions.html#5479" class="Bound">erased</a><a id="5913" class="Symbol">)</a>
    <a id="5919" class="Symbol">.</a><a id="5920" href="Graded.Usage.Restrictions.html#2000" class="Field">Id-erased?</a>                        <a id="5954" class="Symbol">→</a> <a id="5956" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="5964" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="5969" href="Level.html#479" class="Field">Lift.lower</a> <a id="5980" href="Function.Base.html#1974" class="Function Operator">$</a>
                                         <a id="6023" href="Relation.Nullary.Decidable.Core.html#2465" class="Function">T?</a> <a id="6026" href="Graded.Restrictions.html#5479" class="Bound">erased</a>
    <a id="6037" class="Symbol">.</a><a id="6038" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>              <a id="6072" class="Symbol">→</a> <a id="6074" class="Symbol">λ</a> <a id="6076" href="Graded.Restrictions.html#6076" class="Bound">_</a> <a id="6078" class="Symbol">→</a> <a id="6080" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6088" class="Symbol">.</a><a id="6089" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>          <a id="6123" class="Symbol">→</a> <a id="6125" class="Symbol">_</a>
    <a id="6131" class="Symbol">.</a><a id="6132" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>              <a id="6166" class="Symbol">→</a> <a id="6168" class="Symbol">λ</a> <a id="6170" href="Graded.Restrictions.html#6170" class="Bound">_</a> <a id="6172" class="Symbol">→</a> <a id="6174" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6182" class="Symbol">.</a><a id="6183" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>          <a id="6217" class="Symbol">→</a> <a id="6219" class="Symbol">_</a>
  <a id="6223" class="Keyword">where</a>
  <a id="6231" class="Keyword">open</a> <a id="6236" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a>

<a id="6256" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="6313" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="6328" class="Symbol">:</a> <a id="6330" class="Symbol">(</a><a id="6331" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="6336" class="Symbol">→</a> <a id="6338" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="6352" class="Symbol">)</a> <a id="6354" class="Symbol">→</a> <a id="6356" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="6361" class="Symbol">→</a> <a id="6363" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="6378" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="6393" href="Graded.Restrictions.html#6393" class="Bound">f</a> <a id="6395" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="6398" class="Symbol">=</a> <a id="6400" href="Graded.Restrictions.html#6393" class="Bound">f</a> <a id="6402" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
<a id="6405" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="6420" href="Graded.Restrictions.html#6420" class="Bound">f</a> <a id="6422" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="6425" class="Keyword">with</a> <a id="6430" href="Graded.Restrictions.html#6420" class="Bound">f</a> <a id="6432" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
<a id="6435" class="Symbol">…</a> <a id="6437" class="Symbol">|</a> <a id="6439" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="6443" class="Symbol">=</a> <a id="6445" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="6450" class="CatchallClause Symbol">…</a><a id="6451" class="CatchallClause"> </a><a id="6452" class="CatchallClause Symbol">|</a><a id="6453" class="CatchallClause"> </a><a id="6454" href="Graded.Restrictions.html#6454" class="CatchallClause Bound">em</a>  <a id="6458" class="Symbol">=</a> <a id="6460" href="Graded.Restrictions.html#6454" class="Bound">em</a>

<a id="6464" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="6530" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="6578" href="Graded.Restrictions.html#6578" class="Function">not-all-erased-matches-JK</a> <a id="6604" class="Symbol">:</a> <a id="6606" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="6625" class="Symbol">→</a> <a id="6627" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="6646" href="Graded.Restrictions.html#6578" class="Function">not-all-erased-matches-JK</a> <a id="6672" href="Graded.Restrictions.html#6672" class="Bound">UR</a> <a id="6675" class="Symbol">=</a> <a id="6677" class="Keyword">record</a> <a id="6684" href="Graded.Restrictions.html#6672" class="Bound">UR</a>
  <a id="6689" class="Symbol">{</a> <a id="6691" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="6712" class="Symbol">=</a>
      <a id="6720" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="6735" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>
  <a id="6758" class="Symbol">;</a> <a id="6760" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="6785" class="Symbol">=</a>
      <a id="6793" href="Graded.Restrictions.html#7085" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="6812" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="6833" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="6860" class="Symbol">;</a> <a id="6862" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="6883" class="Symbol">=</a>
      <a id="6891" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="6906" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>
  <a id="6929" class="Symbol">;</a> <a id="6931" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="6956" class="Symbol">=</a>
      <a id="6964" href="Graded.Restrictions.html#7085" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="6983" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="7004" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="7031" class="Symbol">}</a>
  <a id="7035" class="Keyword">where</a>
  <a id="7043" class="Keyword">open</a> <a id="7048" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="7067" href="Graded.Restrictions.html#6672" class="Bound">UR</a>

  <a id="7073" class="Keyword">opaque</a>

    <a id="7085" href="Graded.Restrictions.html#7085" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7104" class="Symbol">:</a>
      <a id="7112" class="Symbol">(</a><a id="7113" href="Graded.Restrictions.html#7113" class="Bound">f</a> <a id="7115" class="Symbol">:</a> <a id="7117" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="7122" class="Symbol">→</a> <a id="7124" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7138" class="Symbol">)</a> <a id="7140" class="Symbol">→</a>
      <a id="7148" href="Graded.Restrictions.html#7113" class="Bound">f</a> <a id="7150" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7153" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7157" href="Graded.Restrictions.html#7113" class="Bound">f</a> <a id="7159" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7163" href="Graded.Restrictions.html#1159" class="Generalizable">ok</a> <a id="7166" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">]</a> <a id="7168" class="Symbol">→</a>
      <a id="7176" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="7191" href="Graded.Restrictions.html#7113" class="Bound">f</a> <a id="7193" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7196" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7200" href="Graded.Restrictions.html#6313" class="Function">not-all-for-𝟙ᵐ</a> <a id="7215" href="Graded.Restrictions.html#7113" class="Bound">f</a> <a id="7217" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7221" href="Graded.Restrictions.html#1159" class="Generalizable">ok</a> <a id="7224" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">]</a>
    <a id="7230" href="Graded.Restrictions.html#7085" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7249" href="Graded.Restrictions.html#7249" class="Bound">f</a> <a id="7251" href="Graded.Restrictions.html#7251" class="Bound">f-≤ᵉᵐ</a> <a id="7257" class="Keyword">with</a> <a id="7262" href="Graded.Restrictions.html#7249" class="Bound">f</a> <a id="7264" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="7271" class="Symbol">…</a> <a id="7273" class="Symbol">|</a> <a id="7275" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="7280" class="Symbol">=</a> <a id="7282" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="7297" class="Symbol">_</a> <a id="7299" class="Bound">f-≤ᵉᵐ</a>
    <a id="7309" class="Symbol">…</a> <a id="7311" class="Symbol">|</a> <a id="7313" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="7318" class="Symbol">=</a> <a id="7320" class="Bound">f-≤ᵉᵐ</a>
    <a id="7330" class="Symbol">…</a> <a id="7332" class="Symbol">|</a> <a id="7334" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="7339" class="Symbol">=</a> <a id="7341" class="Bound">f-≤ᵉᵐ</a>

<a id="7348" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="7417" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec,</a>
<a id="7487" class="Comment">-- and for prodrec and unitrec the added restriction only applies to</a>
<a id="7556" class="Comment">-- non-trivial modalities.</a>

<a id="no-erased-matches-UR"></a><a id="7584" href="Graded.Restrictions.html#7584" class="Function">no-erased-matches-UR</a> <a id="7605" class="Symbol">:</a> <a id="7607" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="7626" class="Symbol">→</a> <a id="7628" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="7647" href="Graded.Restrictions.html#7584" class="Function">no-erased-matches-UR</a> <a id="7668" href="Graded.Restrictions.html#7668" class="Bound">UR</a> <a id="7671" class="Symbol">=</a> <a id="7673" class="Keyword">record</a> <a id="7680" href="Graded.Restrictions.html#7668" class="Bound">UR</a>
  <a id="7685" class="Symbol">{</a> <a id="7687" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="7703" class="Symbol">=</a> <a id="7705" class="Symbol">λ</a> <a id="7707" href="Graded.Restrictions.html#7707" class="Bound">m</a> <a id="7709" href="Graded.Restrictions.html#7709" class="Bound">r</a> <a id="7711" href="Graded.Restrictions.html#7711" class="Bound">p</a> <a id="7713" href="Graded.Restrictions.html#7713" class="Bound">q</a> <a id="7715" class="Symbol">→</a>
      <a id="7723" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="7739" href="Graded.Restrictions.html#7707" class="Bound">m</a> <a id="7741" href="Graded.Restrictions.html#7709" class="Bound">r</a> <a id="7743" href="Graded.Restrictions.html#7711" class="Bound">p</a> <a id="7745" href="Graded.Restrictions.html#7713" class="Bound">q</a> <a id="7747" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="7755" class="Symbol">(</a><a id="7756" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="7758" href="Graded.Modality.html#1867" class="Function">Trivial</a> <a id="7766" class="Symbol">→</a> <a id="7768" href="Graded.Restrictions.html#7707" class="Bound">m</a> <a id="7770" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7772" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7775" class="Symbol">→</a> <a id="7777" href="Graded.Restrictions.html#7709" class="Bound">r</a> <a id="7779" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7781" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="7782" class="Symbol">)</a>
  <a id="7786" class="Symbol">;</a> <a id="7788" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="7821" class="Symbol">=</a>
      <a id="7829" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="7835" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="7868" class="Symbol">(λ</a> <a id="7871" href="Graded.Restrictions.html#7871" class="Bound">_</a> <a id="7873" href="Graded.Restrictions.html#7873" class="Bound">_</a> <a id="7875" class="Symbol">())</a>
  <a id="7881" class="Symbol">;</a> <a id="7883" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="7899" class="Symbol">=</a> <a id="7901" class="Symbol">λ</a> <a id="7903" href="Graded.Restrictions.html#7903" class="Bound">m</a> <a id="7905" href="Graded.Restrictions.html#7905" class="Bound">p</a> <a id="7907" href="Graded.Restrictions.html#7907" class="Bound">q</a> <a id="7909" class="Symbol">→</a>
      <a id="7917" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="7933" href="Graded.Restrictions.html#7903" class="Bound">m</a> <a id="7935" href="Graded.Restrictions.html#7905" class="Bound">p</a> <a id="7937" href="Graded.Restrictions.html#7907" class="Bound">q</a> <a id="7939" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="7947" class="Symbol">(</a><a id="7948" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="7950" href="Graded.Modality.html#1867" class="Function">Trivial</a> <a id="7958" class="Symbol">→</a> <a id="7960" href="Graded.Restrictions.html#7903" class="Bound">m</a> <a id="7962" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7964" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7967" class="Symbol">→</a> <a id="7969" href="Graded.Restrictions.html#7905" class="Bound">p</a> <a id="7971" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7973" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="7974" class="Symbol">)</a>
  <a id="7978" class="Symbol">;</a> <a id="7980" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="8013" class="Symbol">=</a>
      <a id="8021" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8027" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="8060" class="Symbol">(λ</a> <a id="8063" href="Graded.Restrictions.html#8063" class="Bound">_</a> <a id="8065" href="Graded.Restrictions.html#8065" class="Bound">_</a> <a id="8067" class="Symbol">())</a>
  <a id="8073" class="Symbol">;</a> <a id="8075" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8096" class="Symbol">=</a> <a id="8098" class="Symbol">λ</a> <a id="8100" class="Keyword">where</a>
      <a id="8112" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8115" class="Symbol">→</a> <a id="8117" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8128" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="8131" class="Symbol">→</a> <a id="8133" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8154" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8159" class="Symbol">;</a> <a id="8161" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8186" class="Symbol">=</a>
      <a id="8194" class="Symbol">_</a>
  <a id="8198" class="Symbol">;</a> <a id="8200" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8221" class="Symbol">=</a> <a id="8223" class="Symbol">λ</a> <a id="8225" class="Keyword">where</a>
      <a id="8237" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8240" class="Symbol">→</a> <a id="8242" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8253" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="8256" class="Symbol">→</a> <a id="8258" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8279" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8284" class="Symbol">;</a> <a id="8286" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8311" class="Symbol">=</a>
      <a id="8319" class="Symbol">_</a>
  <a id="8323" class="Symbol">}</a>
  <a id="8327" class="Keyword">where</a>
  <a id="8335" class="Keyword">open</a> <a id="8340" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="8359" href="Graded.Restrictions.html#7668" class="Bound">UR</a>

<a id="8363" class="Comment">------------------------------------------------------------------------</a>
<a id="8436" class="Comment">-- No-erased-matches</a>

<a id="8458" class="Comment">-- The property of not allowing (certain) erased matches.</a>
<a id="8516" class="Comment">--</a>
<a id="8519" class="Comment">-- Erased matches are allowed for emptyrec, and &quot;erased&quot; matches are</a>
<a id="8588" class="Comment">-- allowed for trivial modalities. Erased matches are also allowed</a>
<a id="8655" class="Comment">-- when the mode is not 𝟙ᵐ, except for []-cong. (Note that a variant</a>
<a id="8724" class="Comment">-- of []-cong that works when the mode is not 𝟙ᵐ can be defined</a>
<a id="8788" class="Comment">-- without the use of []-cong, see Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="8856" href="Graded.Restrictions.html#8856" class="Function">No-erased-matches</a> <a id="8874" class="Symbol">:</a> <a id="8876" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="8894" class="Symbol">→</a> <a id="8896" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="8915" class="Symbol">→</a> <a id="8917" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="8921" href="Graded.Restrictions.html#296" class="Bound">a</a>
<a id="8923" href="Graded.Restrictions.html#8856" class="Function">No-erased-matches</a> <a id="8941" href="Graded.Restrictions.html#8941" class="Bound">TR</a> <a id="8944" href="Graded.Restrictions.html#8944" class="Bound">UR</a> <a id="8947" class="Symbol">=</a>
  <a id="8951" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="8953" href="Graded.Modality.html#1867" class="Function">Trivial</a> <a id="8961" class="Symbol">→</a>
  <a id="8965" class="Symbol">(∀</a> <a id="8968" class="Symbol">{</a><a id="8969" href="Graded.Restrictions.html#8969" class="Bound">r</a> <a id="8971" href="Graded.Restrictions.html#8971" class="Bound">p</a> <a id="8973" href="Graded.Restrictions.html#8973" class="Bound">q</a><a id="8974" class="Symbol">}</a> <a id="8976" class="Symbol">→</a> <a id="8978" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8994" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8997" href="Graded.Restrictions.html#8969" class="Bound">r</a> <a id="8999" href="Graded.Restrictions.html#8971" class="Bound">p</a> <a id="9001" href="Graded.Restrictions.html#8973" class="Bound">q</a> <a id="9003" class="Symbol">→</a> <a id="9005" href="Graded.Restrictions.html#8969" class="Bound">r</a> <a id="9007" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9009" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="9010" class="Symbol">)</a> <a id="9012" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9016" class="Symbol">(∀</a> <a id="9019" class="Symbol">{</a><a id="9020" href="Graded.Restrictions.html#9020" class="Bound">p</a> <a id="9022" href="Graded.Restrictions.html#9022" class="Bound">q</a><a id="9023" class="Symbol">}</a>   <a id="9027" class="Symbol">→</a> <a id="9029" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9045" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9048" href="Graded.Restrictions.html#9020" class="Bound">p</a> <a id="9050" href="Graded.Restrictions.html#9022" class="Bound">q</a>   <a id="9054" class="Symbol">→</a> <a id="9056" href="Graded.Restrictions.html#9020" class="Bound">p</a> <a id="9058" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9060" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="9061" class="Symbol">)</a> <a id="9063" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9067" class="Symbol">(∀</a> <a id="9070" class="Symbol">{</a><a id="9071" href="Graded.Restrictions.html#9071" class="Bound">s</a><a id="9072" class="Symbol">}</a> <a id="9074" class="Symbol">→</a> <a id="9076" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9078" class="Symbol">(</a><a id="9079" href="Definition.Typed.Restrictions.html#2151" class="Function">[]-cong-allowed</a> <a id="9095" href="Graded.Restrictions.html#9071" class="Bound">s</a><a id="9096" class="Symbol">))</a> <a id="9099" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9103" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="9124" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9127" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9129" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="9134" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9138" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="9159" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9162" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9164" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="9171" class="Keyword">where</a>
  <a id="9179" class="Keyword">open</a> <a id="9184" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="9202" href="Graded.Restrictions.html#8941" class="Bound">TR</a>
  <a id="9207" class="Keyword">open</a> <a id="9212" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="9231" href="Graded.Restrictions.html#8944" class="Bound">UR</a>

<a id="9235" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="9298" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="9350" href="Graded.Restrictions.html#9350" class="Function">No-erased-matches-no-erased-matches</a> <a id="9386" class="Symbol">:</a>
  <a id="9390" class="Symbol">∀</a> <a id="9392" href="Graded.Restrictions.html#9392" class="Bound">TR</a> <a id="9395" href="Graded.Restrictions.html#9395" class="Bound">UR</a> <a id="9398" class="Symbol">→</a>
  <a id="9402" href="Graded.Restrictions.html#8856" class="Function">No-erased-matches</a>
    <a id="9424" class="Symbol">(</a><a id="9425" href="Graded.Restrictions.html#4752" class="Function">no-erased-matches-TR</a> <a id="9446" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a> <a id="9448" class="Symbol">(</a><a id="9449" href="Graded.Restrictions.html#4752" class="Function">no-erased-matches-TR</a> <a id="9470" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">𝕨</a> <a id="9472" href="Graded.Restrictions.html#9392" class="Bound">TR</a><a id="9474" class="Symbol">))</a>
    <a id="9481" class="Symbol">(</a><a id="9482" href="Graded.Restrictions.html#7584" class="Function">no-erased-matches-UR</a> <a id="9503" href="Graded.Restrictions.html#9395" class="Bound">UR</a><a id="9505" class="Symbol">)</a>
<a id="9507" href="Graded.Restrictions.html#9350" class="Function">No-erased-matches-no-erased-matches</a> <a id="9543" class="Symbol">_</a> <a id="9545" class="Symbol">_</a> <a id="9547" href="Graded.Restrictions.html#9547" class="Bound">𝟙≢𝟘</a> <a id="9551" class="Symbol">=</a>
    <a id="9557" class="Symbol">(</a><a id="9558" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9561" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9565" class="Symbol">)</a> <a id="9567" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9570" class="Symbol">(</a><a id="9571" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9574" href="Graded.Restrictions.html#9547" class="Bound">𝟙≢𝟘</a><a id="9577" class="Symbol">)</a> <a id="9579" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9582" href="Data.Product.Base.html#650" class="Field">proj₂</a>
  <a id="9590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9592" class="Symbol">(</a><a id="9593" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9596" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9600" class="Symbol">)</a> <a id="9602" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9605" class="Symbol">(</a><a id="9606" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9609" href="Graded.Restrictions.html#9547" class="Bound">𝟙≢𝟘</a><a id="9612" class="Symbol">)</a> <a id="9614" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9617" href="Data.Product.Base.html#650" class="Field">proj₂</a>
  <a id="9625" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9627" class="Symbol">(λ</a> <a id="9630" class="Keyword">where</a>
       <a id="9643" class="Symbol">{</a><a id="9644" class="Argument">s</a> <a id="9646" class="Symbol">=</a> <a id="9648" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="9649" class="Symbol">}</a> <a id="9651" class="Symbol">→</a> <a id="9653" class="Symbol">(</a><a id="9654" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9657" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9661" class="Symbol">)</a> <a id="9663" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9666" href="Data.Product.Base.html#650" class="Field">proj₂</a>
       <a id="9679" class="Symbol">{</a><a id="9680" class="Argument">s</a> <a id="9682" class="Symbol">=</a> <a id="9684" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">𝕨</a><a id="9685" class="Symbol">}</a> <a id="9687" class="Symbol">→</a> <a id="9689" class="Symbol">(</a><a id="9690" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9693" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9697" class="Symbol">)</a> <a id="9699" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9702" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9708" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9711" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="9716" class="Symbol">)</a>
  <a id="9720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9722" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="9729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9731" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9737" class="Comment">------------------------------------------------------------------------</a>
<a id="9810" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="9852" class="Keyword">opaque</a>

  <a id="9862" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="9929" class="Comment">-- no-type-restrictions b.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="9959" href="Graded.Restrictions.html#9959" class="Function">Assumptions-no-type-restrictions</a> <a id="9992" class="Symbol">:</a>
    <a id="9998" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="10008" class="Symbol">(</a><a id="10009" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="10013" class="Symbol">{</a><a id="10014" class="Argument">A</a> <a id="10016" class="Symbol">=</a> <a id="10018" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="10019" class="Symbol">})</a> <a id="10022" class="Symbol">→</a> <a id="10024" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="10039" class="Symbol">(</a><a id="10040" href="Graded.Restrictions.html#1455" class="Function">no-type-restrictions</a> <a id="10061" href="Graded.Restrictions.html#1147" class="Generalizable">b</a><a id="10062" class="Symbol">)</a>
  <a id="10066" href="Graded.Restrictions.html#9959" class="Function">Assumptions-no-type-restrictions</a> <a id="10099" class="Symbol">{</a><a id="10100" href="Graded.Restrictions.html#10100" class="Bound">b</a><a id="10101" class="Symbol">}</a> <a id="10103" href="Graded.Restrictions.html#10103" class="Bound">dec</a> <a id="10107" class="Symbol">=</a> <a id="10109" class="Symbol">λ</a> <a id="10111" class="Keyword">where</a>
      <a id="10123" class="Symbol">.</a><a id="10124" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="10143" class="Symbol">→</a> <a id="10145" href="Graded.Restrictions.html#10103" class="Bound">dec</a>
      <a id="10155" class="Symbol">.</a><a id="10156" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="10170" class="Symbol">_</a>    <a id="10175" class="Symbol">→</a> <a id="10177" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10181" class="Symbol">_</a>
      <a id="10189" class="Symbol">.</a><a id="10190" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="10202" class="Symbol">_</a> <a id="10204" class="Symbol">_</a> <a id="10206" class="Symbol">_</a>  <a id="10209" class="Symbol">→</a> <a id="10211" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10215" class="Symbol">_</a>
      <a id="10223" class="Symbol">.</a><a id="10224" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="10243" class="Symbol">→</a> <a id="10245" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="10250" href="Tools.PropositionalEquality.html#2041" class="Function">singleton</a> <a id="10260" href="Graded.Restrictions.html#10100" class="Bound">b</a> <a id="10262" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="10265" class="Symbol">λ</a> <a id="10267" class="Keyword">where</a>
        <a id="10281" class="Symbol">(</a><a id="10282" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="10288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10290" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10294" class="Symbol">)</a> <a id="10296" class="Symbol">→</a> <a id="10298" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10302" class="Symbol">_</a>
        <a id="10312" class="Symbol">(</a><a id="10313" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="10319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10321" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10325" class="Symbol">)</a> <a id="10327" class="Symbol">→</a> <a id="10329" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10332" class="Symbol">(λ</a> <a id="10335" class="Symbol">())</a>
      <a id="10345" class="Symbol">.</a><a id="10346" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="10363" class="Symbol">_</a> <a id="10365" class="Symbol">→</a> <a id="10367" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="10372" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="10381" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="10384" class="Symbol">λ</a> <a id="10386" class="Keyword">where</a>
        <a id="10400" class="Symbol">(</a><a id="10401" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10405" href="Graded.Restrictions.html#10405" class="Bound">trivial</a><a id="10412" class="Symbol">)</a>    <a id="10417" class="Symbol">→</a> <a id="10419" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10422" class="Symbol">(</a><a id="10423" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10426" href="Graded.Restrictions.html#10405" class="Bound">trivial</a><a id="10433" class="Symbol">)</a>
        <a id="10443" class="Symbol">(</a><a id="10444" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10447" href="Graded.Restrictions.html#10447" class="Bound">non-trivial</a><a id="10458" class="Symbol">)</a> <a id="10460" class="Symbol">→</a> <a id="10462" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10466" href="Graded.Restrictions.html#10447" class="Bound">non-trivial</a>
    <a id="10482" class="Keyword">where</a>
    <a id="10492" class="Keyword">open</a> <a id="10497" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="10513" class="Keyword">opaque</a>

  <a id="10523" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="10592" href="Graded.Restrictions.html#10592" class="Function">Assumptions-equal-binder-quantities</a> <a id="10628" class="Symbol">:</a>
    <a id="10634" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="10649" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="10652" class="Symbol">→</a> <a id="10654" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Graded.Restrictions.html#1896" class="Function">equal-binder-quantities</a> <a id="10694" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="10696" class="Symbol">)</a>
  <a id="10700" href="Graded.Restrictions.html#10592" class="Function">Assumptions-equal-binder-quantities</a> <a id="10736" href="Graded.Restrictions.html#10736" class="Bound">as</a> <a id="10739" class="Symbol">=</a> <a id="10741" class="Symbol">λ</a> <a id="10743" class="Keyword">where</a>
      <a id="10755" class="Symbol">.</a><a id="10756" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="10774" class="Symbol">→</a> <a id="10776" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="10788" class="Symbol">.</a><a id="10789" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="10807" class="Symbol">→</a> <a id="10809" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="10831" class="Symbol">.</a><a id="10832" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="10844" href="Graded.Restrictions.html#10844" class="Bound">b</a> <a id="10846" href="Graded.Restrictions.html#10846" class="Bound">p</a> <a id="10848" href="Graded.Restrictions.html#10848" class="Bound">q</a> <a id="10850" class="Symbol">→</a> <a id="10852" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="10866" href="Graded.Restrictions.html#10844" class="Bound">b</a> <a id="10868" href="Graded.Restrictions.html#10846" class="Bound">p</a> <a id="10870" href="Graded.Restrictions.html#10848" class="Bound">q</a> <a id="10872" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="10878" href="Graded.Restrictions.html#10846" class="Bound">p</a> <a id="10880" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="10884" href="Graded.Restrictions.html#10848" class="Bound">q</a>
      <a id="10892" class="Symbol">.</a><a id="10893" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="10911" class="Symbol">→</a> <a id="10913" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="10932" class="Symbol">.</a><a id="10933" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="10951" class="Symbol">→</a> <a id="10953" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="10976" class="Keyword">where</a>
    <a id="10986" class="Keyword">module</a> <a id="10993" href="Graded.Restrictions.html#10993" class="Module">A</a> <a id="10995" class="Symbol">=</a> <a id="10997" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="11012" href="Graded.Restrictions.html#10736" class="Bound">as</a>
    <a id="11019" class="Keyword">open</a> <a id="11024" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="11040" class="Keyword">opaque</a>

  <a id="11050" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="11118" href="Graded.Restrictions.html#11118" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="11153" class="Symbol">:</a>
    <a id="11159" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11174" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="11177" class="Symbol">→</a> <a id="11179" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11194" class="Symbol">(</a><a id="11195" href="Graded.Restrictions.html#2301" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="11218" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="11220" class="Symbol">)</a>
  <a id="11224" href="Graded.Restrictions.html#11118" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="11259" href="Graded.Restrictions.html#11259" class="Bound">as</a> <a id="11262" class="Symbol">=</a> <a id="11264" class="Symbol">λ</a> <a id="11266" class="Keyword">where</a>
      <a id="11278" class="Symbol">.</a><a id="11279" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="11297" class="Symbol">→</a> <a id="11299" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="11311" class="Symbol">.</a><a id="11312" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="11330" class="Symbol">→</a> <a id="11332" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="11354" class="Symbol">.</a><a id="11355" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="11367" href="Graded.Restrictions.html#11367" class="Bound">b</a> <a id="11369" href="Graded.Restrictions.html#11369" class="Bound">p</a> <a id="11371" href="Graded.Restrictions.html#11371" class="Bound">q</a> <a id="11373" class="Symbol">→</a> <a id="11375" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="11389" href="Graded.Restrictions.html#11367" class="Bound">b</a> <a id="11391" href="Graded.Restrictions.html#11369" class="Bound">p</a> <a id="11393" href="Graded.Restrictions.html#11371" class="Bound">q</a> <a id="11395" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="11401" href="Graded.Restrictions.html#11371" class="Bound">q</a> <a id="11403" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="11407" href="Graded.Modality.html#847" class="Function">𝟘</a>
      <a id="11415" class="Symbol">.</a><a id="11416" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="11434" class="Symbol">→</a> <a id="11436" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="11455" class="Symbol">.</a><a id="11456" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="11474" class="Symbol">→</a> <a id="11476" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="11499" class="Keyword">where</a>
    <a id="11509" class="Keyword">module</a> <a id="11516" href="Graded.Restrictions.html#11516" class="Module">A</a> <a id="11518" class="Symbol">=</a> <a id="11520" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="11535" href="Graded.Restrictions.html#11259" class="Bound">as</a>
    <a id="11542" class="Keyword">open</a> <a id="11547" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="11563" class="Keyword">opaque</a>

  <a id="11573" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="11629" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="11651" href="Graded.Restrictions.html#11651" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11691" class="Symbol">:</a>
    <a id="11697" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11712" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="11715" class="Symbol">→</a> <a id="11717" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11732" class="Symbol">(</a><a id="11733" href="Graded.Restrictions.html#2859" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11761" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="11763" class="Symbol">)</a>
  <a id="11767" href="Graded.Restrictions.html#11651" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11807" href="Graded.Restrictions.html#11807" class="Bound">as</a> <a id="11810" class="Symbol">=</a> <a id="11812" class="Symbol">λ</a> <a id="11814" class="Keyword">where</a>
      <a id="11826" class="Symbol">.</a><a id="11827" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="11845" class="Symbol">→</a> <a id="11847" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="11859" class="Symbol">.</a><a id="11860" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="11878" class="Symbol">→</a> <a id="11880" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="11902" class="Symbol">.</a><a id="11903" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="11915" href="Graded.Restrictions.html#11915" class="Bound">b</a> <a id="11917" href="Graded.Restrictions.html#11917" class="Bound">p</a> <a id="11919" href="Graded.Restrictions.html#11919" class="Bound">q</a> <a id="11921" class="Symbol">→</a> <a id="11923" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="11937" href="Graded.Restrictions.html#11915" class="Bound">b</a> <a id="11939" href="Graded.Restrictions.html#11917" class="Bound">p</a> <a id="11941" href="Graded.Restrictions.html#11919" class="Bound">q</a>
                             <a id="11972" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="12005" class="Symbol">(</a><a id="12006" href="Graded.Restrictions.html#11917" class="Bound">p</a> <a id="12008" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12012" href="Graded.Modality.html#851" class="Function">ω</a> <a id="12014" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="12020" href="Graded.Restrictions.html#11919" class="Bound">q</a> <a id="12022" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12026" href="Graded.Modality.html#851" class="Function">ω</a><a id="12027" class="Symbol">)</a>
                             <a id="12058" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="12091" class="Symbol">(</a><a id="12092" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="12095" class="Symbol">(</a><a id="12096" href="Graded.Restrictions.html#11917" class="Bound">p</a> <a id="12098" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12102" href="Graded.Modality.html#851" class="Function">ω</a><a id="12103" class="Symbol">)</a> <a id="12105" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="12111" href="Graded.Restrictions.html#11919" class="Bound">q</a> <a id="12113" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12117" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="12118" class="Symbol">)</a>
      <a id="12126" class="Symbol">.</a><a id="12127" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="12145" class="Symbol">→</a> <a id="12147" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="12166" class="Symbol">.</a><a id="12167" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="12185" class="Symbol">→</a> <a id="12187" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="12210" class="Keyword">where</a>
    <a id="12220" class="Keyword">module</a> <a id="12227" href="Graded.Restrictions.html#12227" class="Module">A</a> <a id="12229" class="Symbol">=</a> <a id="12231" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="12246" href="Graded.Restrictions.html#11807" class="Bound">as</a>
    <a id="12253" class="Keyword">open</a> <a id="12258" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="12274" class="Keyword">opaque</a>

  <a id="12284" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="12342" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="12392" href="Graded.Restrictions.html#12392" class="Function">Assumptions-strong-types-restricted′</a> <a id="12429" class="Symbol">:</a>
    <a id="12435" class="Symbol">{</a><a id="12436" href="Graded.Restrictions.html#12436" class="Bound">P</a> <a id="12438" class="Symbol">:</a> <a id="12440" href="Definition.Untyped.NotParametrised.html#1445" class="Datatype">BinderMode</a> <a id="12451" class="Symbol">→</a> <a id="12453" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="12455" class="Symbol">→</a> <a id="12457" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12461" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="12462" class="Symbol">}</a>
    <a id="12468" class="Symbol">{</a><a id="12469" href="Graded.Restrictions.html#12469" class="Bound">ok</a> <a id="12472" class="Symbol">:</a> <a id="12474" class="Symbol">∀</a> <a id="12476" class="Symbol">{</a><a id="12477" href="Graded.Restrictions.html#12477" class="Bound">s</a><a id="12478" class="Symbol">}</a> <a id="12480" class="Symbol">→</a> <a id="12482" href="Graded.Restrictions.html#12477" class="Bound">s</a> <a id="12484" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12486" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a> <a id="12488" class="Symbol">→</a> <a id="12490" href="Graded.Restrictions.html#12436" class="Bound">P</a> <a id="12492" class="Symbol">(</a><a id="12493" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="12497" href="Graded.Restrictions.html#12477" class="Bound">s</a><a id="12498" class="Symbol">)</a> <a id="12500" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="12501" class="Symbol">}</a> <a id="12503" class="Symbol">→</a>
    <a id="12509" class="Symbol">(∀</a> <a id="12512" href="Graded.Restrictions.html#12512" class="Bound">b</a> <a id="12514" href="Graded.Restrictions.html#12514" class="Bound">p</a> <a id="12516" class="Symbol">→</a> <a id="12518" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="12522" class="Symbol">(</a><a id="12523" href="Graded.Restrictions.html#12436" class="Bound">P</a> <a id="12525" href="Graded.Restrictions.html#12512" class="Bound">b</a> <a id="12527" href="Graded.Restrictions.html#12514" class="Bound">p</a><a id="12528" class="Symbol">))</a> <a id="12531" class="Symbol">→</a>
    <a id="12537" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12552" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="12555" class="Symbol">→</a>
    <a id="12561" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12576" class="Symbol">(</a><a id="12577" href="Graded.Restrictions.html#3305" class="Function">strong-types-restricted′</a> <a id="12602" href="Graded.Restrictions.html#12436" class="Bound">P</a> <a id="12604" href="Graded.Restrictions.html#12469" class="Bound">ok</a> <a id="12607" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="12609" class="Symbol">)</a>
  <a id="12613" href="Graded.Restrictions.html#12392" class="Function">Assumptions-strong-types-restricted′</a> <a id="12650" href="Graded.Restrictions.html#12650" class="Bound">P-dec</a> <a id="12656" href="Graded.Restrictions.html#12656" class="Bound">as</a> <a id="12659" class="Symbol">=</a> <a id="12661" class="Symbol">λ</a> <a id="12663" class="Keyword">where</a>
      <a id="12675" class="Symbol">.</a><a id="12676" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="12695" class="Symbol">→</a> <a id="12697" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="12709" class="Symbol">.</a><a id="12710" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="12724" href="Graded.Restrictions.html#12724" class="Bound">s</a>    <a id="12729" class="Symbol">→</a> <a id="12731" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a> <a id="12747" href="Graded.Restrictions.html#12724" class="Bound">s</a> <a id="12749" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="12755" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="12758" class="Symbol">(</a><a id="12759" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="12771" href="Graded.Restrictions.html#12724" class="Bound">s</a> <a id="12773" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="12774" class="Symbol">)</a>
      <a id="12782" class="Symbol">.</a><a id="12783" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="12795" href="Graded.Restrictions.html#12795" class="Bound">b</a> <a id="12797" href="Graded.Restrictions.html#12797" class="Bound">p</a> <a id="12799" href="Graded.Restrictions.html#12799" class="Bound">q</a>  <a id="12802" class="Symbol">→</a> <a id="12804" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="12818" href="Graded.Restrictions.html#12795" class="Bound">b</a> <a id="12820" href="Graded.Restrictions.html#12797" class="Bound">p</a> <a id="12822" href="Graded.Restrictions.html#12799" class="Bound">q</a>
                              <a id="12854" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="12888" href="Graded.Restrictions.html#12650" class="Bound">P-dec</a> <a id="12894" href="Graded.Restrictions.html#12795" class="Bound">b</a> <a id="12896" href="Graded.Restrictions.html#12797" class="Bound">p</a>
      <a id="12904" class="Symbol">.</a><a id="12905" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="12924" class="Symbol">→</a> <a id="12926" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="12945" class="Symbol">.</a><a id="12946" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="12963" href="Graded.Restrictions.html#12963" class="Bound">s</a> <a id="12965" class="Symbol">→</a> <a id="12967" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="12986" href="Graded.Restrictions.html#12963" class="Bound">s</a>
                              <a id="13018" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="13052" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="13055" class="Symbol">(</a><a id="13056" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="13068" href="Graded.Restrictions.html#12963" class="Bound">s</a> <a id="13070" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="13071" class="Symbol">)</a>
    <a id="13077" class="Keyword">where</a>
    <a id="13087" class="Keyword">module</a> <a id="13094" href="Graded.Restrictions.html#13094" class="Module">A</a> <a id="13096" class="Symbol">=</a> <a id="13098" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13113" href="Graded.Restrictions.html#12656" class="Bound">as</a>
    <a id="13120" class="Keyword">open</a> <a id="13125" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13141" class="Keyword">opaque</a>

  <a id="13151" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="13220" href="Graded.Restrictions.html#13220" class="Function">Assumptions-strong-types-restricted</a> <a id="13256" class="Symbol">:</a>
    <a id="13262" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13277" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="13280" class="Symbol">→</a> <a id="13282" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13297" class="Symbol">(</a><a id="13298" href="Graded.Restrictions.html#4094" class="Function">strong-types-restricted</a> <a id="13322" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="13324" class="Symbol">)</a>
  <a id="13328" href="Graded.Restrictions.html#13220" class="Function">Assumptions-strong-types-restricted</a> <a id="13364" href="Graded.Restrictions.html#13364" class="Bound">as</a> <a id="13367" class="Symbol">=</a>
    <a id="13373" href="Graded.Restrictions.html#12392" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="13416" class="Symbol">(λ</a> <a id="13419" href="Graded.Restrictions.html#13419" class="Bound">b</a> <a id="13421" href="Graded.Restrictions.html#13421" class="Bound">p</a> <a id="13423" class="Symbol">→</a> <a id="13425" href="Definition.Untyped.Properties.NotParametrised.html#4421" class="Function">decBinderMode</a> <a id="13439" href="Graded.Restrictions.html#13419" class="Bound">b</a> <a id="13441" class="Symbol">(</a><a id="13442" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="13446" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="13447" class="Symbol">)</a> <a id="13449" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="13455" href="Graded.Restrictions.html#13421" class="Bound">p</a> <a id="13457" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">≟</a> <a id="13459" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="13460" class="Symbol">)</a>
      <a id="13468" href="Graded.Restrictions.html#13364" class="Bound">as</a>
    <a id="13475" class="Keyword">where</a>
    <a id="13485" class="Keyword">open</a> <a id="13490" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13505" href="Graded.Restrictions.html#13364" class="Bound">as</a>

<a id="13509" class="Keyword">opaque</a>

  <a id="13519" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="13580" href="Graded.Restrictions.html#13580" class="Function">Assumptions-no-strong-types</a> <a id="13608" class="Symbol">:</a>
    <a id="13614" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13629" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="13632" class="Symbol">→</a> <a id="13634" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13649" class="Symbol">(</a><a id="13650" href="Graded.Restrictions.html#4466" class="Function">no-strong-types</a> <a id="13666" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="13668" class="Symbol">)</a>
  <a id="13672" href="Graded.Restrictions.html#13580" class="Function">Assumptions-no-strong-types</a> <a id="13700" href="Graded.Restrictions.html#13700" class="Bound">as</a> <a id="13703" class="Symbol">=</a>
    <a id="13709" href="Graded.Restrictions.html#12392" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="13752" class="Symbol">(λ</a> <a id="13755" href="Graded.Restrictions.html#13755" class="Bound">b</a> <a id="13757" href="Graded.Restrictions.html#13757" class="Bound">_</a> <a id="13759" class="Symbol">→</a> <a id="13761" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="13769" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="13774" href="Level.html#479" class="Field">Lift.lower</a> <a id="13785" class="Symbol">(</a><a id="13786" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="13789" class="Symbol">(</a><a id="13790" href="Definition.Untyped.Properties.NotParametrised.html#4421" class="Function">decBinderMode</a> <a id="13804" href="Graded.Restrictions.html#13755" class="Bound">b</a> <a id="13806" class="Symbol">(</a><a id="13807" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMΣ</a> <a id="13811" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">𝕤</a><a id="13812" class="Symbol">))))</a>
      <a id="13823" href="Graded.Restrictions.html#13700" class="Bound">as</a>
    <a id="13830" class="Keyword">where</a>
    <a id="13840" class="Keyword">open</a> <a id="13845" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13860" href="Graded.Restrictions.html#13700" class="Bound">as</a>

<a id="13864" class="Keyword">opaque</a>

  <a id="13874" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="13942" href="Graded.Restrictions.html#13942" class="Function">Assumptions-no-erased-matches-TR</a> <a id="13975" class="Symbol">:</a>
    <a id="13981" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13996" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a> <a id="13999" class="Symbol">→</a> <a id="14001" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14016" class="Symbol">(</a><a id="14017" href="Graded.Restrictions.html#4752" class="Function">no-erased-matches-TR</a> <a id="14038" href="Graded.Restrictions.html#1170" class="Generalizable">s</a> <a id="14040" href="Graded.Restrictions.html#1096" class="Generalizable">TR</a><a id="14042" class="Symbol">)</a>
  <a id="14046" href="Graded.Restrictions.html#13942" class="Function">Assumptions-no-erased-matches-TR</a> <a id="14079" class="Symbol">{</a><a id="14080" href="Graded.Restrictions.html#14080" class="Bound">s</a><a id="14081" class="Symbol">}</a> <a id="14083" href="Graded.Restrictions.html#14083" class="Bound">as</a> <a id="14086" class="Symbol">=</a> <a id="14088" class="Symbol">λ</a> <a id="14090" class="Keyword">where</a>
      <a id="14102" class="Symbol">.</a><a id="14103" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                 <a id="14123" class="Symbol">→</a> <a id="14125" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14137" class="Symbol">.</a><a id="14138" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>       <a id="14158" class="Symbol">→</a> <a id="14160" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14182" class="Symbol">.</a><a id="14183" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a>         <a id="14203" class="Symbol">→</a> <a id="14205" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a>
      <a id="14225" class="Symbol">.</a><a id="14226" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>          <a id="14246" class="Symbol">→</a> <a id="14248" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14267" class="Symbol">.</a><a id="14268" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="14285" href="Graded.Restrictions.html#14285" class="Bound">s′</a> <a id="14288" class="Symbol">→</a> <a id="14290" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="14309" href="Graded.Restrictions.html#14285" class="Bound">s′</a>
                               <a id="14343" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                             <a id="14378" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="14381" class="Symbol">(</a><a id="14382" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="14394" href="Graded.Restrictions.html#14285" class="Bound">s′</a> <a id="14397" href="Graded.Restrictions.html#14080" class="Bound">s</a><a id="14398" class="Symbol">)</a>
    <a id="14404" class="Keyword">where</a>
    <a id="14414" class="Keyword">module</a> <a id="14421" href="Graded.Restrictions.html#14421" class="Module">A</a> <a id="14423" class="Symbol">=</a> <a id="14425" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14440" href="Graded.Restrictions.html#14083" class="Bound">as</a>
    <a id="14447" class="Keyword">open</a> <a id="14452" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14468" class="Comment">------------------------------------------------------------------------</a>
<a id="14541" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="14583" class="Keyword">opaque</a>

  <a id="14593" class="Comment">-- If grade equality is decidable and the modality comes with a</a>
  <a id="14659" class="Comment">-- dedicated nr function, then UD.Assumptions holds for</a>
  <a id="14717" class="Comment">-- no-usage-restrictions b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="14754" href="Graded.Restrictions.html#14754" class="Function">Assumptions-no-usage-restrictions</a> <a id="14788" class="Symbol">:</a>
    <a id="14794" class="Symbol">⦃</a> <a id="14796" href="Graded.Restrictions.html#14796" class="Bound">has-nr</a> <a id="14803" class="Symbol">:</a> <a id="14805" href="Graded.Modality.Dedicated-nr.html#716" class="Record">Dedicated-nr</a> <a id="14818" class="Symbol">⦄</a> <a id="14820" class="Symbol">→</a>
    <a id="14826" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="14836" class="Symbol">(</a><a id="14837" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="14841" class="Symbol">{</a><a id="14842" class="Argument">A</a> <a id="14844" class="Symbol">=</a> <a id="14846" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="14847" class="Symbol">})</a> <a id="14850" class="Symbol">→</a>
    <a id="14856" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="14871" class="Symbol">(</a><a id="14872" href="Graded.Restrictions.html#5400" class="Function">no-usage-restrictions</a> <a id="14894" href="Graded.Restrictions.html#1147" class="Generalizable">b</a> <a id="14896" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="14901" class="Symbol">)</a>
  <a id="14905" href="Graded.Restrictions.html#14754" class="Function">Assumptions-no-usage-restrictions</a> <a id="14939" href="Graded.Restrictions.html#14939" class="Bound">dec</a> <a id="14943" class="Symbol">=</a> <a id="14945" class="Symbol">λ</a> <a id="14947" class="Keyword">where</a>
      <a id="14959" class="Symbol">.</a><a id="14960" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="14985" class="Symbol">→</a> <a id="14987" href="Graded.Restrictions.html#14939" class="Bound">dec</a>
      <a id="14997" class="Symbol">.</a><a id="14998" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="15015" class="Symbol">_</a> <a id="15017" class="Symbol">_</a> <a id="15019" class="Symbol">_</a> <a id="15021" class="Symbol">_</a> <a id="15023" class="Symbol">→</a> <a id="15025" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="15029" class="Symbol">_</a>
      <a id="15037" class="Symbol">.</a><a id="15038" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="15056" class="Symbol">_</a> <a id="15058" class="Symbol">_</a> <a id="15060" class="Symbol">_</a>  <a id="15063" class="Symbol">→</a> <a id="15065" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="15069" class="Symbol">_</a>
      <a id="15077" class="Symbol">.</a><a id="15078" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="15096" class="Symbol">_</a> <a id="15098" class="Symbol">_</a>    <a id="15103" class="Symbol">→</a> <a id="15105" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="15109" class="Symbol">_</a>
    <a id="15115" class="Keyword">where</a>
    <a id="15125" class="Keyword">open</a> <a id="15130" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="15146" class="Keyword">opaque</a>

  <a id="15156" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="15227" href="Graded.Restrictions.html#15227" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="15265" class="Symbol">:</a>
    <a id="15271" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15286" href="Graded.Restrictions.html#1121" class="Generalizable">UR</a> <a id="15289" class="Symbol">→</a> <a id="15291" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15306" class="Symbol">(</a><a id="15307" href="Graded.Restrictions.html#6578" class="Function">not-all-erased-matches-JK</a> <a id="15333" href="Graded.Restrictions.html#1121" class="Generalizable">UR</a><a id="15335" class="Symbol">)</a>
  <a id="15339" href="Graded.Restrictions.html#15227" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="15377" href="Graded.Restrictions.html#15377" class="Bound">as</a> <a id="15380" class="Symbol">=</a> <a id="15382" class="Symbol">λ</a> <a id="15384" class="Keyword">where</a>
      <a id="15396" class="Symbol">.</a><a id="15397" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>               <a id="15415" class="Symbol">→</a> <a id="15417" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="15429" class="Symbol">.</a><a id="15430" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>  <a id="15448" class="Symbol">→</a> <a id="15450" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a>
      <a id="15475" class="Symbol">.</a><a id="15476" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="15494" class="Symbol">→</a> <a id="15496" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="15521" class="Symbol">.</a><a id="15522" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="15540" class="Symbol">→</a> <a id="15542" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="15566" class="Keyword">where</a>
    <a id="15576" class="Keyword">module</a> <a id="15583" href="Graded.Restrictions.html#15583" class="Module">A</a> <a id="15585" class="Symbol">=</a> <a id="15587" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="15602" href="Graded.Restrictions.html#15377" class="Bound">as</a>
    <a id="15609" class="Keyword">open</a> <a id="15614" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="15630" class="Keyword">opaque</a>

  <a id="15640" class="Comment">-- The function no-erased-matches-UR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="15706" href="Graded.Restrictions.html#15706" class="Function">Assumptions-no-erased-matches-UR</a> <a id="15739" class="Symbol">:</a>
    <a id="15745" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15760" href="Graded.Restrictions.html#1121" class="Generalizable">UR</a> <a id="15763" class="Symbol">→</a> <a id="15765" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15780" class="Symbol">(</a><a id="15781" href="Graded.Restrictions.html#7584" class="Function">no-erased-matches-UR</a> <a id="15802" href="Graded.Restrictions.html#1121" class="Generalizable">UR</a><a id="15804" class="Symbol">)</a>
  <a id="15808" href="Graded.Restrictions.html#15706" class="Function">Assumptions-no-erased-matches-UR</a> <a id="15841" href="Graded.Restrictions.html#15841" class="Bound">as</a> <a id="15844" class="Symbol">=</a> <a id="15846" class="Symbol">λ</a> <a id="15848" class="Keyword">where</a>
      <a id="15860" class="Symbol">.</a><a id="15861" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="15886" class="Symbol">→</a> <a id="15888" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="15900" class="Symbol">.</a><a id="15901" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="15918" href="Graded.Restrictions.html#15918" class="Bound">m</a> <a id="15920" href="Graded.Restrictions.html#15920" class="Bound">r</a> <a id="15922" href="Graded.Restrictions.html#15922" class="Bound">p</a> <a id="15924" href="Graded.Restrictions.html#15924" class="Bound">q</a> <a id="15926" class="Symbol">→</a> <a id="15928" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a> <a id="15947" href="Graded.Restrictions.html#15918" class="Bound">m</a> <a id="15949" href="Graded.Restrictions.html#15920" class="Bound">r</a> <a id="15951" href="Graded.Restrictions.html#15922" class="Bound">p</a> <a id="15953" href="Graded.Restrictions.html#15924" class="Bound">q</a>
                                    <a id="15991" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="16031" class="Symbol">(</a><a id="16032" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16035" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="16081" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16122" href="Graded.Restrictions.html#15918" class="Bound">m</a> <a id="16124" href="Graded.Mode.html#5609" class="Function Operator">Mode.≟</a> <a id="16131" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="16171" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16212" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16215" class="Symbol">(</a><a id="16216" href="Graded.Restrictions.html#15920" class="Bound">r</a> <a id="16218" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="16222" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="16223" class="Symbol">))</a>
      <a id="16232" class="Symbol">.</a><a id="16233" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a> <a id="16250" href="Graded.Restrictions.html#16250" class="Bound">m</a> <a id="16252" href="Graded.Restrictions.html#16252" class="Bound">p</a> <a id="16254" href="Graded.Restrictions.html#16254" class="Bound">q</a>   <a id="16258" class="Symbol">→</a> <a id="16260" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a> <a id="16279" href="Graded.Restrictions.html#16250" class="Bound">m</a> <a id="16281" href="Graded.Restrictions.html#16252" class="Bound">p</a> <a id="16283" href="Graded.Restrictions.html#16254" class="Bound">q</a>
                                    <a id="16321" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="16361" class="Symbol">(</a><a id="16362" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16365" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="16411" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16452" href="Graded.Restrictions.html#16250" class="Bound">m</a> <a id="16454" href="Graded.Mode.html#5609" class="Function Operator">Mode.≟</a> <a id="16461" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="16501" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16542" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16545" class="Symbol">(</a><a id="16546" href="Graded.Restrictions.html#16252" class="Bound">p</a> <a id="16548" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="16552" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="16553" class="Symbol">))</a>
      <a id="16562" class="Symbol">.</a><a id="16563" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>        <a id="16588" class="Symbol">→</a> <a id="16590" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="16614" class="Keyword">where</a>
    <a id="16624" class="Keyword">module</a> <a id="16631" href="Graded.Restrictions.html#16631" class="Module">A</a> <a id="16633" class="Symbol">=</a> <a id="16635" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="16650" href="Graded.Restrictions.html#15841" class="Bound">as</a>
    <a id="16657" class="Keyword">open</a> <a id="16662" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>
</pre></body></html>