<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="226" class="Keyword">module</a> <a id="233" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="255" class="Symbol">{</a><a id="256" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="257" class="Symbol">}</a> <a id="259" class="Symbol">{</a><a id="260" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="268" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="269" class="Symbol">}</a>
  <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="295" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Symbol">(</a><a id="301" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="303" class="Symbol">:</a> <a id="305" href="Graded.Modality.html#8058" class="Record">Modality</a><a id="313" class="Symbol">)</a>
  <a id="317" class="Keyword">where</a>

<a id="324" class="Keyword">open</a> <a id="329" href="Graded.Modality.html#8058" class="Module">Modality</a> <a id="338" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="465" class="Symbol">as</a> <a id="468" class="Module">Σ</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="537" class="Symbol">as</a> <a id="540" class="Module">Dec</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Graded.Modality.Dedicated-nr.html" class="Module">Graded.Modality.Dedicated-nr</a> <a id="609" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="650" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="652" class="Keyword">open</a> <a id="657" class="Keyword">import</a> <a id="664" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="676" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="678" class="Symbol">as</a> <a id="Mode"></a><a id="681" href="Graded.Restrictions.html#681" class="Module">Mode</a> <a id="686" class="Keyword">hiding</a> <a id="693" class="Symbol">(</a><a id="694" href="Graded.Mode.html#5569" class="Function Operator">_≟_</a><a id="697" class="Symbol">)</a>
<a id="699" class="Keyword">import</a> <a id="706" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="741" class="Symbol">as</a> <a id="744" class="Module">UD</a>
<a id="747" class="Keyword">open</a> <a id="752" class="Keyword">import</a> <a id="759" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="825" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="828" class="Keyword">import</a> <a id="835" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="881" class="Symbol">as</a> <a id="884" class="Module">TD</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="929" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1074" class="Keyword">private</a> <a id="1082" class="Keyword">variable</a>
  <a id="1093" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="1096" class="Symbol">:</a> <a id="1098" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
  <a id="1118" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="1121" class="Symbol">:</a> <a id="1123" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a>
  <a id="1144" href="Graded.Restrictions.html#1144" class="Generalizable">b</a>  <a id="1147" class="Symbol">:</a> <a id="1149" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1156" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1163" class="Symbol">_</a>
  <a id="1167" href="Graded.Restrictions.html#1167" class="Generalizable">s</a>  <a id="1170" class="Symbol">:</a> <a id="1172" href="Definition.Untyped.NotParametrised.html#1617" class="Datatype">Strength</a>

<a id="1182" class="Comment">------------------------------------------------------------------------</a>
<a id="1255" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1302" class="Comment">-- No type restrictions except that</a>
<a id="1338" class="Comment">-- * if the modality is trivial, then []-cong is not allowed,</a>
<a id="1400" class="Comment">-- * the K rule is allowed if and only if the boolean is true, and</a>
<a id="1467" class="Comment">-- * η-equality is not allowed for weak unit types.</a>

<a id="no-type-restrictions"></a><a id="1520" href="Graded.Restrictions.html#1520" class="Function">no-type-restrictions</a> <a id="1541" class="Symbol">:</a> <a id="1543" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1548" class="Symbol">→</a> <a id="1550" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="1568" href="Graded.Restrictions.html#1520" class="Function">no-type-restrictions</a> <a id="1589" href="Graded.Restrictions.html#1589" class="Bound">allowed</a> <a id="1597" class="Symbol">=</a> <a id="1599" class="Symbol">λ</a> <a id="1601" class="Keyword">where</a>
    <a id="1611" class="Symbol">.</a><a id="1612" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a>     <a id="1629" class="Symbol">→</a> <a id="1631" class="Symbol">λ</a> <a id="1633" href="Graded.Restrictions.html#1633" class="Bound">_</a> <a id="1635" class="Symbol">→</a> <a id="1637" href="Level.html#409" class="Record">Lift</a> <a id="1642" class="Symbol">_</a> <a id="1644" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1650" class="Symbol">.</a><a id="1651" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>       <a id="1668" class="Symbol">→</a> <a id="1670" class="Symbol">λ</a> <a id="1672" href="Graded.Restrictions.html#1672" class="Bound">_</a> <a id="1674" href="Graded.Restrictions.html#1674" class="Bound">_</a> <a id="1676" href="Graded.Restrictions.html#1676" class="Bound">_</a> <a id="1678" class="Symbol">→</a> <a id="1680" href="Level.html#409" class="Record">Lift</a> <a id="1685" class="Symbol">_</a> <a id="1687" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1693" class="Symbol">.</a><a id="1694" href="Definition.Typed.Restrictions.html#2280" class="Field">K-allowed</a>        <a id="1711" class="Symbol">→</a> <a id="1713" href="Level.html#409" class="Record">Lift</a> <a id="1718" class="Symbol">_</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1723" href="Graded.Restrictions.html#1589" class="Bound">allowed</a><a id="1730" class="Symbol">)</a>
    <a id="1736" class="Symbol">.</a><a id="1737" href="Definition.Typed.Restrictions.html#2480" class="Field">[]-cong-allowed</a>  <a id="1754" class="Symbol">→</a> <a id="1756" class="Symbol">λ</a> <a id="1758" href="Graded.Restrictions.html#1758" class="Bound">_</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1764" href="Graded.Modality.html#1977" class="Function">Trivial</a>
    <a id="1776" class="Symbol">.</a><a id="1777" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a>   <a id="1794" class="Symbol">→</a> <a id="1796" class="Symbol">_</a>
    <a id="1802" class="Symbol">.</a><a id="1803" href="Definition.Typed.Restrictions.html#2705" class="Field">[]-cong→¬Trivial</a> <a id="1820" class="Symbol">→</a> <a id="1822" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="1830" class="Symbol">.</a><a id="1831" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>     <a id="1848" class="Symbol">→</a> <a id="1850" class="Symbol">λ</a> <a id="1852" class="Keyword">where</a>
      <a id="1864" class="Symbol">.</a><a id="1865" href="Definition.Typed.Variant.html#719" class="Field">Type-variant.η-for-Unitʷ</a> <a id="1890" class="Symbol">→</a> <a id="1892" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1900" class="Keyword">where</a>
  <a id="1908" class="Keyword">open</a> <a id="1913" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a>

<a id="1932" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="2001" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="2033" href="Graded.Restrictions.html#2033" class="Function">equal-binder-quantities</a> <a id="2057" class="Symbol">:</a> <a id="2059" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2097" href="Graded.Restrictions.html#2033" class="Function">equal-binder-quantities</a> <a id="2121" href="Graded.Restrictions.html#2121" class="Bound">R</a> <a id="2123" class="Symbol">=</a> <a id="2125" class="Keyword">record</a> <a id="2132" href="Graded.Restrictions.html#2121" class="Bound">R</a>
  <a id="2136" class="Symbol">{</a> <a id="2138" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2153" class="Symbol">=</a> <a id="2155" class="Symbol">λ</a> <a id="2157" href="Graded.Restrictions.html#2157" class="Bound">b</a> <a id="2159" href="Graded.Restrictions.html#2159" class="Bound">p</a> <a id="2161" href="Graded.Restrictions.html#2161" class="Bound">q</a> <a id="2163" class="Symbol">→</a> <a id="2165" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2176" href="Graded.Restrictions.html#2157" class="Bound">b</a> <a id="2178" href="Graded.Restrictions.html#2159" class="Bound">p</a> <a id="2180" href="Graded.Restrictions.html#2161" class="Bound">q</a> <a id="2182" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2184" href="Graded.Restrictions.html#2159" class="Bound">p</a> <a id="2186" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2188" href="Graded.Restrictions.html#2161" class="Bound">q</a>
  <a id="2192" class="Symbol">;</a> <a id="2194" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2209" class="Symbol">=</a> <a id="2211" class="Symbol">λ</a> <a id="2213" href="Graded.Restrictions.html#2213" class="Bound">ok</a> <a id="2216" class="Symbol">→</a>
      <a id="2224" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2239" href="Graded.Restrictions.html#2213" class="Bound">ok</a> <a id="2242" class="Symbol">.</a><a id="2243" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2249" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2251" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2266" href="Graded.Restrictions.html#2213" class="Bound">ok</a> <a id="2269" class="Symbol">.</a><a id="2270" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2276" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2278" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2285" class="Symbol">}</a>
  <a id="2289" class="Keyword">where</a>
  <a id="2297" class="Keyword">open</a> <a id="2302" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2320" href="Graded.Restrictions.html#2121" class="Bound">R</a>

<a id="2323" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2387" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2438" href="Graded.Restrictions.html#2438" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2461" class="Symbol">:</a>
  <a id="2465" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2483" class="Symbol">→</a> <a id="2485" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2503" href="Graded.Restrictions.html#2438" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2526" href="Graded.Restrictions.html#2526" class="Bound">R</a> <a id="2528" class="Symbol">=</a> <a id="2530" class="Keyword">record</a> <a id="2537" href="Graded.Restrictions.html#2526" class="Bound">R</a>
  <a id="2541" class="Symbol">{</a> <a id="2543" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2558" class="Symbol">=</a> <a id="2560" class="Symbol">λ</a> <a id="2562" href="Graded.Restrictions.html#2562" class="Bound">b</a> <a id="2564" href="Graded.Restrictions.html#2564" class="Bound">p</a> <a id="2566" href="Graded.Restrictions.html#2566" class="Bound">q</a> <a id="2568" class="Symbol">→</a> <a id="2570" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2581" href="Graded.Restrictions.html#2562" class="Bound">b</a> <a id="2583" href="Graded.Restrictions.html#2564" class="Bound">p</a> <a id="2585" href="Graded.Restrictions.html#2566" class="Bound">q</a> <a id="2587" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2589" href="Graded.Restrictions.html#2566" class="Bound">q</a> <a id="2591" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2593" href="Graded.Modality.html#897" class="Function">𝟘</a>
  <a id="2597" class="Symbol">;</a> <a id="2599" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2614" class="Symbol">=</a> <a id="2616" class="Symbol">λ</a> <a id="2618" href="Graded.Restrictions.html#2618" class="Bound">ok</a> <a id="2621" class="Symbol">→</a>
      <a id="2629" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2644" href="Graded.Restrictions.html#2618" class="Bound">ok</a> <a id="2647" class="Symbol">.</a><a id="2648" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2656" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="2671" href="Graded.Restrictions.html#2618" class="Bound">ok</a> <a id="2674" class="Symbol">.</a><a id="2675" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2690" class="Symbol">}</a>
  <a id="2694" class="Keyword">where</a>
  <a id="2702" class="Keyword">open</a> <a id="2707" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2725" href="Graded.Restrictions.html#2526" class="Bound">R</a>

<a id="2728" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="2795" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="2865" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="2933" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="2996" href="Graded.Restrictions.html#2996" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3024" class="Symbol">:</a>
  <a id="3028" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3046" class="Symbol">→</a> <a id="3048" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3066" href="Graded.Restrictions.html#2996" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3094" href="Graded.Restrictions.html#3094" class="Bound">R</a> <a id="3096" class="Symbol">=</a> <a id="3098" class="Keyword">record</a> <a id="3105" href="Graded.Restrictions.html#3094" class="Bound">R</a>
  <a id="3109" class="Symbol">{</a> <a id="3111" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3122" class="Symbol">=</a> <a id="3124" class="Symbol">λ</a> <a id="3126" href="Graded.Restrictions.html#3126" class="Bound">b</a> <a id="3128" href="Graded.Restrictions.html#3128" class="Bound">p</a> <a id="3130" href="Graded.Restrictions.html#3130" class="Bound">q</a> <a id="3132" class="Symbol">→</a>
      <a id="3140" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3151" href="Graded.Restrictions.html#3126" class="Bound">b</a> <a id="3153" href="Graded.Restrictions.html#3128" class="Bound">p</a> <a id="3155" href="Graded.Restrictions.html#3130" class="Bound">q</a> <a id="3157" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3165" class="Symbol">(</a><a id="3166" href="Graded.Restrictions.html#3128" class="Bound">p</a> <a id="3168" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3170" href="Graded.Modality.html#901" class="Function">ω</a> <a id="3172" class="Symbol">→</a> <a id="3174" href="Graded.Restrictions.html#3130" class="Bound">q</a> <a id="3176" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3178" href="Graded.Modality.html#901" class="Function">ω</a><a id="3179" class="Symbol">)</a> <a id="3181" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3189" class="Symbol">(</a><a id="3190" href="Graded.Restrictions.html#3128" class="Bound">p</a> <a id="3192" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3194" href="Graded.Modality.html#901" class="Function">ω</a> <a id="3196" class="Symbol">→</a> <a id="3198" href="Graded.Restrictions.html#3130" class="Bound">q</a> <a id="3200" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3202" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="3203" class="Symbol">)</a>
  <a id="3207" class="Symbol">;</a> <a id="3209" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3224" class="Symbol">=</a> <a id="3226" class="Symbol">λ</a> <a id="3228" href="Graded.Restrictions.html#3228" class="Bound">ok</a> <a id="3231" class="Symbol">→</a>
        <a id="3241" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3256" href="Graded.Restrictions.html#3228" class="Bound">ok</a> <a id="3259" class="Symbol">.</a><a id="3260" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3272" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3274" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3289" href="Graded.Restrictions.html#3228" class="Bound">ok</a> <a id="3292" class="Symbol">.</a><a id="3293" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3307" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3319" class="Symbol">λ</a> <a id="3321" href="Graded.Restrictions.html#3321" class="Bound">_</a> <a id="3323" class="Symbol">→</a> <a id="3325" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3332" class="Symbol">}</a>
  <a id="3336" class="Keyword">where</a>
  <a id="3344" class="Keyword">open</a> <a id="3349" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="3367" href="Graded.Restrictions.html#3094" class="Bound">R</a>

<a id="3370" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3442" href="Graded.Restrictions.html#3442" class="Function">strong-types-restricted′</a> <a id="3467" class="Symbol">:</a>
  <a id="3471" class="Symbol">(</a><a id="3472" href="Graded.Restrictions.html#3472" class="Bound">P</a> <a id="3474" class="Symbol">:</a> <a id="3476" href="Definition.Untyped.NotParametrised.html#1680" class="Datatype">BinderMode</a> <a id="3487" class="Symbol">→</a> <a id="3489" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="3491" class="Symbol">→</a> <a id="3493" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3497" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="3498" class="Symbol">)</a> <a id="3500" class="Symbol">→</a>
  <a id="3504" class="Symbol">(∀</a> <a id="3507" class="Symbol">{</a><a id="3508" href="Graded.Restrictions.html#3508" class="Bound">s</a><a id="3509" class="Symbol">}</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="Graded.Restrictions.html#3508" class="Bound">s</a> <a id="3515" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3517" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a> <a id="3519" class="Symbol">→</a> <a id="3521" href="Graded.Restrictions.html#3472" class="Bound">P</a> <a id="3523" class="Symbol">(</a><a id="3524" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="3528" href="Graded.Restrictions.html#3508" class="Bound">s</a><a id="3529" class="Symbol">)</a> <a id="3531" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="3532" class="Symbol">)</a> <a id="3534" class="Symbol">→</a>
  <a id="3538" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3556" class="Symbol">→</a> <a id="3558" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3576" href="Graded.Restrictions.html#3442" class="Function">strong-types-restricted′</a> <a id="3601" href="Graded.Restrictions.html#3601" class="Bound">P</a> <a id="3603" href="Graded.Restrictions.html#3603" class="Bound">hyp</a> <a id="3607" href="Graded.Restrictions.html#3607" class="Bound">R</a> <a id="3609" class="Symbol">=</a> <a id="3611" class="Keyword">record</a> <a id="3618" href="Graded.Restrictions.html#3607" class="Bound">R</a>
  <a id="3622" class="Symbol">{</a> <a id="3624" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3637" class="Symbol">=</a> <a id="3639" class="Symbol">λ</a> <a id="3641" href="Graded.Restrictions.html#3641" class="Bound">s</a> <a id="3643" class="Symbol">→</a>
      <a id="3651" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3664" href="Graded.Restrictions.html#3641" class="Bound">s</a> <a id="3666" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3668" href="Graded.Restrictions.html#3641" class="Bound">s</a> <a id="3670" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3672" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a>
  <a id="3676" class="Symbol">;</a> <a id="3678" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3689" class="Symbol">=</a> <a id="3691" class="Symbol">λ</a> <a id="3693" href="Graded.Restrictions.html#3693" class="Bound">b</a> <a id="3695" href="Graded.Restrictions.html#3695" class="Bound">p</a> <a id="3697" href="Graded.Restrictions.html#3697" class="Bound">q</a> <a id="3699" class="Symbol">→</a>
      <a id="3707" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3718" href="Graded.Restrictions.html#3693" class="Bound">b</a> <a id="3720" href="Graded.Restrictions.html#3695" class="Bound">p</a> <a id="3722" href="Graded.Restrictions.html#3697" class="Bound">q</a> <a id="3724" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3726" href="Graded.Restrictions.html#3601" class="Bound">P</a> <a id="3728" href="Graded.Restrictions.html#3693" class="Bound">b</a> <a id="3730" href="Graded.Restrictions.html#3695" class="Bound">p</a>
  <a id="3734" class="Symbol">;</a> <a id="3736" href="Definition.Typed.Restrictions.html#2480" class="Field">[]-cong-allowed</a> <a id="3752" class="Symbol">=</a> <a id="3754" class="Symbol">λ</a> <a id="3756" href="Graded.Restrictions.html#3756" class="Bound">s</a> <a id="3758" class="Symbol">→</a>
      <a id="3766" href="Definition.Typed.Restrictions.html#2480" class="Field">[]-cong-allowed</a> <a id="3782" href="Graded.Restrictions.html#3756" class="Bound">s</a> <a id="3784" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3786" href="Graded.Restrictions.html#3756" class="Bound">s</a> <a id="3788" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3790" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a>
  <a id="3794" class="Symbol">;</a> <a id="3796" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3811" class="Symbol">=</a> <a id="3813" class="Symbol">λ</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Graded.Restrictions.html#3816" class="Bound">ok</a> <a id="3819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3821" href="Graded.Restrictions.html#3821" class="Bound">s≢𝕤</a><a id="3824" class="Symbol">)</a> <a id="3826" class="Symbol">→</a>
        <a id="3836" class="Symbol">(</a><a id="3837" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3852" href="Graded.Restrictions.html#3816" class="Bound">ok</a> <a id="3855" class="Symbol">.</a><a id="3856" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3864" href="Graded.Restrictions.html#3821" class="Bound">s≢𝕤</a><a id="3867" class="Symbol">)</a>
      <a id="3875" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3877" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="3892" href="Graded.Restrictions.html#3816" class="Bound">ok</a> <a id="3895" class="Symbol">.</a><a id="3896" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3908" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3910" href="Graded.Restrictions.html#3603" class="Bound">hyp</a> <a id="3914" href="Graded.Restrictions.html#3821" class="Bound">s≢𝕤</a>
  <a id="3920" class="Symbol">;</a> <a id="3922" href="Definition.Typed.Restrictions.html#2705" class="Field">[]-cong→¬Trivial</a> <a id="3939" class="Symbol">=</a>
      <a id="3947" href="Definition.Typed.Restrictions.html#2705" class="Field">[]-cong→¬Trivial</a> <a id="3964" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="3967" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="3975" class="Symbol">}</a>
  <a id="3979" class="Keyword">where</a>
  <a id="3987" class="Keyword">open</a> <a id="3992" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="4010" href="Graded.Restrictions.html#3607" class="Bound">R</a>

<a id="4013" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="4072" class="Comment">-- restrictions:</a>
<a id="4089" class="Comment">--</a>
<a id="4092" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4132" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4193" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4229" href="Graded.Restrictions.html#4229" class="Function">strong-types-restricted</a> <a id="4253" class="Symbol">:</a>
  <a id="4257" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4275" class="Symbol">→</a> <a id="4277" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4295" href="Graded.Restrictions.html#4229" class="Function">strong-types-restricted</a> <a id="4319" class="Symbol">=</a>
  <a id="4323" href="Graded.Restrictions.html#3442" class="Function">strong-types-restricted′</a> <a id="4348" class="Symbol">(λ</a> <a id="4351" href="Graded.Restrictions.html#4351" class="Bound">b</a> <a id="4353" href="Graded.Restrictions.html#4353" class="Bound">p</a> <a id="4355" class="Symbol">→</a> <a id="4357" href="Graded.Restrictions.html#4351" class="Bound">b</a> <a id="4359" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4361" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="4365" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a> <a id="4367" class="Symbol">→</a> <a id="4369" href="Graded.Restrictions.html#4353" class="Bound">p</a> <a id="4371" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4373" href="Graded.Modality.html#899" class="Function">𝟙</a><a id="4374" class="Symbol">)</a>
    <a id="4380" class="Symbol">(λ</a> <a id="4383" class="Symbol">{</a> <a id="4385" href="Graded.Restrictions.html#4385" class="Bound">hyp</a> <a id="4389" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4394" class="Symbol">→</a> <a id="4396" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4403" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4405" href="Graded.Restrictions.html#4385" class="Bound">hyp</a> <a id="4409" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4414" class="Symbol">})</a>

<a id="4418" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4483" class="Comment">--</a>
<a id="4486" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4526" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4563" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4599" href="Graded.Restrictions.html#4599" class="Function">no-strong-types</a> <a id="4615" class="Symbol">:</a>
  <a id="4619" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4637" class="Symbol">→</a> <a id="4639" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4657" href="Graded.Restrictions.html#4599" class="Function">no-strong-types</a> <a id="4673" class="Symbol">=</a>
  <a id="4677" href="Graded.Restrictions.html#3442" class="Function">strong-types-restricted′</a> <a id="4702" class="Symbol">(λ</a> <a id="4705" href="Graded.Restrictions.html#4705" class="Bound">b</a> <a id="4707" href="Graded.Restrictions.html#4707" class="Bound">_</a> <a id="4709" class="Symbol">→</a> <a id="4711" href="Level.html#409" class="Record">Lift</a> <a id="4716" class="Symbol">_</a> <a id="4718" class="Symbol">(</a><a id="4719" href="Graded.Restrictions.html#4705" class="Bound">b</a> <a id="4721" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4723" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="4727" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="4728" class="Symbol">))</a>
    <a id="4735" class="Symbol">(λ</a> <a id="4738" href="Graded.Restrictions.html#4738" class="Bound">hyp</a> <a id="4742" class="Symbol">→</a> <a id="4744" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="4749" class="Symbol">(λ</a> <a id="4752" class="Symbol">{</a> <a id="4754" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4759" class="Symbol">→</a> <a id="4761" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4768" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4770" href="Graded.Restrictions.html#4738" class="Bound">hyp</a> <a id="4774" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4779" class="Symbol">}))</a>

<a id="4784" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="4849" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="4885" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="4906" class="Symbol">:</a> <a id="4908" href="Definition.Untyped.NotParametrised.html#1617" class="Datatype">Strength</a> <a id="4917" class="Symbol">→</a> <a id="4919" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4937" class="Symbol">→</a> <a id="4939" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4957" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="4978" href="Graded.Restrictions.html#4978" class="Bound">s</a> <a id="4980" href="Graded.Restrictions.html#4980" class="Bound">TR</a> <a id="4983" class="Symbol">=</a> <a id="4985" class="Keyword">record</a> <a id="4992" href="Graded.Restrictions.html#4980" class="Bound">TR</a>
  <a id="4997" class="Symbol">{</a> <a id="4999" href="Definition.Typed.Restrictions.html#2480" class="Field">[]-cong-allowed</a>  <a id="5016" class="Symbol">=</a> <a id="5018" class="Symbol">λ</a> <a id="5020" href="Graded.Restrictions.html#5020" class="Bound">s′</a> <a id="5023" class="Symbol">→</a> <a id="5025" href="Definition.Typed.Restrictions.html#2480" class="Field">[]-cong-allowed</a> <a id="5041" href="Graded.Restrictions.html#5020" class="Bound">s′</a> <a id="5044" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5046" href="Graded.Restrictions.html#5020" class="Bound">s′</a> <a id="5049" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5051" href="Graded.Restrictions.html#4978" class="Bound">s</a>
  <a id="5055" class="Symbol">;</a> <a id="5057" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a>   <a id="5074" class="Symbol">=</a> <a id="5076" href="Definition.Typed.Restrictions.html#2574" class="Field">[]-cong→Erased</a> <a id="5091" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5094" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5102" class="Symbol">;</a> <a id="5104" href="Definition.Typed.Restrictions.html#2705" class="Field">[]-cong→¬Trivial</a> <a id="5121" class="Symbol">=</a> <a id="5123" href="Definition.Typed.Restrictions.html#2705" class="Field">[]-cong→¬Trivial</a> <a id="5140" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5143" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5151" class="Symbol">}</a>
  <a id="5155" class="Keyword">where</a>
  <a id="5163" class="Keyword">open</a> <a id="5168" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5186" href="Graded.Restrictions.html#4980" class="Bound">TR</a>

<a id="5190" class="Comment">-- The function _with-η-for-Unitʷ enables η-equality for weak unit</a>
<a id="5257" class="Comment">-- types.</a>

<a id="_with-η-for-Unitʷ"></a><a id="5268" href="Graded.Restrictions.html#5268" class="Function Operator">_with-η-for-Unitʷ</a> <a id="5286" class="Symbol">:</a> <a id="5288" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="5306" class="Symbol">→</a> <a id="5308" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="5326" href="Graded.Restrictions.html#5326" class="Bound">TR</a> <a id="5329" href="Graded.Restrictions.html#5268" class="Function Operator">with-η-for-Unitʷ</a> <a id="5346" class="Symbol">=</a> <a id="5348" class="Keyword">record</a> <a id="5355" href="Graded.Restrictions.html#5326" class="Bound">TR</a>
  <a id="5360" class="Symbol">{</a> <a id="5362" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5375" class="Symbol">=</a> <a id="5377" class="Keyword">record</a> <a id="5384" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>
    <a id="5401" class="Symbol">{</a> <a id="5403" href="Definition.Typed.Variant.html#719" class="Field">η-for-Unitʷ</a> <a id="5415" class="Symbol">=</a> <a id="5417" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="5426" class="Symbol">}</a>
  <a id="5430" class="Symbol">}</a>
  <a id="5434" class="Keyword">where</a>
  <a id="5442" class="Keyword">open</a> <a id="5447" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5465" href="Graded.Restrictions.html#5326" class="Bound">TR</a>

<a id="5469" class="Comment">------------------------------------------------------------------------</a>
<a id="5542" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5590" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5654" class="Comment">-- matches are allowed for J and K, Id-erased is inhabited if the</a>
<a id="5720" class="Comment">-- first boolean is true, and starˢ is treated as a sink if the second</a>
<a id="5791" class="Comment">-- boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="5812" href="Graded.Restrictions.html#5812" class="Function">no-usage-restrictions</a> <a id="5834" class="Symbol">:</a> <a id="5836" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5841" class="Symbol">→</a> <a id="5843" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5848" class="Symbol">→</a> <a id="5850" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a>
<a id="5869" href="Graded.Restrictions.html#5812" class="Function">no-usage-restrictions</a> <a id="5891" href="Graded.Restrictions.html#5891" class="Bound">erased</a> <a id="5898" href="Graded.Restrictions.html#5898" class="Bound">sink</a> <a id="5903" class="Symbol">=</a> <a id="5905" class="Symbol">λ</a> <a id="5907" class="Keyword">where</a>
    <a id="5917" class="Symbol">.</a><a id="5918" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a>                        <a id="5957" class="Symbol">→</a> <a id="5959" class="Symbol">λ</a> <a id="5961" href="Graded.Restrictions.html#5961" class="Bound">_</a> <a id="5963" href="Graded.Restrictions.html#5963" class="Bound">_</a> <a id="5965" href="Graded.Restrictions.html#5965" class="Bound">_</a> <a id="5967" href="Graded.Restrictions.html#5967" class="Bound">_</a> <a id="5969" class="Symbol">→</a> <a id="5971" href="Level.html#409" class="Record">Lift</a> <a id="5976" class="Symbol">_</a> <a id="5978" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5984" class="Symbol">.</a><a id="5985" href="Graded.Usage.Restrictions.html#1076" class="Field">Prodrec-allowed-downwards-closed</a>       <a id="6024" class="Symbol">→</a> <a id="6026" class="Symbol">_</a>
    <a id="6032" class="Symbol">.</a><a id="6033" href="Graded.Usage.Restrictions.html#1286" class="Field">Unitrec-allowed</a>                        <a id="6072" class="Symbol">→</a> <a id="6074" class="Symbol">λ</a> <a id="6076" href="Graded.Restrictions.html#6076" class="Bound">_</a> <a id="6078" href="Graded.Restrictions.html#6078" class="Bound">_</a> <a id="6080" href="Graded.Restrictions.html#6080" class="Bound">_</a> <a id="6082" class="Symbol">→</a> <a id="6084" href="Level.html#409" class="Record">Lift</a> <a id="6089" class="Symbol">_</a> <a id="6091" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6097" class="Symbol">.</a><a id="6098" href="Graded.Usage.Restrictions.html#1434" class="Field">Unitrec-allowed-downwards-closed</a>       <a id="6137" class="Symbol">→</a> <a id="6139" class="Symbol">_</a>
    <a id="6145" class="Symbol">.</a><a id="6146" href="Graded.Usage.Restrictions.html#1638" class="Field">Emptyrec-allowed</a>                       <a id="6185" class="Symbol">→</a> <a id="6187" class="Symbol">λ</a> <a id="6189" href="Graded.Restrictions.html#6189" class="Bound">_</a> <a id="6191" href="Graded.Restrictions.html#6191" class="Bound">_</a> <a id="6193" class="Symbol">→</a> <a id="6195" href="Level.html#409" class="Record">Lift</a> <a id="6200" class="Symbol">_</a> <a id="6202" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6208" class="Symbol">.</a><a id="6209" href="Graded.Usage.Restrictions.html#1780" class="Field">Emptyrec-allowed-downwards-closed</a>      <a id="6248" class="Symbol">→</a> <a id="6250" class="Symbol">_</a>
    <a id="6256" class="Symbol">.</a><a id="6257" href="Graded.Usage.Restrictions.html#1934" class="Field">[]-cong-allowed-mode</a>                   <a id="6296" class="Symbol">→</a> <a id="6298" class="Symbol">λ</a> <a id="6300" href="Graded.Restrictions.html#6300" class="Bound">_</a> <a id="6302" href="Graded.Restrictions.html#6302" class="Bound">_</a> <a id="6304" class="Symbol">→</a> <a id="6306" href="Level.html#409" class="Record">Lift</a> <a id="6311" class="Symbol">_</a> <a id="6313" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6319" class="Symbol">.</a><a id="6320" href="Graded.Usage.Restrictions.html#2086" class="Field">[]-cong-allowed-mode-downwards-closed</a>  <a id="6359" class="Symbol">→</a> <a id="6361" class="Symbol">_</a>
    <a id="6367" class="Symbol">.</a><a id="6368" href="Graded.Usage.Restrictions.html#2245" class="Field">starˢ-sink</a>                              <a id="6408" class="Symbol">→</a> <a id="6410" href="Graded.Restrictions.html#5898" class="Bound">sink</a>
    <a id="6419" class="Symbol">.</a><a id="6420" href="Graded.Usage.Restrictions.html#2324" class="Field">Id-erased</a>                              <a id="6459" class="Symbol">→</a> <a id="6461" href="Level.html#409" class="Record">Lift</a> <a id="6466" class="Symbol">_</a> <a id="6468" class="Symbol">(</a><a id="6469" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6471" href="Graded.Restrictions.html#5891" class="Bound">erased</a><a id="6477" class="Symbol">)</a>
    <a id="6483" class="Symbol">.</a><a id="6484" href="Graded.Usage.Restrictions.html#2376" class="Field">Id-erased?</a>                             <a id="6523" class="Symbol">→</a> <a id="6525" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="6533" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="6538" href="Level.html#479" class="Field">Lift.lower</a> <a id="6549" href="Function.Base.html#1974" class="Function Operator">$</a>
                                              <a id="6597" href="Relation.Nullary.Decidable.Core.html#2959" class="Function">T?</a> <a id="6600" href="Graded.Restrictions.html#5891" class="Bound">erased</a>
    <a id="6611" class="Symbol">.</a><a id="6612" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a>                   <a id="6651" class="Symbol">→</a> <a id="6653" class="Symbol">λ</a> <a id="6655" href="Graded.Restrictions.html#6655" class="Bound">_</a> <a id="6657" class="Symbol">→</a> <a id="6659" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6667" class="Symbol">.</a><a id="6668" href="Graded.Usage.Restrictions.html#2737" class="Field">erased-matches-for-J-≤ᵉᵐ</a>               <a id="6707" class="Symbol">→</a> <a id="6709" class="Symbol">_</a>
    <a id="6715" class="Symbol">.</a><a id="6716" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a>                   <a id="6755" class="Symbol">→</a> <a id="6757" class="Symbol">λ</a> <a id="6759" href="Graded.Restrictions.html#6759" class="Bound">_</a> <a id="6761" class="Symbol">→</a> <a id="6763" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6771" class="Symbol">.</a><a id="6772" href="Graded.Usage.Restrictions.html#3162" class="Field">erased-matches-for-K-≤ᵉᵐ</a>               <a id="6811" class="Symbol">→</a> <a id="6813" class="Symbol">_</a>
  <a id="6817" class="Keyword">where</a>
  <a id="6825" class="Keyword">open</a> <a id="6830" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a>

<a id="6850" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="6907" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="6922" class="Symbol">:</a> <a id="6924" class="Symbol">(</a><a id="6925" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6930" class="Symbol">→</a> <a id="6932" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="6946" class="Symbol">)</a> <a id="6948" class="Symbol">→</a> <a id="6950" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6955" class="Symbol">→</a> <a id="6957" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="6972" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="6987" href="Graded.Restrictions.html#6987" class="Bound">f</a> <a id="6989" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="6992" class="Symbol">=</a> <a id="6994" href="Graded.Restrictions.html#6987" class="Bound">f</a> <a id="6996" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
<a id="6999" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="7014" href="Graded.Restrictions.html#7014" class="Bound">f</a> <a id="7016" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7019" class="Keyword">with</a> <a id="7024" href="Graded.Restrictions.html#7014" class="Bound">f</a> <a id="7026" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
<a id="7029" class="Symbol">…</a> <a id="7031" class="Symbol">|</a> <a id="7033" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="7037" class="Symbol">=</a> <a id="7039" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="7044" class="CatchallClause Symbol">…</a><a id="7045" class="CatchallClause"> </a><a id="7046" class="CatchallClause Symbol">|</a><a id="7047" class="CatchallClause"> </a><a id="7048" href="Graded.Restrictions.html#7048" class="CatchallClause Bound">em</a>  <a id="7052" class="Symbol">=</a> <a id="7054" href="Graded.Restrictions.html#7048" class="Bound">em</a>

<a id="7058" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="7124" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="7172" href="Graded.Restrictions.html#7172" class="Function">not-all-erased-matches-JK</a> <a id="7198" class="Symbol">:</a> <a id="7200" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="7219" class="Symbol">→</a> <a id="7221" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a>
<a id="7240" href="Graded.Restrictions.html#7172" class="Function">not-all-erased-matches-JK</a> <a id="7266" href="Graded.Restrictions.html#7266" class="Bound">UR</a> <a id="7269" class="Symbol">=</a> <a id="7271" class="Keyword">record</a> <a id="7278" href="Graded.Restrictions.html#7266" class="Bound">UR</a>
  <a id="7283" class="Symbol">{</a> <a id="7285" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="7306" class="Symbol">=</a>
      <a id="7314" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="7329" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a>
  <a id="7352" class="Symbol">;</a> <a id="7354" href="Graded.Usage.Restrictions.html#2737" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="7379" class="Symbol">=</a>
      <a id="7387" href="Graded.Restrictions.html#7679" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7406" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="7427" href="Graded.Usage.Restrictions.html#2737" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="7454" class="Symbol">;</a> <a id="7456" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="7477" class="Symbol">=</a>
      <a id="7485" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="7500" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a>
  <a id="7523" class="Symbol">;</a> <a id="7525" href="Graded.Usage.Restrictions.html#3162" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="7550" class="Symbol">=</a>
      <a id="7558" href="Graded.Restrictions.html#7679" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7577" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="7598" href="Graded.Usage.Restrictions.html#3162" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="7625" class="Symbol">}</a>
  <a id="7629" class="Keyword">where</a>
  <a id="7637" class="Keyword">open</a> <a id="7642" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="7661" href="Graded.Restrictions.html#7266" class="Bound">UR</a>

  <a id="7667" class="Keyword">opaque</a>

    <a id="7679" href="Graded.Restrictions.html#7679" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7698" class="Symbol">:</a>
      <a id="7706" class="Symbol">(</a><a id="7707" href="Graded.Restrictions.html#7707" class="Bound">f</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="7716" class="Symbol">→</a> <a id="7718" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7732" class="Symbol">)</a> <a id="7734" class="Symbol">→</a>
      <a id="7742" href="Graded.Restrictions.html#7707" class="Bound">f</a> <a id="7744" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7747" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7751" href="Graded.Restrictions.html#7707" class="Bound">f</a> <a id="7753" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7757" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="7760" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a> <a id="7762" class="Symbol">→</a>
      <a id="7770" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="7785" href="Graded.Restrictions.html#7707" class="Bound">f</a> <a id="7787" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7790" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7794" href="Graded.Restrictions.html#6907" class="Function">not-all-for-𝟙ᵐ</a> <a id="7809" href="Graded.Restrictions.html#7707" class="Bound">f</a> <a id="7811" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7815" href="Graded.Restrictions.html#1156" class="Generalizable">ok</a> <a id="7818" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a>
    <a id="7824" href="Graded.Restrictions.html#7679" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7843" href="Graded.Restrictions.html#7843" class="Bound">f</a> <a id="7845" href="Graded.Restrictions.html#7845" class="Bound">f-≤ᵉᵐ</a> <a id="7851" class="Keyword">with</a> <a id="7856" href="Graded.Restrictions.html#7843" class="Bound">f</a> <a id="7858" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="7865" class="Symbol">…</a> <a id="7867" class="Symbol">|</a> <a id="7869" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="7874" class="Symbol">=</a> <a id="7876" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="7891" class="Symbol">_</a> <a id="7893" class="Bound">f-≤ᵉᵐ</a>
    <a id="7903" class="Symbol">…</a> <a id="7905" class="Symbol">|</a> <a id="7907" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="7912" class="Symbol">=</a> <a id="7914" class="Bound">f-≤ᵉᵐ</a>
    <a id="7924" class="Symbol">…</a> <a id="7926" class="Symbol">|</a> <a id="7928" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="7933" class="Symbol">=</a> <a id="7935" class="Bound">f-≤ᵉᵐ</a>

<a id="7942" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8011" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec</a>
<a id="8080" class="Comment">-- or unitrec. For prodrec the added restriction only applies to</a>
<a id="8145" class="Comment">-- non-trivial modalities.</a>

<a id="only-some-erased-matches"></a><a id="8173" href="Graded.Restrictions.html#8173" class="Function">only-some-erased-matches</a> <a id="8198" class="Symbol">:</a> <a id="8200" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="8219" class="Symbol">→</a> <a id="8221" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a>
<a id="8240" href="Graded.Restrictions.html#8173" class="Function">only-some-erased-matches</a> <a id="8265" href="Graded.Restrictions.html#8265" class="Bound">UR</a> <a id="8268" class="Symbol">=</a> <a id="8270" class="Keyword">record</a> <a id="8277" href="Graded.Restrictions.html#8265" class="Bound">UR</a>
  <a id="8282" class="Symbol">{</a> <a id="8284" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a> <a id="8300" class="Symbol">=</a> <a id="8302" class="Symbol">λ</a> <a id="8304" href="Graded.Restrictions.html#8304" class="Bound">m</a> <a id="8306" href="Graded.Restrictions.html#8306" class="Bound">r</a> <a id="8308" href="Graded.Restrictions.html#8308" class="Bound">p</a> <a id="8310" href="Graded.Restrictions.html#8310" class="Bound">q</a> <a id="8312" class="Symbol">→</a>
      <a id="8320" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a> <a id="8336" href="Graded.Restrictions.html#8304" class="Bound">m</a> <a id="8338" href="Graded.Restrictions.html#8306" class="Bound">r</a> <a id="8340" href="Graded.Restrictions.html#8308" class="Bound">p</a> <a id="8342" href="Graded.Restrictions.html#8310" class="Bound">q</a> <a id="8344" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="8352" class="Symbol">(</a><a id="8353" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="8355" href="Graded.Modality.html#1977" class="Function">Trivial</a> <a id="8363" class="Symbol">→</a> <a id="8365" href="Graded.Restrictions.html#8304" class="Bound">m</a> <a id="8367" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8369" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8372" class="Symbol">→</a> <a id="8374" href="Graded.Restrictions.html#8306" class="Bound">r</a> <a id="8376" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8378" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="8379" class="Symbol">)</a>
  <a id="8383" class="Symbol">;</a> <a id="8385" href="Graded.Usage.Restrictions.html#1076" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8418" class="Symbol">=</a>
      <a id="8426" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8432" href="Graded.Usage.Restrictions.html#1076" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8465" class="Symbol">(λ</a> <a id="8468" href="Graded.Restrictions.html#8468" class="Bound">_</a> <a id="8470" href="Graded.Restrictions.html#8470" class="Bound">_</a> <a id="8472" class="Symbol">())</a>
  <a id="8478" class="Symbol">;</a> <a id="8480" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="8501" class="Symbol">=</a> <a id="8503" class="Symbol">λ</a> <a id="8505" class="Keyword">where</a>
      <a id="8517" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8520" class="Symbol">→</a> <a id="8522" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8533" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8536" class="Symbol">→</a> <a id="8538" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="8559" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8564" class="Symbol">;</a> <a id="8566" href="Graded.Usage.Restrictions.html#2737" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8591" class="Symbol">=</a>
      <a id="8599" class="Symbol">_</a>
  <a id="8603" class="Symbol">;</a> <a id="8605" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="8626" class="Symbol">=</a> <a id="8628" class="Symbol">λ</a> <a id="8630" class="Keyword">where</a>
      <a id="8642" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8645" class="Symbol">→</a> <a id="8647" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8658" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8661" class="Symbol">→</a> <a id="8663" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="8684" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8689" class="Symbol">;</a> <a id="8691" href="Graded.Usage.Restrictions.html#3162" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8716" class="Symbol">=</a>
      <a id="8724" class="Symbol">_</a>
  <a id="8728" class="Symbol">}</a>
  <a id="8732" class="Keyword">where</a>
  <a id="8740" class="Keyword">open</a> <a id="8745" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="8764" href="Graded.Restrictions.html#8265" class="Bound">UR</a>

<a id="8768" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8837" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec.</a>
<a id="8907" class="Comment">-- For prodrec and unitrec the added restriction only applies to</a>
<a id="8972" class="Comment">-- non-trivial modalities, and for unitrec the added restriction only</a>
<a id="9042" class="Comment">-- applies if η-equality is not allowed for weak unit types.</a>

<a id="no-erased-matches-UR"></a><a id="9104" href="Graded.Restrictions.html#9104" class="Function">no-erased-matches-UR</a> <a id="9125" class="Symbol">:</a>
  <a id="9129" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="9147" class="Symbol">→</a> <a id="9149" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="9168" class="Symbol">→</a> <a id="9170" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a>
<a id="9189" href="Graded.Restrictions.html#9104" class="Function">no-erased-matches-UR</a> <a id="9210" href="Graded.Restrictions.html#9210" class="Bound">TR</a> <a id="9213" href="Graded.Restrictions.html#9213" class="Bound">UR</a> <a id="9216" class="Symbol">=</a> <a id="9218" class="Keyword">record</a> <a id="9225" class="Symbol">(</a><a id="9226" href="Graded.Restrictions.html#8173" class="Function">only-some-erased-matches</a> <a id="9251" href="Graded.Restrictions.html#9213" class="Bound">UR</a><a id="9253" class="Symbol">)</a>
  <a id="9257" class="Symbol">{</a> <a id="9259" href="Graded.Usage.Restrictions.html#1286" class="Field">Unitrec-allowed</a> <a id="9275" class="Symbol">=</a> <a id="9277" class="Symbol">λ</a> <a id="9279" href="Graded.Restrictions.html#9279" class="Bound">m</a> <a id="9281" href="Graded.Restrictions.html#9281" class="Bound">p</a> <a id="9283" href="Graded.Restrictions.html#9283" class="Bound">q</a> <a id="9285" class="Symbol">→</a>
      <a id="9293" href="Graded.Usage.Restrictions.html#1286" class="Field">Unitrec-allowed</a> <a id="9309" href="Graded.Restrictions.html#9279" class="Bound">m</a> <a id="9311" href="Graded.Restrictions.html#9281" class="Bound">p</a> <a id="9313" href="Graded.Restrictions.html#9283" class="Bound">q</a> <a id="9315" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="9323" class="Symbol">(</a><a id="9324" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9326" href="Graded.Modality.html#1977" class="Function">Trivial</a> <a id="9334" class="Symbol">→</a> <a id="9336" href="Graded.Restrictions.html#9279" class="Bound">m</a> <a id="9338" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9340" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9343" class="Symbol">→</a> <a id="9345" href="Graded.Restrictions.html#9281" class="Bound">p</a> <a id="9347" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9349" href="Graded.Modality.html#897" class="Function">𝟘</a> <a id="9351" class="Symbol">→</a> <a id="9353" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="9360" class="Symbol">)</a>
  <a id="9364" class="Symbol">;</a> <a id="9366" href="Graded.Usage.Restrictions.html#1434" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9399" class="Symbol">=</a>
      <a id="9407" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="9413" href="Graded.Usage.Restrictions.html#1434" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9446" class="Symbol">(λ</a> <a id="9449" href="Graded.Restrictions.html#9449" class="Bound">_</a> <a id="9451" href="Graded.Restrictions.html#9451" class="Bound">_</a> <a id="9453" class="Symbol">())</a>
  <a id="9459" class="Symbol">}</a>
  <a id="9463" class="Keyword">where</a>
  <a id="9471" class="Keyword">open</a> <a id="9476" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="9494" href="Graded.Restrictions.html#9210" class="Bound">TR</a>
  <a id="9499" class="Keyword">open</a> <a id="9504" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="9523" href="Graded.Restrictions.html#9213" class="Bound">UR</a>

<a id="9527" class="Comment">------------------------------------------------------------------------</a>
<a id="9600" class="Comment">-- Only-some-erased-matches</a>

<a id="9629" class="Comment">-- The property of not allowing certain erased matches:</a>
<a id="9685" class="Comment">-- * Erased matches are allowed for emptyrec and unitrec.</a>
<a id="9743" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="9801" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="9869" class="Comment">--   []-cong.</a>

<a id="Only-some-erased-matches"></a><a id="9884" href="Graded.Restrictions.html#9884" class="Function">Only-some-erased-matches</a> <a id="9909" class="Symbol">:</a>
  <a id="9913" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="9931" class="Symbol">→</a> <a id="9933" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="9952" class="Symbol">→</a> <a id="9954" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9958" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="9960" href="Graded.Restrictions.html#9884" class="Function">Only-some-erased-matches</a> <a id="9985" href="Graded.Restrictions.html#9985" class="Bound">TR</a> <a id="9988" href="Graded.Restrictions.html#9988" class="Bound">UR</a> <a id="9991" class="Symbol">=</a>
  <a id="9995" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9997" href="Graded.Modality.html#1977" class="Function">Trivial</a> <a id="10005" class="Symbol">→</a>
  <a id="10009" class="Symbol">(∀</a> <a id="10012" class="Symbol">{</a><a id="10013" href="Graded.Restrictions.html#10013" class="Bound">r</a> <a id="10015" href="Graded.Restrictions.html#10015" class="Bound">p</a> <a id="10017" href="Graded.Restrictions.html#10017" class="Bound">q</a><a id="10018" class="Symbol">}</a> <a id="10020" class="Symbol">→</a> <a id="10022" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a> <a id="10038" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="10041" href="Graded.Restrictions.html#10013" class="Bound">r</a> <a id="10043" href="Graded.Restrictions.html#10015" class="Bound">p</a> <a id="10045" href="Graded.Restrictions.html#10017" class="Bound">q</a> <a id="10047" class="Symbol">→</a> <a id="10049" href="Graded.Restrictions.html#10013" class="Bound">r</a> <a id="10051" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="10053" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="10054" class="Symbol">)</a> <a id="10056" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="10060" class="Symbol">(∀</a> <a id="10063" class="Symbol">{</a><a id="10064" href="Graded.Restrictions.html#10064" class="Bound">s</a><a id="10065" class="Symbol">}</a> <a id="10067" class="Symbol">→</a> <a id="10069" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="10071" class="Symbol">(</a><a id="10072" href="Definition.Typed.Restrictions.html#2480" class="Function">[]-cong-allowed</a> <a id="10088" href="Graded.Restrictions.html#10064" class="Bound">s</a><a id="10089" class="Symbol">))</a> <a id="10092" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="10096" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="10117" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="10120" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10122" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="10127" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="10131" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="10152" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="10155" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10157" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="10164" class="Keyword">where</a>
  <a id="10172" class="Keyword">open</a> <a id="10177" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="10195" href="Graded.Restrictions.html#9985" class="Bound">TR</a>
  <a id="10200" class="Keyword">open</a> <a id="10205" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="10224" href="Graded.Restrictions.html#9988" class="Bound">UR</a>

<a id="10228" class="Keyword">opaque</a>

  <a id="10238" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
  <a id="10303" class="Comment">-- only-some-erased-matches satisfy Only-some-erased-matches.</a>

  <a id="Only-some-erased-matches-only-some-erased-matches"></a><a id="10368" href="Graded.Restrictions.html#10368" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10418" class="Symbol">:</a>
    <a id="10424" class="Symbol">∀</a> <a id="10426" href="Graded.Restrictions.html#10426" class="Bound">TR</a> <a id="10429" href="Graded.Restrictions.html#10429" class="Bound">UR</a> <a id="10432" class="Symbol">→</a>
    <a id="10438" href="Graded.Restrictions.html#9884" class="Function">Only-some-erased-matches</a>
      <a id="10469" class="Symbol">(</a><a id="10470" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="10491" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a> <a id="10493" class="Symbol">(</a><a id="10494" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="10515" href="Definition.Untyped.NotParametrised.html#1642" class="InductiveConstructor">𝕨</a> <a id="10517" href="Graded.Restrictions.html#10426" class="Bound">TR</a><a id="10519" class="Symbol">))</a>
      <a id="10528" class="Symbol">(</a><a id="10529" href="Graded.Restrictions.html#8173" class="Function">only-some-erased-matches</a> <a id="10554" href="Graded.Restrictions.html#10429" class="Bound">UR</a><a id="10556" class="Symbol">)</a>
  <a id="10560" href="Graded.Restrictions.html#10368" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10610" class="Symbol">_</a> <a id="10612" class="Symbol">_</a> <a id="10614" href="Graded.Restrictions.html#10614" class="Bound">𝟙≢𝟘</a> <a id="10618" class="Symbol">=</a>
      <a id="10626" class="Symbol">(</a><a id="10627" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10630" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10634" class="Symbol">)</a> <a id="10636" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10639" class="Symbol">(</a><a id="10640" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10643" href="Graded.Restrictions.html#10614" class="Bound">𝟙≢𝟘</a><a id="10646" class="Symbol">)</a> <a id="10648" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10651" href="Data.Product.Base.html#650" class="Field">proj₂</a>
    <a id="10661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10663" class="Symbol">(λ</a> <a id="10666" class="Keyword">where</a>
         <a id="10681" class="Symbol">{</a><a id="10682" class="Argument">s</a> <a id="10684" class="Symbol">=</a> <a id="10686" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="10687" class="Symbol">}</a> <a id="10689" class="Symbol">→</a> <a id="10691" class="Symbol">(</a><a id="10692" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10695" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10699" class="Symbol">)</a> <a id="10701" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10704" href="Data.Product.Base.html#650" class="Field">proj₂</a>
         <a id="10719" class="Symbol">{</a><a id="10720" class="Argument">s</a> <a id="10722" class="Symbol">=</a> <a id="10724" href="Definition.Untyped.NotParametrised.html#1642" class="InductiveConstructor">𝕨</a><a id="10725" class="Symbol">}</a> <a id="10727" class="Symbol">→</a> <a id="10729" class="Symbol">(</a><a id="10730" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10733" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10737" class="Symbol">)</a> <a id="10739" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10742" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10748" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10751" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="10756" class="Symbol">)</a>
    <a id="10762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10764" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="10773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10775" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="10781" class="Comment">------------------------------------------------------------------------</a>
<a id="10854" class="Comment">-- No-erased-matches</a>

<a id="10876" class="Comment">-- The property of not allowing (certain) erased matches:</a>
<a id="10934" class="Comment">-- * Erased matches are allowed for emptyrec.</a>
<a id="10980" class="Comment">-- * &quot;Erased&quot; matches are allowed for unitrec if η-equality is allowed</a>
<a id="11051" class="Comment">--   for weak unit types.</a>
<a id="11077" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="11135" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="11203" class="Comment">--   []-cong. (Note that a variant of []-cong that works when the mode</a>
<a id="11274" class="Comment">--   is not 𝟙ᵐ can be defined without the use of []-cong, see</a>
<a id="11336" class="Comment">--   Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="11374" href="Graded.Restrictions.html#11374" class="Function">No-erased-matches</a> <a id="11392" class="Symbol">:</a> <a id="11394" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="11412" class="Symbol">→</a> <a id="11414" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="11433" class="Symbol">→</a> <a id="11435" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="11439" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="11441" href="Graded.Restrictions.html#11374" class="Function">No-erased-matches</a> <a id="11459" href="Graded.Restrictions.html#11459" class="Bound">TR</a> <a id="11462" href="Graded.Restrictions.html#11462" class="Bound">UR</a> <a id="11465" class="Symbol">=</a>
  <a id="11469" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11471" href="Graded.Modality.html#1977" class="Function">Trivial</a> <a id="11479" class="Symbol">→</a>
  <a id="11483" class="Symbol">(∀</a> <a id="11486" class="Symbol">{</a><a id="11487" href="Graded.Restrictions.html#11487" class="Bound">r</a> <a id="11489" href="Graded.Restrictions.html#11489" class="Bound">p</a> <a id="11491" href="Graded.Restrictions.html#11491" class="Bound">q</a><a id="11492" class="Symbol">}</a> <a id="11494" class="Symbol">→</a> <a id="11496" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a> <a id="11512" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11515" href="Graded.Restrictions.html#11487" class="Bound">r</a> <a id="11517" href="Graded.Restrictions.html#11489" class="Bound">p</a> <a id="11519" href="Graded.Restrictions.html#11491" class="Bound">q</a> <a id="11521" class="Symbol">→</a> <a id="11523" href="Graded.Restrictions.html#11487" class="Bound">r</a> <a id="11525" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="11527" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="11528" class="Symbol">)</a> <a id="11530" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11534" class="Symbol">(∀</a> <a id="11537" class="Symbol">{</a><a id="11538" href="Graded.Restrictions.html#11538" class="Bound">p</a> <a id="11540" href="Graded.Restrictions.html#11540" class="Bound">q</a><a id="11541" class="Symbol">}</a>   <a id="11545" class="Symbol">→</a> <a id="11547" href="Graded.Usage.Restrictions.html#1286" class="Field">Unitrec-allowed</a> <a id="11563" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11566" href="Graded.Restrictions.html#11538" class="Bound">p</a> <a id="11568" href="Graded.Restrictions.html#11540" class="Bound">q</a>   <a id="11572" class="Symbol">→</a> <a id="11574" href="Graded.Restrictions.html#11538" class="Bound">p</a> <a id="11576" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11578" href="Graded.Modality.html#897" class="Function">𝟘</a> <a id="11580" class="Symbol">→</a> <a id="11582" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="11589" class="Symbol">)</a> <a id="11591" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11595" class="Symbol">(∀</a> <a id="11598" class="Symbol">{</a><a id="11599" href="Graded.Restrictions.html#11599" class="Bound">s</a><a id="11600" class="Symbol">}</a> <a id="11602" class="Symbol">→</a> <a id="11604" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11606" class="Symbol">(</a><a id="11607" href="Definition.Typed.Restrictions.html#2480" class="Function">[]-cong-allowed</a> <a id="11623" href="Graded.Restrictions.html#11599" class="Bound">s</a><a id="11624" class="Symbol">))</a> <a id="11627" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11631" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="11652" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11655" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11657" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="11662" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11666" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="11687" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="11690" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11692" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="11699" class="Keyword">where</a>
  <a id="11707" class="Keyword">open</a> <a id="11712" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="11730" href="Graded.Restrictions.html#11459" class="Bound">TR</a>
  <a id="11735" class="Keyword">open</a> <a id="11740" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="11759" href="Graded.Restrictions.html#11462" class="Bound">UR</a>

<a id="11763" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="11826" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="11878" href="Graded.Restrictions.html#11878" class="Function">No-erased-matches-no-erased-matches</a> <a id="11914" class="Symbol">:</a>
  <a id="11918" class="Symbol">∀</a> <a id="11920" href="Graded.Restrictions.html#11920" class="Bound">TR</a> <a id="11923" href="Graded.Restrictions.html#11923" class="Bound">UR</a> <a id="11926" class="Symbol">→</a>
  <a id="11930" class="Keyword">let</a> <a id="11934" href="Graded.Restrictions.html#11934" class="Bound">TR′</a> <a id="11938" class="Symbol">=</a> <a id="11940" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="11961" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a> <a id="11963" class="Symbol">(</a><a id="11964" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="11985" href="Definition.Untyped.NotParametrised.html#1642" class="InductiveConstructor">𝕨</a> <a id="11987" href="Graded.Restrictions.html#11920" class="Bound">TR</a><a id="11989" class="Symbol">)</a> <a id="11991" class="Keyword">in</a>
  <a id="11996" href="Graded.Restrictions.html#11374" class="Function">No-erased-matches</a> <a id="12014" href="Graded.Restrictions.html#11934" class="Bound">TR′</a> <a id="12018" class="Symbol">(</a><a id="12019" href="Graded.Restrictions.html#9104" class="Function">no-erased-matches-UR</a> <a id="12040" href="Graded.Restrictions.html#11934" class="Bound">TR′</a> <a id="12044" href="Graded.Restrictions.html#11923" class="Bound">UR</a><a id="12046" class="Symbol">)</a>
<a id="12048" href="Graded.Restrictions.html#11878" class="Function">No-erased-matches-no-erased-matches</a> <a id="12084" href="Graded.Restrictions.html#12084" class="Bound">TR</a> <a id="12087" href="Graded.Restrictions.html#12087" class="Bound">UR</a> <a id="12090" href="Graded.Restrictions.html#12090" class="Bound">𝟙≢𝟘</a> <a id="12094" class="Symbol">=</a>
  <a id="12098" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="12103" href="Graded.Restrictions.html#10368" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="12153" href="Graded.Restrictions.html#12084" class="Bound">TR</a> <a id="12156" href="Graded.Restrictions.html#12087" class="Bound">UR</a> <a id="12159" href="Graded.Restrictions.html#12090" class="Bound">𝟙≢𝟘</a> <a id="12163" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="12166" class="Symbol">λ</a>
    <a id="12172" class="Symbol">(</a><a id="12173" href="Graded.Restrictions.html#12173" class="Bound">pr</a> <a id="12176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12178" href="Graded.Restrictions.html#12178" class="Bound">rest</a><a id="12182" class="Symbol">)</a> <a id="12184" class="Symbol">→</a>
    <a id="12190" class="Symbol">(λ</a> <a id="12193" class="Symbol">{</a><a id="12194" href="Graded.Restrictions.html#12194" class="Bound">_</a> <a id="12196" href="Graded.Restrictions.html#12196" class="Bound">_</a> <a id="12198" href="Graded.Restrictions.html#12198" class="Bound">_</a><a id="12199" class="Symbol">}</a> <a id="12201" class="Symbol">→</a> <a id="12203" href="Graded.Restrictions.html#12173" class="Bound">pr</a><a id="12205" class="Symbol">)</a>
  <a id="12209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12211" class="Symbol">(λ</a> <a id="12214" class="Symbol">{</a><a id="12215" href="Graded.Restrictions.html#12215" class="Bound">_</a> <a id="12217" href="Graded.Restrictions.html#12217" class="Bound">_</a><a id="12218" class="Symbol">}</a> <a id="12220" class="Symbol">→</a> <a id="12222" class="Symbol">(</a><a id="12223" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12226" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="12230" class="Symbol">)</a> <a id="12232" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12235" class="Symbol">(</a><a id="12236" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12239" href="Graded.Restrictions.html#12090" class="Bound">𝟙≢𝟘</a><a id="12242" class="Symbol">)</a> <a id="12244" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12247" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="12252" class="Symbol">)</a>
  <a id="12256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12258" href="Graded.Restrictions.html#12178" class="Bound">rest</a>

<a id="12264" class="Keyword">opaque</a>

  <a id="12274" class="Comment">-- If Unitʷ-η holds for TR, then Only-some-erased-matches TR UR</a>
  <a id="12340" class="Comment">-- implies No-erased-matches TR UR.</a>

  <a id="Only-some-erased-matches→No-erased-matches"></a><a id="12379" href="Graded.Restrictions.html#12379" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12422" class="Symbol">:</a>
    <a id="12428" class="Symbol">∀</a> <a id="12430" href="Graded.Restrictions.html#12430" class="Bound">TR</a> <a id="12433" href="Graded.Restrictions.html#12433" class="Bound">UR</a> <a id="12436" class="Symbol">→</a>
    <a id="12442" href="Definition.Typed.Variant.html#795" class="Function">Type-restrictions.Unitʷ-η</a> <a id="12468" href="Graded.Restrictions.html#12430" class="Bound">TR</a> <a id="12471" class="Symbol">→</a>
    <a id="12477" href="Graded.Restrictions.html#9884" class="Function">Only-some-erased-matches</a> <a id="12502" href="Graded.Restrictions.html#12430" class="Bound">TR</a> <a id="12505" href="Graded.Restrictions.html#12433" class="Bound">UR</a> <a id="12508" class="Symbol">→</a> <a id="12510" href="Graded.Restrictions.html#11374" class="Function">No-erased-matches</a> <a id="12528" href="Graded.Restrictions.html#12430" class="Bound">TR</a> <a id="12531" href="Graded.Restrictions.html#12433" class="Bound">UR</a>
  <a id="12536" href="Graded.Restrictions.html#12379" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12579" class="Symbol">_</a> <a id="12581" class="Symbol">_</a> <a id="12583" href="Graded.Restrictions.html#12583" class="Bound">η</a> <a id="12585" class="Symbol">=</a>
    <a id="12591" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="12597" href="Function.Base.html#704" class="Function">idᶠ</a> <a id="12601" class="Symbol">((λ</a> <a id="12605" class="Symbol">{</a><a id="12606" href="Graded.Restrictions.html#12606" class="Bound">_</a> <a id="12608" href="Graded.Restrictions.html#12608" class="Bound">_</a><a id="12609" class="Symbol">}</a> <a id="12611" href="Graded.Restrictions.html#12611" class="Bound">_</a> <a id="12613" href="Graded.Restrictions.html#12613" class="Bound">_</a> <a id="12615" class="Symbol">→</a> <a id="12617" href="Graded.Restrictions.html#12583" class="Bound">η</a><a id="12618" class="Symbol">)</a> <a id="12620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="12622" class="Symbol">)</a> <a id="12624" href="Function.Base.html#1115" class="Function Operator">∘→_</a>

<a id="12629" class="Comment">-- An alternative to No-erased-matches that refers to</a>
<a id="12683" class="Comment">-- Type-variant instead of Type-restrictions</a>

<a id="No-erased-matches′"></a><a id="12729" href="Graded.Restrictions.html#12729" class="Function">No-erased-matches′</a> <a id="12748" class="Symbol">:</a> <a id="12750" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a> <a id="12763" class="Symbol">→</a> <a id="12765" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="12784" class="Symbol">→</a> <a id="12786" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12790" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="12792" href="Graded.Restrictions.html#12729" class="Function">No-erased-matches′</a> <a id="12811" href="Graded.Restrictions.html#12811" class="Bound">TV</a> <a id="12814" href="Graded.Restrictions.html#12814" class="Bound">UR</a> <a id="12817" class="Symbol">=</a>
  <a id="12821" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12823" href="Graded.Modality.html#1977" class="Function">Trivial</a> <a id="12831" class="Symbol">→</a>
  <a id="12835" class="Symbol">(∀</a> <a id="12838" class="Symbol">{</a><a id="12839" href="Graded.Restrictions.html#12839" class="Bound">r</a> <a id="12841" href="Graded.Restrictions.html#12841" class="Bound">p</a> <a id="12843" href="Graded.Restrictions.html#12843" class="Bound">q</a><a id="12844" class="Symbol">}</a> <a id="12846" class="Symbol">→</a> <a id="12848" href="Graded.Usage.Restrictions.html#926" class="Field">Prodrec-allowed</a> <a id="12864" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12867" href="Graded.Restrictions.html#12839" class="Bound">r</a> <a id="12869" href="Graded.Restrictions.html#12841" class="Bound">p</a> <a id="12871" href="Graded.Restrictions.html#12843" class="Bound">q</a> <a id="12873" class="Symbol">→</a> <a id="12875" href="Graded.Restrictions.html#12839" class="Bound">r</a> <a id="12877" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12879" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="12880" class="Symbol">)</a> <a id="12882" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12886" class="Symbol">(∀</a> <a id="12889" class="Symbol">{</a><a id="12890" href="Graded.Restrictions.html#12890" class="Bound">p</a> <a id="12892" href="Graded.Restrictions.html#12892" class="Bound">q</a><a id="12893" class="Symbol">}</a>   <a id="12897" class="Symbol">→</a> <a id="12899" href="Graded.Usage.Restrictions.html#1286" class="Field">Unitrec-allowed</a> <a id="12915" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="12918" href="Graded.Restrictions.html#12890" class="Bound">p</a> <a id="12920" href="Graded.Restrictions.html#12892" class="Bound">q</a>   <a id="12924" class="Symbol">→</a> <a id="12926" href="Graded.Restrictions.html#12890" class="Bound">p</a> <a id="12928" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12930" href="Graded.Modality.html#897" class="Function">𝟘</a> <a id="12932" class="Symbol">→</a> <a id="12934" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="12941" class="Symbol">)</a> <a id="12943" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12947" class="Symbol">(∀</a> <a id="12950" class="Symbol">{</a><a id="12951" href="Graded.Restrictions.html#12951" class="Bound">s</a><a id="12952" class="Symbol">}</a> <a id="12954" class="Symbol">→</a> <a id="12956" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12958" class="Symbol">(</a><a id="12959" href="Graded.Usage.Restrictions.html#1934" class="Field">[]-cong-allowed-mode</a> <a id="12980" href="Graded.Restrictions.html#12951" class="Bound">s</a> <a id="12982" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a><a id="12984" class="Symbol">))</a> <a id="12987" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12991" href="Graded.Usage.Restrictions.html#2502" class="Field">erased-matches-for-J</a> <a id="13012" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="13015" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13017" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="13022" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="13026" href="Graded.Usage.Restrictions.html#2927" class="Field">erased-matches-for-K</a> <a id="13047" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="13050" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13052" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="13059" class="Keyword">where</a>
  <a id="13067" class="Keyword">open</a> <a id="13072" href="Definition.Typed.Variant.html#432" class="Module">Type-variant</a> <a id="13085" href="Graded.Restrictions.html#12811" class="Bound">TV</a>
  <a id="13090" class="Keyword">open</a> <a id="13095" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="13114" href="Graded.Restrictions.html#12814" class="Bound">UR</a>

<a id="13118" class="Comment">------------------------------------------------------------------------</a>
<a id="13191" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="13233" class="Keyword">opaque</a>

  <a id="13243" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="13310" class="Comment">-- no-type-restrictions b.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="13340" href="Graded.Restrictions.html#13340" class="Function">Assumptions-no-type-restrictions</a> <a id="13373" class="Symbol">:</a>
    <a id="13379" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="13389" class="Symbol">(</a><a id="13390" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="13394" class="Symbol">{</a><a id="13395" class="Argument">A</a> <a id="13397" class="Symbol">=</a> <a id="13399" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="13400" class="Symbol">})</a> <a id="13403" class="Symbol">→</a> <a id="13405" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13420" class="Symbol">(</a><a id="13421" href="Graded.Restrictions.html#1520" class="Function">no-type-restrictions</a> <a id="13442" href="Graded.Restrictions.html#1144" class="Generalizable">b</a><a id="13443" class="Symbol">)</a>
  <a id="13447" href="Graded.Restrictions.html#13340" class="Function">Assumptions-no-type-restrictions</a> <a id="13480" class="Symbol">{</a><a id="13481" href="Graded.Restrictions.html#13481" class="Bound">b</a><a id="13482" class="Symbol">}</a> <a id="13484" href="Graded.Restrictions.html#13484" class="Bound">dec</a> <a id="13488" class="Symbol">=</a> <a id="13490" class="Symbol">λ</a> <a id="13492" class="Keyword">where</a>
      <a id="13504" class="Symbol">.</a><a id="13505" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="13524" class="Symbol">→</a> <a id="13526" href="Graded.Restrictions.html#13484" class="Bound">dec</a>
      <a id="13536" class="Symbol">.</a><a id="13537" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="13551" class="Symbol">_</a>    <a id="13556" class="Symbol">→</a> <a id="13558" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13562" class="Symbol">_</a>
      <a id="13570" class="Symbol">.</a><a id="13571" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="13583" class="Symbol">_</a> <a id="13585" class="Symbol">_</a> <a id="13587" class="Symbol">_</a>  <a id="13590" class="Symbol">→</a> <a id="13592" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13596" class="Symbol">_</a>
      <a id="13604" class="Symbol">.</a><a id="13605" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="13624" class="Symbol">→</a> <a id="13626" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13631" href="Tools.PropositionalEquality.html#2252" class="Function">singleton</a> <a id="13641" href="Graded.Restrictions.html#13481" class="Bound">b</a> <a id="13643" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13646" class="Symbol">λ</a> <a id="13648" class="Keyword">where</a>
        <a id="13662" class="Symbol">(</a><a id="13663" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="13669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13671" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13675" class="Symbol">)</a> <a id="13677" class="Symbol">→</a> <a id="13679" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13683" class="Symbol">_</a>
        <a id="13693" class="Symbol">(</a><a id="13694" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13702" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13706" class="Symbol">)</a> <a id="13708" class="Symbol">→</a> <a id="13710" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="13713" class="Symbol">(λ</a> <a id="13716" class="Symbol">())</a>
      <a id="13726" class="Symbol">.</a><a id="13727" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="13744" class="Symbol">_</a> <a id="13746" class="Symbol">→</a> <a id="13748" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13753" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="13762" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13765" class="Symbol">λ</a> <a id="13767" class="Keyword">where</a>
        <a id="13781" class="Symbol">(</a><a id="13782" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13786" href="Graded.Restrictions.html#13786" class="Bound">trivial</a><a id="13793" class="Symbol">)</a>    <a id="13798" class="Symbol">→</a> <a id="13800" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="13803" class="Symbol">(</a><a id="13804" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13807" href="Graded.Restrictions.html#13786" class="Bound">trivial</a><a id="13814" class="Symbol">)</a>
        <a id="13824" class="Symbol">(</a><a id="13825" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="13828" href="Graded.Restrictions.html#13828" class="Bound">non-trivial</a><a id="13839" class="Symbol">)</a> <a id="13841" class="Symbol">→</a> <a id="13843" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="13847" href="Graded.Restrictions.html#13828" class="Bound">non-trivial</a>
    <a id="13863" class="Keyword">where</a>
    <a id="13873" class="Keyword">open</a> <a id="13878" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13894" class="Keyword">opaque</a>

  <a id="13904" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="13973" href="Graded.Restrictions.html#13973" class="Function">Assumptions-equal-binder-quantities</a> <a id="14009" class="Symbol">:</a>
    <a id="14015" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14030" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="14033" class="Symbol">→</a> <a id="14035" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14050" class="Symbol">(</a><a id="14051" href="Graded.Restrictions.html#2033" class="Function">equal-binder-quantities</a> <a id="14075" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="14077" class="Symbol">)</a>
  <a id="14081" href="Graded.Restrictions.html#13973" class="Function">Assumptions-equal-binder-quantities</a> <a id="14117" href="Graded.Restrictions.html#14117" class="Bound">as</a> <a id="14120" class="Symbol">=</a> <a id="14122" class="Symbol">λ</a> <a id="14124" class="Keyword">where</a>
      <a id="14136" class="Symbol">.</a><a id="14137" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14155" class="Symbol">→</a> <a id="14157" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14169" class="Symbol">.</a><a id="14170" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14188" class="Symbol">→</a> <a id="14190" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14212" class="Symbol">.</a><a id="14213" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14225" href="Graded.Restrictions.html#14225" class="Bound">b</a> <a id="14227" href="Graded.Restrictions.html#14227" class="Bound">p</a> <a id="14229" href="Graded.Restrictions.html#14229" class="Bound">q</a> <a id="14231" class="Symbol">→</a> <a id="14233" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14247" href="Graded.Restrictions.html#14225" class="Bound">b</a> <a id="14249" href="Graded.Restrictions.html#14227" class="Bound">p</a> <a id="14251" href="Graded.Restrictions.html#14229" class="Bound">q</a> <a id="14253" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="14259" href="Graded.Restrictions.html#14227" class="Bound">p</a> <a id="14261" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14265" href="Graded.Restrictions.html#14229" class="Bound">q</a>
      <a id="14273" class="Symbol">.</a><a id="14274" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14292" class="Symbol">→</a> <a id="14294" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14313" class="Symbol">.</a><a id="14314" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14332" class="Symbol">→</a> <a id="14334" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14357" class="Keyword">where</a>
    <a id="14367" class="Keyword">module</a> <a id="14374" href="Graded.Restrictions.html#14374" class="Module">A</a> <a id="14376" class="Symbol">=</a> <a id="14378" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14393" href="Graded.Restrictions.html#14117" class="Bound">as</a>
    <a id="14400" class="Keyword">open</a> <a id="14405" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14421" class="Keyword">opaque</a>

  <a id="14431" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="14499" href="Graded.Restrictions.html#14499" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="14534" class="Symbol">:</a>
    <a id="14540" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14555" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="14558" class="Symbol">→</a> <a id="14560" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14575" class="Symbol">(</a><a id="14576" href="Graded.Restrictions.html#2438" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="14599" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="14601" class="Symbol">)</a>
  <a id="14605" href="Graded.Restrictions.html#14499" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="14640" href="Graded.Restrictions.html#14640" class="Bound">as</a> <a id="14643" class="Symbol">=</a> <a id="14645" class="Symbol">λ</a> <a id="14647" class="Keyword">where</a>
      <a id="14659" class="Symbol">.</a><a id="14660" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14678" class="Symbol">→</a> <a id="14680" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14692" class="Symbol">.</a><a id="14693" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14711" class="Symbol">→</a> <a id="14713" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14735" class="Symbol">.</a><a id="14736" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14748" href="Graded.Restrictions.html#14748" class="Bound">b</a> <a id="14750" href="Graded.Restrictions.html#14750" class="Bound">p</a> <a id="14752" href="Graded.Restrictions.html#14752" class="Bound">q</a> <a id="14754" class="Symbol">→</a> <a id="14756" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14770" href="Graded.Restrictions.html#14748" class="Bound">b</a> <a id="14772" href="Graded.Restrictions.html#14750" class="Bound">p</a> <a id="14774" href="Graded.Restrictions.html#14752" class="Bound">q</a> <a id="14776" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="14782" href="Graded.Restrictions.html#14752" class="Bound">q</a> <a id="14784" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14788" href="Graded.Modality.html#897" class="Function">𝟘</a>
      <a id="14796" class="Symbol">.</a><a id="14797" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14815" class="Symbol">→</a> <a id="14817" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14836" class="Symbol">.</a><a id="14837" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14855" class="Symbol">→</a> <a id="14857" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14880" class="Keyword">where</a>
    <a id="14890" class="Keyword">module</a> <a id="14897" href="Graded.Restrictions.html#14897" class="Module">A</a> <a id="14899" class="Symbol">=</a> <a id="14901" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14916" href="Graded.Restrictions.html#14640" class="Bound">as</a>
    <a id="14923" class="Keyword">open</a> <a id="14928" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14944" class="Keyword">opaque</a>

  <a id="14954" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="15010" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="15032" href="Graded.Restrictions.html#15032" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="15072" class="Symbol">:</a>
    <a id="15078" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15093" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="15096" class="Symbol">→</a> <a id="15098" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15113" class="Symbol">(</a><a id="15114" href="Graded.Restrictions.html#2996" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="15142" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="15144" class="Symbol">)</a>
  <a id="15148" href="Graded.Restrictions.html#15032" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="15188" href="Graded.Restrictions.html#15188" class="Bound">as</a> <a id="15191" class="Symbol">=</a> <a id="15193" class="Symbol">λ</a> <a id="15195" class="Keyword">where</a>
      <a id="15207" class="Symbol">.</a><a id="15208" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="15226" class="Symbol">→</a> <a id="15228" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="15240" class="Symbol">.</a><a id="15241" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="15259" class="Symbol">→</a> <a id="15261" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="15283" class="Symbol">.</a><a id="15284" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="15296" href="Graded.Restrictions.html#15296" class="Bound">b</a> <a id="15298" href="Graded.Restrictions.html#15298" class="Bound">p</a> <a id="15300" href="Graded.Restrictions.html#15300" class="Bound">q</a> <a id="15302" class="Symbol">→</a> <a id="15304" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="15318" href="Graded.Restrictions.html#15296" class="Bound">b</a> <a id="15320" href="Graded.Restrictions.html#15298" class="Bound">p</a> <a id="15322" href="Graded.Restrictions.html#15300" class="Bound">q</a>
                             <a id="15353" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                           <a id="15386" class="Symbol">(</a><a id="15387" href="Graded.Restrictions.html#15298" class="Bound">p</a> <a id="15389" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="15393" href="Graded.Modality.html#901" class="Function">ω</a> <a id="15395" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="15401" href="Graded.Restrictions.html#15300" class="Bound">q</a> <a id="15403" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="15407" href="Graded.Modality.html#901" class="Function">ω</a><a id="15408" class="Symbol">)</a>
                             <a id="15439" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                           <a id="15472" class="Symbol">(</a><a id="15473" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="15476" class="Symbol">(</a><a id="15477" href="Graded.Restrictions.html#15298" class="Bound">p</a> <a id="15479" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="15483" href="Graded.Modality.html#901" class="Function">ω</a><a id="15484" class="Symbol">)</a> <a id="15486" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="15492" href="Graded.Restrictions.html#15300" class="Bound">q</a> <a id="15494" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="15498" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="15499" class="Symbol">)</a>
      <a id="15507" class="Symbol">.</a><a id="15508" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="15526" class="Symbol">→</a> <a id="15528" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="15547" class="Symbol">.</a><a id="15548" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="15566" class="Symbol">→</a> <a id="15568" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="15591" class="Keyword">where</a>
    <a id="15601" class="Keyword">module</a> <a id="15608" href="Graded.Restrictions.html#15608" class="Module">A</a> <a id="15610" class="Symbol">=</a> <a id="15612" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="15627" href="Graded.Restrictions.html#15188" class="Bound">as</a>
    <a id="15634" class="Keyword">open</a> <a id="15639" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="15655" class="Keyword">opaque</a>

  <a id="15665" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="15723" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="15773" href="Graded.Restrictions.html#15773" class="Function">Assumptions-strong-types-restricted′</a> <a id="15810" class="Symbol">:</a>
    <a id="15816" class="Symbol">{</a><a id="15817" href="Graded.Restrictions.html#15817" class="Bound">P</a> <a id="15819" class="Symbol">:</a> <a id="15821" href="Definition.Untyped.NotParametrised.html#1680" class="Datatype">BinderMode</a> <a id="15832" class="Symbol">→</a> <a id="15834" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="15836" class="Symbol">→</a> <a id="15838" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15842" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="15843" class="Symbol">}</a>
    <a id="15849" class="Symbol">{</a><a id="15850" href="Graded.Restrictions.html#15850" class="Bound">ok</a> <a id="15853" class="Symbol">:</a> <a id="15855" class="Symbol">∀</a> <a id="15857" class="Symbol">{</a><a id="15858" href="Graded.Restrictions.html#15858" class="Bound">s</a><a id="15859" class="Symbol">}</a> <a id="15861" class="Symbol">→</a> <a id="15863" href="Graded.Restrictions.html#15858" class="Bound">s</a> <a id="15865" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15867" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a> <a id="15869" class="Symbol">→</a> <a id="15871" href="Graded.Restrictions.html#15817" class="Bound">P</a> <a id="15873" class="Symbol">(</a><a id="15874" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="15878" href="Graded.Restrictions.html#15858" class="Bound">s</a><a id="15879" class="Symbol">)</a> <a id="15881" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="15882" class="Symbol">}</a> <a id="15884" class="Symbol">→</a>
    <a id="15890" class="Symbol">(∀</a> <a id="15893" href="Graded.Restrictions.html#15893" class="Bound">b</a> <a id="15895" href="Graded.Restrictions.html#15895" class="Bound">p</a> <a id="15897" class="Symbol">→</a> <a id="15899" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="15903" class="Symbol">(</a><a id="15904" href="Graded.Restrictions.html#15817" class="Bound">P</a> <a id="15906" href="Graded.Restrictions.html#15893" class="Bound">b</a> <a id="15908" href="Graded.Restrictions.html#15895" class="Bound">p</a><a id="15909" class="Symbol">))</a> <a id="15912" class="Symbol">→</a>
    <a id="15918" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15933" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="15936" class="Symbol">→</a>
    <a id="15942" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15957" class="Symbol">(</a><a id="15958" href="Graded.Restrictions.html#3442" class="Function">strong-types-restricted′</a> <a id="15983" href="Graded.Restrictions.html#15817" class="Bound">P</a> <a id="15985" href="Graded.Restrictions.html#15850" class="Bound">ok</a> <a id="15988" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="15990" class="Symbol">)</a>
  <a id="15994" href="Graded.Restrictions.html#15773" class="Function">Assumptions-strong-types-restricted′</a> <a id="16031" href="Graded.Restrictions.html#16031" class="Bound">P-dec</a> <a id="16037" href="Graded.Restrictions.html#16037" class="Bound">as</a> <a id="16040" class="Symbol">=</a> <a id="16042" class="Symbol">λ</a> <a id="16044" class="Keyword">where</a>
      <a id="16056" class="Symbol">.</a><a id="16057" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="16076" class="Symbol">→</a> <a id="16078" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="16090" class="Symbol">.</a><a id="16091" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="16105" href="Graded.Restrictions.html#16105" class="Bound">s</a>    <a id="16110" class="Symbol">→</a> <a id="16112" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a> <a id="16128" href="Graded.Restrictions.html#16105" class="Bound">s</a> <a id="16130" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="16136" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="16139" class="Symbol">(</a><a id="16140" href="Definition.Untyped.Properties.NotParametrised.html#6251" class="Function">decStrength</a> <a id="16152" href="Graded.Restrictions.html#16105" class="Bound">s</a> <a id="16154" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="16155" class="Symbol">)</a>
      <a id="16163" class="Symbol">.</a><a id="16164" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="16176" href="Graded.Restrictions.html#16176" class="Bound">b</a> <a id="16178" href="Graded.Restrictions.html#16178" class="Bound">p</a> <a id="16180" href="Graded.Restrictions.html#16180" class="Bound">q</a>  <a id="16183" class="Symbol">→</a> <a id="16185" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="16199" href="Graded.Restrictions.html#16176" class="Bound">b</a> <a id="16201" href="Graded.Restrictions.html#16178" class="Bound">p</a> <a id="16203" href="Graded.Restrictions.html#16180" class="Bound">q</a>
                              <a id="16235" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                            <a id="16269" href="Graded.Restrictions.html#16031" class="Bound">P-dec</a> <a id="16275" href="Graded.Restrictions.html#16176" class="Bound">b</a> <a id="16277" href="Graded.Restrictions.html#16178" class="Bound">p</a>
      <a id="16285" class="Symbol">.</a><a id="16286" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="16305" class="Symbol">→</a> <a id="16307" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="16326" class="Symbol">.</a><a id="16327" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="16344" href="Graded.Restrictions.html#16344" class="Bound">s</a> <a id="16346" class="Symbol">→</a> <a id="16348" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="16367" href="Graded.Restrictions.html#16344" class="Bound">s</a>
                              <a id="16399" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                            <a id="16433" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="16436" class="Symbol">(</a><a id="16437" href="Definition.Untyped.Properties.NotParametrised.html#6251" class="Function">decStrength</a> <a id="16449" href="Graded.Restrictions.html#16344" class="Bound">s</a> <a id="16451" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="16452" class="Symbol">)</a>
    <a id="16458" class="Keyword">where</a>
    <a id="16468" class="Keyword">module</a> <a id="16475" href="Graded.Restrictions.html#16475" class="Module">A</a> <a id="16477" class="Symbol">=</a> <a id="16479" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16494" href="Graded.Restrictions.html#16037" class="Bound">as</a>
    <a id="16501" class="Keyword">open</a> <a id="16506" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="16522" class="Keyword">opaque</a>

  <a id="16532" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="16601" href="Graded.Restrictions.html#16601" class="Function">Assumptions-strong-types-restricted</a> <a id="16637" class="Symbol">:</a>
    <a id="16643" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16658" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="16661" class="Symbol">→</a> <a id="16663" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16678" class="Symbol">(</a><a id="16679" href="Graded.Restrictions.html#4229" class="Function">strong-types-restricted</a> <a id="16703" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="16705" class="Symbol">)</a>
  <a id="16709" href="Graded.Restrictions.html#16601" class="Function">Assumptions-strong-types-restricted</a> <a id="16745" href="Graded.Restrictions.html#16745" class="Bound">as</a> <a id="16748" class="Symbol">=</a>
    <a id="16754" href="Graded.Restrictions.html#15773" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="16797" class="Symbol">(λ</a> <a id="16800" href="Graded.Restrictions.html#16800" class="Bound">b</a> <a id="16802" href="Graded.Restrictions.html#16802" class="Bound">p</a> <a id="16804" class="Symbol">→</a> <a id="16806" href="Definition.Untyped.Properties.NotParametrised.html#6449" class="Function">decBinderMode</a> <a id="16820" href="Graded.Restrictions.html#16800" class="Bound">b</a> <a id="16822" class="Symbol">(</a><a id="16823" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="16827" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="16828" class="Symbol">)</a> <a id="16830" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="16836" href="Graded.Restrictions.html#16802" class="Bound">p</a> <a id="16838" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">≟</a> <a id="16840" href="Graded.Modality.html#899" class="Function">𝟙</a><a id="16841" class="Symbol">)</a>
      <a id="16849" href="Graded.Restrictions.html#16745" class="Bound">as</a>
    <a id="16856" class="Keyword">where</a>
    <a id="16866" class="Keyword">open</a> <a id="16871" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16886" href="Graded.Restrictions.html#16745" class="Bound">as</a>

<a id="16890" class="Keyword">opaque</a>

  <a id="16900" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="16961" href="Graded.Restrictions.html#16961" class="Function">Assumptions-no-strong-types</a> <a id="16989" class="Symbol">:</a>
    <a id="16995" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="17010" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="17013" class="Symbol">→</a> <a id="17015" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="17030" class="Symbol">(</a><a id="17031" href="Graded.Restrictions.html#4599" class="Function">no-strong-types</a> <a id="17047" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="17049" class="Symbol">)</a>
  <a id="17053" href="Graded.Restrictions.html#16961" class="Function">Assumptions-no-strong-types</a> <a id="17081" href="Graded.Restrictions.html#17081" class="Bound">as</a> <a id="17084" class="Symbol">=</a>
    <a id="17090" href="Graded.Restrictions.html#15773" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="17133" class="Symbol">(λ</a> <a id="17136" href="Graded.Restrictions.html#17136" class="Bound">b</a> <a id="17138" href="Graded.Restrictions.html#17138" class="Bound">_</a> <a id="17140" class="Symbol">→</a> <a id="17142" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="17150" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="17155" href="Level.html#479" class="Field">Lift.lower</a> <a id="17166" class="Symbol">(</a><a id="17167" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17170" class="Symbol">(</a><a id="17171" href="Definition.Untyped.Properties.NotParametrised.html#6449" class="Function">decBinderMode</a> <a id="17185" href="Graded.Restrictions.html#17136" class="Bound">b</a> <a id="17187" class="Symbol">(</a><a id="17188" href="Definition.Untyped.NotParametrised.html#1724" class="InductiveConstructor">BMΣ</a> <a id="17192" href="Definition.Untyped.NotParametrised.html#1640" class="InductiveConstructor">𝕤</a><a id="17193" class="Symbol">))))</a>
      <a id="17204" href="Graded.Restrictions.html#17081" class="Bound">as</a>
    <a id="17211" class="Keyword">where</a>
    <a id="17221" class="Keyword">open</a> <a id="17226" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="17241" href="Graded.Restrictions.html#17081" class="Bound">as</a>

<a id="17245" class="Keyword">opaque</a>

  <a id="17255" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="17323" href="Graded.Restrictions.html#17323" class="Function">Assumptions-no-erased-matches-TR</a> <a id="17356" class="Symbol">:</a>
    <a id="17362" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="17377" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a> <a id="17380" class="Symbol">→</a> <a id="17382" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="17397" class="Symbol">(</a><a id="17398" href="Graded.Restrictions.html#4885" class="Function">no-erased-matches-TR</a> <a id="17419" href="Graded.Restrictions.html#1167" class="Generalizable">s</a> <a id="17421" href="Graded.Restrictions.html#1093" class="Generalizable">TR</a><a id="17423" class="Symbol">)</a>
  <a id="17427" href="Graded.Restrictions.html#17323" class="Function">Assumptions-no-erased-matches-TR</a> <a id="17460" class="Symbol">{</a><a id="17461" href="Graded.Restrictions.html#17461" class="Bound">s</a><a id="17462" class="Symbol">}</a> <a id="17464" href="Graded.Restrictions.html#17464" class="Bound">as</a> <a id="17467" class="Symbol">=</a> <a id="17469" class="Symbol">λ</a> <a id="17471" class="Keyword">where</a>
      <a id="17483" class="Symbol">.</a><a id="17484" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                 <a id="17504" class="Symbol">→</a> <a id="17506" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="17518" class="Symbol">.</a><a id="17519" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>       <a id="17539" class="Symbol">→</a> <a id="17541" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="17563" class="Symbol">.</a><a id="17564" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a>         <a id="17584" class="Symbol">→</a> <a id="17586" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a>
      <a id="17606" class="Symbol">.</a><a id="17607" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>          <a id="17627" class="Symbol">→</a> <a id="17629" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="17648" class="Symbol">.</a><a id="17649" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="17666" href="Graded.Restrictions.html#17666" class="Bound">s′</a> <a id="17669" class="Symbol">→</a> <a id="17671" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="17690" href="Graded.Restrictions.html#17666" class="Bound">s′</a>
                               <a id="17724" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                             <a id="17759" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17762" class="Symbol">(</a><a id="17763" href="Definition.Untyped.Properties.NotParametrised.html#6251" class="Function">decStrength</a> <a id="17775" href="Graded.Restrictions.html#17666" class="Bound">s′</a> <a id="17778" href="Graded.Restrictions.html#17461" class="Bound">s</a><a id="17779" class="Symbol">)</a>
    <a id="17785" class="Keyword">where</a>
    <a id="17795" class="Keyword">module</a> <a id="17802" href="Graded.Restrictions.html#17802" class="Module">A</a> <a id="17804" class="Symbol">=</a> <a id="17806" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="17821" href="Graded.Restrictions.html#17464" class="Bound">as</a>
    <a id="17828" class="Keyword">open</a> <a id="17833" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="17849" class="Comment">------------------------------------------------------------------------</a>
<a id="17922" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="17964" class="Keyword">opaque</a>

  <a id="17974" class="Comment">-- If grade equality is decidable and the modality comes with a</a>
  <a id="18040" class="Comment">-- dedicated nr function, then UD.Assumptions holds for</a>
  <a id="18098" class="Comment">-- no-usage-restrictions b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="18135" href="Graded.Restrictions.html#18135" class="Function">Assumptions-no-usage-restrictions</a> <a id="18169" class="Symbol">:</a>
    <a id="18175" class="Symbol">⦃</a> <a id="18177" href="Graded.Restrictions.html#18177" class="Bound">has-nr</a> <a id="18184" class="Symbol">:</a> <a id="18186" href="Graded.Modality.Dedicated-nr.html#716" class="Record">Dedicated-nr</a> <a id="18199" class="Symbol">⦄</a> <a id="18201" class="Symbol">→</a>
    <a id="18207" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="18217" class="Symbol">(</a><a id="18218" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="18222" class="Symbol">{</a><a id="18223" class="Argument">A</a> <a id="18225" class="Symbol">=</a> <a id="18227" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="18228" class="Symbol">})</a> <a id="18231" class="Symbol">→</a>
    <a id="18237" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18252" class="Symbol">(</a><a id="18253" href="Graded.Restrictions.html#5812" class="Function">no-usage-restrictions</a> <a id="18275" href="Graded.Restrictions.html#1144" class="Generalizable">b</a> <a id="18277" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="18282" class="Symbol">)</a>
  <a id="18286" href="Graded.Restrictions.html#18135" class="Function">Assumptions-no-usage-restrictions</a> <a id="18320" href="Graded.Restrictions.html#18320" class="Bound">dec</a> <a id="18324" class="Symbol">=</a> <a id="18326" class="Symbol">λ</a> <a id="18328" class="Keyword">where</a>
      <a id="18340" class="Symbol">.</a><a id="18341" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                       <a id="18367" class="Symbol">→</a> <a id="18369" href="Graded.Restrictions.html#18320" class="Bound">dec</a>
      <a id="18379" class="Symbol">.</a><a id="18380" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="18397" class="Symbol">_</a> <a id="18399" class="Symbol">_</a> <a id="18401" class="Symbol">_</a> <a id="18403" class="Symbol">_</a>  <a id="18406" class="Symbol">→</a> <a id="18408" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="18412" class="Symbol">_</a>
      <a id="18420" class="Symbol">.</a><a id="18421" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="18439" class="Symbol">_</a> <a id="18441" class="Symbol">_</a> <a id="18443" class="Symbol">_</a>   <a id="18447" class="Symbol">→</a> <a id="18449" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="18453" class="Symbol">_</a>
      <a id="18461" class="Symbol">.</a><a id="18462" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="18480" class="Symbol">_</a> <a id="18482" class="Symbol">_</a>     <a id="18488" class="Symbol">→</a> <a id="18490" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="18494" class="Symbol">_</a>
      <a id="18502" class="Symbol">.</a><a id="18503" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">[]-cong-allowed-mode?</a> <a id="18525" class="Symbol">_</a> <a id="18527" class="Symbol">_</a> <a id="18529" class="Symbol">→</a> <a id="18531" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="18535" class="Symbol">_</a>
    <a id="18541" class="Keyword">where</a>
    <a id="18551" class="Keyword">open</a> <a id="18556" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="18572" class="Keyword">opaque</a>

  <a id="18582" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="18653" href="Graded.Restrictions.html#18653" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="18691" class="Symbol">:</a>
    <a id="18697" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18712" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="18715" class="Symbol">→</a> <a id="18717" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18732" class="Symbol">(</a><a id="18733" href="Graded.Restrictions.html#7172" class="Function">not-all-erased-matches-JK</a> <a id="18759" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="18761" class="Symbol">)</a>
  <a id="18765" href="Graded.Restrictions.html#18653" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="18803" href="Graded.Restrictions.html#18803" class="Bound">as</a> <a id="18806" class="Symbol">=</a> <a id="18808" class="Symbol">λ</a> <a id="18810" class="Keyword">where</a>
      <a id="18822" class="Symbol">.</a><a id="18823" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                   <a id="18845" class="Symbol">→</a> <a id="18847" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="18859" class="Symbol">.</a><a id="18860" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>      <a id="18882" class="Symbol">→</a> <a id="18884" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a>
      <a id="18909" class="Symbol">.</a><a id="18910" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>      <a id="18932" class="Symbol">→</a> <a id="18934" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="18959" class="Symbol">.</a><a id="18960" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>     <a id="18982" class="Symbol">→</a> <a id="18984" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
      <a id="19010" class="Symbol">.</a><a id="19011" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">[]-cong-allowed-mode?</a> <a id="19033" class="Symbol">→</a> <a id="19035" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">A.[]-cong-allowed-mode?</a>
    <a id="19063" class="Keyword">where</a>
    <a id="19073" class="Keyword">module</a> <a id="19080" href="Graded.Restrictions.html#19080" class="Module">A</a> <a id="19082" class="Symbol">=</a> <a id="19084" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19099" href="Graded.Restrictions.html#18803" class="Bound">as</a>
    <a id="19106" class="Keyword">open</a> <a id="19111" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="19127" class="Keyword">opaque</a>

  <a id="19137" class="Comment">-- The function only-some-erased-matches preserves UD.Assumptions.</a>

  <a id="Assumptions-only-some-erased-matches"></a><a id="19207" href="Graded.Restrictions.html#19207" class="Function">Assumptions-only-some-erased-matches</a> <a id="19244" class="Symbol">:</a>
    <a id="19250" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19265" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="19268" class="Symbol">→</a> <a id="19270" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19285" class="Symbol">(</a><a id="19286" href="Graded.Restrictions.html#8173" class="Function">only-some-erased-matches</a> <a id="19311" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="19313" class="Symbol">)</a>
  <a id="19317" href="Graded.Restrictions.html#19207" class="Function">Assumptions-only-some-erased-matches</a> <a id="19354" href="Graded.Restrictions.html#19354" class="Bound">as</a> <a id="19357" class="Symbol">=</a> <a id="19359" class="Symbol">λ</a> <a id="19361" class="Keyword">where</a>
      <a id="19373" class="Symbol">.</a><a id="19374" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="19399" class="Symbol">→</a> <a id="19401" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="19413" class="Symbol">.</a><a id="19414" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="19431" href="Graded.Restrictions.html#19431" class="Bound">m</a> <a id="19433" href="Graded.Restrictions.html#19433" class="Bound">r</a> <a id="19435" href="Graded.Restrictions.html#19435" class="Bound">p</a> <a id="19437" href="Graded.Restrictions.html#19437" class="Bound">q</a> <a id="19439" class="Symbol">→</a> <a id="19441" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a> <a id="19460" href="Graded.Restrictions.html#19431" class="Bound">m</a> <a id="19462" href="Graded.Restrictions.html#19433" class="Bound">r</a> <a id="19464" href="Graded.Restrictions.html#19435" class="Bound">p</a> <a id="19466" href="Graded.Restrictions.html#19437" class="Bound">q</a>
                                    <a id="19504" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                  <a id="19544" class="Symbol">(</a><a id="19545" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="19548" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="19594" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="19635" href="Graded.Restrictions.html#19431" class="Bound">m</a> <a id="19637" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="19644" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="19684" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="19725" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="19728" class="Symbol">(</a><a id="19729" href="Graded.Restrictions.html#19433" class="Bound">r</a> <a id="19731" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="19735" href="Graded.Modality.html#897" class="Function">𝟘</a><a id="19736" class="Symbol">))</a>
      <a id="19745" class="Symbol">.</a><a id="19746" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>         <a id="19771" class="Symbol">→</a> <a id="19773" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="19798" class="Symbol">.</a><a id="19799" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>        <a id="19824" class="Symbol">→</a> <a id="19826" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
      <a id="19852" class="Symbol">.</a><a id="19853" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">[]-cong-allowed-mode?</a>    <a id="19878" class="Symbol">→</a> <a id="19880" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">A.[]-cong-allowed-mode?</a>
    <a id="19908" class="Keyword">where</a>
    <a id="19918" class="Keyword">module</a> <a id="19925" href="Graded.Restrictions.html#19925" class="Module">A</a> <a id="19927" class="Symbol">=</a> <a id="19929" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19944" href="Graded.Restrictions.html#19354" class="Bound">as</a>
    <a id="19951" class="Keyword">open</a> <a id="19956" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="19972" class="Keyword">opaque</a>

  <a id="19982" class="Comment">-- The function no-erased-matches-UR TR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="20051" href="Graded.Restrictions.html#20051" class="Function">Assumptions-no-erased-matches-UR</a> <a id="20084" class="Symbol">:</a>
    <a id="20090" class="Symbol">∀</a> <a id="20092" href="Graded.Restrictions.html#20092" class="Bound">TR</a> <a id="20095" class="Symbol">→</a> <a id="20097" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="20112" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a> <a id="20115" class="Symbol">→</a>
    <a id="20121" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="20136" class="Symbol">(</a><a id="20137" href="Graded.Restrictions.html#9104" class="Function">no-erased-matches-UR</a> <a id="20158" href="Graded.Restrictions.html#20092" class="Bound">TR</a> <a id="20161" href="Graded.Restrictions.html#1118" class="Generalizable">UR</a><a id="20163" class="Symbol">)</a>
  <a id="20167" href="Graded.Restrictions.html#20051" class="Function">Assumptions-no-erased-matches-UR</a> <a id="20200" href="Graded.Restrictions.html#20200" class="Bound">TR</a> <a id="20203" href="Graded.Restrictions.html#20203" class="Bound">as</a> <a id="20206" class="Symbol">=</a> <a id="20208" class="Symbol">λ</a> <a id="20210" class="Keyword">where</a>
      <a id="20222" class="Symbol">.</a><a id="20223" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                    <a id="20246" class="Symbol">→</a> <a id="20248" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A._≟_</a>
      <a id="20260" class="Symbol">.</a><a id="20261" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>       <a id="20284" class="Symbol">→</a> <a id="20286" href="Graded.Usage.Decidable.Assumptions.html#961" class="Function">A.Prodrec-allowed?</a>
      <a id="20311" class="Symbol">.</a><a id="20312" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a> <a id="20329" href="Graded.Restrictions.html#20329" class="Bound">m</a> <a id="20331" href="Graded.Restrictions.html#20331" class="Bound">p</a> <a id="20333" href="Graded.Restrictions.html#20333" class="Bound">q</a> <a id="20335" class="Symbol">→</a> <a id="20337" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Function">A.Unitrec-allowed?</a> <a id="20356" href="Graded.Restrictions.html#20329" class="Bound">m</a> <a id="20358" href="Graded.Restrictions.html#20331" class="Bound">p</a> <a id="20360" href="Graded.Restrictions.html#20333" class="Bound">q</a>
                                  <a id="20396" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="20434" class="Symbol">(</a><a id="20435" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="20438" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                   <a id="20482" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="20521" href="Graded.Restrictions.html#20329" class="Bound">m</a> <a id="20523" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="20530" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                   <a id="20568" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="20607" href="Graded.Restrictions.html#20331" class="Bound">p</a> <a id="20609" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A.≟</a> <a id="20613" href="Graded.Modality.html#897" class="Function">𝟘</a>
                                   <a id="20650" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="20689" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a><a id="20697" class="Symbol">)</a>
      <a id="20705" class="Symbol">.</a><a id="20706" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>      <a id="20729" class="Symbol">→</a> <a id="20731" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Function">A.Emptyrec-allowed?</a>
      <a id="20757" class="Symbol">.</a><a id="20758" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Field">[]-cong-allowed-mode?</a>  <a id="20781" class="Symbol">→</a> <a id="20783" href="Graded.Usage.Decidable.Assumptions.html#1347" class="Function">A.[]-cong-allowed-mode?</a>
    <a id="20811" class="Keyword">where</a>
    <a id="20821" class="Keyword">module</a> <a id="20828" href="Graded.Restrictions.html#20828" class="Module">A</a> <a id="20830" class="Symbol">=</a> <a id="20832" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="20847" class="Symbol">(</a><a id="20848" href="Graded.Restrictions.html#19207" class="Function">Assumptions-only-some-erased-matches</a> <a id="20885" href="Graded.Restrictions.html#20203" class="Bound">as</a><a id="20887" class="Symbol">)</a>
    <a id="20893" class="Keyword">open</a> <a id="20898" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>
    <a id="20917" class="Keyword">open</a> <a id="20922" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="20940" href="Graded.Restrictions.html#20200" class="Bound">TR</a>
</pre></body></html>