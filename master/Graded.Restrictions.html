<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="226" class="Keyword">module</a> <a id="233" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="255" class="Symbol">{</a><a id="256" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="257" class="Symbol">}</a> <a id="259" class="Symbol">{</a><a id="260" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="268" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="269" class="Symbol">}</a>
  <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="295" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Symbol">(</a><a id="301" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="303" class="Symbol">:</a> <a id="305" href="Graded.Modality.html#9576" class="Record">Modality</a><a id="313" class="Symbol">)</a>
  <a id="317" class="Keyword">where</a>

<a id="324" class="Keyword">open</a> <a id="329" href="Graded.Modality.html#9576" class="Module">Modality</a> <a id="338" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="465" class="Symbol">as</a> <a id="468" class="Module">Σ</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="537" class="Symbol">as</a> <a id="540" class="Module">Dec</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Tools.Sum.html" class="Module">Tools.Sum</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="629" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="655" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="657" class="Symbol">as</a> <a id="Mode"></a><a id="660" href="Graded.Restrictions.html#660" class="Module">Mode</a> <a id="665" class="Keyword">hiding</a> <a id="672" class="Symbol">(</a><a id="673" href="Graded.Mode.html#5546" class="Function Operator">_≟_</a><a id="676" class="Symbol">)</a>
<a id="678" class="Keyword">import</a> <a id="685" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="720" class="Symbol">as</a> <a id="723" class="Module">UD</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="766" class="Keyword">open</a> <a id="771" class="Keyword">import</a> <a id="778" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="804" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a> <a id="851" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="854" class="Keyword">import</a> <a id="861" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="907" class="Symbol">as</a> <a id="910" class="Module">TD</a>
<a id="913" class="Keyword">open</a> <a id="918" class="Keyword">import</a> <a id="925" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="955" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="957" class="Keyword">open</a> <a id="962" class="Keyword">import</a> <a id="969" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="994" class="Keyword">open</a> <a id="999" class="Keyword">import</a> <a id="1006" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1041" class="Keyword">open</a> <a id="1046" class="Keyword">import</a> <a id="1053" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1100" class="Keyword">private</a> <a id="1108" class="Keyword">variable</a>
  <a id="1119" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
  <a id="1144" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a> <a id="1147" class="Symbol">:</a> <a id="1149" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
  <a id="1170" href="Graded.Restrictions.html#1170" class="Generalizable">b</a>  <a id="1173" class="Symbol">:</a> <a id="1175" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1182" href="Graded.Restrictions.html#1182" class="Generalizable">ok</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1189" class="Symbol">_</a>
  <a id="1193" href="Graded.Restrictions.html#1193" class="Generalizable">s</a>  <a id="1196" class="Symbol">:</a> <a id="1198" href="Definition.Untyped.NotParametrised.html#1964" class="Datatype">Strength</a>
  <a id="1209" href="Graded.Restrictions.html#1209" class="Generalizable">nm</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Graded.Usage.Restrictions.Natrec.html#1000" class="Datatype">Natrec-mode</a>

<a id="1227" class="Comment">------------------------------------------------------------------------</a>
<a id="1300" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1347" class="Comment">-- No type restrictions except that</a>
<a id="1383" class="Comment">-- * if the modality is trivial, then []-cong is not allowed,</a>
<a id="1445" class="Comment">-- * the K rule is allowed if and only if the first boolean is true,</a>
<a id="1514" class="Comment">-- * η-equality is not allowed for weak unit types, and</a>
<a id="1570" class="Comment">-- * equality reflection is allowed if and only if the second boolean</a>
<a id="1640" class="Comment">--   is true.</a>

<a id="no-type-restrictions"></a><a id="1655" href="Graded.Restrictions.html#1655" class="Function">no-type-restrictions</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1690" class="Symbol">→</a> <a id="1692" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="1710" href="Graded.Restrictions.html#1655" class="Function">no-type-restrictions</a> <a id="1731" href="Graded.Restrictions.html#1731" class="Bound">k</a> <a id="1733" href="Graded.Restrictions.html#1733" class="Bound">equality-reflection</a> <a id="1753" class="Symbol">=</a> <a id="1755" class="Symbol">λ</a> <a id="1757" class="Keyword">where</a>
    <a id="1767" class="Symbol">.</a><a id="1768" href="Definition.Typed.Restrictions.html#1104" class="Field">Unit-allowed</a>         <a id="1789" class="Symbol">→</a> <a id="1791" class="Symbol">λ</a> <a id="1793" href="Graded.Restrictions.html#1793" class="Bound">_</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="Level.html#409" class="Record">Lift</a> <a id="1802" class="Symbol">_</a> <a id="1804" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1810" class="Symbol">.</a><a id="1811" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a>           <a id="1832" class="Symbol">→</a> <a id="1834" class="Symbol">λ</a> <a id="1836" href="Graded.Restrictions.html#1836" class="Bound">_</a> <a id="1838" href="Graded.Restrictions.html#1838" class="Bound">_</a> <a id="1840" href="Graded.Restrictions.html#1840" class="Bound">_</a> <a id="1842" class="Symbol">→</a> <a id="1844" href="Level.html#409" class="Record">Lift</a> <a id="1849" class="Symbol">_</a> <a id="1851" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1857" class="Symbol">.</a><a id="1858" href="Definition.Typed.Restrictions.html#2336" class="Field">K-allowed</a>            <a id="1879" class="Symbol">→</a> <a id="1881" href="Level.html#409" class="Record">Lift</a> <a id="1886" class="Symbol">_</a> <a id="1888" class="Symbol">(</a><a id="1889" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1891" href="Graded.Restrictions.html#1731" class="Bound">k</a><a id="1892" class="Symbol">)</a>
    <a id="1898" class="Symbol">.</a><a id="1899" href="Definition.Typed.Restrictions.html#2536" class="Field">[]-cong-allowed</a>      <a id="1920" class="Symbol">→</a> <a id="1922" class="Symbol">λ</a> <a id="1924" href="Graded.Restrictions.html#1924" class="Bound">_</a> <a id="1926" class="Symbol">→</a> <a id="1928" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1930" href="Graded.Modality.html#2025" class="Function">Trivial</a>
    <a id="1942" class="Symbol">.</a><a id="1943" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a>       <a id="1964" class="Symbol">→</a> <a id="1966" class="Symbol">_</a>
    <a id="1972" class="Symbol">.</a><a id="1973" href="Definition.Typed.Restrictions.html#2761" class="Field">[]-cong→¬Trivial</a>     <a id="1994" class="Symbol">→</a> <a id="1996" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="2004" class="Symbol">.</a><a id="2005" href="Definition.Typed.Restrictions.html#2990" class="Field">Equality-reflection</a>  <a id="2026" class="Symbol">→</a> <a id="2028" href="Level.html#409" class="Record">Lift</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">(</a><a id="2036" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="2038" href="Graded.Restrictions.html#1733" class="Bound">equality-reflection</a><a id="2057" class="Symbol">)</a>
    <a id="2063" class="Symbol">.</a><a id="2064" href="Definition.Typed.Restrictions.html#3062" class="Field">Equality-reflection?</a> <a id="2085" class="Symbol">→</a> <a id="2087" href="Tools.Level.html#435" class="Function">Lift?</a> <a id="2093" class="Symbol">(</a><a id="2094" href="Relation.Nullary.Decidable.Core.html#2959" class="Function">T?</a> <a id="2097" href="Graded.Restrictions.html#1733" class="Bound">equality-reflection</a><a id="2116" class="Symbol">)</a>
    <a id="2122" class="Symbol">.</a><a id="2123" href="Definition.Typed.Restrictions.html#932" class="Field">type-variant</a>         <a id="2144" class="Symbol">→</a> <a id="2146" class="Symbol">λ</a> <a id="2148" class="Keyword">where</a>
      <a id="2160" class="Symbol">.</a><a id="2161" href="Definition.Typed.Variant.html#719" class="Field">Type-variant.η-for-Unitʷ</a> <a id="2186" class="Symbol">→</a> <a id="2188" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="2196" class="Keyword">where</a>
  <a id="2204" class="Keyword">open</a> <a id="2209" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a>

<a id="2228" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="2297" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="2329" href="Graded.Restrictions.html#2329" class="Function">equal-binder-quantities</a> <a id="2353" class="Symbol">:</a> <a id="2355" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="2373" class="Symbol">→</a> <a id="2375" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="2393" href="Graded.Restrictions.html#2329" class="Function">equal-binder-quantities</a> <a id="2417" href="Graded.Restrictions.html#2417" class="Bound">R</a> <a id="2419" class="Symbol">=</a> <a id="2421" class="Keyword">record</a> <a id="2428" href="Graded.Restrictions.html#2417" class="Bound">R</a>
  <a id="2432" class="Symbol">{</a> <a id="2434" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a>     <a id="2449" class="Symbol">=</a> <a id="2451" class="Symbol">λ</a> <a id="2453" href="Graded.Restrictions.html#2453" class="Bound">b</a> <a id="2455" href="Graded.Restrictions.html#2455" class="Bound">p</a> <a id="2457" href="Graded.Restrictions.html#2457" class="Bound">q</a> <a id="2459" class="Symbol">→</a> <a id="2461" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="2472" href="Graded.Restrictions.html#2453" class="Bound">b</a> <a id="2474" href="Graded.Restrictions.html#2455" class="Bound">p</a> <a id="2476" href="Graded.Restrictions.html#2457" class="Bound">q</a> <a id="2478" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2480" href="Graded.Restrictions.html#2455" class="Bound">p</a> <a id="2482" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2484" href="Graded.Restrictions.html#2457" class="Bound">q</a>
  <a id="2488" class="Symbol">;</a> <a id="2490" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2505" class="Symbol">=</a> <a id="2507" class="Symbol">λ</a> <a id="2509" href="Graded.Restrictions.html#2509" class="Bound">ok</a> <a id="2512" class="Symbol">→</a>
      <a id="2520" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2535" href="Graded.Restrictions.html#2509" class="Bound">ok</a> <a id="2538" class="Symbol">.</a><a id="2539" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2545" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2547" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2562" href="Graded.Restrictions.html#2509" class="Bound">ok</a> <a id="2565" class="Symbol">.</a><a id="2566" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2574" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2581" class="Symbol">}</a>
  <a id="2585" class="Keyword">where</a>
  <a id="2593" class="Keyword">open</a> <a id="2598" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="2616" href="Graded.Restrictions.html#2417" class="Bound">R</a>

<a id="2619" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2683" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2734" href="Graded.Restrictions.html#2734" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2757" class="Symbol">:</a>
  <a id="2761" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="2779" class="Symbol">→</a> <a id="2781" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="2799" href="Graded.Restrictions.html#2734" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2822" href="Graded.Restrictions.html#2822" class="Bound">R</a> <a id="2824" class="Symbol">=</a> <a id="2826" class="Keyword">record</a> <a id="2833" href="Graded.Restrictions.html#2822" class="Bound">R</a>
  <a id="2837" class="Symbol">{</a> <a id="2839" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a>     <a id="2854" class="Symbol">=</a> <a id="2856" class="Symbol">λ</a> <a id="2858" href="Graded.Restrictions.html#2858" class="Bound">b</a> <a id="2860" href="Graded.Restrictions.html#2860" class="Bound">p</a> <a id="2862" href="Graded.Restrictions.html#2862" class="Bound">q</a> <a id="2864" class="Symbol">→</a> <a id="2866" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="2877" href="Graded.Restrictions.html#2858" class="Bound">b</a> <a id="2879" href="Graded.Restrictions.html#2860" class="Bound">p</a> <a id="2881" href="Graded.Restrictions.html#2862" class="Bound">q</a> <a id="2883" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2885" href="Graded.Restrictions.html#2862" class="Bound">q</a> <a id="2887" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2889" href="Graded.Modality.html#945" class="Function">𝟘</a>
  <a id="2893" class="Symbol">;</a> <a id="2895" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2910" class="Symbol">=</a> <a id="2912" class="Symbol">λ</a> <a id="2914" href="Graded.Restrictions.html#2914" class="Bound">ok</a> <a id="2917" class="Symbol">→</a>
      <a id="2925" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2940" href="Graded.Restrictions.html#2914" class="Bound">ok</a> <a id="2943" class="Symbol">.</a><a id="2944" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2952" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="2967" href="Graded.Restrictions.html#2914" class="Bound">ok</a> <a id="2970" class="Symbol">.</a><a id="2971" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2979" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2986" class="Symbol">}</a>
  <a id="2990" class="Keyword">where</a>
  <a id="2998" class="Keyword">open</a> <a id="3003" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="3021" href="Graded.Restrictions.html#2822" class="Bound">R</a>

<a id="3024" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="3091" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="3161" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="3229" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="3292" href="Graded.Restrictions.html#3292" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3320" class="Symbol">:</a>
  <a id="3324" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="3362" href="Graded.Restrictions.html#3292" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3390" href="Graded.Restrictions.html#3390" class="Bound">R</a> <a id="3392" class="Symbol">=</a> <a id="3394" class="Keyword">record</a> <a id="3401" href="Graded.Restrictions.html#3390" class="Bound">R</a>
  <a id="3405" class="Symbol">{</a> <a id="3407" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="3418" class="Symbol">=</a> <a id="3420" class="Symbol">λ</a> <a id="3422" href="Graded.Restrictions.html#3422" class="Bound">b</a> <a id="3424" href="Graded.Restrictions.html#3424" class="Bound">p</a> <a id="3426" href="Graded.Restrictions.html#3426" class="Bound">q</a> <a id="3428" class="Symbol">→</a>
      <a id="3436" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="3447" href="Graded.Restrictions.html#3422" class="Bound">b</a> <a id="3449" href="Graded.Restrictions.html#3424" class="Bound">p</a> <a id="3451" href="Graded.Restrictions.html#3426" class="Bound">q</a> <a id="3453" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3461" class="Symbol">(</a><a id="3462" href="Graded.Restrictions.html#3424" class="Bound">p</a> <a id="3464" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3466" href="Graded.Modality.html#949" class="Function">ω</a> <a id="3468" class="Symbol">→</a> <a id="3470" href="Graded.Restrictions.html#3426" class="Bound">q</a> <a id="3472" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3474" href="Graded.Modality.html#949" class="Function">ω</a><a id="3475" class="Symbol">)</a> <a id="3477" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3485" class="Symbol">(</a><a id="3486" href="Graded.Restrictions.html#3424" class="Bound">p</a> <a id="3488" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3490" href="Graded.Modality.html#949" class="Function">ω</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="Graded.Restrictions.html#3426" class="Bound">q</a> <a id="3496" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3498" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="3499" class="Symbol">)</a>
  <a id="3503" class="Symbol">;</a> <a id="3505" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="3520" class="Symbol">=</a> <a id="3522" class="Symbol">λ</a> <a id="3524" href="Graded.Restrictions.html#3524" class="Bound">ok</a> <a id="3527" class="Symbol">→</a>
        <a id="3537" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="3552" href="Graded.Restrictions.html#3524" class="Bound">ok</a> <a id="3555" class="Symbol">.</a><a id="3556" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3570" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="3585" href="Graded.Restrictions.html#3524" class="Bound">ok</a> <a id="3588" class="Symbol">.</a><a id="3589" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3603" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3615" class="Symbol">λ</a> <a id="3617" href="Graded.Restrictions.html#3617" class="Bound">_</a> <a id="3619" class="Symbol">→</a> <a id="3621" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3628" class="Symbol">}</a>
  <a id="3632" class="Keyword">where</a>
  <a id="3640" class="Keyword">open</a> <a id="3645" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="3663" href="Graded.Restrictions.html#3390" class="Bound">R</a>

<a id="3666" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3738" href="Graded.Restrictions.html#3738" class="Function">strong-types-restricted′</a> <a id="3763" class="Symbol">:</a>
  <a id="3767" class="Symbol">(</a><a id="3768" href="Graded.Restrictions.html#3768" class="Bound">P</a> <a id="3770" class="Symbol">:</a> <a id="3772" href="Definition.Untyped.NotParametrised.html#2027" class="Datatype">BinderMode</a> <a id="3783" class="Symbol">→</a> <a id="3785" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="3787" class="Symbol">→</a> <a id="3789" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3793" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="3794" class="Symbol">)</a> <a id="3796" class="Symbol">→</a>
  <a id="3800" class="Symbol">(∀</a> <a id="3803" class="Symbol">{</a><a id="3804" href="Graded.Restrictions.html#3804" class="Bound">s</a><a id="3805" class="Symbol">}</a> <a id="3807" class="Symbol">→</a> <a id="3809" href="Graded.Restrictions.html#3804" class="Bound">s</a> <a id="3811" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3813" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="3815" class="Symbol">→</a> <a id="3817" href="Graded.Restrictions.html#3768" class="Bound">P</a> <a id="3819" class="Symbol">(</a><a id="3820" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="3824" href="Graded.Restrictions.html#3804" class="Bound">s</a><a id="3825" class="Symbol">)</a> <a id="3827" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="3828" class="Symbol">)</a> <a id="3830" class="Symbol">→</a>
  <a id="3834" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="3852" class="Symbol">→</a> <a id="3854" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="3872" href="Graded.Restrictions.html#3738" class="Function">strong-types-restricted′</a> <a id="3897" href="Graded.Restrictions.html#3897" class="Bound">P</a> <a id="3899" href="Graded.Restrictions.html#3899" class="Bound">hyp</a> <a id="3903" href="Graded.Restrictions.html#3903" class="Bound">R</a> <a id="3905" class="Symbol">=</a> <a id="3907" class="Keyword">record</a> <a id="3914" href="Graded.Restrictions.html#3903" class="Bound">R</a>
  <a id="3918" class="Symbol">{</a> <a id="3920" href="Definition.Typed.Restrictions.html#1104" class="Field">Unit-allowed</a> <a id="3933" class="Symbol">=</a> <a id="3935" class="Symbol">λ</a> <a id="3937" href="Graded.Restrictions.html#3937" class="Bound">s</a> <a id="3939" class="Symbol">→</a>
      <a id="3947" href="Definition.Typed.Restrictions.html#1104" class="Field">Unit-allowed</a> <a id="3960" href="Graded.Restrictions.html#3937" class="Bound">s</a> <a id="3962" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3964" href="Graded.Restrictions.html#3937" class="Bound">s</a> <a id="3966" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3968" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a>
  <a id="3972" class="Symbol">;</a> <a id="3974" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="3985" class="Symbol">=</a> <a id="3987" class="Symbol">λ</a> <a id="3989" href="Graded.Restrictions.html#3989" class="Bound">b</a> <a id="3991" href="Graded.Restrictions.html#3991" class="Bound">p</a> <a id="3993" href="Graded.Restrictions.html#3993" class="Bound">q</a> <a id="3995" class="Symbol">→</a>
      <a id="4003" href="Definition.Typed.Restrictions.html#1190" class="Field">ΠΣ-allowed</a> <a id="4014" href="Graded.Restrictions.html#3989" class="Bound">b</a> <a id="4016" href="Graded.Restrictions.html#3991" class="Bound">p</a> <a id="4018" href="Graded.Restrictions.html#3993" class="Bound">q</a> <a id="4020" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4022" href="Graded.Restrictions.html#3897" class="Bound">P</a> <a id="4024" href="Graded.Restrictions.html#3989" class="Bound">b</a> <a id="4026" href="Graded.Restrictions.html#3991" class="Bound">p</a>
  <a id="4030" class="Symbol">;</a> <a id="4032" href="Definition.Typed.Restrictions.html#2536" class="Field">[]-cong-allowed</a> <a id="4048" class="Symbol">=</a> <a id="4050" class="Symbol">λ</a> <a id="4052" href="Graded.Restrictions.html#4052" class="Bound">s</a> <a id="4054" class="Symbol">→</a>
      <a id="4062" href="Definition.Typed.Restrictions.html#2536" class="Field">[]-cong-allowed</a> <a id="4078" href="Graded.Restrictions.html#4052" class="Bound">s</a> <a id="4080" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4082" href="Graded.Restrictions.html#4052" class="Bound">s</a> <a id="4084" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4086" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a>
  <a id="4090" class="Symbol">;</a> <a id="4092" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="4107" class="Symbol">=</a> <a id="4109" class="Symbol">λ</a> <a id="4111" class="Symbol">(</a><a id="4112" href="Graded.Restrictions.html#4112" class="Bound">ok</a> <a id="4115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4117" href="Graded.Restrictions.html#4117" class="Bound">s≢𝕤</a><a id="4120" class="Symbol">)</a> <a id="4122" class="Symbol">→</a>
        <a id="4132" class="Symbol">(</a><a id="4133" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="4148" href="Graded.Restrictions.html#4112" class="Bound">ok</a> <a id="4151" class="Symbol">.</a><a id="4152" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4160" href="Graded.Restrictions.html#4117" class="Bound">s≢𝕤</a><a id="4163" class="Symbol">)</a>
      <a id="4171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4173" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="4188" href="Graded.Restrictions.html#4112" class="Bound">ok</a> <a id="4191" class="Symbol">.</a><a id="4192" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="4204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4206" href="Graded.Restrictions.html#3899" class="Bound">hyp</a> <a id="4210" href="Graded.Restrictions.html#4117" class="Bound">s≢𝕤</a>
  <a id="4216" class="Symbol">;</a> <a id="4218" href="Definition.Typed.Restrictions.html#2761" class="Field">[]-cong→¬Trivial</a> <a id="4235" class="Symbol">=</a>
      <a id="4243" href="Definition.Typed.Restrictions.html#2761" class="Field">[]-cong→¬Trivial</a> <a id="4260" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4263" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4271" class="Symbol">}</a>
  <a id="4275" class="Keyword">where</a>
  <a id="4283" class="Keyword">open</a> <a id="4288" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="4306" href="Graded.Restrictions.html#3903" class="Bound">R</a>

<a id="4309" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="4368" class="Comment">-- restrictions:</a>
<a id="4385" class="Comment">--</a>
<a id="4388" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4428" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4489" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4525" href="Graded.Restrictions.html#4525" class="Function">strong-types-restricted</a> <a id="4549" class="Symbol">:</a>
  <a id="4553" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="4571" class="Symbol">→</a> <a id="4573" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="4591" href="Graded.Restrictions.html#4525" class="Function">strong-types-restricted</a> <a id="4615" class="Symbol">=</a>
  <a id="4619" href="Graded.Restrictions.html#3738" class="Function">strong-types-restricted′</a> <a id="4644" class="Symbol">(λ</a> <a id="4647" href="Graded.Restrictions.html#4647" class="Bound">b</a> <a id="4649" href="Graded.Restrictions.html#4649" class="Bound">p</a> <a id="4651" class="Symbol">→</a> <a id="4653" href="Graded.Restrictions.html#4647" class="Bound">b</a> <a id="4655" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4657" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="4661" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="4663" class="Symbol">→</a> <a id="4665" href="Graded.Restrictions.html#4649" class="Bound">p</a> <a id="4667" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4669" href="Graded.Modality.html#947" class="Function">𝟙</a><a id="4670" class="Symbol">)</a>
    <a id="4676" class="Symbol">(λ</a> <a id="4679" class="Symbol">{</a> <a id="4681" href="Graded.Restrictions.html#4681" class="Bound">hyp</a> <a id="4685" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4690" class="Symbol">→</a> <a id="4692" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4699" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4701" href="Graded.Restrictions.html#4681" class="Bound">hyp</a> <a id="4705" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4710" class="Symbol">})</a>

<a id="4714" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4779" class="Comment">--</a>
<a id="4782" class="Comment">-- * Strong unit types are not allowed.</a>
<a id="4822" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4859" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4895" href="Graded.Restrictions.html#4895" class="Function">no-strong-types</a> <a id="4911" class="Symbol">:</a>
  <a id="4915" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="4933" class="Symbol">→</a> <a id="4935" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="4953" href="Graded.Restrictions.html#4895" class="Function">no-strong-types</a> <a id="4969" class="Symbol">=</a>
  <a id="4973" href="Graded.Restrictions.html#3738" class="Function">strong-types-restricted′</a> <a id="4998" class="Symbol">(λ</a> <a id="5001" href="Graded.Restrictions.html#5001" class="Bound">b</a> <a id="5003" href="Graded.Restrictions.html#5003" class="Bound">_</a> <a id="5005" class="Symbol">→</a> <a id="5007" href="Level.html#409" class="Record">Lift</a> <a id="5012" class="Symbol">_</a> <a id="5014" class="Symbol">(</a><a id="5015" href="Graded.Restrictions.html#5001" class="Bound">b</a> <a id="5017" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5019" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="5023" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="5024" class="Symbol">))</a>
    <a id="5031" class="Symbol">(λ</a> <a id="5034" href="Graded.Restrictions.html#5034" class="Bound">hyp</a> <a id="5038" class="Symbol">→</a> <a id="5040" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="5045" class="Symbol">(λ</a> <a id="5048" class="Symbol">{</a> <a id="5050" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5055" class="Symbol">→</a> <a id="5057" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="5064" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="5066" href="Graded.Restrictions.html#5034" class="Bound">hyp</a> <a id="5070" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5075" class="Symbol">}))</a>

<a id="5080" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="5145" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="5181" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="5202" class="Symbol">:</a> <a id="5204" href="Definition.Untyped.NotParametrised.html#1964" class="Datatype">Strength</a> <a id="5213" class="Symbol">→</a> <a id="5215" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="5233" class="Symbol">→</a> <a id="5235" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="5253" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="5274" href="Graded.Restrictions.html#5274" class="Bound">s</a> <a id="5276" href="Graded.Restrictions.html#5276" class="Bound">TR</a> <a id="5279" class="Symbol">=</a> <a id="5281" class="Keyword">record</a> <a id="5288" href="Graded.Restrictions.html#5276" class="Bound">TR</a>
  <a id="5293" class="Symbol">{</a> <a id="5295" href="Definition.Typed.Restrictions.html#2536" class="Field">[]-cong-allowed</a>  <a id="5312" class="Symbol">=</a> <a id="5314" class="Symbol">λ</a> <a id="5316" href="Graded.Restrictions.html#5316" class="Bound">s′</a> <a id="5319" class="Symbol">→</a> <a id="5321" href="Definition.Typed.Restrictions.html#2536" class="Field">[]-cong-allowed</a> <a id="5337" href="Graded.Restrictions.html#5316" class="Bound">s′</a> <a id="5340" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5342" href="Graded.Restrictions.html#5316" class="Bound">s′</a> <a id="5345" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5347" href="Graded.Restrictions.html#5274" class="Bound">s</a>
  <a id="5351" class="Symbol">;</a> <a id="5353" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a>   <a id="5370" class="Symbol">=</a> <a id="5372" href="Definition.Typed.Restrictions.html#2630" class="Field">[]-cong→Erased</a> <a id="5387" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5390" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5398" class="Symbol">;</a> <a id="5400" href="Definition.Typed.Restrictions.html#2761" class="Field">[]-cong→¬Trivial</a> <a id="5417" class="Symbol">=</a> <a id="5419" href="Definition.Typed.Restrictions.html#2761" class="Field">[]-cong→¬Trivial</a> <a id="5436" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5439" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5447" class="Symbol">}</a>
  <a id="5451" class="Keyword">where</a>
  <a id="5459" class="Keyword">open</a> <a id="5464" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="5482" href="Graded.Restrictions.html#5276" class="Bound">TR</a>

<a id="5486" class="Comment">-- The function _with-η-for-Unitʷ enables η-equality for weak unit</a>
<a id="5553" class="Comment">-- types.</a>

<a id="_with-η-for-Unitʷ"></a><a id="5564" href="Graded.Restrictions.html#5564" class="Function Operator">_with-η-for-Unitʷ</a> <a id="5582" class="Symbol">:</a> <a id="5584" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="5602" class="Symbol">→</a> <a id="5604" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a>
<a id="5622" href="Graded.Restrictions.html#5622" class="Bound">TR</a> <a id="5625" href="Graded.Restrictions.html#5564" class="Function Operator">with-η-for-Unitʷ</a> <a id="5642" class="Symbol">=</a> <a id="5644" class="Keyword">record</a> <a id="5651" href="Graded.Restrictions.html#5622" class="Bound">TR</a>
  <a id="5656" class="Symbol">{</a> <a id="5658" href="Definition.Typed.Restrictions.html#932" class="Field">type-variant</a> <a id="5671" class="Symbol">=</a> <a id="5673" class="Keyword">record</a> <a id="5680" href="Definition.Typed.Restrictions.html#932" class="Field">type-variant</a>
    <a id="5697" class="Symbol">{</a> <a id="5699" href="Definition.Typed.Variant.html#719" class="Field">η-for-Unitʷ</a> <a id="5711" class="Symbol">=</a> <a id="5713" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="5722" class="Symbol">}</a>
  <a id="5726" class="Symbol">}</a>
  <a id="5730" class="Keyword">where</a>
  <a id="5738" class="Keyword">open</a> <a id="5743" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="5761" href="Graded.Restrictions.html#5622" class="Bound">TR</a>

<a id="5765" class="Comment">------------------------------------------------------------------------</a>
<a id="5838" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5886" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5950" class="Comment">-- matches are allowed for J and K, the natrec mode can be anything,</a>
<a id="6019" class="Comment">-- Id-erased is inhabited if the first boolean is true, and starˢ</a>
<a id="6085" class="Comment">-- is treated as a sink if the second boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="6141" href="Graded.Restrictions.html#6141" class="Function">no-usage-restrictions</a> <a id="6163" class="Symbol">:</a> <a id="6165" href="Graded.Usage.Restrictions.Natrec.html#1000" class="Datatype">Natrec-mode</a> <a id="6177" class="Symbol">→</a> <a id="6179" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6184" class="Symbol">→</a> <a id="6186" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="6191" class="Symbol">→</a> <a id="6193" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="6212" href="Graded.Restrictions.html#6141" class="Function">no-usage-restrictions</a> <a id="6234" href="Graded.Restrictions.html#6234" class="Bound">nm</a> <a id="6237" href="Graded.Restrictions.html#6237" class="Bound">erased</a> <a id="6244" href="Graded.Restrictions.html#6244" class="Bound">sink</a> <a id="6249" class="Symbol">=</a> <a id="6251" class="Symbol">λ</a> <a id="6253" class="Keyword">where</a>
    <a id="6263" class="Symbol">.</a><a id="6264" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a>                            <a id="6303" class="Symbol">→</a> <a id="6305" href="Graded.Restrictions.html#6234" class="Bound">nm</a>
    <a id="6312" class="Symbol">.</a><a id="6313" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a>                        <a id="6352" class="Symbol">→</a> <a id="6354" class="Symbol">λ</a> <a id="6356" href="Graded.Restrictions.html#6356" class="Bound">_</a> <a id="6358" href="Graded.Restrictions.html#6358" class="Bound">_</a> <a id="6360" href="Graded.Restrictions.html#6360" class="Bound">_</a> <a id="6362" href="Graded.Restrictions.html#6362" class="Bound">_</a> <a id="6364" class="Symbol">→</a> <a id="6366" href="Level.html#409" class="Record">Lift</a> <a id="6371" class="Symbol">_</a> <a id="6373" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6379" class="Symbol">.</a><a id="6380" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a>       <a id="6419" class="Symbol">→</a> <a id="6421" class="Symbol">_</a>
    <a id="6427" class="Symbol">.</a><a id="6428" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a>                        <a id="6467" class="Symbol">→</a> <a id="6469" class="Symbol">λ</a> <a id="6471" href="Graded.Restrictions.html#6471" class="Bound">_</a> <a id="6473" href="Graded.Restrictions.html#6473" class="Bound">_</a> <a id="6475" href="Graded.Restrictions.html#6475" class="Bound">_</a> <a id="6477" class="Symbol">→</a> <a id="6479" href="Level.html#409" class="Record">Lift</a> <a id="6484" class="Symbol">_</a> <a id="6486" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6492" class="Symbol">.</a><a id="6493" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a>       <a id="6532" class="Symbol">→</a> <a id="6534" class="Symbol">_</a>
    <a id="6540" class="Symbol">.</a><a id="6541" href="Graded.Usage.Restrictions.html#1782" class="Field">Emptyrec-allowed</a>                       <a id="6580" class="Symbol">→</a> <a id="6582" class="Symbol">λ</a> <a id="6584" href="Graded.Restrictions.html#6584" class="Bound">_</a> <a id="6586" href="Graded.Restrictions.html#6586" class="Bound">_</a> <a id="6588" class="Symbol">→</a> <a id="6590" href="Level.html#409" class="Record">Lift</a> <a id="6595" class="Symbol">_</a> <a id="6597" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6603" class="Symbol">.</a><a id="6604" href="Graded.Usage.Restrictions.html#1924" class="Field">Emptyrec-allowed-downwards-closed</a>      <a id="6643" class="Symbol">→</a> <a id="6645" class="Symbol">_</a>
    <a id="6651" class="Symbol">.</a><a id="6652" href="Graded.Usage.Restrictions.html#2078" class="Field">[]-cong-allowed-mode</a>                   <a id="6691" class="Symbol">→</a> <a id="6693" class="Symbol">λ</a> <a id="6695" href="Graded.Restrictions.html#6695" class="Bound">_</a> <a id="6697" href="Graded.Restrictions.html#6697" class="Bound">_</a> <a id="6699" class="Symbol">→</a> <a id="6701" href="Level.html#409" class="Record">Lift</a> <a id="6706" class="Symbol">_</a> <a id="6708" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6714" class="Symbol">.</a><a id="6715" href="Graded.Usage.Restrictions.html#2230" class="Field">[]-cong-allowed-mode-downwards-closed</a>  <a id="6754" class="Symbol">→</a> <a id="6756" class="Symbol">_</a>
    <a id="6762" class="Symbol">.</a><a id="6763" href="Graded.Usage.Restrictions.html#2389" class="Field">starˢ-sink</a>                              <a id="6803" class="Symbol">→</a> <a id="6805" href="Graded.Restrictions.html#6244" class="Bound">sink</a>
    <a id="6814" class="Symbol">.</a><a id="6815" href="Graded.Usage.Restrictions.html#2468" class="Field">Id-erased</a>                              <a id="6854" class="Symbol">→</a> <a id="6856" href="Level.html#409" class="Record">Lift</a> <a id="6861" class="Symbol">_</a> <a id="6863" class="Symbol">(</a><a id="6864" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6866" href="Graded.Restrictions.html#6237" class="Bound">erased</a><a id="6872" class="Symbol">)</a>
    <a id="6878" class="Symbol">.</a><a id="6879" href="Graded.Usage.Restrictions.html#2520" class="Field">Id-erased?</a>                             <a id="6918" class="Symbol">→</a> <a id="6920" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="6928" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="6933" href="Level.html#479" class="Field">Lift.lower</a> <a id="6944" href="Function.Base.html#1974" class="Function Operator">$</a>
                                              <a id="6992" href="Relation.Nullary.Decidable.Core.html#2959" class="Function">T?</a> <a id="6995" href="Graded.Restrictions.html#6237" class="Bound">erased</a>
    <a id="7006" class="Symbol">.</a><a id="7007" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a>                   <a id="7046" class="Symbol">→</a> <a id="7048" class="Symbol">λ</a> <a id="7050" href="Graded.Restrictions.html#7050" class="Bound">_</a> <a id="7052" class="Symbol">→</a> <a id="7054" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="7062" class="Symbol">.</a><a id="7063" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a>               <a id="7102" class="Symbol">→</a> <a id="7104" class="Symbol">_</a>
    <a id="7110" class="Symbol">.</a><a id="7111" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a>                   <a id="7150" class="Symbol">→</a> <a id="7152" class="Symbol">λ</a> <a id="7154" href="Graded.Restrictions.html#7154" class="Bound">_</a> <a id="7156" class="Symbol">→</a> <a id="7158" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="7166" class="Symbol">.</a><a id="7167" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a>               <a id="7206" class="Symbol">→</a> <a id="7208" class="Symbol">_</a>
  <a id="7212" class="Keyword">where</a>
  <a id="7220" class="Keyword">open</a> <a id="7225" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a>

<a id="7245" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="7302" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="7317" class="Symbol">:</a> <a id="7319" class="Symbol">(</a><a id="7320" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="7325" class="Symbol">→</a> <a id="7327" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7341" class="Symbol">)</a> <a id="7343" class="Symbol">→</a> <a id="7345" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="7350" class="Symbol">→</a> <a id="7352" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="7367" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="7382" href="Graded.Restrictions.html#7382" class="Bound">f</a> <a id="7384" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a> <a id="7387" class="Symbol">=</a> <a id="7389" href="Graded.Restrictions.html#7382" class="Bound">f</a> <a id="7391" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a>
<a id="7394" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="7409" href="Graded.Restrictions.html#7409" class="Bound">f</a> <a id="7411" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="7414" class="Keyword">with</a> <a id="7419" href="Graded.Restrictions.html#7409" class="Bound">f</a> <a id="7421" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a>
<a id="7424" class="Symbol">…</a> <a id="7426" class="Symbol">|</a> <a id="7428" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="7432" class="Symbol">=</a> <a id="7434" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="7439" class="CatchallClause Symbol">…</a><a id="7440" class="CatchallClause"> </a><a id="7441" class="CatchallClause Symbol">|</a><a id="7442" class="CatchallClause"> </a><a id="7443" href="Graded.Restrictions.html#7443" class="CatchallClause Bound">em</a>  <a id="7447" class="Symbol">=</a> <a id="7449" href="Graded.Restrictions.html#7443" class="Bound">em</a>

<a id="7453" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="7519" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="7567" href="Graded.Restrictions.html#7567" class="Function">not-all-erased-matches-JK</a> <a id="7593" class="Symbol">:</a> <a id="7595" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="7614" class="Symbol">→</a> <a id="7616" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="7635" href="Graded.Restrictions.html#7567" class="Function">not-all-erased-matches-JK</a> <a id="7661" href="Graded.Restrictions.html#7661" class="Bound">UR</a> <a id="7664" class="Symbol">=</a> <a id="7666" class="Keyword">record</a> <a id="7673" href="Graded.Restrictions.html#7661" class="Bound">UR</a>
  <a id="7678" class="Symbol">{</a> <a id="7680" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="7701" class="Symbol">=</a>
      <a id="7709" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="7724" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a>
  <a id="7747" class="Symbol">;</a> <a id="7749" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="7774" class="Symbol">=</a>
      <a id="7782" href="Graded.Restrictions.html#8074" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7801" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="7822" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="7849" class="Symbol">;</a> <a id="7851" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="7872" class="Symbol">=</a>
      <a id="7880" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="7895" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a>
  <a id="7918" class="Symbol">;</a> <a id="7920" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="7945" class="Symbol">=</a>
      <a id="7953" href="Graded.Restrictions.html#8074" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7972" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="7993" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="8020" class="Symbol">}</a>
  <a id="8024" class="Keyword">where</a>
  <a id="8032" class="Keyword">open</a> <a id="8037" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="8056" href="Graded.Restrictions.html#7661" class="Bound">UR</a>

  <a id="8062" class="Keyword">opaque</a>

    <a id="8074" href="Graded.Restrictions.html#8074" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="8093" class="Symbol">:</a>
      <a id="8101" class="Symbol">(</a><a id="8102" href="Graded.Restrictions.html#8102" class="Bound">f</a> <a id="8104" class="Symbol">:</a> <a id="8106" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="8111" class="Symbol">→</a> <a id="8113" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="8127" class="Symbol">)</a> <a id="8129" class="Symbol">→</a>
      <a id="8137" href="Graded.Restrictions.html#8102" class="Bound">f</a> <a id="8139" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="8142" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="8146" href="Graded.Restrictions.html#8102" class="Bound">f</a> <a id="8148" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="8152" href="Graded.Restrictions.html#1182" class="Generalizable">ok</a> <a id="8155" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">]</a> <a id="8157" class="Symbol">→</a>
      <a id="8165" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="8180" href="Graded.Restrictions.html#8102" class="Bound">f</a> <a id="8182" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="8185" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="8189" href="Graded.Restrictions.html#7302" class="Function">not-all-for-𝟙ᵐ</a> <a id="8204" href="Graded.Restrictions.html#8102" class="Bound">f</a> <a id="8206" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="8210" href="Graded.Restrictions.html#1182" class="Generalizable">ok</a> <a id="8213" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">]</a>
    <a id="8219" href="Graded.Restrictions.html#8074" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="8238" href="Graded.Restrictions.html#8238" class="Bound">f</a> <a id="8240" href="Graded.Restrictions.html#8240" class="Bound">f-≤ᵉᵐ</a> <a id="8246" class="Keyword">with</a> <a id="8251" href="Graded.Restrictions.html#8238" class="Bound">f</a> <a id="8253" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="8260" class="Symbol">…</a> <a id="8262" class="Symbol">|</a> <a id="8264" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="8269" class="Symbol">=</a> <a id="8271" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="8286" class="Symbol">_</a> <a id="8288" class="Bound">f-≤ᵉᵐ</a>
    <a id="8298" class="Symbol">…</a> <a id="8300" class="Symbol">|</a> <a id="8302" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="8307" class="Symbol">=</a> <a id="8309" class="Bound">f-≤ᵉᵐ</a>
    <a id="8319" class="Symbol">…</a> <a id="8321" class="Symbol">|</a> <a id="8323" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="8328" class="Symbol">=</a> <a id="8330" class="Bound">f-≤ᵉᵐ</a>

<a id="8337" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8406" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec</a>
<a id="8475" class="Comment">-- or unitrec. For prodrec the added restriction only applies to</a>
<a id="8540" class="Comment">-- non-trivial modalities.</a>

<a id="only-some-erased-matches"></a><a id="8568" href="Graded.Restrictions.html#8568" class="Function">only-some-erased-matches</a> <a id="8593" class="Symbol">:</a> <a id="8595" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="8614" class="Symbol">→</a> <a id="8616" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="8635" href="Graded.Restrictions.html#8568" class="Function">only-some-erased-matches</a> <a id="8660" href="Graded.Restrictions.html#8660" class="Bound">UR</a> <a id="8663" class="Symbol">=</a> <a id="8665" class="Keyword">record</a> <a id="8672" href="Graded.Restrictions.html#8660" class="Bound">UR</a>
  <a id="8677" class="Symbol">{</a> <a id="8679" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="8695" class="Symbol">=</a> <a id="8697" class="Symbol">λ</a> <a id="8699" href="Graded.Restrictions.html#8699" class="Bound">m</a> <a id="8701" href="Graded.Restrictions.html#8701" class="Bound">r</a> <a id="8703" href="Graded.Restrictions.html#8703" class="Bound">p</a> <a id="8705" href="Graded.Restrictions.html#8705" class="Bound">q</a> <a id="8707" class="Symbol">→</a>
      <a id="8715" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="8731" href="Graded.Restrictions.html#8699" class="Bound">m</a> <a id="8733" href="Graded.Restrictions.html#8701" class="Bound">r</a> <a id="8735" href="Graded.Restrictions.html#8703" class="Bound">p</a> <a id="8737" href="Graded.Restrictions.html#8705" class="Bound">q</a> <a id="8739" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="8747" class="Symbol">(</a><a id="8748" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="8750" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="8758" class="Symbol">→</a> <a id="8760" href="Graded.Restrictions.html#8699" class="Bound">m</a> <a id="8762" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8764" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="8767" class="Symbol">→</a> <a id="8769" href="Graded.Restrictions.html#8701" class="Bound">r</a> <a id="8771" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8773" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="8774" class="Symbol">)</a>
  <a id="8778" class="Symbol">;</a> <a id="8780" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8813" class="Symbol">=</a>
      <a id="8821" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8827" href="Graded.Usage.Restrictions.html#1220" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8860" class="Symbol">(λ</a> <a id="8863" href="Graded.Restrictions.html#8863" class="Bound">_</a> <a id="8865" href="Graded.Restrictions.html#8865" class="Bound">_</a> <a id="8867" class="Symbol">())</a>
  <a id="8873" class="Symbol">;</a> <a id="8875" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="8896" class="Symbol">=</a> <a id="8898" class="Symbol">λ</a> <a id="8900" class="Keyword">where</a>
      <a id="8912" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="8915" class="Symbol">→</a> <a id="8917" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8928" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a> <a id="8931" class="Symbol">→</a> <a id="8933" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="8954" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8959" class="Symbol">;</a> <a id="8961" href="Graded.Usage.Restrictions.html#2881" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8986" class="Symbol">=</a>
      <a id="8994" class="Symbol">_</a>
  <a id="8998" class="Symbol">;</a> <a id="9000" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="9021" class="Symbol">=</a> <a id="9023" class="Symbol">λ</a> <a id="9025" class="Keyword">where</a>
      <a id="9037" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="9040" class="Symbol">→</a> <a id="9042" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="9053" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a> <a id="9056" class="Symbol">→</a> <a id="9058" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="9079" href="Graded.Mode.html#1058" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="9084" class="Symbol">;</a> <a id="9086" href="Graded.Usage.Restrictions.html#3306" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="9111" class="Symbol">=</a>
      <a id="9119" class="Symbol">_</a>
  <a id="9123" class="Symbol">}</a>
  <a id="9127" class="Keyword">where</a>
  <a id="9135" class="Keyword">open</a> <a id="9140" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="9159" href="Graded.Restrictions.html#8660" class="Bound">UR</a>

<a id="9163" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="9232" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec.</a>
<a id="9302" class="Comment">-- For prodrec and unitrec the added restriction only applies to</a>
<a id="9367" class="Comment">-- non-trivial modalities, and for unitrec the added restriction only</a>
<a id="9437" class="Comment">-- applies if η-equality is not allowed for weak unit types.</a>

<a id="no-erased-matches-UR"></a><a id="9499" href="Graded.Restrictions.html#9499" class="Function">no-erased-matches-UR</a> <a id="9520" class="Symbol">:</a>
  <a id="9524" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="9542" class="Symbol">→</a> <a id="9544" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="9563" class="Symbol">→</a> <a id="9565" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="9584" href="Graded.Restrictions.html#9499" class="Function">no-erased-matches-UR</a> <a id="9605" href="Graded.Restrictions.html#9605" class="Bound">TR</a> <a id="9608" href="Graded.Restrictions.html#9608" class="Bound">UR</a> <a id="9611" class="Symbol">=</a> <a id="9613" class="Keyword">record</a> <a id="9620" class="Symbol">(</a><a id="9621" href="Graded.Restrictions.html#8568" class="Function">only-some-erased-matches</a> <a id="9646" href="Graded.Restrictions.html#9608" class="Bound">UR</a><a id="9648" class="Symbol">)</a>
  <a id="9652" class="Symbol">{</a> <a id="9654" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="9670" class="Symbol">=</a> <a id="9672" class="Symbol">λ</a> <a id="9674" href="Graded.Restrictions.html#9674" class="Bound">m</a> <a id="9676" href="Graded.Restrictions.html#9676" class="Bound">p</a> <a id="9678" href="Graded.Restrictions.html#9678" class="Bound">q</a> <a id="9680" class="Symbol">→</a>
      <a id="9688" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="9704" href="Graded.Restrictions.html#9674" class="Bound">m</a> <a id="9706" href="Graded.Restrictions.html#9676" class="Bound">p</a> <a id="9708" href="Graded.Restrictions.html#9678" class="Bound">q</a> <a id="9710" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="9718" class="Symbol">(</a><a id="9719" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9721" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="9729" class="Symbol">→</a> <a id="9731" href="Graded.Restrictions.html#9674" class="Bound">m</a> <a id="9733" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9735" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="9738" class="Symbol">→</a> <a id="9740" href="Graded.Restrictions.html#9676" class="Bound">p</a> <a id="9742" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9744" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="9746" class="Symbol">→</a> <a id="9748" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="9755" class="Symbol">)</a>
  <a id="9759" class="Symbol">;</a> <a id="9761" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9794" class="Symbol">=</a>
      <a id="9802" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="9808" href="Graded.Usage.Restrictions.html#1578" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9841" class="Symbol">(λ</a> <a id="9844" href="Graded.Restrictions.html#9844" class="Bound">_</a> <a id="9846" href="Graded.Restrictions.html#9846" class="Bound">_</a> <a id="9848" class="Symbol">())</a>
  <a id="9854" class="Symbol">}</a>
  <a id="9858" class="Keyword">where</a>
  <a id="9866" class="Keyword">open</a> <a id="9871" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="9889" href="Graded.Restrictions.html#9605" class="Bound">TR</a>
  <a id="9894" class="Keyword">open</a> <a id="9899" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="9918" href="Graded.Restrictions.html#9608" class="Bound">UR</a>

<a id="9922" class="Comment">-- The function updates the usage restrictions to use the usage rule</a>
<a id="9991" class="Comment">-- natrecₘ for natrec using a given nr function.</a>

<a id="nr-available-UR"></a><a id="10041" href="Graded.Restrictions.html#10041" class="Function">nr-available-UR</a> <a id="10057" class="Symbol">:</a>
  <a id="10061" href="Graded.Modality.html#5587" class="Record">Has-nr</a> <a id="10068" href="Graded.Modality.html#9717" class="Field">semiring-with-meet</a> <a id="10087" class="Symbol">→</a> <a id="10089" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="10108" class="Symbol">→</a> <a id="10110" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="10129" href="Graded.Restrictions.html#10041" class="Function">nr-available-UR</a> <a id="10145" href="Graded.Restrictions.html#10145" class="Bound">has-nr</a> <a id="10152" href="Graded.Restrictions.html#10152" class="Bound">UR</a> <a id="10155" class="Symbol">=</a>
  <a id="10159" class="Keyword">record</a> <a id="10166" href="Graded.Restrictions.html#10152" class="Bound">UR</a> <a id="10169" class="Symbol">{</a> <a id="10171" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a> <a id="10183" class="Symbol">=</a> <a id="10185" href="Graded.Usage.Restrictions.Natrec.html#1028" class="InductiveConstructor">Nr</a> <a id="10188" class="Symbol">⦃</a> <a id="10190" href="Graded.Restrictions.html#10145" class="Bound">has-nr</a> <a id="10197" class="Symbol">⦄</a> <a id="10199" class="Symbol">}</a>

<a id="10202" class="Comment">-- The function updates the usage restrictions to use the usage rule</a>
<a id="10271" class="Comment">-- natrec-no-nr-glbₘ for natrec, assuming that the rule is supported.</a>

<a id="nr-not-available-glb-UR"></a><a id="10342" href="Graded.Restrictions.html#10342" class="Function">nr-not-available-glb-UR</a> <a id="10366" class="Symbol">:</a>
  <a id="10370" href="Graded.Modality.html#7682" class="Record">Supports-GLB-for-natrec</a> <a id="10394" href="Graded.Modality.html#9717" class="Field">semiring-with-meet</a> <a id="10413" class="Symbol">→</a> <a id="10415" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="10434" class="Symbol">→</a> <a id="10436" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a>
<a id="10455" href="Graded.Restrictions.html#10342" class="Function">nr-not-available-glb-UR</a> <a id="10479" href="Graded.Restrictions.html#10479" class="Bound">ok</a> <a id="10482" href="Graded.Restrictions.html#10482" class="Bound">UR</a> <a id="10485" class="Symbol">=</a>
  <a id="10489" class="Keyword">record</a> <a id="10496" href="Graded.Restrictions.html#10482" class="Bound">UR</a> <a id="10499" class="Symbol">{</a> <a id="10501" href="Graded.Usage.Restrictions.html#933" class="Field">natrec-mode</a> <a id="10513" class="Symbol">=</a> <a id="10515" href="Graded.Usage.Restrictions.Natrec.html#1112" class="InductiveConstructor">No-nr-glb</a> <a id="10525" class="Symbol">⦃</a> <a id="10527" href="Graded.Restrictions.html#10479" class="Bound">ok</a> <a id="10530" class="Symbol">⦄</a> <a id="10532" class="Symbol">}</a>

<a id="10535" class="Comment">------------------------------------------------------------------------</a>
<a id="10608" class="Comment">-- Only-some-erased-matches</a>

<a id="10637" class="Comment">-- The property of not allowing certain erased matches:</a>
<a id="10693" class="Comment">-- * Erased matches are allowed for emptyrec and unitrec.</a>
<a id="10751" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="10809" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="10877" class="Comment">--   []-cong.</a>

<a id="Only-some-erased-matches"></a><a id="10892" href="Graded.Restrictions.html#10892" class="Function">Only-some-erased-matches</a> <a id="10917" class="Symbol">:</a>
  <a id="10921" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="10939" class="Symbol">→</a> <a id="10941" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="10960" class="Symbol">→</a> <a id="10962" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="10966" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="10968" href="Graded.Restrictions.html#10892" class="Function">Only-some-erased-matches</a> <a id="10993" href="Graded.Restrictions.html#10993" class="Bound">TR</a> <a id="10996" href="Graded.Restrictions.html#10996" class="Bound">UR</a> <a id="10999" class="Symbol">=</a>
  <a id="11003" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11005" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="11013" class="Symbol">→</a>
  <a id="11017" class="Symbol">(∀</a> <a id="11020" class="Symbol">{</a><a id="11021" href="Graded.Restrictions.html#11021" class="Bound">r</a> <a id="11023" href="Graded.Restrictions.html#11023" class="Bound">p</a> <a id="11025" href="Graded.Restrictions.html#11025" class="Bound">q</a><a id="11026" class="Symbol">}</a> <a id="11028" class="Symbol">→</a> <a id="11030" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="11046" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="11049" href="Graded.Restrictions.html#11021" class="Bound">r</a> <a id="11051" href="Graded.Restrictions.html#11023" class="Bound">p</a> <a id="11053" href="Graded.Restrictions.html#11025" class="Bound">q</a> <a id="11055" class="Symbol">→</a> <a id="11057" href="Graded.Restrictions.html#11021" class="Bound">r</a> <a id="11059" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="11061" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="11062" class="Symbol">)</a> <a id="11064" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11068" class="Symbol">(∀</a> <a id="11071" class="Symbol">{</a><a id="11072" href="Graded.Restrictions.html#11072" class="Bound">s</a><a id="11073" class="Symbol">}</a> <a id="11075" class="Symbol">→</a> <a id="11077" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11079" class="Symbol">(</a><a id="11080" href="Definition.Typed.Restrictions.html#2536" class="Function">[]-cong-allowed</a> <a id="11096" href="Graded.Restrictions.html#11072" class="Bound">s</a><a id="11097" class="Symbol">))</a> <a id="11100" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11104" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="11125" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="11128" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11130" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="11135" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11139" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="11160" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="11163" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11165" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="11172" class="Keyword">where</a>
  <a id="11180" class="Keyword">open</a> <a id="11185" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="11203" href="Graded.Restrictions.html#10993" class="Bound">TR</a>
  <a id="11208" class="Keyword">open</a> <a id="11213" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="11232" href="Graded.Restrictions.html#10996" class="Bound">UR</a>

<a id="11236" class="Keyword">opaque</a>

  <a id="11246" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
  <a id="11311" class="Comment">-- only-some-erased-matches satisfy Only-some-erased-matches.</a>

  <a id="Only-some-erased-matches-only-some-erased-matches"></a><a id="11376" href="Graded.Restrictions.html#11376" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="11426" class="Symbol">:</a>
    <a id="11432" class="Symbol">∀</a> <a id="11434" href="Graded.Restrictions.html#11434" class="Bound">TR</a> <a id="11437" href="Graded.Restrictions.html#11437" class="Bound">UR</a> <a id="11440" class="Symbol">→</a>
    <a id="11446" href="Graded.Restrictions.html#10892" class="Function">Only-some-erased-matches</a>
      <a id="11477" class="Symbol">(</a><a id="11478" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="11499" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="11501" class="Symbol">(</a><a id="11502" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="11523" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a> <a id="11525" href="Graded.Restrictions.html#11434" class="Bound">TR</a><a id="11527" class="Symbol">))</a>
      <a id="11536" class="Symbol">(</a><a id="11537" href="Graded.Restrictions.html#8568" class="Function">only-some-erased-matches</a> <a id="11562" href="Graded.Restrictions.html#11437" class="Bound">UR</a><a id="11564" class="Symbol">)</a>
  <a id="11568" href="Graded.Restrictions.html#11376" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="11618" class="Symbol">_</a> <a id="11620" class="Symbol">_</a> <a id="11622" href="Graded.Restrictions.html#11622" class="Bound">𝟙≢𝟘</a> <a id="11626" class="Symbol">=</a>
      <a id="11634" class="Symbol">(</a><a id="11635" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11638" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11642" class="Symbol">)</a> <a id="11644" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11647" class="Symbol">(</a><a id="11648" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11651" href="Graded.Restrictions.html#11622" class="Bound">𝟙≢𝟘</a><a id="11654" class="Symbol">)</a> <a id="11656" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11659" href="Data.Product.Base.html#650" class="Field">proj₂</a>
    <a id="11669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11671" class="Symbol">(λ</a> <a id="11674" class="Keyword">where</a>
         <a id="11689" class="Symbol">{</a><a id="11690" class="Argument">s</a> <a id="11692" class="Symbol">=</a> <a id="11694" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="11695" class="Symbol">}</a> <a id="11697" class="Symbol">→</a> <a id="11699" class="Symbol">(</a><a id="11700" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11703" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11707" class="Symbol">)</a> <a id="11709" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11712" href="Data.Product.Base.html#650" class="Field">proj₂</a>
         <a id="11727" class="Symbol">{</a><a id="11728" class="Argument">s</a> <a id="11730" class="Symbol">=</a> <a id="11732" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a><a id="11733" class="Symbol">}</a> <a id="11735" class="Symbol">→</a> <a id="11737" class="Symbol">(</a><a id="11738" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="11741" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="11745" class="Symbol">)</a> <a id="11747" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11750" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="11756" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="11759" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="11764" class="Symbol">)</a>
    <a id="11770" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11772" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="11781" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11783" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11789" class="Comment">------------------------------------------------------------------------</a>
<a id="11862" class="Comment">-- No-erased-matches</a>

<a id="11884" class="Comment">-- The property of not allowing (certain) erased matches:</a>
<a id="11942" class="Comment">-- * Erased matches are allowed for emptyrec.</a>
<a id="11988" class="Comment">-- * &quot;Erased&quot; matches are allowed for unitrec if η-equality is allowed</a>
<a id="12059" class="Comment">--   for weak unit types.</a>
<a id="12085" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="12143" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="12211" class="Comment">--   []-cong. (Note that a variant of []-cong that works when the mode</a>
<a id="12282" class="Comment">--   is not 𝟙ᵐ can be defined without the use of []-cong, see</a>
<a id="12344" class="Comment">--   Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="12382" href="Graded.Restrictions.html#12382" class="Function">No-erased-matches</a> <a id="12400" class="Symbol">:</a> <a id="12402" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="12420" class="Symbol">→</a> <a id="12422" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="12441" class="Symbol">→</a> <a id="12443" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12447" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="12449" href="Graded.Restrictions.html#12382" class="Function">No-erased-matches</a> <a id="12467" href="Graded.Restrictions.html#12467" class="Bound">TR</a> <a id="12470" href="Graded.Restrictions.html#12470" class="Bound">UR</a> <a id="12473" class="Symbol">=</a>
  <a id="12477" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12479" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="12487" class="Symbol">→</a>
  <a id="12491" class="Symbol">(∀</a> <a id="12494" class="Symbol">{</a><a id="12495" href="Graded.Restrictions.html#12495" class="Bound">r</a> <a id="12497" href="Graded.Restrictions.html#12497" class="Bound">p</a> <a id="12499" href="Graded.Restrictions.html#12499" class="Bound">q</a><a id="12500" class="Symbol">}</a> <a id="12502" class="Symbol">→</a> <a id="12504" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="12520" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="12523" href="Graded.Restrictions.html#12495" class="Bound">r</a> <a id="12525" href="Graded.Restrictions.html#12497" class="Bound">p</a> <a id="12527" href="Graded.Restrictions.html#12499" class="Bound">q</a> <a id="12529" class="Symbol">→</a> <a id="12531" href="Graded.Restrictions.html#12495" class="Bound">r</a> <a id="12533" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12535" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="12536" class="Symbol">)</a> <a id="12538" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12542" class="Symbol">(∀</a> <a id="12545" class="Symbol">{</a><a id="12546" href="Graded.Restrictions.html#12546" class="Bound">p</a> <a id="12548" href="Graded.Restrictions.html#12548" class="Bound">q</a><a id="12549" class="Symbol">}</a>   <a id="12553" class="Symbol">→</a> <a id="12555" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="12571" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="12574" href="Graded.Restrictions.html#12546" class="Bound">p</a> <a id="12576" href="Graded.Restrictions.html#12548" class="Bound">q</a>   <a id="12580" class="Symbol">→</a> <a id="12582" href="Graded.Restrictions.html#12546" class="Bound">p</a> <a id="12584" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12586" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="12588" class="Symbol">→</a> <a id="12590" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="12597" class="Symbol">)</a> <a id="12599" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12603" class="Symbol">(∀</a> <a id="12606" class="Symbol">{</a><a id="12607" href="Graded.Restrictions.html#12607" class="Bound">s</a><a id="12608" class="Symbol">}</a> <a id="12610" class="Symbol">→</a> <a id="12612" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12614" class="Symbol">(</a><a id="12615" href="Definition.Typed.Restrictions.html#2536" class="Function">[]-cong-allowed</a> <a id="12631" href="Graded.Restrictions.html#12607" class="Bound">s</a><a id="12632" class="Symbol">))</a> <a id="12635" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12639" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="12660" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="12663" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12665" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="12670" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="12674" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="12695" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="12698" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12700" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="12707" class="Keyword">where</a>
  <a id="12715" class="Keyword">open</a> <a id="12720" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="12738" href="Graded.Restrictions.html#12467" class="Bound">TR</a>
  <a id="12743" class="Keyword">open</a> <a id="12748" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="12767" href="Graded.Restrictions.html#12470" class="Bound">UR</a>

<a id="12771" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="12834" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="12886" href="Graded.Restrictions.html#12886" class="Function">No-erased-matches-no-erased-matches</a> <a id="12922" class="Symbol">:</a>
  <a id="12926" class="Symbol">∀</a> <a id="12928" href="Graded.Restrictions.html#12928" class="Bound">TR</a> <a id="12931" href="Graded.Restrictions.html#12931" class="Bound">UR</a> <a id="12934" class="Symbol">→</a>
  <a id="12938" class="Keyword">let</a> <a id="12942" href="Graded.Restrictions.html#12942" class="Bound">TR′</a> <a id="12946" class="Symbol">=</a> <a id="12948" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="12969" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="12971" class="Symbol">(</a><a id="12972" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="12993" href="Definition.Untyped.NotParametrised.html#1989" class="InductiveConstructor">𝕨</a> <a id="12995" href="Graded.Restrictions.html#12928" class="Bound">TR</a><a id="12997" class="Symbol">)</a> <a id="12999" class="Keyword">in</a>
  <a id="13004" href="Graded.Restrictions.html#12382" class="Function">No-erased-matches</a> <a id="13022" href="Graded.Restrictions.html#12942" class="Bound">TR′</a> <a id="13026" class="Symbol">(</a><a id="13027" href="Graded.Restrictions.html#9499" class="Function">no-erased-matches-UR</a> <a id="13048" href="Graded.Restrictions.html#12942" class="Bound">TR′</a> <a id="13052" href="Graded.Restrictions.html#12931" class="Bound">UR</a><a id="13054" class="Symbol">)</a>
<a id="13056" href="Graded.Restrictions.html#12886" class="Function">No-erased-matches-no-erased-matches</a> <a id="13092" href="Graded.Restrictions.html#13092" class="Bound">TR</a> <a id="13095" href="Graded.Restrictions.html#13095" class="Bound">UR</a> <a id="13098" href="Graded.Restrictions.html#13098" class="Bound">𝟙≢𝟘</a> <a id="13102" class="Symbol">=</a>
  <a id="13106" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13111" href="Graded.Restrictions.html#11376" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="13161" href="Graded.Restrictions.html#13092" class="Bound">TR</a> <a id="13164" href="Graded.Restrictions.html#13095" class="Bound">UR</a> <a id="13167" href="Graded.Restrictions.html#13098" class="Bound">𝟙≢𝟘</a> <a id="13171" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13174" class="Symbol">λ</a>
    <a id="13180" class="Symbol">(</a><a id="13181" href="Graded.Restrictions.html#13181" class="Bound">pr</a> <a id="13184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13186" href="Graded.Restrictions.html#13186" class="Bound">rest</a><a id="13190" class="Symbol">)</a> <a id="13192" class="Symbol">→</a>
    <a id="13198" class="Symbol">(λ</a> <a id="13201" class="Symbol">{</a><a id="13202" href="Graded.Restrictions.html#13202" class="Bound">_</a> <a id="13204" href="Graded.Restrictions.html#13204" class="Bound">_</a> <a id="13206" href="Graded.Restrictions.html#13206" class="Bound">_</a><a id="13207" class="Symbol">}</a> <a id="13209" class="Symbol">→</a> <a id="13211" href="Graded.Restrictions.html#13181" class="Bound">pr</a><a id="13213" class="Symbol">)</a>
  <a id="13217" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13219" class="Symbol">(λ</a> <a id="13222" class="Symbol">{</a><a id="13223" href="Graded.Restrictions.html#13223" class="Bound">_</a> <a id="13225" href="Graded.Restrictions.html#13225" class="Bound">_</a><a id="13226" class="Symbol">}</a> <a id="13228" class="Symbol">→</a> <a id="13230" class="Symbol">(</a><a id="13231" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13234" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13238" class="Symbol">)</a> <a id="13240" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="13243" class="Symbol">(</a><a id="13244" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13247" href="Graded.Restrictions.html#13098" class="Bound">𝟙≢𝟘</a><a id="13250" class="Symbol">)</a> <a id="13252" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="13255" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="13260" class="Symbol">)</a>
  <a id="13264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13266" href="Graded.Restrictions.html#13186" class="Bound">rest</a>

<a id="13272" class="Keyword">opaque</a>

  <a id="13282" class="Comment">-- If Unitʷ-η holds for TR, then Only-some-erased-matches TR UR</a>
  <a id="13348" class="Comment">-- implies No-erased-matches TR UR.</a>

  <a id="Only-some-erased-matches→No-erased-matches"></a><a id="13387" href="Graded.Restrictions.html#13387" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="13430" class="Symbol">:</a>
    <a id="13436" class="Symbol">∀</a> <a id="13438" href="Graded.Restrictions.html#13438" class="Bound">TR</a> <a id="13441" href="Graded.Restrictions.html#13441" class="Bound">UR</a> <a id="13444" class="Symbol">→</a>
    <a id="13450" href="Definition.Typed.Variant.html#795" class="Function">Type-restrictions.Unitʷ-η</a> <a id="13476" href="Graded.Restrictions.html#13438" class="Bound">TR</a> <a id="13479" class="Symbol">→</a>
    <a id="13485" href="Graded.Restrictions.html#10892" class="Function">Only-some-erased-matches</a> <a id="13510" href="Graded.Restrictions.html#13438" class="Bound">TR</a> <a id="13513" href="Graded.Restrictions.html#13441" class="Bound">UR</a> <a id="13516" class="Symbol">→</a> <a id="13518" href="Graded.Restrictions.html#12382" class="Function">No-erased-matches</a> <a id="13536" href="Graded.Restrictions.html#13438" class="Bound">TR</a> <a id="13539" href="Graded.Restrictions.html#13441" class="Bound">UR</a>
  <a id="13544" href="Graded.Restrictions.html#13387" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="13587" class="Symbol">_</a> <a id="13589" class="Symbol">_</a> <a id="13591" href="Graded.Restrictions.html#13591" class="Bound">η</a> <a id="13593" class="Symbol">=</a>
    <a id="13599" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="13605" href="Function.Base.html#704" class="Function">idᶠ</a> <a id="13609" class="Symbol">((λ</a> <a id="13613" class="Symbol">{</a><a id="13614" href="Graded.Restrictions.html#13614" class="Bound">_</a> <a id="13616" href="Graded.Restrictions.html#13616" class="Bound">_</a><a id="13617" class="Symbol">}</a> <a id="13619" href="Graded.Restrictions.html#13619" class="Bound">_</a> <a id="13621" href="Graded.Restrictions.html#13621" class="Bound">_</a> <a id="13623" class="Symbol">→</a> <a id="13625" href="Graded.Restrictions.html#13591" class="Bound">η</a><a id="13626" class="Symbol">)</a> <a id="13628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="13630" class="Symbol">)</a> <a id="13632" href="Function.Base.html#1115" class="Function Operator">∘→_</a>

<a id="13637" class="Comment">-- An alternative to No-erased-matches that refers to</a>
<a id="13691" class="Comment">-- Type-variant instead of Type-restrictions</a>

<a id="No-erased-matches′"></a><a id="13737" href="Graded.Restrictions.html#13737" class="Function">No-erased-matches′</a> <a id="13756" class="Symbol">:</a> <a id="13758" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a> <a id="13771" class="Symbol">→</a> <a id="13773" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="13792" class="Symbol">→</a> <a id="13794" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="13798" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="13800" href="Graded.Restrictions.html#13737" class="Function">No-erased-matches′</a> <a id="13819" href="Graded.Restrictions.html#13819" class="Bound">TV</a> <a id="13822" href="Graded.Restrictions.html#13822" class="Bound">UR</a> <a id="13825" class="Symbol">=</a>
  <a id="13829" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="13831" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="13839" class="Symbol">→</a>
  <a id="13843" class="Symbol">(∀</a> <a id="13846" class="Symbol">{</a><a id="13847" href="Graded.Restrictions.html#13847" class="Bound">r</a> <a id="13849" href="Graded.Restrictions.html#13849" class="Bound">p</a> <a id="13851" href="Graded.Restrictions.html#13851" class="Bound">q</a><a id="13852" class="Symbol">}</a> <a id="13854" class="Symbol">→</a> <a id="13856" href="Graded.Usage.Restrictions.html#1070" class="Field">Prodrec-allowed</a> <a id="13872" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="13875" href="Graded.Restrictions.html#13847" class="Bound">r</a> <a id="13877" href="Graded.Restrictions.html#13849" class="Bound">p</a> <a id="13879" href="Graded.Restrictions.html#13851" class="Bound">q</a> <a id="13881" class="Symbol">→</a> <a id="13883" href="Graded.Restrictions.html#13847" class="Bound">r</a> <a id="13885" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="13887" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="13888" class="Symbol">)</a> <a id="13890" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="13894" class="Symbol">(∀</a> <a id="13897" class="Symbol">{</a><a id="13898" href="Graded.Restrictions.html#13898" class="Bound">p</a> <a id="13900" href="Graded.Restrictions.html#13900" class="Bound">q</a><a id="13901" class="Symbol">}</a>   <a id="13905" class="Symbol">→</a> <a id="13907" href="Graded.Usage.Restrictions.html#1430" class="Field">Unitrec-allowed</a> <a id="13923" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="13926" href="Graded.Restrictions.html#13898" class="Bound">p</a> <a id="13928" href="Graded.Restrictions.html#13900" class="Bound">q</a>   <a id="13932" class="Symbol">→</a> <a id="13934" href="Graded.Restrictions.html#13898" class="Bound">p</a> <a id="13936" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13938" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="13940" class="Symbol">→</a> <a id="13942" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="13949" class="Symbol">)</a> <a id="13951" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="13955" class="Symbol">(∀</a> <a id="13958" class="Symbol">{</a><a id="13959" href="Graded.Restrictions.html#13959" class="Bound">s</a><a id="13960" class="Symbol">}</a> <a id="13962" class="Symbol">→</a> <a id="13964" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="13966" class="Symbol">(</a><a id="13967" href="Graded.Usage.Restrictions.html#2078" class="Field">[]-cong-allowed-mode</a> <a id="13988" href="Graded.Restrictions.html#13959" class="Bound">s</a> <a id="13990" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a><a id="13992" class="Symbol">))</a> <a id="13995" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="13999" href="Graded.Usage.Restrictions.html#2646" class="Field">erased-matches-for-J</a> <a id="14020" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="14023" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14025" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="14030" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="14034" href="Graded.Usage.Restrictions.html#3071" class="Field">erased-matches-for-K</a> <a id="14055" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a> <a id="14058" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14060" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="14067" class="Keyword">where</a>
  <a id="14075" class="Keyword">open</a> <a id="14080" href="Definition.Typed.Variant.html#432" class="Module">Type-variant</a> <a id="14093" href="Graded.Restrictions.html#13819" class="Bound">TV</a>
  <a id="14098" class="Keyword">open</a> <a id="14103" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="14122" href="Graded.Restrictions.html#13822" class="Bound">UR</a>

<a id="14126" class="Comment">------------------------------------------------------------------------</a>
<a id="14199" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="14241" class="Keyword">opaque</a>

  <a id="14251" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="14318" class="Comment">-- no-type-restrictions b false.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="14354" href="Graded.Restrictions.html#14354" class="Function">Assumptions-no-type-restrictions</a> <a id="14387" class="Symbol">:</a>
    <a id="14393" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="14403" class="Symbol">(</a><a id="14404" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="14408" class="Symbol">{</a><a id="14409" class="Argument">A</a> <a id="14411" class="Symbol">=</a> <a id="14413" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="14414" class="Symbol">})</a> <a id="14417" class="Symbol">→</a>
    <a id="14423" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="14438" class="Symbol">(</a><a id="14439" href="Graded.Restrictions.html#1655" class="Function">no-type-restrictions</a> <a id="14460" href="Graded.Restrictions.html#1170" class="Generalizable">b</a> <a id="14462" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="14467" class="Symbol">)</a>
  <a id="14471" href="Graded.Restrictions.html#14354" class="Function">Assumptions-no-type-restrictions</a> <a id="14504" class="Symbol">{</a><a id="14505" href="Graded.Restrictions.html#14505" class="Bound">b</a><a id="14506" class="Symbol">}</a> <a id="14508" href="Graded.Restrictions.html#14508" class="Bound">dec</a> <a id="14512" class="Symbol">=</a> <a id="14514" class="Symbol">λ</a> <a id="14516" class="Keyword">where</a>
      <a id="14528" class="Symbol">.</a><a id="14529" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                <a id="14548" class="Symbol">→</a> <a id="14550" href="Graded.Restrictions.html#14508" class="Bound">dec</a>
      <a id="14560" class="Symbol">.</a><a id="14561" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a> <a id="14575" class="Symbol">_</a>    <a id="14580" class="Symbol">→</a> <a id="14582" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14586" class="Symbol">_</a>
      <a id="14594" class="Symbol">.</a><a id="14595" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="14607" class="Symbol">_</a> <a id="14609" class="Symbol">_</a> <a id="14611" class="Symbol">_</a>  <a id="14614" class="Symbol">→</a> <a id="14616" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14620" class="Symbol">_</a>
      <a id="14628" class="Symbol">.</a><a id="14629" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>         <a id="14648" class="Symbol">→</a> <a id="14650" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14655" href="Tools.PropositionalEquality.html#2225" class="Function">singleton</a> <a id="14665" href="Graded.Restrictions.html#14505" class="Bound">b</a> <a id="14667" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14670" class="Symbol">λ</a> <a id="14672" class="Keyword">where</a>
        <a id="14686" class="Symbol">(</a><a id="14687" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="14693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14695" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="14699" class="Symbol">)</a> <a id="14701" class="Symbol">→</a> <a id="14703" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14707" class="Symbol">_</a>
        <a id="14717" class="Symbol">(</a><a id="14718" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="14724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14726" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="14730" class="Symbol">)</a> <a id="14732" class="Symbol">→</a> <a id="14734" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14737" class="Symbol">(λ</a> <a id="14740" class="Symbol">())</a>
      <a id="14750" class="Symbol">.</a><a id="14751" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="14768" class="Symbol">_</a> <a id="14770" class="Symbol">→</a> <a id="14772" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14777" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="14786" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14789" class="Symbol">λ</a> <a id="14791" class="Keyword">where</a>
        <a id="14805" class="Symbol">(</a><a id="14806" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14810" href="Graded.Restrictions.html#14810" class="Bound">trivial</a><a id="14817" class="Symbol">)</a>    <a id="14822" class="Symbol">→</a> <a id="14824" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14827" class="Symbol">(</a><a id="14828" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="14831" href="Graded.Restrictions.html#14810" class="Bound">trivial</a><a id="14838" class="Symbol">)</a>
        <a id="14848" class="Symbol">(</a><a id="14849" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="14852" href="Graded.Restrictions.html#14852" class="Bound">non-trivial</a><a id="14863" class="Symbol">)</a> <a id="14865" class="Symbol">→</a> <a id="14867" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="14871" href="Graded.Restrictions.html#14852" class="Bound">non-trivial</a>
      <a id="14889" class="Symbol">.</a><a id="14890" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="14913" class="Symbol">(</a><a id="14914" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="14919" class="Symbol">())</a>
    <a id="14927" class="Keyword">where</a>
    <a id="14937" class="Keyword">open</a> <a id="14942" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="14958" class="Keyword">opaque</a>

  <a id="14968" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="15037" href="Graded.Restrictions.html#15037" class="Function">Assumptions-equal-binder-quantities</a> <a id="15073" class="Symbol">:</a>
    <a id="15079" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15094" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="15097" class="Symbol">→</a> <a id="15099" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15114" class="Symbol">(</a><a id="15115" href="Graded.Restrictions.html#2329" class="Function">equal-binder-quantities</a> <a id="15139" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="15141" class="Symbol">)</a>
  <a id="15145" href="Graded.Restrictions.html#15037" class="Function">Assumptions-equal-binder-quantities</a> <a id="15181" href="Graded.Restrictions.html#15181" class="Bound">as</a> <a id="15184" class="Symbol">=</a> <a id="15186" class="Symbol">λ</a> <a id="15188" class="Keyword">where</a>
      <a id="15200" class="Symbol">.</a><a id="15201" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="15224" class="Symbol">→</a> <a id="15226" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="15238" class="Symbol">.</a><a id="15239" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="15262" class="Symbol">→</a> <a id="15264" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="15286" class="Symbol">.</a><a id="15287" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="15299" href="Graded.Restrictions.html#15299" class="Bound">b</a> <a id="15301" href="Graded.Restrictions.html#15301" class="Bound">p</a> <a id="15303" href="Graded.Restrictions.html#15303" class="Bound">q</a>      <a id="15310" class="Symbol">→</a> <a id="15312" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="15326" href="Graded.Restrictions.html#15299" class="Bound">b</a> <a id="15328" href="Graded.Restrictions.html#15301" class="Bound">p</a> <a id="15330" href="Graded.Restrictions.html#15303" class="Bound">q</a> <a id="15332" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="15338" href="Graded.Restrictions.html#15301" class="Bound">p</a> <a id="15340" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="15344" href="Graded.Restrictions.html#15303" class="Bound">q</a>
      <a id="15352" class="Symbol">.</a><a id="15353" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="15376" class="Symbol">→</a> <a id="15378" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="15397" class="Symbol">.</a><a id="15398" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="15421" class="Symbol">→</a> <a id="15423" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="15448" class="Symbol">.</a><a id="15449" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="15472" class="Symbol">→</a> <a id="15474" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="15503" class="Keyword">where</a>
    <a id="15513" class="Keyword">module</a> <a id="15520" href="Graded.Restrictions.html#15520" class="Module">A</a> <a id="15522" class="Symbol">=</a> <a id="15524" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="15539" href="Graded.Restrictions.html#15181" class="Bound">as</a>
    <a id="15546" class="Keyword">open</a> <a id="15551" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="15567" class="Keyword">opaque</a>

  <a id="15577" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="15645" href="Graded.Restrictions.html#15645" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="15680" class="Symbol">:</a>
    <a id="15686" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15701" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="15704" class="Symbol">→</a> <a id="15706" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="15721" class="Symbol">(</a><a id="15722" href="Graded.Restrictions.html#2734" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="15745" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="15747" class="Symbol">)</a>
  <a id="15751" href="Graded.Restrictions.html#15645" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="15786" href="Graded.Restrictions.html#15786" class="Bound">as</a> <a id="15789" class="Symbol">=</a> <a id="15791" class="Symbol">λ</a> <a id="15793" class="Keyword">where</a>
      <a id="15805" class="Symbol">.</a><a id="15806" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="15829" class="Symbol">→</a> <a id="15831" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="15843" class="Symbol">.</a><a id="15844" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="15867" class="Symbol">→</a> <a id="15869" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="15891" class="Symbol">.</a><a id="15892" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="15904" href="Graded.Restrictions.html#15904" class="Bound">b</a> <a id="15906" href="Graded.Restrictions.html#15906" class="Bound">p</a> <a id="15908" href="Graded.Restrictions.html#15908" class="Bound">q</a>      <a id="15915" class="Symbol">→</a> <a id="15917" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="15931" href="Graded.Restrictions.html#15904" class="Bound">b</a> <a id="15933" href="Graded.Restrictions.html#15906" class="Bound">p</a> <a id="15935" href="Graded.Restrictions.html#15908" class="Bound">q</a> <a id="15937" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="15943" href="Graded.Restrictions.html#15908" class="Bound">q</a> <a id="15945" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="15949" href="Graded.Modality.html#945" class="Function">𝟘</a>
      <a id="15957" class="Symbol">.</a><a id="15958" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="15981" class="Symbol">→</a> <a id="15983" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="16002" class="Symbol">.</a><a id="16003" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="16026" class="Symbol">→</a> <a id="16028" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="16053" class="Symbol">.</a><a id="16054" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="16077" class="Symbol">→</a> <a id="16079" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="16108" class="Keyword">where</a>
    <a id="16118" class="Keyword">module</a> <a id="16125" href="Graded.Restrictions.html#16125" class="Module">A</a> <a id="16127" class="Symbol">=</a> <a id="16129" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="16144" href="Graded.Restrictions.html#15786" class="Bound">as</a>
    <a id="16151" class="Keyword">open</a> <a id="16156" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="16172" class="Keyword">opaque</a>

  <a id="16182" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="16238" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="16260" href="Graded.Restrictions.html#16260" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16300" class="Symbol">:</a>
    <a id="16306" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="16321" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="16324" class="Symbol">→</a> <a id="16326" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="16341" class="Symbol">(</a><a id="16342" href="Graded.Restrictions.html#3292" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16370" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="16372" class="Symbol">)</a>
  <a id="16376" href="Graded.Restrictions.html#16260" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="16416" href="Graded.Restrictions.html#16416" class="Bound">as</a> <a id="16419" class="Symbol">=</a> <a id="16421" class="Symbol">λ</a> <a id="16423" class="Keyword">where</a>
      <a id="16435" class="Symbol">.</a><a id="16436" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="16459" class="Symbol">→</a> <a id="16461" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="16473" class="Symbol">.</a><a id="16474" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="16497" class="Symbol">→</a> <a id="16499" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="16521" class="Symbol">.</a><a id="16522" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="16534" href="Graded.Restrictions.html#16534" class="Bound">b</a> <a id="16536" href="Graded.Restrictions.html#16536" class="Bound">p</a> <a id="16538" href="Graded.Restrictions.html#16538" class="Bound">q</a>      <a id="16545" class="Symbol">→</a> <a id="16547" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="16561" href="Graded.Restrictions.html#16534" class="Bound">b</a> <a id="16563" href="Graded.Restrictions.html#16536" class="Bound">p</a> <a id="16565" href="Graded.Restrictions.html#16538" class="Bound">q</a>
                                  <a id="16601" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="16639" class="Symbol">(</a><a id="16640" href="Graded.Restrictions.html#16536" class="Bound">p</a> <a id="16642" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16646" href="Graded.Modality.html#949" class="Function">ω</a> <a id="16648" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="16654" href="Graded.Restrictions.html#16538" class="Bound">q</a> <a id="16656" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16660" href="Graded.Modality.html#949" class="Function">ω</a><a id="16661" class="Symbol">)</a>
                                  <a id="16697" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="16735" class="Symbol">(</a><a id="16736" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="16739" class="Symbol">(</a><a id="16740" href="Graded.Restrictions.html#16536" class="Bound">p</a> <a id="16742" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16746" href="Graded.Modality.html#949" class="Function">ω</a><a id="16747" class="Symbol">)</a> <a id="16749" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="16755" href="Graded.Restrictions.html#16538" class="Bound">q</a> <a id="16757" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A.≟</a> <a id="16761" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="16762" class="Symbol">)</a>
      <a id="16770" class="Symbol">.</a><a id="16771" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="16794" class="Symbol">→</a> <a id="16796" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="16815" class="Symbol">.</a><a id="16816" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a>       <a id="16839" class="Symbol">→</a> <a id="16841" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a>
      <a id="16866" class="Symbol">.</a><a id="16867" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="16890" class="Symbol">→</a> <a id="16892" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="16921" class="Keyword">where</a>
    <a id="16931" class="Keyword">module</a> <a id="16938" href="Graded.Restrictions.html#16938" class="Module">A</a> <a id="16940" class="Symbol">=</a> <a id="16942" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="16957" href="Graded.Restrictions.html#16416" class="Bound">as</a>
    <a id="16964" class="Keyword">open</a> <a id="16969" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="16985" class="Keyword">opaque</a>

  <a id="16995" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="17053" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="17103" href="Graded.Restrictions.html#17103" class="Function">Assumptions-strong-types-restricted′</a> <a id="17140" class="Symbol">:</a>
    <a id="17146" class="Symbol">{</a><a id="17147" href="Graded.Restrictions.html#17147" class="Bound">P</a> <a id="17149" class="Symbol">:</a> <a id="17151" href="Definition.Untyped.NotParametrised.html#2027" class="Datatype">BinderMode</a> <a id="17162" class="Symbol">→</a> <a id="17164" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="17166" class="Symbol">→</a> <a id="17168" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="17172" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="17173" class="Symbol">}</a>
    <a id="17179" class="Symbol">{</a><a id="17180" href="Graded.Restrictions.html#17180" class="Bound">ok</a> <a id="17183" class="Symbol">:</a> <a id="17185" class="Symbol">∀</a> <a id="17187" class="Symbol">{</a><a id="17188" href="Graded.Restrictions.html#17188" class="Bound">s</a><a id="17189" class="Symbol">}</a> <a id="17191" class="Symbol">→</a> <a id="17193" href="Graded.Restrictions.html#17188" class="Bound">s</a> <a id="17195" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="17197" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a> <a id="17199" class="Symbol">→</a> <a id="17201" href="Graded.Restrictions.html#17147" class="Bound">P</a> <a id="17203" class="Symbol">(</a><a id="17204" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="17208" href="Graded.Restrictions.html#17188" class="Bound">s</a><a id="17209" class="Symbol">)</a> <a id="17211" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="17212" class="Symbol">}</a> <a id="17214" class="Symbol">→</a>
    <a id="17220" class="Symbol">(∀</a> <a id="17223" href="Graded.Restrictions.html#17223" class="Bound">b</a> <a id="17225" href="Graded.Restrictions.html#17225" class="Bound">p</a> <a id="17227" class="Symbol">→</a> <a id="17229" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="17233" class="Symbol">(</a><a id="17234" href="Graded.Restrictions.html#17147" class="Bound">P</a> <a id="17236" href="Graded.Restrictions.html#17223" class="Bound">b</a> <a id="17238" href="Graded.Restrictions.html#17225" class="Bound">p</a><a id="17239" class="Symbol">))</a> <a id="17242" class="Symbol">→</a>
    <a id="17248" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="17263" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="17266" class="Symbol">→</a>
    <a id="17272" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="17287" class="Symbol">(</a><a id="17288" href="Graded.Restrictions.html#3738" class="Function">strong-types-restricted′</a> <a id="17313" href="Graded.Restrictions.html#17147" class="Bound">P</a> <a id="17315" href="Graded.Restrictions.html#17180" class="Bound">ok</a> <a id="17318" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="17320" class="Symbol">)</a>
  <a id="17324" href="Graded.Restrictions.html#17103" class="Function">Assumptions-strong-types-restricted′</a> <a id="17361" href="Graded.Restrictions.html#17361" class="Bound">P-dec</a> <a id="17367" href="Graded.Restrictions.html#17367" class="Bound">as</a> <a id="17370" class="Symbol">=</a> <a id="17372" class="Symbol">λ</a> <a id="17374" class="Keyword">where</a>
      <a id="17386" class="Symbol">.</a><a id="17387" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="17410" class="Symbol">→</a> <a id="17412" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="17424" class="Symbol">.</a><a id="17425" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a> <a id="17439" href="Graded.Restrictions.html#17439" class="Bound">s</a>        <a id="17448" class="Symbol">→</a> <a id="17450" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a> <a id="17466" href="Graded.Restrictions.html#17439" class="Bound">s</a>
                                  <a id="17502" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17540" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17543" class="Symbol">(</a><a id="17544" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="17556" href="Graded.Restrictions.html#17439" class="Bound">s</a> <a id="17558" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="17559" class="Symbol">)</a>
      <a id="17567" class="Symbol">.</a><a id="17568" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a> <a id="17580" href="Graded.Restrictions.html#17580" class="Bound">b</a> <a id="17582" href="Graded.Restrictions.html#17582" class="Bound">p</a> <a id="17584" href="Graded.Restrictions.html#17584" class="Bound">q</a>      <a id="17591" class="Symbol">→</a> <a id="17593" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a> <a id="17607" href="Graded.Restrictions.html#17580" class="Bound">b</a> <a id="17609" href="Graded.Restrictions.html#17582" class="Bound">p</a> <a id="17611" href="Graded.Restrictions.html#17584" class="Bound">q</a>
                                  <a id="17647" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17685" href="Graded.Restrictions.html#17361" class="Bound">P-dec</a> <a id="17691" href="Graded.Restrictions.html#17580" class="Bound">b</a> <a id="17693" href="Graded.Restrictions.html#17582" class="Bound">p</a>
      <a id="17701" class="Symbol">.</a><a id="17702" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="17725" class="Symbol">→</a> <a id="17727" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="17746" class="Symbol">.</a><a id="17747" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="17764" href="Graded.Restrictions.html#17764" class="Bound">s</a>     <a id="17770" class="Symbol">→</a> <a id="17772" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a> <a id="17791" href="Graded.Restrictions.html#17764" class="Bound">s</a>
                                  <a id="17827" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="17865" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="17868" class="Symbol">(</a><a id="17869" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="17881" href="Graded.Restrictions.html#17764" class="Bound">s</a> <a id="17883" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="17884" class="Symbol">)</a>
      <a id="17892" class="Symbol">.</a><a id="17893" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="17916" class="Symbol">→</a> <a id="17918" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="17947" class="Keyword">where</a>
    <a id="17957" class="Keyword">module</a> <a id="17964" href="Graded.Restrictions.html#17964" class="Module">A</a> <a id="17966" class="Symbol">=</a> <a id="17968" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="17983" href="Graded.Restrictions.html#17367" class="Bound">as</a>
    <a id="17990" class="Keyword">open</a> <a id="17995" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="18011" class="Keyword">opaque</a>

  <a id="18021" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="18090" href="Graded.Restrictions.html#18090" class="Function">Assumptions-strong-types-restricted</a> <a id="18126" class="Symbol">:</a>
    <a id="18132" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18147" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="18150" class="Symbol">→</a> <a id="18152" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18167" class="Symbol">(</a><a id="18168" href="Graded.Restrictions.html#4525" class="Function">strong-types-restricted</a> <a id="18192" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="18194" class="Symbol">)</a>
  <a id="18198" href="Graded.Restrictions.html#18090" class="Function">Assumptions-strong-types-restricted</a> <a id="18234" href="Graded.Restrictions.html#18234" class="Bound">as</a> <a id="18237" class="Symbol">=</a>
    <a id="18243" href="Graded.Restrictions.html#17103" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="18286" class="Symbol">(λ</a> <a id="18289" href="Graded.Restrictions.html#18289" class="Bound">b</a> <a id="18291" href="Graded.Restrictions.html#18291" class="Bound">p</a> <a id="18293" class="Symbol">→</a> <a id="18295" href="Definition.Untyped.Properties.NotParametrised.html#7947" class="Function">decBinderMode</a> <a id="18309" href="Graded.Restrictions.html#18289" class="Bound">b</a> <a id="18311" class="Symbol">(</a><a id="18312" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="18316" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="18317" class="Symbol">)</a> <a id="18319" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="18325" href="Graded.Restrictions.html#18291" class="Bound">p</a> <a id="18327" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">≟</a> <a id="18329" href="Graded.Modality.html#947" class="Function">𝟙</a><a id="18330" class="Symbol">)</a>
      <a id="18338" href="Graded.Restrictions.html#18234" class="Bound">as</a>
    <a id="18345" class="Keyword">where</a>
    <a id="18355" class="Keyword">open</a> <a id="18360" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="18375" href="Graded.Restrictions.html#18234" class="Bound">as</a>

<a id="18379" class="Keyword">opaque</a>

  <a id="18389" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="18450" href="Graded.Restrictions.html#18450" class="Function">Assumptions-no-strong-types</a> <a id="18478" class="Symbol">:</a>
    <a id="18484" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18499" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="18502" class="Symbol">→</a> <a id="18504" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18519" class="Symbol">(</a><a id="18520" href="Graded.Restrictions.html#4895" class="Function">no-strong-types</a> <a id="18536" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="18538" class="Symbol">)</a>
  <a id="18542" href="Graded.Restrictions.html#18450" class="Function">Assumptions-no-strong-types</a> <a id="18570" href="Graded.Restrictions.html#18570" class="Bound">as</a> <a id="18573" class="Symbol">=</a>
    <a id="18579" href="Graded.Restrictions.html#17103" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="18622" class="Symbol">(λ</a> <a id="18625" href="Graded.Restrictions.html#18625" class="Bound">b</a> <a id="18627" href="Graded.Restrictions.html#18627" class="Bound">_</a> <a id="18629" class="Symbol">→</a> <a id="18631" href="Tools.Relation.html#700" class="Function">Dec.map</a> <a id="18639" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="18644" href="Level.html#479" class="Field">Lift.lower</a> <a id="18655" class="Symbol">(</a><a id="18656" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="18659" class="Symbol">(</a><a id="18660" href="Definition.Untyped.Properties.NotParametrised.html#7947" class="Function">decBinderMode</a> <a id="18674" href="Graded.Restrictions.html#18625" class="Bound">b</a> <a id="18676" class="Symbol">(</a><a id="18677" href="Definition.Untyped.NotParametrised.html#2071" class="InductiveConstructor">BMΣ</a> <a id="18681" href="Definition.Untyped.NotParametrised.html#1987" class="InductiveConstructor">𝕤</a><a id="18682" class="Symbol">))))</a>
      <a id="18693" href="Graded.Restrictions.html#18570" class="Bound">as</a>
    <a id="18700" class="Keyword">where</a>
    <a id="18710" class="Keyword">open</a> <a id="18715" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="18730" href="Graded.Restrictions.html#18570" class="Bound">as</a>

<a id="18734" class="Keyword">opaque</a>

  <a id="18744" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="18812" href="Graded.Restrictions.html#18812" class="Function">Assumptions-no-erased-matches-TR</a> <a id="18845" class="Symbol">:</a>
    <a id="18851" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18866" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a> <a id="18869" class="Symbol">→</a> <a id="18871" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Record">TD.Assumptions</a> <a id="18886" class="Symbol">(</a><a id="18887" href="Graded.Restrictions.html#5181" class="Function">no-erased-matches-TR</a> <a id="18908" href="Graded.Restrictions.html#1193" class="Generalizable">s</a> <a id="18910" href="Graded.Restrictions.html#1119" class="Generalizable">TR</a><a id="18912" class="Symbol">)</a>
  <a id="18916" href="Graded.Restrictions.html#18812" class="Function">Assumptions-no-erased-matches-TR</a> <a id="18949" class="Symbol">{</a><a id="18950" href="Graded.Restrictions.html#18950" class="Bound">s</a><a id="18951" class="Symbol">}</a> <a id="18953" href="Graded.Restrictions.html#18953" class="Bound">as</a> <a id="18956" class="Symbol">=</a> <a id="18958" class="Symbol">λ</a> <a id="18960" class="Keyword">where</a>
      <a id="18972" class="Symbol">.</a><a id="18973" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">_≟_</a>                    <a id="18996" class="Symbol">→</a> <a id="18998" href="Definition.Typechecking.Decidable.Assumptions.html#728" class="Field Operator">A._≟_</a>
      <a id="19010" class="Symbol">.</a><a id="19011" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">Unit-allowed?</a>          <a id="19034" class="Symbol">→</a> <a id="19036" href="Definition.Typechecking.Decidable.Assumptions.html#822" class="Field">A.Unit-allowed?</a>
      <a id="19058" class="Symbol">.</a><a id="19059" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">ΠΣ-allowed?</a>            <a id="19082" class="Symbol">→</a> <a id="19084" href="Definition.Typechecking.Decidable.Assumptions.html#912" class="Field">A.ΠΣ-allowed?</a>
      <a id="19104" class="Symbol">.</a><a id="19105" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">K-allowed?</a>             <a id="19128" class="Symbol">→</a> <a id="19130" href="Definition.Typechecking.Decidable.Assumptions.html#1018" class="Field">A.K-allowed?</a>
      <a id="19149" class="Symbol">.</a><a id="19150" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">[]-cong-allowed?</a> <a id="19167" href="Graded.Restrictions.html#19167" class="Bound">s′</a>    <a id="19173" class="Symbol">→</a> <a id="19175" href="Definition.Typechecking.Decidable.Assumptions.html#1129" class="Field">A.[]-cong-allowed?</a> <a id="19194" href="Graded.Restrictions.html#19167" class="Bound">s′</a>
                                  <a id="19231" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="19269" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="19272" class="Symbol">(</a><a id="19273" href="Definition.Untyped.Properties.NotParametrised.html#7749" class="Function">decStrength</a> <a id="19285" href="Graded.Restrictions.html#19167" class="Bound">s′</a> <a id="19288" href="Graded.Restrictions.html#18950" class="Bound">s</a><a id="19289" class="Symbol">)</a>
      <a id="19297" class="Symbol">.</a><a id="19298" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">no-equality-reflection</a> <a id="19321" class="Symbol">→</a> <a id="19323" href="Definition.Typechecking.Decidable.Assumptions.html#1226" class="Field">A.no-equality-reflection</a>
    <a id="19352" class="Keyword">where</a>
    <a id="19362" class="Keyword">module</a> <a id="19369" href="Graded.Restrictions.html#19369" class="Module">A</a> <a id="19371" class="Symbol">=</a> <a id="19373" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a> <a id="19388" href="Graded.Restrictions.html#18953" class="Bound">as</a>
    <a id="19395" class="Keyword">open</a> <a id="19400" href="Definition.Typechecking.Decidable.Assumptions.html#607" class="Module">TD.Assumptions</a>

<a id="19416" class="Comment">------------------------------------------------------------------------</a>
<a id="19489" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="19531" class="Keyword">opaque</a>

  <a id="19541" class="Comment">-- If grade equality is decidable and the modality supports usage</a>
  <a id="19609" class="Comment">-- inference for a given natrec-mode nm, UD.Assumptions holds for</a>
  <a id="19677" class="Comment">-- no-usage-restrictions nm b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="19717" href="Graded.Restrictions.html#19717" class="Function">Assumptions-no-usage-restrictions</a> <a id="19751" class="Symbol">:</a>
    <a id="19757" class="Symbol">⦃</a> <a id="19759" href="Graded.Restrictions.html#19759" class="Bound">ok</a> <a id="19762" class="Symbol">:</a> <a id="19764" href="Graded.Usage.Restrictions.Natrec.html#1737" class="Datatype">Natrec-mode-supports-usage-inference</a> <a id="19801" href="Graded.Restrictions.html#1209" class="Generalizable">nm</a> <a id="19804" class="Symbol">⦄</a> <a id="19806" class="Symbol">→</a>
    <a id="19812" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="19822" class="Symbol">(</a><a id="19823" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="19827" class="Symbol">{</a><a id="19828" class="Argument">A</a> <a id="19830" class="Symbol">=</a> <a id="19832" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="19833" class="Symbol">})</a> <a id="19836" class="Symbol">→</a>
    <a id="19842" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="19857" class="Symbol">(</a><a id="19858" href="Graded.Restrictions.html#6141" class="Function">no-usage-restrictions</a> <a id="19880" href="Graded.Restrictions.html#1209" class="Generalizable">nm</a> <a id="19883" href="Graded.Restrictions.html#1170" class="Generalizable">b</a> <a id="19885" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="19890" class="Symbol">)</a>
  <a id="19894" href="Graded.Restrictions.html#19717" class="Function">Assumptions-no-usage-restrictions</a> <a id="19928" href="Graded.Restrictions.html#19928" class="Bound">dec</a> <a id="19932" class="Symbol">=</a> <a id="19934" class="Symbol">λ</a> <a id="19936" class="Keyword">where</a>
      <a id="19948" class="Symbol">.</a><a id="19949" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">_≟_</a>                       <a id="19975" class="Symbol">→</a> <a id="19977" href="Graded.Restrictions.html#19928" class="Bound">dec</a>
      <a id="19987" class="Symbol">.</a><a id="19988" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">Prodrec-allowed?</a> <a id="20005" class="Symbol">_</a> <a id="20007" class="Symbol">_</a> <a id="20009" class="Symbol">_</a> <a id="20011" class="Symbol">_</a>  <a id="20014" class="Symbol">→</a> <a id="20016" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20020" class="Symbol">_</a>
      <a id="20028" class="Symbol">.</a><a id="20029" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">Unitrec-allowed?</a>  <a id="20047" class="Symbol">_</a> <a id="20049" class="Symbol">_</a> <a id="20051" class="Symbol">_</a>   <a id="20055" class="Symbol">→</a> <a id="20057" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20061" class="Symbol">_</a>
      <a id="20069" class="Symbol">.</a><a id="20070" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">Emptyrec-allowed?</a> <a id="20088" class="Symbol">_</a> <a id="20090" class="Symbol">_</a>     <a id="20096" class="Symbol">→</a> <a id="20098" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20102" class="Symbol">_</a>
      <a id="20110" class="Symbol">.</a><a id="20111" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">[]-cong-allowed-mode?</a> <a id="20133" class="Symbol">_</a> <a id="20135" class="Symbol">_</a> <a id="20137" class="Symbol">→</a> <a id="20139" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20143" class="Symbol">_</a>
      <a id="20151" class="Symbol">.</a><a id="20152" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">no-sink-or-≤𝟘</a>             <a id="20178" class="Symbol">→</a> <a id="20180" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="20185" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="20193" class="Keyword">where</a>
    <a id="20203" class="Keyword">open</a> <a id="20208" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a>

<a id="20224" class="Keyword">opaque</a>

  <a id="20234" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="20305" href="Graded.Restrictions.html#20305" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="20343" class="Symbol">:</a>
    <a id="20349" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="20364" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a> <a id="20367" class="Symbol">→</a> <a id="20369" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="20384" class="Symbol">(</a><a id="20385" href="Graded.Restrictions.html#7567" class="Function">not-all-erased-matches-JK</a> <a id="20411" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a><a id="20413" class="Symbol">)</a>
  <a id="20417" href="Graded.Restrictions.html#20305" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="20455" href="Graded.Restrictions.html#20455" class="Bound">as</a> <a id="20458" class="Symbol">=</a> <a id="20460" class="Symbol">λ</a> <a id="20462" class="Keyword">where</a>
      <a id="20474" class="Symbol">.</a><a id="20475" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">_≟_</a>                   <a id="20497" class="Symbol">→</a> <a id="20499" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">A._≟_</a>
      <a id="20511" class="Symbol">.</a><a id="20512" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">Prodrec-allowed?</a>      <a id="20534" class="Symbol">→</a> <a id="20536" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">A.Prodrec-allowed?</a>
      <a id="20561" class="Symbol">.</a><a id="20562" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">Unitrec-allowed?</a>      <a id="20584" class="Symbol">→</a> <a id="20586" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">A.Unitrec-allowed?</a>
      <a id="20611" class="Symbol">.</a><a id="20612" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">Emptyrec-allowed?</a>     <a id="20634" class="Symbol">→</a> <a id="20636" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">A.Emptyrec-allowed?</a>
      <a id="20662" class="Symbol">.</a><a id="20663" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">[]-cong-allowed-mode?</a> <a id="20685" class="Symbol">→</a> <a id="20687" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">A.[]-cong-allowed-mode?</a>
      <a id="20717" class="Symbol">.</a><a id="20718" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">no-sink-or-≤𝟘</a>         <a id="20740" class="Symbol">→</a> <a id="20742" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">A.no-sink-or-≤𝟘</a>
    <a id="20762" class="Keyword">where</a>
    <a id="20772" class="Keyword">module</a> <a id="20779" href="Graded.Restrictions.html#20779" class="Module">A</a> <a id="20781" class="Symbol">=</a> <a id="20783" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a> <a id="20798" href="Graded.Restrictions.html#20455" class="Bound">as</a>
    <a id="20805" class="Keyword">open</a> <a id="20810" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a>

<a id="20826" class="Keyword">opaque</a>

  <a id="20836" class="Comment">-- The function only-some-erased-matches preserves UD.Assumptions.</a>

  <a id="Assumptions-only-some-erased-matches"></a><a id="20906" href="Graded.Restrictions.html#20906" class="Function">Assumptions-only-some-erased-matches</a> <a id="20943" class="Symbol">:</a>
    <a id="20949" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="20964" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a> <a id="20967" class="Symbol">→</a> <a id="20969" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="20984" class="Symbol">(</a><a id="20985" href="Graded.Restrictions.html#8568" class="Function">only-some-erased-matches</a> <a id="21010" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a><a id="21012" class="Symbol">)</a>
  <a id="21016" href="Graded.Restrictions.html#20906" class="Function">Assumptions-only-some-erased-matches</a> <a id="21053" href="Graded.Restrictions.html#21053" class="Bound">as</a> <a id="21056" class="Symbol">=</a> <a id="21058" class="Symbol">λ</a> <a id="21060" class="Keyword">where</a>
      <a id="21072" class="Symbol">.</a><a id="21073" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">_≟_</a>                      <a id="21098" class="Symbol">→</a> <a id="21100" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">A._≟_</a>
      <a id="21112" class="Symbol">.</a><a id="21113" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">Prodrec-allowed?</a> <a id="21130" href="Graded.Restrictions.html#21130" class="Bound">m</a> <a id="21132" href="Graded.Restrictions.html#21132" class="Bound">r</a> <a id="21134" href="Graded.Restrictions.html#21134" class="Bound">p</a> <a id="21136" href="Graded.Restrictions.html#21136" class="Bound">q</a> <a id="21138" class="Symbol">→</a> <a id="21140" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">A.Prodrec-allowed?</a> <a id="21159" href="Graded.Restrictions.html#21130" class="Bound">m</a> <a id="21161" href="Graded.Restrictions.html#21132" class="Bound">r</a> <a id="21163" href="Graded.Restrictions.html#21134" class="Bound">p</a> <a id="21165" href="Graded.Restrictions.html#21136" class="Bound">q</a>
                                    <a id="21203" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                  <a id="21243" class="Symbol">(</a><a id="21244" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="21247" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="21293" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="21334" href="Graded.Restrictions.html#21130" class="Bound">m</a> <a id="21336" href="Graded.Mode.html#5546" class="Function Operator">Mode.≟</a> <a id="21343" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="21383" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                   <a id="21424" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="21427" class="Symbol">(</a><a id="21428" href="Graded.Restrictions.html#21132" class="Bound">r</a> <a id="21430" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">A.≟</a> <a id="21434" href="Graded.Modality.html#945" class="Function">𝟘</a><a id="21435" class="Symbol">))</a>
      <a id="21444" class="Symbol">.</a><a id="21445" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">Unitrec-allowed?</a>         <a id="21470" class="Symbol">→</a> <a id="21472" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">A.Unitrec-allowed?</a>
      <a id="21497" class="Symbol">.</a><a id="21498" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">Emptyrec-allowed?</a>        <a id="21523" class="Symbol">→</a> <a id="21525" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">A.Emptyrec-allowed?</a>
      <a id="21551" class="Symbol">.</a><a id="21552" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">[]-cong-allowed-mode?</a>    <a id="21577" class="Symbol">→</a> <a id="21579" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">A.[]-cong-allowed-mode?</a>
      <a id="21609" class="Symbol">.</a><a id="21610" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">no-sink-or-≤𝟘</a>            <a id="21635" class="Symbol">→</a> <a id="21637" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">A.no-sink-or-≤𝟘</a>
    <a id="21657" class="Keyword">where</a>
    <a id="21667" class="Keyword">module</a> <a id="21674" href="Graded.Restrictions.html#21674" class="Module">A</a> <a id="21676" class="Symbol">=</a> <a id="21678" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a> <a id="21693" href="Graded.Restrictions.html#21053" class="Bound">as</a>
    <a id="21700" class="Keyword">open</a> <a id="21705" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a>

<a id="21721" class="Keyword">opaque</a>

  <a id="21731" class="Comment">-- The function no-erased-matches-UR TR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="21800" href="Graded.Restrictions.html#21800" class="Function">Assumptions-no-erased-matches-UR</a> <a id="21833" class="Symbol">:</a>
    <a id="21839" class="Symbol">∀</a> <a id="21841" href="Graded.Restrictions.html#21841" class="Bound">TR</a> <a id="21844" class="Symbol">→</a> <a id="21846" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="21861" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a> <a id="21864" class="Symbol">→</a>
    <a id="21870" href="Graded.Usage.Decidable.Assumptions.html#774" class="Record">UD.Assumptions</a> <a id="21885" class="Symbol">(</a><a id="21886" href="Graded.Restrictions.html#9499" class="Function">no-erased-matches-UR</a> <a id="21907" href="Graded.Restrictions.html#21841" class="Bound">TR</a> <a id="21910" href="Graded.Restrictions.html#1144" class="Generalizable">UR</a><a id="21912" class="Symbol">)</a>
  <a id="21916" href="Graded.Restrictions.html#21800" class="Function">Assumptions-no-erased-matches-UR</a> <a id="21949" href="Graded.Restrictions.html#21949" class="Bound">TR</a> <a id="21952" href="Graded.Restrictions.html#21952" class="Bound">as</a> <a id="21955" class="Symbol">=</a> <a id="21957" class="Symbol">λ</a> <a id="21959" class="Keyword">where</a>
      <a id="21971" class="Symbol">.</a><a id="21972" href="Graded.Usage.Decidable.Assumptions.html#906" class="Field Operator">_≟_</a>                    <a id="21995" class="Symbol">→</a> <a id="21997" href="Graded.Usage.Decidable.Assumptions.html#906" class="Function Operator">A._≟_</a>
      <a id="22009" class="Symbol">.</a><a id="22010" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Field">Prodrec-allowed?</a>       <a id="22033" class="Symbol">→</a> <a id="22035" href="Graded.Usage.Decidable.Assumptions.html#1005" class="Function">A.Prodrec-allowed?</a>
      <a id="22060" class="Symbol">.</a><a id="22061" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Field">Unitrec-allowed?</a> <a id="22078" href="Graded.Restrictions.html#22078" class="Bound">m</a> <a id="22080" href="Graded.Restrictions.html#22080" class="Bound">p</a> <a id="22082" href="Graded.Restrictions.html#22082" class="Bound">q</a> <a id="22084" class="Symbol">→</a> <a id="22086" href="Graded.Usage.Decidable.Assumptions.html#1135" class="Function">A.Unitrec-allowed?</a> <a id="22105" href="Graded.Restrictions.html#22078" class="Bound">m</a> <a id="22107" href="Graded.Restrictions.html#22080" class="Bound">p</a> <a id="22109" href="Graded.Restrictions.html#22082" class="Bound">q</a>
                                  <a id="22145" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a>
                                <a id="22183" class="Symbol">(</a><a id="22184" href="Relation.Nullary.Decidable.Core.html#3011" class="Function">¬?</a> <a id="22187" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                   <a id="22231" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22270" href="Graded.Restrictions.html#22078" class="Bound">m</a> <a id="22272" href="Graded.Mode.html#5546" class="Function Operator">Mode.≟</a> <a id="22279" href="Graded.Mode.html#1094" class="InductiveConstructor">𝟙ᵐ</a>
                                   <a id="22317" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22356" href="Graded.Restrictions.html#22080" class="Bound">p</a> <a id="22358" href="Graded.Usage.Decidable.Assumptions.html#906" class="Function Operator">A.≟</a> <a id="22362" href="Graded.Modality.html#945" class="Function">𝟘</a>
                                   <a id="22399" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a>
                                 <a id="22438" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a><a id="22446" class="Symbol">)</a>
      <a id="22454" class="Symbol">.</a><a id="22455" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Field">Emptyrec-allowed?</a>      <a id="22478" class="Symbol">→</a> <a id="22480" href="Graded.Usage.Decidable.Assumptions.html#1262" class="Function">A.Emptyrec-allowed?</a>
      <a id="22506" class="Symbol">.</a><a id="22507" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Field">[]-cong-allowed-mode?</a>  <a id="22530" class="Symbol">→</a> <a id="22532" href="Graded.Usage.Decidable.Assumptions.html#1391" class="Function">A.[]-cong-allowed-mode?</a>
      <a id="22562" class="Symbol">.</a><a id="22563" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Field">no-sink-or-≤𝟘</a>          <a id="22586" class="Symbol">→</a> <a id="22588" href="Graded.Usage.Decidable.Assumptions.html#1694" class="Function">A.no-sink-or-≤𝟘</a>
    <a id="22608" class="Keyword">where</a>
    <a id="22618" class="Keyword">module</a> <a id="22625" href="Graded.Restrictions.html#22625" class="Module">A</a> <a id="22627" class="Symbol">=</a> <a id="22629" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a> <a id="22644" class="Symbol">(</a><a id="22645" href="Graded.Restrictions.html#20906" class="Function">Assumptions-only-some-erased-matches</a> <a id="22682" href="Graded.Restrictions.html#21952" class="Bound">as</a><a id="22684" class="Symbol">)</a>
    <a id="22690" class="Keyword">open</a> <a id="22695" href="Graded.Usage.Decidable.Assumptions.html#774" class="Module">UD.Assumptions</a>
    <a id="22714" class="Keyword">open</a> <a id="22719" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="22737" href="Graded.Restrictions.html#21949" class="Bound">TR</a>
</pre></body></html>