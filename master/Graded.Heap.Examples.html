<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Examples</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Examples</a>
<a id="86" class="Comment">------------------------------------------------------------------------</a>

<a id="160" class="Keyword">open</a> <a id="165" class="Keyword">import</a> <a id="172" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Graded.Heap.Assumptions.html" class="Module">Graded.Heap.Assumptions</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="305" class="Keyword">module</a> <a id="312" href="Graded.Heap.Examples.html" class="Module">Graded.Heap.Examples</a>
  <a id="335" class="Symbol">{</a><a id="336" href="Graded.Heap.Examples.html#336" class="Bound">a</a><a id="337" class="Symbol">}</a> <a id="339" class="Symbol">{</a><a id="340" href="Graded.Heap.Examples.html#340" class="Bound">M</a> <a id="342" class="Symbol">:</a> <a id="344" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="348" href="Graded.Heap.Examples.html#336" class="Bound">a</a><a id="349" class="Symbol">}</a> <a id="351" class="Symbol">{</a><a id="352" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a> <a id="354" class="Symbol">:</a> <a id="356" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="365" href="Graded.Heap.Examples.html#340" class="Bound">M</a><a id="366" class="Symbol">}</a>
  <a id="370" class="Symbol">(</a><a id="371" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="374" class="Symbol">:</a> <a id="376" href="Graded.Usage.Restrictions.html#835" class="Record">Usage-restrictions</a> <a id="395" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a><a id="396" class="Symbol">)</a>
  <a id="400" class="Symbol">(</a><a id="401" href="Graded.Heap.Examples.html#401" class="Bound">TR</a> <a id="404" class="Symbol">:</a> <a id="406" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="424" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a><a id="425" class="Symbol">)</a>
  <a id="429" class="Symbol">(</a><a id="430" href="Graded.Heap.Examples.html#430" class="Bound">As</a> <a id="433" class="Symbol">:</a> <a id="435" href="Graded.Heap.Assumptions.html#1044" class="Record">Assumptions</a> <a id="447" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="450" href="Graded.Heap.Examples.html#401" class="Bound">TR</a><a id="452" class="Symbol">)</a>
  <a id="456" class="Keyword">where</a>

<a id="463" class="Keyword">open</a> <a id="468" href="Graded.Modality.html#9574" class="Module">Modality</a> <a id="477" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a>
<a id="479" class="Keyword">open</a> <a id="484" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="502" href="Graded.Heap.Examples.html#401" class="Bound">TR</a>
<a id="505" class="Keyword">open</a> <a id="510" href="Graded.Heap.Assumptions.html#1044" class="Module">Assumptions</a> <a id="522" href="Graded.Heap.Examples.html#430" class="Bound">As</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="570" class="Keyword">using</a> <a id="576" class="Symbol">(</a><a id="577" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="580" class="Symbol">)</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="648" class="Symbol">as</a> <a id="651" class="Module">PE</a>

<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="682" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="Graded.Modality.Properties.Subtraction.html" class="Module">Graded.Modality.Properties.Subtraction</a> <a id="735" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a>
<a id="754" class="Keyword">open</a> <a id="759" class="Keyword">import</a> <a id="766" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="778" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="805" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a> <a id="807" href="Graded.Heap.Examples.html#371" class="Bound">UR</a>

<a id="811" class="Keyword">open</a> <a id="816" class="Keyword">import</a> <a id="823" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="843" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="856" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="859" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="902" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="915" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="918" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="972" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="985" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="988" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1001" class="Keyword">open</a> <a id="1006" class="Keyword">import</a> <a id="1013" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="1035" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="1048" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="1051" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1064" class="Keyword">open</a> <a id="1069" class="Keyword">import</a> <a id="1076" href="Graded.Heap.Reduction.Inversion.html" class="Module">Graded.Heap.Reduction.Inversion</a> <a id="1108" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="1121" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="1124" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1137" class="Keyword">open</a> <a id="1142" class="Keyword">import</a> <a id="1149" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="1182" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="1195" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="1198" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1211" class="Keyword">open</a> <a id="1216" class="Keyword">import</a> <a id="1223" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a> <a id="1245" href="Graded.Heap.Examples.html#371" class="Bound">UR</a> <a id="1248" href="Graded.Heap.Examples.html#401" class="Bound">TR</a> <a id="1251" href="Graded.Heap.Examples.html#430" class="Bound">As</a>

<a id="1255" class="Keyword">open</a> <a id="1260" class="Keyword">import</a> <a id="1267" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="1286" href="Graded.Heap.Examples.html#340" class="Bound">M</a>
<a id="1288" class="Keyword">open</a> <a id="1293" class="Keyword">import</a> <a id="1300" href="Definition.Untyped.Sigma.html" class="Module">Definition.Untyped.Sigma</a> <a id="1325" href="Graded.Heap.Examples.html#352" class="Bound">ğ•„</a> <a id="1327" class="Keyword">hiding</a> <a id="1334" class="Symbol">(</a><a id="1335" href="Definition.Untyped.Sigma.html#1989" class="Function">fstÊ·</a><a id="1339" class="Symbol">)</a>
<a id="1341" class="Keyword">open</a> <a id="1346" class="Keyword">import</a> <a id="1353" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1370" href="Graded.Heap.Examples.html#401" class="Bound">TR</a>

<a id="1374" class="Keyword">private</a> <a id="1382" class="Keyword">variable</a>
  <a id="1393" href="Graded.Heap.Examples.html#1393" class="Generalizable">k</a> <a id="1395" href="Graded.Heap.Examples.html#1395" class="Generalizable">n</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="1405" href="Graded.Heap.Examples.html#1405" class="Generalizable">t</a> <a id="1407" href="Graded.Heap.Examples.html#1407" class="Generalizable">tâ€²</a> <a id="1410" class="Symbol">:</a> <a id="1412" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="1417" class="Symbol">_</a>
  <a id="1421" href="Graded.Heap.Examples.html#1421" class="Generalizable">Î³</a> <a id="1423" class="Symbol">:</a> <a id="1425" href="Graded.Context.html#729" class="Datatype">Conâ‚˜</a> <a id="1430" class="Symbol">_</a>
  <a id="1434" href="Graded.Heap.Examples.html#1434" class="Generalizable">m</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Graded.Mode.html#1039" class="Datatype">Mode</a>
  <a id="1445" href="Graded.Heap.Examples.html#1445" class="Generalizable">H</a> <a id="1447" href="Graded.Heap.Examples.html#1447" class="Generalizable">Hâ€²</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Graded.Heap.Untyped.html#8467" class="Datatype">Heap</a> <a id="1457" class="Symbol">_</a> <a id="1459" class="Symbol">_</a>
  <a id="1463" href="Graded.Heap.Examples.html#1463" class="Generalizable">Ï</a> <a id="1465" href="Graded.Heap.Examples.html#1465" class="Generalizable">Ïâ€²</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="1473" class="Symbol">_</a> <a id="1475" class="Symbol">_</a>
  <a id="1479" href="Graded.Heap.Examples.html#1479" class="Generalizable">S</a> <a id="1481" href="Graded.Heap.Examples.html#1481" class="Generalizable">Sâ€²</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="Graded.Heap.Untyped.html#5810" class="Datatype">Stack</a> <a id="1492" class="Symbol">_</a>

<a id="1495" class="Comment">-- First projection for weak Î£-types, specialized to pairs of natural</a>
<a id="1565" class="Comment">-- numbers with grade ğŸ™ for the first component.</a>

<a id="fstÊ·"></a><a id="1615" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="1620" class="Symbol">:</a> <a id="1622" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="1627" href="Graded.Heap.Examples.html#1395" class="Generalizable">n</a> <a id="1629" class="Symbol">â†’</a> <a id="1631" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="1636" href="Graded.Heap.Examples.html#1395" class="Generalizable">n</a>
<a id="1638" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="1643" class="Symbol">=</a> <a id="1645" href="Definition.Untyped.Sigma.html#1989" class="Function">FstÊ·-sndÊ·.fstÊ·</a> <a id="1660" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="1662" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="1664" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="1666" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a>

<a id="1669" class="Keyword">opaque</a>

  <a id="1679" class="Comment">-- Evaluating fstÊ·Â (prodÊ· ğŸ™ zero zero) in the heap yields the state</a>
  <a id="1749" class="Comment">-- âŸ¨ Îµ âˆ™ (ğŸ™ , zero , id) âˆ™ (ğŸ™ , zero , step id) , var x1 , stepn id 2 , Îµ âŸ©</a>

  <a id="fstÊ·âŸ¨0,0âŸ©â† *â€²"></a><a id="1828" href="Graded.Heap.Examples.html#1828" class="Function">fstÊ·âŸ¨0,0âŸ©â† *â€²</a> <a id="1841" class="Symbol">:</a>
    <a id="1847" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="1855" class="Symbol">{</a><a id="1856" class="Argument">k</a> <a id="1858" class="Symbol">=</a> <a id="1860" class="Number">0</a><a id="1861" class="Symbol">}</a> <a id="1863" class="Symbol">(</a><a id="1864" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="1869" class="Symbol">(</a><a id="1870" href="Definition.Untyped.html#3213" class="InductiveConstructor">prodÊ·</a> <a id="1876" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="1878" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="1883" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a><a id="1887" class="Symbol">))</a> <a id="1890" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a>
    <a id="1897" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="1899" class="InductiveConstructor">Îµ</a> <a id="1901" class="InductiveConstructor Operator">âˆ™</a> <a id="1903" class="Symbol">(</a><a id="1904" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="1906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1908" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="1913" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1915" class="InductiveConstructor">id</a><a id="1917" class="Symbol">)</a> <a id="1919" class="InductiveConstructor Operator">âˆ™</a> <a id="1921" class="Symbol">(</a><a id="1922" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="1924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1926" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="1931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1933" class="InductiveConstructor">step</a> <a id="1938" class="InductiveConstructor">id</a><a id="1940" class="Symbol">)</a> <a id="1942" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="1944" class="InductiveConstructor">var</a> <a id="1948" href="Tools.Fin.html#445" class="Function">x1</a> <a id="1951" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="1953" href="Definition.Untyped.NotParametrised.html#3766" class="Function">liftn</a> <a id="1959" class="InductiveConstructor">id</a> <a id="1962" class="Number">2</a> <a id="1964" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="1966" class="InductiveConstructor">Îµ</a> <a id="1968" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a>
  <a id="1972" href="Graded.Heap.Examples.html#1828" class="Function">fstÊ·âŸ¨0,0âŸ©â† *â€²</a> <a id="1985" class="Symbol">=</a>
    <a id="1991" href="Graded.Heap.Reduction.html#6678" class="InductiveConstructor Operator">â‡¾â‚‘</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Graded.Heap.Reduction.html#3158" class="InductiveConstructor Operator">â‡’â‚‘</a> <a id="1998" href="Graded.Heap.Reduction.html#2102" class="InductiveConstructor">prodrecâ‚•</a><a id="2006" class="Symbol">)</a> <a id="2008" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a>
    <a id="2014" href="Graded.Heap.Reduction.html#6705" class="InductiveConstructor Operator">â‡’áµ¥</a> <a id="2017" href="Graded.Heap.Reduction.html#4525" class="InductiveConstructor">prodÊ·â‚•</a> <a id="2024" href="Graded.Heap.Untyped.html#6074" class="InductiveConstructor">Îµ</a> <a id="2026" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a>
    <a id="2032" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">substâ‚‚</a> <a id="2039" class="Symbol">(Î»</a> <a id="2042" href="Graded.Heap.Examples.html#2042" class="Bound">p</a> <a id="2044" href="Graded.Heap.Examples.html#2044" class="Bound">q</a> <a id="2046" class="Symbol">â†’</a> <a id="2048" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="2050" href="Graded.Heap.Untyped.html#8502" class="InductiveConstructor">Îµ</a> <a id="2052" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2054" class="Symbol">(</a><a id="2055" href="Graded.Heap.Examples.html#2042" class="Bound">p</a> <a id="2057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2059" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2066" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2068" class="Symbol">)</a> <a id="2070" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2072" class="Symbol">(</a><a id="2073" href="Graded.Heap.Examples.html#2044" class="Bound">q</a> <a id="2075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2077" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2084" href="Definition.Untyped.NotParametrised.html#3260" class="InductiveConstructor">step</a> <a id="2089" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2091" class="Symbol">)</a> <a id="2093" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2095" class="Symbol">_</a> <a id="2097" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2099" class="Symbol">_</a> <a id="2101" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2103" class="Symbol">_</a> <a id="2105" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="2107" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a>
                 <a id="2127" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="2129" href="Graded.Heap.Untyped.html#8502" class="InductiveConstructor">Îµ</a> <a id="2131" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2133" class="Symbol">(</a><a id="2134" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2138" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2145" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2147" class="Symbol">)</a> <a id="2149" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2154" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2156" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2163" href="Definition.Untyped.NotParametrised.html#3260" class="InductiveConstructor">step</a> <a id="2168" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2170" class="Symbol">)</a> <a id="2172" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2174" class="Symbol">_</a> <a id="2176" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2178" class="Symbol">_</a> <a id="2180" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2182" class="Symbol">_</a> <a id="2184" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a><a id="2185" class="Symbol">)</a>
      <a id="2193" class="Symbol">(</a><a id="2194" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">PE.sym</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Graded.Modality.html#3820" class="Function">Â·-identityË¡</a> <a id="2224" class="Symbol">_)</a> <a id="2227" class="Symbol">(</a><a id="2228" href="Graded.Modality.html#3862" class="Function">Â·-identityÊ³</a> <a id="2240" class="Symbol">_)))</a> <a id="2245" class="Symbol">(</a><a id="2246" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">PE.sym</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Graded.Modality.html#3862" class="Function">Â·-identityÊ³</a> <a id="2266" class="Symbol">_))</a> <a id="2270" href="Graded.Heap.Reduction.html#7251" class="InductiveConstructor">id</a>

<a id="2274" class="Keyword">opaque</a>

  <a id="2284" class="Comment">-- Evaluating fstÊ·Â (prodÊ· ğŸ™ zero zero) in the heap yields the state</a>
  <a id="2354" class="Comment">-- âŸ¨ Îµ âˆ™ (ğŸ˜ , zero , id) âˆ™ (ğŸ™ , zero , step id) , zero , stepn id 2 , Îµ âŸ©</a>
  <a id="2430" class="Comment">-- if ğŸ™Â -Â ğŸ™Â â‰¡Â ğŸ˜.</a>

  <a id="fstÊ·âŸ¨0,0âŸ©â† *"></a><a id="2450" href="Graded.Heap.Examples.html#2450" class="Function">fstÊ·âŸ¨0,0âŸ©â† *</a> <a id="2462" class="Symbol">:</a>
    <a id="2468" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2470" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2472" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2474" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">â‰¡</a> <a id="2476" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="2478" class="Symbol">â†’</a>
    <a id="2484" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="2492" class="Symbol">{</a><a id="2493" class="Argument">k</a> <a id="2495" class="Symbol">=</a> <a id="2497" class="Number">0</a><a id="2498" class="Symbol">}</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="2506" class="Symbol">(</a><a id="2507" href="Definition.Untyped.html#3213" class="InductiveConstructor">prodÊ·</a> <a id="2513" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2515" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2520" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a><a id="2524" class="Symbol">))</a> <a id="2527" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a>
    <a id="2534" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="2536" class="InductiveConstructor">Îµ</a> <a id="2538" class="InductiveConstructor Operator">âˆ™</a> <a id="2540" class="Symbol">(</a><a id="2541" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="2543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2545" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2552" class="InductiveConstructor">id</a><a id="2554" class="Symbol">)</a> <a id="2556" class="InductiveConstructor Operator">âˆ™</a> <a id="2558" class="Symbol">(</a><a id="2559" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2563" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2570" class="InductiveConstructor">step</a> <a id="2575" class="InductiveConstructor">id</a><a id="2577" class="Symbol">)</a> <a id="2579" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2581" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2586" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2588" href="Definition.Untyped.NotParametrised.html#3877" class="Function">stepn</a> <a id="2594" class="InductiveConstructor">id</a> <a id="2597" class="Number">2</a> <a id="2599" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2601" class="InductiveConstructor">Îµ</a> <a id="2603" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a>
  <a id="2607" href="Graded.Heap.Examples.html#2450" class="Function">fstÊ·âŸ¨0,0âŸ©â† *</a> <a id="2619" href="Graded.Heap.Examples.html#2619" class="Bound">ğŸ™-ğŸ™â‰¡ğŸ˜</a> <a id="2625" class="Symbol">=</a>
    <a id="2631" href="Graded.Heap.Reduction.html#6678" class="InductiveConstructor Operator">â‡¾â‚‘</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Graded.Heap.Reduction.html#3158" class="InductiveConstructor Operator">â‡’â‚‘</a> <a id="2638" href="Graded.Heap.Reduction.html#2102" class="InductiveConstructor">prodrecâ‚•</a><a id="2646" class="Symbol">)</a> <a id="2648" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a>
    <a id="2654" href="Graded.Heap.Reduction.html#6705" class="InductiveConstructor Operator">â‡’áµ¥</a> <a id="2657" href="Graded.Heap.Reduction.html#4525" class="InductiveConstructor">prodÊ·â‚•</a> <a id="2664" href="Graded.Heap.Untyped.html#6074" class="InductiveConstructor">Îµ</a> <a id="2666" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a>
    <a id="2672" href="Graded.Heap.Reduction.html#6678" class="InductiveConstructor Operator">â‡¾â‚‘</a> <a id="2675" href="Graded.Heap.Reduction.html#3041" class="InductiveConstructor">var</a> <a id="2679" href="Graded.Heap.Untyped.html#6074" class="InductiveConstructor">Îµ</a> <a id="2681" class="Symbol">(</a><a id="2682" href="Graded.Heap.Untyped.html#9249" class="InductiveConstructor">there</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Graded.Heap.Untyped.html#9176" class="InductiveConstructor">here</a> <a id="2694" class="Symbol">(</a><a id="2695" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="2701" class="Symbol">(</a><a id="2702" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">_-</a> <a id="2705" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2707" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">â‰¡</a> <a id="2709" href="Graded.Modality.html#945" class="Function">ğŸ˜</a><a id="2710" class="Symbol">)</a>
         <a id="2721" class="Symbol">(</a><a id="2722" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">PE.sym</a> <a id="2729" class="Symbol">(</a><a id="2730" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="2739" class="Symbol">(</a><a id="2740" href="Graded.Modality.html#3820" class="Function">Â·-identityË¡</a> <a id="2752" class="Symbol">_)</a> <a id="2755" class="Symbol">(</a><a id="2756" href="Graded.Modality.html#3820" class="Function">Â·-identityË¡</a> <a id="2768" class="Symbol">_)))</a> <a id="2773" href="Graded.Heap.Examples.html#2619" class="Bound">ğŸ™-ğŸ™â‰¡ğŸ˜</a><a id="2778" class="Symbol">)))</a> <a id="2782" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a>
    <a id="2788" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="2794" class="Symbol">(Î»</a> <a id="2797" href="Graded.Heap.Examples.html#2797" class="Bound">p</a> <a id="2799" class="Symbol">â†’</a> <a id="2801" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="2803" href="Graded.Heap.Untyped.html#8502" class="InductiveConstructor">Îµ</a> <a id="2805" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2807" class="Symbol">(</a><a id="2808" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="2810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2812" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2819" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2821" class="Symbol">)</a> <a id="2823" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2825" class="Symbol">(</a><a id="2826" href="Graded.Heap.Examples.html#2797" class="Bound">p</a> <a id="2828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2830" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2835" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2837" href="Definition.Untyped.NotParametrised.html#3260" class="InductiveConstructor">step</a> <a id="2842" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2844" class="Symbol">)</a> <a id="2846" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2848" class="Symbol">_</a> <a id="2850" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2852" class="Symbol">_</a> <a id="2854" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2856" class="Symbol">_</a> <a id="2858" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="2860" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a>
                 <a id="2880" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="2882" href="Graded.Heap.Untyped.html#8502" class="InductiveConstructor">Îµ</a> <a id="2884" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="2889" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2891" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2896" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2898" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2900" class="Symbol">)</a> <a id="2902" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="2904" class="Symbol">(</a><a id="2905" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="2907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2909" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="2914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2916" href="Definition.Untyped.NotParametrised.html#3260" class="InductiveConstructor">step</a> <a id="2921" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="2923" class="Symbol">)</a> <a id="2925" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2927" class="Symbol">_</a> <a id="2929" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2931" class="Symbol">_</a> <a id="2933" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="2935" class="Symbol">_</a> <a id="2937" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a><a id="2938" class="Symbol">)</a>
      <a id="2946" class="Symbol">(</a><a id="2947" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">PE.sym</a> <a id="2954" class="Symbol">(</a><a id="2955" href="Graded.Modality.html#3862" class="Function">Â·-identityÊ³</a> <a id="2967" href="Graded.Modality.html#947" class="Function">ğŸ™</a><a id="2968" class="Symbol">))</a> <a id="2971" href="Graded.Heap.Reduction.html#7251" class="InductiveConstructor">id</a>

<a id="2975" class="Keyword">opaque</a>
  <a id="2984" class="Keyword">unfolding</a> <a id="2994" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a>

  <a id="3005" class="Comment">-- If fstÊ· has a usage rule then ğŸ™Â â‰¤Â ğŸ˜ (given some assumptions).</a>

  <a id="fstÊ·-has-usageâ†’ğŸ™â‰¤ğŸ˜"></a><a id="3073" href="Graded.Heap.Examples.html#3073" class="Function">fstÊ·-has-usageâ†’ğŸ™â‰¤ğŸ˜</a> <a id="3092" class="Symbol">:</a>
    <a id="3098" href="Definition.Typed.Restrictions.html#1882" class="Function">Î£Ê·-allowed</a> <a id="3109" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3111" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="3113" class="Symbol">â†’</a>
    <a id="3119" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3121" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="3123" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3125" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">â‰¡</a> <a id="3127" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="3129" class="Symbol">â†’</a>
    <a id="3135" class="Symbol">(âˆ€</a> <a id="3138" class="Symbol">{</a><a id="3139" href="Graded.Heap.Examples.html#3139" class="Bound">n</a><a id="3140" class="Symbol">}</a> <a id="3142" class="Symbol">{</a><a id="3143" href="Graded.Heap.Examples.html#3143" class="Bound">Î³</a> <a id="3145" class="Symbol">:</a> <a id="3147" href="Graded.Context.html#729" class="Datatype">Conâ‚˜</a> <a id="3152" href="Graded.Heap.Examples.html#3139" class="Bound">n</a><a id="3153" class="Symbol">}</a> <a id="3155" class="Symbol">{</a><a id="3156" href="Graded.Heap.Examples.html#3156" class="Bound">t</a> <a id="3158" href="Graded.Heap.Examples.html#3158" class="Bound">m</a><a id="3159" class="Symbol">}</a> <a id="3161" class="Symbol">â†’</a> <a id="3163" href="Graded.Heap.Examples.html#3143" class="Bound">Î³</a> <a id="3165" href="Graded.Usage.html#8606" class="Datatype Operator">â–¸[</a> <a id="3168" href="Graded.Heap.Examples.html#3158" class="Bound">m</a> <a id="3170" href="Graded.Usage.html#8606" class="Datatype Operator">]</a> <a id="3172" href="Graded.Heap.Examples.html#3156" class="Bound">t</a> <a id="3174" class="Symbol">â†’</a>
      <a id="3182" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="3184" class="Symbol">Î»</a> <a id="3186" href="Graded.Heap.Examples.html#3186" class="Bound">Î´</a> <a id="3188" class="Symbol">â†’</a> <a id="3190" href="Graded.Heap.Examples.html#3186" class="Bound">Î´</a> <a id="3192" href="Graded.Usage.html#8606" class="Datatype Operator">â–¸[</a> <a id="3195" href="Graded.Heap.Examples.html#3158" class="Bound">m</a> <a id="3197" href="Graded.Usage.html#8606" class="Datatype Operator">]</a> <a id="3199" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="3204" href="Graded.Heap.Examples.html#3156" class="Bound">t</a><a id="3205" class="Symbol">)</a> <a id="3207" class="Symbol">â†’</a>
    <a id="3213" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3215" href="Graded.Modality.html#1384" class="Function Operator">â‰¤</a> <a id="3217" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="3221" href="Graded.Heap.Examples.html#3073" class="Function">fstÊ·-has-usageâ†’ğŸ™â‰¤ğŸ˜</a> <a id="3240" href="Graded.Heap.Examples.html#3240" class="Bound">ok</a> <a id="3243" href="Graded.Heap.Examples.html#3243" class="Bound">ğŸ™-ğŸ™â‰¡ğŸ˜</a> <a id="3249" href="Graded.Heap.Examples.html#3249" class="Bound">â–¸fstÊ·</a> <a id="3255" class="Symbol">=</a>
    <a id="3261" class="Keyword">let</a> <a id="3265" href="Graded.Heap.Examples.html#3265" class="Bound">s</a> <a id="3267" class="Symbol">=</a> <a id="3269" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="3277" class="Symbol">{</a><a id="3278" class="Argument">k</a> <a id="3280" class="Symbol">=</a> <a id="3282" class="Number">0</a><a id="3283" class="Symbol">}</a> <a id="3285" class="Symbol">(</a><a id="3286" href="Graded.Heap.Examples.html#1615" class="Function">fstÊ·</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Definition.Untyped.html#3213" class="InductiveConstructor">prodÊ·</a> <a id="3298" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3300" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="3305" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a><a id="3309" class="Symbol">))</a>
        <a id="3320" href="Graded.Heap.Examples.html#3320" class="Bound">âŠ¢â„•</a> <a id="3323" class="Symbol">=</a> <a id="3325" href="Definition.Typed.html#2742" class="InductiveConstructor">â„•â±¼</a> <a id="3328" class="Symbol">(</a><a id="3329" href="Definition.Typed.html#2275" class="InductiveConstructor Operator">âˆ™</a> <a id="3331" href="Definition.Typed.html#2742" class="InductiveConstructor">â„•â±¼</a> <a id="3334" href="Definition.Typed.html#2314" class="InductiveConstructor">ÎµÎµ</a><a id="3336" class="Symbol">)</a>
        <a id="3346" href="Graded.Heap.Examples.html#3346" class="Bound">âŠ¢s</a> <a id="3349" class="Symbol">=</a> <a id="3351" href="Definition.Typed.html#4475" class="InductiveConstructor">prodrecâ±¼</a> <a id="3360" class="Symbol">(</a><a id="3361" href="Definition.Typed.html#2742" class="InductiveConstructor">â„•â±¼</a> <a id="3364" class="Symbol">(</a><a id="3365" href="Definition.Typed.html#2275" class="InductiveConstructor Operator">âˆ™</a> <a id="3367" href="Definition.Typed.html#2649" class="InductiveConstructor">Î Î£â±¼</a> <a id="3371" href="Graded.Heap.Examples.html#3320" class="Bound">âŠ¢â„•</a> <a id="3374" href="Graded.Heap.Examples.html#3240" class="Bound">ok</a><a id="3376" class="Symbol">))</a>
              <a id="3393" class="Symbol">(</a><a id="3394" href="Definition.Typed.html#4088" class="InductiveConstructor">prodâ±¼</a> <a id="3400" href="Graded.Heap.Examples.html#3320" class="Bound">âŠ¢â„•</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Definition.Typed.html#4748" class="InductiveConstructor">zeroâ±¼</a> <a id="3410" href="Definition.Typed.html#2314" class="InductiveConstructor">ÎµÎµ</a><a id="3412" class="Symbol">)</a> <a id="3414" class="Symbol">(</a><a id="3415" href="Definition.Typed.html#4748" class="InductiveConstructor">zeroâ±¼</a> <a id="3421" href="Definition.Typed.html#2314" class="InductiveConstructor">ÎµÎµ</a><a id="3423" class="Symbol">)</a> <a id="3425" href="Graded.Heap.Examples.html#3240" class="Bound">ok</a><a id="3427" class="Symbol">)</a>
              <a id="3443" class="Symbol">(</a><a id="3444" href="Definition.Typed.html#3039" class="InductiveConstructor">var</a> <a id="3448" class="Symbol">(</a><a id="3449" href="Definition.Typed.html#2275" class="InductiveConstructor Operator">âˆ™</a> <a id="3451" href="Graded.Heap.Examples.html#3320" class="Bound">âŠ¢â„•</a><a id="3453" class="Symbol">)</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Definition.Typed.html#1210" class="InductiveConstructor">there</a> <a id="3462" href="Definition.Typed.html#1165" class="InductiveConstructor">here</a><a id="3466" class="Symbol">))</a> <a id="3469" href="Graded.Heap.Examples.html#3240" class="Bound">ok</a>
        <a id="3480" href="Graded.Heap.Examples.html#3480" class="Bound">â–¸s</a> <a id="3483" class="Symbol">=</a> <a id="3485" href="Graded.Usage.html#8670" class="InductiveConstructor">sub</a> <a id="3489" class="Symbol">(</a><a id="3490" href="Graded.Heap.Examples.html#3249" class="Bound">â–¸fstÊ·</a> <a id="3496" class="Symbol">(</a><a id="3497" href="Graded.Usage.html#10050" class="InductiveConstructor">prodÊ·â‚˜</a> <a id="3504" href="Graded.Usage.html#10394" class="InductiveConstructor">zeroâ‚˜</a> <a id="3510" href="Graded.Usage.html#10394" class="InductiveConstructor">zeroâ‚˜</a><a id="3515" class="Symbol">)</a> <a id="3517" class="Symbol">.</a><a id="3518" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a><a id="3523" class="Symbol">)</a> <a id="3525" class="Symbol">(</a><a id="3526" href="Graded.Heap.Examples.html#3759" class="Function">Îµâ‰¤</a> <a id="3529" class="Symbol">_)</a>
        <a id="3540" class="Symbol">_</a> <a id="3542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3544" class="Symbol">_</a> <a id="3546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3548" href="Graded.Heap.Examples.html#3548" class="Bound">H</a> <a id="3550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3552" class="Symbol">_</a> <a id="3554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3556" class="Symbol">_</a> <a id="3558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3560" href="Graded.Heap.Examples.html#3560" class="Bound">d</a> <a id="3562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3564" class="Symbol">_</a> <a id="3566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3568" href="Graded.Heap.Examples.html#3568" class="Bound">Hâ‰¤ğŸ˜</a> <a id="3572" class="Symbol">=</a> <a id="3574" href="Graded.Heap.Soundness.html#11637" class="Function">soundness-closed</a> <a id="3591" href="Graded.Heap.Examples.html#3346" class="Bound">âŠ¢s</a> <a id="3594" class="Symbol">(Î»</a> <a id="3597" class="Symbol">())</a> <a id="3601" href="Graded.Heap.Examples.html#3480" class="Bound">â–¸s</a>
        <a id="3612" href="Graded.Heap.Examples.html#3612" class="Bound">mâ‰¡</a> <a id="3615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3617" href="Graded.Heap.Examples.html#3617" class="Bound">nâ‰¡</a> <a id="3620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3622" href="Graded.Heap.Examples.html#3622" class="Bound">sâ‰¡</a> <a id="3625" class="Symbol">=</a> <a id="3627" href="Graded.Heap.Reduction.Properties.html#8796" class="Function">â† *-det</a> <a id="3634" href="Graded.Heap.Examples.html#3560" class="Bound">d</a> <a id="3636" class="Symbol">(</a><a id="3637" href="Graded.Heap.Examples.html#2450" class="Function">fstÊ·âŸ¨0,0âŸ©â† *</a> <a id="3649" href="Graded.Heap.Examples.html#3243" class="Bound">ğŸ™-ğŸ™â‰¡ğŸ˜</a><a id="3654" class="Symbol">)</a>
                        <a id="3680" class="Symbol">(Î»</a> <a id="3683" href="Graded.Heap.Examples.html#3683" class="Bound">_</a> <a id="3685" class="Symbol">â†’</a> <a id="3687" href="Graded.Heap.Reduction.Inversion.html#14423" class="Function">â† -inv-sucáµ</a><a id="3697" class="Symbol">)</a> <a id="3699" class="Symbol">(Î»</a> <a id="3702" href="Graded.Heap.Examples.html#3702" class="Bound">_</a> <a id="3704" class="Symbol">â†’</a> <a id="3706" href="Graded.Heap.Reduction.Inversion.html#14423" class="Function">â† -inv-sucáµ</a><a id="3716" class="Symbol">)</a>
    <a id="3722" class="Keyword">in</a>  <a id="3726" href="Graded.Heap.Examples.html#3794" class="Function">lemma</a> <a id="3732" href="Graded.Heap.Examples.html#3612" class="Bound">mâ‰¡</a> <a id="3735" href="Graded.Heap.Examples.html#3617" class="Bound">nâ‰¡</a> <a id="3738" href="Graded.Heap.Examples.html#3622" class="Bound">sâ‰¡</a> <a id="3741" href="Graded.Heap.Examples.html#3568" class="Bound">Hâ‰¤ğŸ˜</a>
    <a id="3749" class="Keyword">where</a>
    <a id="3759" href="Graded.Heap.Examples.html#3759" class="Function">Îµâ‰¤</a> <a id="3762" class="Symbol">:</a> <a id="3764" class="Symbol">âˆ€</a> <a id="3766" href="Graded.Heap.Examples.html#3766" class="Bound">Î´</a> <a id="3768" class="Symbol">â†’</a> <a id="3770" href="Graded.Context.html#756" class="InductiveConstructor">Îµ</a> <a id="3772" href="Graded.Context.html#1928" class="Function Operator">â‰¤á¶œ</a> <a id="3775" href="Graded.Heap.Examples.html#3766" class="Bound">Î´</a>
    <a id="3781" href="Graded.Heap.Examples.html#3759" class="Function">Îµâ‰¤</a> <a id="3784" href="Graded.Context.html#756" class="InductiveConstructor">Îµ</a> <a id="3786" class="Symbol">=</a> <a id="3788" href="Graded.Context.html#909" class="InductiveConstructor">Îµ</a>
    <a id="3794" href="Graded.Heap.Examples.html#3794" class="Function">lemma</a> <a id="3800" class="Symbol">:</a>
      <a id="3808" class="Symbol">(</a><a id="3809" href="Graded.Heap.Examples.html#3809" class="Bound">x</a> <a id="3811" class="Symbol">:</a> <a id="3813" href="Graded.Heap.Examples.html#1393" class="Generalizable">k</a> <a id="3815" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">â‰¡</a> <a id="3817" class="Number">2</a><a id="3818" class="Symbol">)</a> <a id="3820" class="Symbol">(</a><a id="3821" href="Graded.Heap.Examples.html#3821" class="Bound">y</a> <a id="3823" class="Symbol">:</a> <a id="3825" href="Graded.Heap.Examples.html#1395" class="Generalizable">n</a> <a id="3827" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">â‰¡</a> <a id="3829" class="Number">0</a><a id="3830" class="Symbol">)</a> <a id="3832" class="Symbol">â†’</a>
      <a id="3840" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">substâ‚‚</a> <a id="3847" class="Symbol">(</a><a id="3848" href="Graded.Heap.Untyped.html#11591" class="Record">State</a> <a id="3854" class="Number">0</a><a id="3855" class="Symbol">)</a> <a id="3857" href="Graded.Heap.Examples.html#3809" class="Bound">x</a> <a id="3859" href="Graded.Heap.Examples.html#3821" class="Bound">y</a> <a id="3861" class="Symbol">(</a><a id="3862" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="3864" href="Graded.Heap.Examples.html#1445" class="Generalizable">H</a> <a id="3866" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3868" href="Graded.Heap.Examples.html#1405" class="Generalizable">t</a> <a id="3870" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3872" href="Graded.Heap.Examples.html#1463" class="Generalizable">Ï</a> <a id="3874" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3876" href="Graded.Heap.Examples.html#1479" class="Generalizable">S</a> <a id="3878" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a><a id="3879" class="Symbol">)</a> <a id="3881" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">â‰¡</a>
        <a id="3891" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="3893" href="Graded.Heap.Untyped.html#8502" class="InductiveConstructor">Îµ</a> <a id="3895" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="3897" class="Symbol">(</a><a id="3898" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="3900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3902" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="3907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3909" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="3911" class="Symbol">)</a> <a id="3913" href="Graded.Heap.Untyped.html#8519" class="InductiveConstructor Operator">âˆ™</a> <a id="3915" class="Symbol">(</a><a id="3916" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3920" href="Definition.Untyped.html#2382" class="InductiveConstructor">zero</a> <a id="3925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3927" href="Definition.Untyped.NotParametrised.html#3260" class="InductiveConstructor">step</a> <a id="3932" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a><a id="3934" class="Symbol">)</a> <a id="3936" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3938" href="Graded.Heap.Examples.html#1407" class="Generalizable">tâ€²</a> <a id="3941" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3943" href="Graded.Heap.Examples.html#1465" class="Generalizable">Ïâ€²</a> <a id="3946" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3948" href="Graded.Heap.Examples.html#1481" class="Generalizable">Sâ€²</a> <a id="3951" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="3953" class="Symbol">â†’</a>
      <a id="3961" href="Graded.Heap.Examples.html#1445" class="Generalizable">H</a> <a id="3963" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="3966" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="3968" class="Symbol">â†’</a> <a id="3970" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="3972" href="Graded.Modality.html#1384" class="Function Operator">â‰¤</a> <a id="3974" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
    <a id="3980" href="Graded.Heap.Examples.html#3794" class="Function">lemma</a> <a id="3986" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3991" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3996" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4001" class="Symbol">(</a><a id="4002" href="Graded.Heap.Examples.html#4002" class="Bound">Hâ‰¤</a> <a id="4005" href="Graded.Heap.Usage.html#1538" class="InductiveConstructor Operator">âˆ™</a> <a id="4007" href="Graded.Heap.Examples.html#4007" class="Bound">ğŸ™â‰¤ğŸ˜</a><a id="4010" class="Symbol">)</a> <a id="4012" class="Symbol">=</a> <a id="4014" href="Graded.Heap.Examples.html#4007" class="Bound">ğŸ™â‰¤ğŸ˜</a>
</pre></body></html>