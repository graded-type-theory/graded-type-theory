<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Instances.Linearity</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- A modality for linear types.</a>
<a id="106" class="Comment">------------------------------------------------------------------------</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Tools.Bool.html" class="Module">Tools.Bool</a> <a id="203" class="Keyword">using</a> <a id="209" class="Symbol">(</a><a id="210" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="211" class="Symbol">;</a> <a id="213" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a><a id="218" class="Symbol">)</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Graded.Modality.Instances.Zero-one-many.html" class="Module">Graded.Modality.Instances.Zero-one-many</a> <a id="319" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> as <a id="𝟘𝟙ω"></a><a id="328" href="Graded.Modality.Instances.Linearity.html#328" class="Module">𝟘𝟙ω</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Graded.Modality.Variant.html" class="Module">Graded.Modality.Variant</a> <a id="368" href="Agda.Primitive.html#758" class="Primitive">lzero</a>

<a id="375" class="Keyword">module</a> <a id="382" href="Graded.Modality.Instances.Linearity.html" class="Module">Graded.Modality.Instances.Linearity</a>
  <a id="420" class="Comment">-- The modality variant.</a>
  <a id="447" class="Symbol">(</a><a id="448" href="Graded.Modality.Instances.Linearity.html#448" class="Bound">variant</a> <a id="456" class="Symbol">:</a> <a id="458" href="Graded.Modality.Variant.html#710" class="Record">Modality-variant</a><a id="474" class="Symbol">)</a>
  <a id="478" class="Keyword">where</a>

<a id="485" class="Keyword">open</a> <a id="490" href="Graded.Modality.Variant.html#710" class="Module">Modality-variant</a> <a id="507" href="Graded.Modality.Instances.Linearity.html#448" class="Bound">variant</a>

<a id="516" class="Keyword">open</a> <a id="521" href="Graded.Modality.Instances.Linearity.html#328" class="Module">𝟘𝟙ω</a> <a id="525" class="Keyword">renaming</a> <a id="534" class="Symbol">(</a><a id="535" href="Graded.Modality.Instances.Zero-one-many.html#1322" class="Datatype">Zero-one-many</a> <a id="549" class="Symbol">to</a> <a id="552" class="Datatype">Linearity</a><a id="561" class="Symbol">)</a> <a id="563" class="Keyword">public</a>

<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="599" href="Graded.Modality.Instances.Linearity.html#552" class="Datatype">Linearity</a>
<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="Graded.FullReduction.Assumptions.html" class="Module">Graded.FullReduction.Assumptions</a>
<a id="654" class="Keyword">import</a> <a id="661" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a>

<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="731" href="Graded.Modality.Instances.Linearity.html#552" class="Datatype">Linearity</a>

<a id="742" class="Keyword">open</a> <a id="747" class="Keyword">import</a> <a id="754" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="766" class="Keyword">open</a> <a id="771" class="Keyword">import</a> <a id="778" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="793" class="Keyword">open</a> <a id="798" class="Keyword">import</a> <a id="805" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="859" class="Keyword">open</a> <a id="864" class="Keyword">import</a> <a id="871" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="886" class="Keyword">open</a> <a id="891" class="Keyword">import</a> <a id="898" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="910" class="Keyword">private</a> <a id="918" class="Keyword">variable</a>
  <a id="929" href="Graded.Modality.Instances.Linearity.html#929" class="Generalizable">rs</a> <a id="932" class="Symbol">:</a> <a id="934" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a>

<a id="953" class="Comment">-- A &quot;linear types&quot; modality.</a>

<a id="linearityModality"></a><a id="984" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Graded.Modality.html#6709" class="Record">Modality</a>
<a id="1013" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a> <a id="1031" class="Symbol">=</a> <a id="1033" href="Graded.Modality.Instances.Zero-one-many.html#52227" class="Function">zero-one-many-modality</a> <a id="1056" href="Graded.Modality.Instances.Linearity.html#448" class="Bound">variant</a>

<a id="1065" class="Comment">-- An alternative (not very good) &quot;linear types&quot; modality.</a>
<a id="1124" class="Comment">--</a>
<a id="1127" class="Comment">-- See Graded.Modality.Instances.Linearity.Bad for some examples that</a>
<a id="1197" class="Comment">-- illustrate in what sense this modality is not very good. The</a>
<a id="1261" class="Comment">-- modality linearityModality does not suffer from these problems (see</a>
<a id="1332" class="Comment">-- Graded.Modality.Instances.Linearity.Good), but note that, at the</a>
<a id="1400" class="Comment">-- time of writing, this formalisation does not contain any solid</a>
<a id="1466" class="Comment">-- evidence showing that linearityModality captures a good notion of</a>
<a id="1535" class="Comment">-- &quot;linearity&quot;.</a>

<a id="bad-linearity-modality"></a><a id="1552" href="Graded.Modality.Instances.Linearity.html#1552" class="Function">bad-linearity-modality</a> <a id="1575" class="Symbol">:</a> <a id="1577" href="Graded.Modality.html#6709" class="Record">Modality</a>
<a id="1586" href="Graded.Modality.Instances.Linearity.html#1552" class="Function">bad-linearity-modality</a> <a id="1609" class="Symbol">=</a> <a id="1611" href="Graded.Modality.Instances.Zero-one-many.html#32226" class="Function">zero-one-many-greatest</a> <a id="1634" href="Graded.Modality.Instances.Linearity.html#448" class="Bound">variant</a>

<a id="1643" class="Comment">-- The nr function obtained from linearityModality (if any) is</a>
<a id="1706" class="Comment">-- incomparable to (neither bounded from below nor from above by) the</a>
<a id="1776" class="Comment">-- nr function obtained from bad-linearity-modality.</a>

<a id="incomparable"></a><a id="1830" href="Graded.Modality.Instances.Linearity.html#1830" class="Function">incomparable</a> <a id="1843" class="Symbol">:</a>
  <a id="1847" class="Symbol">(</a><a id="1848" href="Graded.Modality.Instances.Linearity.html#1848" class="Bound">nr-available</a> <a id="1861" class="Symbol">:</a> <a id="1863" href="Graded.Modality.Variant.html#926" class="Function">Nr-available</a><a id="1875" class="Symbol">)</a> <a id="1877" class="Symbol">→</a>
  <a id="1881" class="Keyword">let</a> <a id="1885" href="Graded.Modality.Instances.Linearity.html#1885" class="Bound">nr₁</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a>
              <a id="1923" class="Symbol">.</a><a id="1924" href="Graded.Modality.html#7224" class="Field">Modality.has-nr</a> <a id="1940" href="Graded.Modality.Instances.Linearity.html#1848" class="Bound">nr-available</a> <a id="1953" class="Symbol">.</a><a id="1954" href="Graded.Modality.html#4310" class="Field">Has-nr.nr</a>
      <a id="1970" href="Graded.Modality.Instances.Linearity.html#1970" class="Bound">nr₂</a> <a id="1974" class="Symbol">=</a> <a id="1976" href="Graded.Modality.Instances.Linearity.html#1552" class="Function">bad-linearity-modality</a>
              <a id="2013" class="Symbol">.</a><a id="2014" href="Graded.Modality.html#7224" class="Field">Modality.has-nr</a> <a id="2030" href="Graded.Modality.Instances.Linearity.html#1848" class="Bound">nr-available</a> <a id="2043" class="Symbol">.</a><a id="2044" href="Graded.Modality.html#4310" class="Field">Has-nr.nr</a>
  <a id="2056" class="Keyword">in</a>
  <a id="2061" class="Symbol">(</a><a id="2062" href="Data.Product.html#1492" class="Function">∃₂</a> <a id="2065" class="Symbol">λ</a> <a id="2067" href="Graded.Modality.Instances.Linearity.html#2067" class="Bound">p</a> <a id="2069" href="Graded.Modality.Instances.Linearity.html#2069" class="Bound">r</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="Tools.Product.html#382" class="Function">∃₃</a> <a id="2076" class="Symbol">λ</a> <a id="2078" href="Graded.Modality.Instances.Linearity.html#2078" class="Bound">z</a> <a id="2080" href="Graded.Modality.Instances.Linearity.html#2080" class="Bound">s</a> <a id="2082" href="Graded.Modality.Instances.Linearity.html#2082" class="Bound">n</a> <a id="2084" class="Symbol">→</a> <a id="2086" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="2088" href="Graded.Modality.Instances.Linearity.html#1885" class="Bound">nr₁</a> <a id="2092" href="Graded.Modality.Instances.Linearity.html#2067" class="Bound">p</a> <a id="2094" href="Graded.Modality.Instances.Linearity.html#2069" class="Bound">r</a> <a id="2096" href="Graded.Modality.Instances.Linearity.html#2078" class="Bound">z</a> <a id="2098" href="Graded.Modality.Instances.Linearity.html#2080" class="Bound">s</a> <a id="2100" href="Graded.Modality.Instances.Linearity.html#2082" class="Bound">n</a> <a id="2102" href="Graded.Modality.Instances.Zero-one-many.html#6521" class="Function Operator">≤</a> <a id="2104" href="Graded.Modality.Instances.Linearity.html#1970" class="Bound">nr₂</a> <a id="2108" href="Graded.Modality.Instances.Linearity.html#2067" class="Bound">p</a> <a id="2110" href="Graded.Modality.Instances.Linearity.html#2069" class="Bound">r</a> <a id="2112" href="Graded.Modality.Instances.Linearity.html#2078" class="Bound">z</a> <a id="2114" href="Graded.Modality.Instances.Linearity.html#2080" class="Bound">s</a> <a id="2116" href="Graded.Modality.Instances.Linearity.html#2082" class="Bound">n</a><a id="2117" class="Symbol">)</a> <a id="2119" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="2123" class="Symbol">(</a><a id="2124" href="Data.Product.html#1492" class="Function">∃₂</a> <a id="2127" class="Symbol">λ</a> <a id="2129" href="Graded.Modality.Instances.Linearity.html#2129" class="Bound">p</a> <a id="2131" href="Graded.Modality.Instances.Linearity.html#2131" class="Bound">r</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Tools.Product.html#382" class="Function">∃₃</a> <a id="2138" class="Symbol">λ</a> <a id="2140" href="Graded.Modality.Instances.Linearity.html#2140" class="Bound">z</a> <a id="2142" href="Graded.Modality.Instances.Linearity.html#2142" class="Bound">s</a> <a id="2144" href="Graded.Modality.Instances.Linearity.html#2144" class="Bound">n</a> <a id="2146" class="Symbol">→</a> <a id="2148" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="2150" href="Graded.Modality.Instances.Linearity.html#1970" class="Bound">nr₂</a> <a id="2154" href="Graded.Modality.Instances.Linearity.html#2129" class="Bound">p</a> <a id="2156" href="Graded.Modality.Instances.Linearity.html#2131" class="Bound">r</a> <a id="2158" href="Graded.Modality.Instances.Linearity.html#2140" class="Bound">z</a> <a id="2160" href="Graded.Modality.Instances.Linearity.html#2142" class="Bound">s</a> <a id="2162" href="Graded.Modality.Instances.Linearity.html#2144" class="Bound">n</a> <a id="2164" href="Graded.Modality.Instances.Zero-one-many.html#6521" class="Function Operator">≤</a> <a id="2166" href="Graded.Modality.Instances.Linearity.html#1885" class="Bound">nr₁</a> <a id="2170" href="Graded.Modality.Instances.Linearity.html#2129" class="Bound">p</a> <a id="2172" href="Graded.Modality.Instances.Linearity.html#2131" class="Bound">r</a> <a id="2174" href="Graded.Modality.Instances.Linearity.html#2140" class="Bound">z</a> <a id="2176" href="Graded.Modality.Instances.Linearity.html#2142" class="Bound">s</a> <a id="2178" href="Graded.Modality.Instances.Linearity.html#2144" class="Bound">n</a><a id="2179" class="Symbol">)</a>
<a id="2181" href="Graded.Modality.Instances.Linearity.html#1830" class="Function">incomparable</a> <a id="2194" class="Symbol">_</a> <a id="2196" class="Symbol">=</a>
    <a id="2202" class="Symbol">(</a><a id="2203" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2205" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2207" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a> <a id="2209" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2211" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2213" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2215" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2217" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2219" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a> <a id="2221" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2223" class="Symbol">(λ</a> <a id="2226" class="Symbol">()))</a>
  <a id="2233" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2235" class="Symbol">(</a><a id="2236" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2238" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2240" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a> <a id="2242" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2244" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a> <a id="2246" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2248" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2250" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2252" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a> <a id="2254" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2256" class="Symbol">(λ</a> <a id="2259" class="Symbol">()))</a>

<a id="2265" class="Comment">-- The &quot;linear types&quot; modality has a well-behaved zero.</a>

<a id="linearity-has-well-behaved-zero"></a><a id="2322" href="Graded.Modality.Instances.Linearity.html#2322" class="Function">linearity-has-well-behaved-zero</a> <a id="2354" class="Symbol">:</a> <a id="2356" href="Graded.Modality.html#2901" class="Record">Has-well-behaved-zero</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Graded.Modality.html#6822" class="Field">Modality.semiring-with-meet</a> <a id="2407" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a><a id="2424" class="Symbol">)</a>
<a id="2426" href="Graded.Modality.Instances.Linearity.html#2322" class="Function">linearity-has-well-behaved-zero</a> <a id="2458" class="Symbol">=</a> <a id="2460" href="Graded.Modality.Instances.Zero-one-many.html#14744" class="Function">zero-one-many-has-well-behaved-zero</a>

<a id="2497" class="Keyword">open</a> <a id="2502" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="2529" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a>

<a id="2548" class="Comment">-- An instance of Type-restrictions is suitable for the full reduction</a>
<a id="2619" class="Comment">-- theorem if</a>
<a id="2633" class="Comment">-- * Unit-allowed does not hold,</a>
<a id="2666" class="Comment">-- * Σₚ-allowed 𝟘 p does not hold, and</a>
<a id="2705" class="Comment">-- * Σₚ-allowed ω p does not hold.</a>

<a id="Suitable-for-full-reduction"></a><a id="2741" href="Graded.Modality.Instances.Linearity.html#2741" class="Function">Suitable-for-full-reduction</a> <a id="2769" class="Symbol">:</a>
  <a id="2773" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="2797" href="Graded.Modality.Instances.Linearity.html#2741" class="Function">Suitable-for-full-reduction</a> <a id="2825" href="Graded.Modality.Instances.Linearity.html#2825" class="Bound">rs</a> <a id="2828" class="Symbol">=</a>
  <a id="2832" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="2834" href="Definition.Typed.Restrictions.html#565" class="Field">Unit-allowed</a> <a id="2847" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="2851" class="Symbol">(∀</a> <a id="2854" href="Graded.Modality.Instances.Linearity.html#2854" class="Bound">p</a> <a id="2856" class="Symbol">→</a> <a id="2858" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="2860" href="Definition.Typed.Restrictions.html#957" class="Function">Σₚ-allowed</a> <a id="2871" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="2873" href="Graded.Modality.Instances.Linearity.html#2854" class="Bound">p</a><a id="2874" class="Symbol">)</a> <a id="2876" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="2880" class="Symbol">(∀</a> <a id="2883" href="Graded.Modality.Instances.Linearity.html#2883" class="Bound">p</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="2889" href="Definition.Typed.Restrictions.html#957" class="Function">Σₚ-allowed</a> <a id="2900" href="Graded.Modality.Instances.Zero-one-many.html#1354" class="InductiveConstructor">ω</a> <a id="2902" href="Graded.Modality.Instances.Linearity.html#2883" class="Bound">p</a><a id="2903" class="Symbol">)</a>
  <a id="2907" class="Keyword">where</a>
  <a id="2915" class="Keyword">open</a> <a id="2920" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="2938" href="Graded.Modality.Instances.Linearity.html#2825" class="Bound">rs</a>

<a id="2942" class="Comment">-- Given an instance of Type-restrictions one can create a &quot;suitable&quot;</a>
<a id="3012" class="Comment">-- instance.</a>

<a id="suitable-for-full-reduction"></a><a id="3026" href="Graded.Modality.Instances.Linearity.html#3026" class="Function">suitable-for-full-reduction</a> <a id="3054" class="Symbol">:</a>
  <a id="3058" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="3076" class="Symbol">→</a> <a id="3078" href="Data.Product.html#1378" class="Function">∃</a> <a id="3080" href="Graded.Modality.Instances.Linearity.html#2741" class="Function">Suitable-for-full-reduction</a>
<a id="3108" href="Graded.Modality.Instances.Linearity.html#3026" class="Function">suitable-for-full-reduction</a> <a id="3136" href="Graded.Modality.Instances.Linearity.html#3136" class="Bound">rs</a> <a id="3139" class="Symbol">=</a>
    <a id="3145" class="Keyword">record</a> <a id="3152" href="Graded.Modality.Instances.Linearity.html#3136" class="Bound">rs</a>
      <a id="3161" class="Symbol">{</a> <a id="3163" href="Definition.Typed.Restrictions.html#565" class="Field">Unit-allowed</a> <a id="3176" class="Symbol">=</a> <a id="3178" href="Data.Empty.html#535" class="Datatype">⊥</a>
      <a id="3186" class="Symbol">;</a> <a id="3188" href="Definition.Typed.Restrictions.html#640" class="Field">ΠΣ-allowed</a>   <a id="3201" class="Symbol">=</a> <a id="3203" class="Symbol">λ</a> <a id="3205" href="Graded.Modality.Instances.Linearity.html#3205" class="Bound">b</a> <a id="3207" href="Graded.Modality.Instances.Linearity.html#3207" class="Bound">p</a> <a id="3209" href="Graded.Modality.Instances.Linearity.html#3209" class="Bound">q</a> <a id="3211" class="Symbol">→</a>
          <a id="3223" href="Definition.Typed.Restrictions.html#640" class="Field">ΠΣ-allowed</a> <a id="3234" href="Graded.Modality.Instances.Linearity.html#3205" class="Bound">b</a> <a id="3236" href="Graded.Modality.Instances.Linearity.html#3207" class="Bound">p</a> <a id="3238" href="Graded.Modality.Instances.Linearity.html#3209" class="Bound">q</a> <a id="3240" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3242" href="Graded.Modality.Instances.Linearity.html#3207" class="Bound">p</a> <a id="3244" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="3246" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a> <a id="3248" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3250" href="Graded.Modality.Instances.Linearity.html#3207" class="Bound">p</a> <a id="3252" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="3254" href="Graded.Modality.Instances.Zero-one-many.html#1354" class="InductiveConstructor">ω</a>
      <a id="3262" class="Symbol">}</a>
  <a id="3266" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3268" href="Function.Base.html#624" class="Function">idᶠ</a>
  <a id="3274" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3276" class="Symbol">(λ</a> <a id="3279" href="Graded.Modality.Instances.Linearity.html#3279" class="Bound">_</a> <a id="3281" class="Symbol">→</a> <a id="3283" class="Symbol">(</a><a id="3284" href="Function.Base.html#1928" class="Function Operator">_$</a> <a id="3287" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="3291" class="Symbol">)</a> <a id="3293" href="Function.Base.html#1040" class="Function Operator">∘→</a> <a id="3296" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3302" href="Function.Base.html#1040" class="Function Operator">∘→</a> <a id="3305" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3310" class="Symbol">)</a>
  <a id="3314" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3316" class="Symbol">(λ</a> <a id="3319" href="Graded.Modality.Instances.Linearity.html#3319" class="Bound">_</a> <a id="3321" class="Symbol">→</a> <a id="3323" class="Symbol">(</a><a id="3324" href="Function.Base.html#1928" class="Function Operator">_$</a> <a id="3327" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="3331" class="Symbol">)</a> <a id="3333" href="Function.Base.html#1040" class="Function Operator">∘→</a> <a id="3336" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3342" href="Function.Base.html#1040" class="Function Operator">∘→</a> <a id="3345" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3350" class="Symbol">)</a>
  <a id="3354" class="Keyword">where</a>
  <a id="3362" class="Keyword">open</a> <a id="3367" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="3385" href="Graded.Modality.Instances.Linearity.html#3136" class="Bound">rs</a>

<a id="3389" class="Comment">-- The full reduction assumptions hold for linearityModality and any</a>
<a id="3458" class="Comment">-- &quot;suitable&quot; Type-restrictions.</a>

<a id="full-reduction-assumptions"></a><a id="3492" href="Graded.Modality.Instances.Linearity.html#3492" class="Function">full-reduction-assumptions</a> <a id="3519" class="Symbol">:</a>
  <a id="3523" href="Graded.Modality.Instances.Linearity.html#2741" class="Function">Suitable-for-full-reduction</a> <a id="3551" href="Graded.Modality.Instances.Linearity.html#929" class="Generalizable">rs</a> <a id="3554" class="Symbol">→</a>
  <a id="3558" href="Graded.FullReduction.Assumptions.html#838" class="Record">Full-reduction-assumptions</a> <a id="3585" href="Graded.Modality.Instances.Linearity.html#984" class="Function">linearityModality</a> <a id="3603" href="Graded.Modality.Instances.Linearity.html#929" class="Generalizable">rs</a>
<a id="3606" href="Graded.Modality.Instances.Linearity.html#3492" class="Function">full-reduction-assumptions</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Graded.Modality.Instances.Linearity.html#3634" class="Bound">¬Unit</a> <a id="3640" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3642" href="Graded.Modality.Instances.Linearity.html#3642" class="Bound">¬𝟘</a> <a id="3645" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3647" href="Graded.Modality.Instances.Linearity.html#3647" class="Bound">¬ω</a><a id="3649" class="Symbol">)</a> <a id="3651" class="Symbol">=</a> <a id="3653" class="Keyword">record</a>
  <a id="3662" class="Symbol">{</a> <a id="3664" href="Graded.FullReduction.Assumptions.html#975" class="Field">𝟙≤𝟘</a>    <a id="3671" class="Symbol">=</a> <a id="3673" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="3680" href="Function.Base.html#1040" class="Function Operator">∘→</a> <a id="3683" href="Graded.Modality.Instances.Linearity.html#3634" class="Bound">¬Unit</a>
  <a id="3691" class="Symbol">;</a> <a id="3693" href="Graded.FullReduction.Assumptions.html#1159" class="Field">≡𝟙⊎𝟙≤𝟘</a> <a id="3700" class="Symbol">=</a> <a id="3702" class="Symbol">λ</a> <a id="3704" class="Keyword">where</a>
      <a id="3716" class="Symbol">{</a><a id="3717" class="Argument">p</a> <a id="3719" class="Symbol">=</a> <a id="3721" href="Graded.Modality.Instances.Zero-one-many.html#1350" class="InductiveConstructor">𝟘</a><a id="3722" class="Symbol">}</a> <a id="3724" href="Graded.Modality.Instances.Linearity.html#3724" class="Bound">ok</a> <a id="3727" class="Symbol">→</a> <a id="3729" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="3736" class="Symbol">(</a><a id="3737" href="Graded.Modality.Instances.Linearity.html#3642" class="Bound">¬𝟘</a> <a id="3740" class="Symbol">_</a> <a id="3742" href="Graded.Modality.Instances.Linearity.html#3724" class="Bound">ok</a><a id="3744" class="Symbol">)</a>
      <a id="3752" class="Symbol">{</a><a id="3753" class="Argument">p</a> <a id="3755" class="Symbol">=</a> <a id="3757" href="Graded.Modality.Instances.Zero-one-many.html#1354" class="InductiveConstructor">ω</a><a id="3758" class="Symbol">}</a> <a id="3760" href="Graded.Modality.Instances.Linearity.html#3760" class="Bound">ok</a> <a id="3763" class="Symbol">→</a> <a id="3765" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="3772" class="Symbol">(</a><a id="3773" href="Graded.Modality.Instances.Linearity.html#3647" class="Bound">¬ω</a> <a id="3776" class="Symbol">_</a> <a id="3778" href="Graded.Modality.Instances.Linearity.html#3760" class="Bound">ok</a><a id="3780" class="Symbol">)</a>
      <a id="3788" class="Symbol">{</a><a id="3789" class="Argument">p</a> <a id="3791" class="Symbol">=</a> <a id="3793" href="Graded.Modality.Instances.Zero-one-many.html#1352" class="InductiveConstructor">𝟙</a><a id="3794" class="Symbol">}</a> <a id="3796" class="Symbol">_</a>  <a id="3799" class="Symbol">→</a> <a id="3801" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="3806" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="3813" class="Symbol">}</a>
</pre></body></html>