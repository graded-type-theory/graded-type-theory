<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Context.Properties.Update</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties of context updates.</a>
<a id="108" class="Comment">------------------------------------------------------------------------</a>

<a id="182" class="Keyword">import</a> <a id="189" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="206" class="Keyword">module</a> <a id="213" href="Graded.Context.Properties.Update.html" class="Module">Graded.Context.Properties.Update</a>
  <a id="248" class="Symbol">{</a><a id="249" href="Graded.Context.Properties.Update.html#249" class="Bound">a</a><a id="250" class="Symbol">}</a> <a id="252" class="Symbol">{</a><a id="253" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a> <a id="255" class="Symbol">:</a> <a id="257" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="261" href="Graded.Context.Properties.Update.html#249" class="Bound">a</a><a id="262" class="Symbol">}</a>
  <a id="266" class="Symbol">(</a><a id="267" class="Keyword">open</a> <a id="272" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="288" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="289" class="Symbol">)</a>
  <a id="293" class="Symbol">(</a><a id="294" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a> <a id="296" class="Symbol">:</a> <a id="298" href="Graded.Modality.html#5282" class="Record">Modality</a><a id="306" class="Symbol">)</a>
  <a id="310" class="Keyword">where</a>

<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="344" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Graded.Context.Properties.Equivalence.html" class="Module">Graded.Context.Properties.Equivalence</a> <a id="396" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Graded.Context.Properties.Lookup.html" class="Module">Graded.Context.Properties.Lookup</a> <a id="443" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="445" class="Keyword">open</a> <a id="450" class="Keyword">import</a> <a id="457" href="Graded.Context.Properties.PartialOrder.html" class="Module">Graded.Context.Properties.PartialOrder</a> <a id="496" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Graded.Modality.Natrec-star-instances.html" class="Module">Graded.Modality.Natrec-star-instances</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="587" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>

<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="612" class="Keyword">open</a> <a id="617" class="Keyword">import</a> <a id="624" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="634" class="Keyword">using</a> <a id="640" class="Symbol">(</a><a id="641" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="644" class="Symbol">;</a> <a id="646" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a><a id="648" class="Symbol">)</a>
<a id="650" class="Keyword">open</a> <a id="655" class="Keyword">import</a> <a id="662" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="690" class="Symbol">as</a> <a id="693" class="Module">PE</a>
<a id="696" class="Keyword">import</a> <a id="703" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="732" class="Keyword">import</a> <a id="739" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="778" class="Keyword">open</a> <a id="783" href="Graded.Modality.html#5282" class="Module">Modality</a> <a id="792" href="Graded.Context.Properties.Update.html#294" class="Bound">𝕄</a>

<a id="795" class="Keyword">private</a>
  <a id="805" class="Keyword">variable</a>
    <a id="818" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a> <a id="820" class="Symbol">:</a> <a id="822" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="830" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a> <a id="832" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="834" class="Symbol">:</a> <a id="836" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a>
    <a id="842" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="844" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="846" class="Symbol">:</a> <a id="848" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="853" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a>
    <a id="859" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="861" class="Symbol">:</a> <a id="863" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="867" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a>

<a id="870" class="Comment">-- Updating a context with its own content has no effect</a>
<a id="927" class="Comment">-- (γ , x ≔ (γ ⟨ x ⟩)) ≡ γ</a>

<a id="update-self"></a><a id="955" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="967" class="Symbol">:</a> <a id="969" class="Symbol">(</a><a id="970" href="Graded.Context.Properties.Update.html#970" class="Bound">γ</a> <a id="972" class="Symbol">:</a> <a id="974" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="979" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="980" class="Symbol">)</a> <a id="982" class="Symbol">(</a><a id="983" href="Graded.Context.Properties.Update.html#983" class="Bound">x</a> <a id="985" class="Symbol">:</a> <a id="987" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="991" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="992" class="Symbol">)</a> <a id="994" class="Symbol">→</a> <a id="996" class="Symbol">(</a><a id="997" href="Graded.Context.Properties.Update.html#970" class="Bound">γ</a> <a id="999" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1001" href="Graded.Context.Properties.Update.html#983" class="Bound">x</a> <a id="1003" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1005" class="Symbol">(</a><a id="1006" href="Graded.Context.Properties.Update.html#970" class="Bound">γ</a> <a id="1008" href="Graded.Context.html#1271" class="Function Operator">⟨</a> <a id="1010" href="Graded.Context.Properties.Update.html#983" class="Bound">x</a> <a id="1012" href="Graded.Context.html#1271" class="Function Operator">⟩</a><a id="1013" class="Symbol">))</a> <a id="1016" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1018" href="Graded.Context.Properties.Update.html#970" class="Bound">γ</a>
<a id="1020" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="1032" class="Symbol">(</a><a id="1033" href="Graded.Context.Properties.Update.html#1033" class="Bound">γ</a> <a id="1035" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="1037" href="Graded.Context.Properties.Update.html#1037" class="Bound">p</a><a id="1038" class="Symbol">)</a> <a id="1040" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="1047" class="Symbol">=</a> <a id="1049" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="1057" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="1069" class="Symbol">(</a><a id="1070" href="Graded.Context.Properties.Update.html#1070" class="Bound">γ</a> <a id="1072" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="1074" href="Graded.Context.Properties.Update.html#1074" class="Bound">p</a><a id="1075" class="Symbol">)</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Graded.Context.Properties.Update.html#1078" class="Bound">x</a> <a id="1080" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="1082" class="Symbol">)</a> <a id="1084" class="Symbol">=</a> <a id="1086" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1091" class="Symbol">(</a><a id="1092" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="1095" class="Symbol">_)</a> <a id="1098" class="Symbol">(</a><a id="1099" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="1111" href="Graded.Context.Properties.Update.html#1070" class="Bound">γ</a> <a id="1113" href="Graded.Context.Properties.Update.html#1078" class="Bound">x</a><a id="1114" class="Symbol">)</a>

<a id="1117" class="Comment">-- Updating a value in 𝟘ᶜ with 𝟘 has no effect.</a>

<a id="𝟘ᶜ,≔𝟘"></a><a id="1166" href="Graded.Context.Properties.Update.html#1166" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1172" class="Symbol">:</a> <a id="1174" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="1177" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1179" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="1181" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1183" href="Graded.Modality.html#836" class="Function">𝟘</a> <a id="1185" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1187" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>
<a id="1190" href="Graded.Context.Properties.Update.html#1166" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1196" class="Symbol">{</a><a id="1197" class="Argument">x</a> <a id="1199" class="Symbol">=</a> <a id="1201" href="Graded.Context.Properties.Update.html#1201" class="Bound">x</a><a id="1202" class="Symbol">}</a> <a id="1204" class="Symbol">=</a> <a id="1206" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1214" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="1217" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1219" href="Graded.Context.Properties.Update.html#1201" class="Bound">x</a> <a id="1221" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1223" href="Graded.Modality.html#836" class="Function">𝟘</a>         <a id="1233" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="1237" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1242" class="Symbol">(λ</a> <a id="1245" href="Graded.Context.Properties.Update.html#1245" class="Bound">p</a> <a id="1247" class="Symbol">→</a> <a id="1249" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="1252" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1254" class="Symbol">_</a> <a id="1256" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1258" href="Graded.Context.Properties.Update.html#1245" class="Bound">p</a><a id="1259" class="Symbol">)</a> <a id="1261" class="Symbol">(</a><a id="1262" href="Graded.Context.Properties.Lookup.html#826" class="Function">𝟘ᶜ-lookup</a> <a id="1272" href="Graded.Context.Properties.Update.html#1201" class="Bound">x</a><a id="1273" class="Symbol">)</a> <a id="1275" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="1279" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="1282" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1284" href="Graded.Context.Properties.Update.html#1201" class="Bound">x</a> <a id="1286" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1288" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a> <a id="1291" href="Graded.Context.html#1271" class="Function Operator">⟨</a> <a id="1293" href="Graded.Context.Properties.Update.html#1201" class="Bound">x</a> <a id="1295" href="Graded.Context.html#1271" class="Function Operator">⟩</a>  <a id="1298" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1301" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="1313" class="Symbol">_</a> <a id="1315" class="Symbol">_</a> <a id="1317" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1321" href="Graded.Context.html#2211" class="Function">𝟘ᶜ</a>                 <a id="1340" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="1344" class="Keyword">where</a>
  <a id="1352" class="Keyword">open</a> <a id="1357" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1396" class="Comment">-- Updating a value in 𝟙ᶜ with 𝟙 has no effect.</a>

<a id="𝟙ᶜ,≔𝟙"></a><a id="1445" href="Graded.Context.Properties.Update.html#1445" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1451" class="Symbol">:</a> <a id="1453" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a> <a id="1456" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1458" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="1460" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1462" href="Graded.Modality.html#846" class="Function">𝟙</a> <a id="1464" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1466" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a>
<a id="1469" href="Graded.Context.Properties.Update.html#1445" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1475" class="Symbol">{</a><a id="1476" class="Argument">x</a> <a id="1478" class="Symbol">=</a> <a id="1480" href="Graded.Context.Properties.Update.html#1480" class="Bound">x</a><a id="1481" class="Symbol">}</a> <a id="1483" class="Symbol">=</a> <a id="1485" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1493" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a> <a id="1496" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1498" href="Graded.Context.Properties.Update.html#1480" class="Bound">x</a> <a id="1500" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1502" href="Graded.Modality.html#846" class="Function">𝟙</a>         <a id="1512" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="1516" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1521" class="Symbol">(λ</a> <a id="1524" href="Graded.Context.Properties.Update.html#1524" class="Bound">p</a> <a id="1526" class="Symbol">→</a> <a id="1528" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a> <a id="1531" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1533" class="Symbol">_</a> <a id="1535" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1537" href="Graded.Context.Properties.Update.html#1524" class="Bound">p</a><a id="1538" class="Symbol">)</a> <a id="1540" class="Symbol">(</a><a id="1541" href="Graded.Context.Properties.Lookup.html#974" class="Function">𝟙ᶜ-lookup</a> <a id="1551" href="Graded.Context.Properties.Update.html#1480" class="Bound">x</a><a id="1552" class="Symbol">)</a> <a id="1554" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="1558" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a> <a id="1561" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1563" href="Graded.Context.Properties.Update.html#1480" class="Bound">x</a> <a id="1565" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1567" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a> <a id="1570" href="Graded.Context.html#1271" class="Function Operator">⟨</a> <a id="1572" href="Graded.Context.Properties.Update.html#1480" class="Bound">x</a> <a id="1574" href="Graded.Context.html#1271" class="Function Operator">⟩</a>  <a id="1577" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1580" href="Graded.Context.Properties.Update.html#955" class="Function">update-self</a> <a id="1592" class="Symbol">_</a> <a id="1594" class="Symbol">_</a> <a id="1596" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1600" href="Graded.Context.html#2291" class="Function">𝟙ᶜ</a>                 <a id="1619" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="1623" class="Keyword">where</a>
  <a id="1631" class="Keyword">open</a> <a id="1636" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1675" class="Comment">-- If a given position is updated twice, then the first update has no</a>
<a id="1745" class="Comment">-- effect.</a>

<a id="update-twice"></a><a id="1757" href="Graded.Context.Properties.Update.html#1757" class="Function">update-twice</a> <a id="1770" class="Symbol">:</a> <a id="1772" class="Symbol">(</a><a id="1773" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="1775" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1777" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="1779" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1781" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="1782" class="Symbol">)</a> <a id="1784" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1786" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="1788" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1790" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="1792" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1794" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="1796" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="1798" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="1800" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="1802" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a>
<a id="1804" href="Graded.Context.Properties.Update.html#1757" class="Function">update-twice</a> <a id="1817" class="Symbol">{</a><a id="1818" class="Argument">γ</a> <a id="1820" class="Symbol">=</a> <a id="1822" class="Symbol">_</a> <a id="1824" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="1826" class="Symbol">_}</a> <a id="1829" class="Symbol">{</a><a id="1830" class="Argument">x</a> <a id="1832" class="Symbol">=</a> <a id="1834" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="1836" class="Symbol">}</a>   <a id="1840" class="Symbol">=</a> <a id="1842" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="1850" href="Graded.Context.Properties.Update.html#1757" class="Function">update-twice</a> <a id="1863" class="Symbol">{</a><a id="1864" class="Argument">γ</a> <a id="1866" class="Symbol">=</a> <a id="1868" class="Symbol">_</a> <a id="1870" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="1872" class="Symbol">_}</a> <a id="1875" class="Symbol">{</a><a id="1876" class="Argument">x</a> <a id="1878" class="Symbol">=</a> <a id="1880" href="Graded.Context.Properties.Update.html#1880" class="Bound">x</a> <a id="1882" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="1884" class="Symbol">}</a> <a id="1886" class="Symbol">=</a> <a id="1888" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1893" class="Symbol">(</a><a id="1894" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="1897" class="Symbol">_)</a> <a id="1900" href="Graded.Context.Properties.Update.html#1757" class="Function">update-twice</a>

<a id="1914" class="Comment">-- Context update is a monotone function with regards to the context</a>
<a id="1983" class="Comment">-- If γ ≤ᶜ δ then (γ , x ≔ p) ≤ᶜ (δ , x ≔ p)</a>

<a id="update-monotoneˡ"></a><a id="2029" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="2046" class="Symbol">:</a> <a id="2048" class="Symbol">(</a><a id="2049" href="Graded.Context.Properties.Update.html#2049" class="Bound">x</a> <a id="2051" class="Symbol">:</a> <a id="2053" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2057" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="2058" class="Symbol">)</a> <a id="2060" class="Symbol">→</a> <a id="2062" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2064" href="Graded.Context.html#1864" class="Function Operator">≤ᶜ</a> <a id="2067" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="2069" class="Symbol">→</a> <a id="2071" class="Symbol">(</a><a id="2072" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2074" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2076" href="Graded.Context.Properties.Update.html#2049" class="Bound">x</a> <a id="2078" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2080" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="2081" class="Symbol">)</a> <a id="2083" href="Graded.Context.html#1864" class="Function Operator">≤ᶜ</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="2089" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2091" href="Graded.Context.Properties.Update.html#2049" class="Bound">x</a> <a id="2093" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2095" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="2096" class="Symbol">)</a>
<a id="2098" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="2115" class="Symbol">{</a><a id="2116" class="Argument">γ</a> <a id="2118" class="Symbol">=</a> <a id="2120" href="Graded.Context.Properties.Update.html#2120" class="Bound">γ</a> <a id="2122" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2124" href="Graded.Context.Properties.Update.html#2124" class="Bound">p</a><a id="2125" class="Symbol">}</a> <a id="2127" class="Symbol">{</a><a id="2128" href="Graded.Context.Properties.Update.html#2128" class="Bound">δ</a> <a id="2130" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2132" href="Graded.Context.Properties.Update.html#2132" class="Bound">q</a><a id="2133" class="Symbol">}</a> <a id="2135" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="2138" class="Symbol">(</a><a id="2139" href="Graded.Context.Properties.Update.html#2139" class="Bound">γ≤δ</a> <a id="2143" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2145" class="Symbol">_)</a>        <a id="2155" class="Symbol">=</a> <a id="2157" href="Graded.Context.Properties.Update.html#2139" class="Bound">γ≤δ</a> <a id="2161" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2163" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a>
<a id="2170" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="2187" class="Symbol">{</a><a id="2188" class="Argument">γ</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="Graded.Context.Properties.Update.html#2192" class="Bound">γ</a> <a id="2194" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2196" href="Graded.Context.Properties.Update.html#2196" class="Bound">p</a><a id="2197" class="Symbol">}</a> <a id="2199" class="Symbol">{</a><a id="2200" href="Graded.Context.Properties.Update.html#2200" class="Bound">δ</a> <a id="2202" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2204" href="Graded.Context.Properties.Update.html#2204" class="Bound">q</a><a id="2205" class="Symbol">}</a> <a id="2207" class="Symbol">(</a><a id="2208" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">_+1</a> <a id="2212" href="Graded.Context.Properties.Update.html#2212" class="Bound">x</a><a id="2213" class="Symbol">)</a> <a id="2215" class="Symbol">(</a><a id="2216" href="Graded.Context.Properties.Update.html#2216" class="Bound">γ≤δ</a> <a id="2220" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2222" href="Graded.Context.Properties.Update.html#2222" class="Bound">p≤q</a><a id="2225" class="Symbol">)</a> <a id="2227" class="Symbol">=</a> <a id="2229" class="Symbol">(</a><a id="2230" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="2247" href="Graded.Context.Properties.Update.html#2212" class="Bound">x</a> <a id="2249" href="Graded.Context.Properties.Update.html#2216" class="Bound">γ≤δ</a><a id="2252" class="Symbol">)</a> <a id="2254" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2256" href="Graded.Context.Properties.Update.html#2222" class="Bound">p≤q</a>

<a id="2261" class="Comment">-- Context update is monotone with regards to the inserted element</a>
<a id="2328" class="Comment">-- If p ≤ q then( γ , x ≔ p) ≤ᶜ (γ , x ≔ q)</a>

<a id="update-monotoneʳ"></a><a id="2373" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="2390" class="Symbol">:</a> <a id="2392" class="Symbol">(</a><a id="2393" href="Graded.Context.Properties.Update.html#2393" class="Bound">x</a> <a id="2395" class="Symbol">:</a> <a id="2397" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2401" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="2402" class="Symbol">)</a> <a id="2404" class="Symbol">→</a> <a id="2406" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a> <a id="2408" href="Graded.Modality.html#1271" class="Function Operator">≤</a> <a id="2410" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="2412" class="Symbol">→</a> <a id="2414" class="Symbol">(</a><a id="2415" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2417" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2419" href="Graded.Context.Properties.Update.html#2393" class="Bound">x</a> <a id="2421" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2423" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="2424" class="Symbol">)</a> <a id="2426" href="Graded.Context.html#1864" class="Function Operator">≤ᶜ</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2432" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2434" href="Graded.Context.Properties.Update.html#2393" class="Bound">x</a> <a id="2436" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2438" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a><a id="2439" class="Symbol">)</a>
<a id="2441" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="2458" class="Symbol">{</a><a id="2459" class="Argument">γ</a> <a id="2461" class="Symbol">=</a> <a id="2463" href="Graded.Context.Properties.Update.html#2463" class="Bound">γ</a> <a id="2465" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2467" href="Graded.Context.Properties.Update.html#2467" class="Bound">p</a><a id="2468" class="Symbol">}</a> <a id="2470" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="2473" href="Graded.Context.Properties.Update.html#2473" class="Bound">p≤q</a>     <a id="2481" class="Symbol">=</a> <a id="2483" href="Graded.Context.Properties.PartialOrder.html#620" class="Function">≤ᶜ-refl</a> <a id="2491" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2493" href="Graded.Context.Properties.Update.html#2473" class="Bound">p≤q</a>
<a id="2497" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="2514" class="Symbol">{</a><a id="2515" class="Argument">γ</a> <a id="2517" class="Symbol">=</a> <a id="2519" href="Graded.Context.Properties.Update.html#2519" class="Bound">γ</a> <a id="2521" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="2523" href="Graded.Context.Properties.Update.html#2523" class="Bound">p</a><a id="2524" class="Symbol">}</a> <a id="2526" class="Symbol">(</a><a id="2527" href="Graded.Context.Properties.Update.html#2527" class="Bound">x</a> <a id="2529" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="2531" class="Symbol">)</a> <a id="2533" href="Graded.Context.Properties.Update.html#2533" class="Bound">p≤q</a> <a id="2537" class="Symbol">=</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="2557" href="Graded.Context.Properties.Update.html#2527" class="Bound">x</a> <a id="2559" href="Graded.Context.Properties.Update.html#2533" class="Bound">p≤q</a><a id="2562" class="Symbol">)</a> <a id="2564" href="Graded.Context.html#894" class="InductiveConstructor Operator">∙</a> <a id="2566" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a>

<a id="2574" class="Comment">-- Context update is monotone.</a>

<a id="update-monotone"></a><a id="2606" href="Graded.Context.Properties.Update.html#2606" class="Function">update-monotone</a> <a id="2622" class="Symbol">:</a>
  <a id="2626" class="Symbol">(</a><a id="2627" href="Graded.Context.Properties.Update.html#2627" class="Bound">x</a> <a id="2629" class="Symbol">:</a> <a id="2631" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2635" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Symbol">→</a> <a id="2640" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2642" href="Graded.Context.html#1864" class="Function Operator">≤ᶜ</a> <a id="2645" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="2647" class="Symbol">→</a> <a id="2649" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a> <a id="2651" href="Graded.Modality.html#1271" class="Function Operator">≤</a> <a id="2653" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="2655" class="Symbol">→</a> <a id="2657" class="Symbol">(</a><a id="2658" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2660" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2662" href="Graded.Context.Properties.Update.html#2627" class="Bound">x</a> <a id="2664" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2666" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="2667" class="Symbol">)</a> <a id="2669" href="Graded.Context.html#1864" class="Function Operator">≤ᶜ</a> <a id="2672" class="Symbol">(</a><a id="2673" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="2675" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2677" href="Graded.Context.Properties.Update.html#2627" class="Bound">x</a> <a id="2679" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2681" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a><a id="2682" class="Symbol">)</a>
<a id="2684" href="Graded.Context.Properties.Update.html#2606" class="Function">update-monotone</a> <a id="2700" class="Symbol">{</a><a id="2701" class="Argument">γ</a> <a id="2703" class="Symbol">=</a> <a id="2705" href="Graded.Context.Properties.Update.html#2705" class="Bound">γ</a><a id="2706" class="Symbol">}</a> <a id="2708" class="Symbol">{</a><a id="2709" class="Argument">δ</a> <a id="2711" class="Symbol">=</a> <a id="2713" href="Graded.Context.Properties.Update.html#2713" class="Bound">δ</a><a id="2714" class="Symbol">}</a> <a id="2716" class="Symbol">{</a><a id="2717" class="Argument">p</a> <a id="2719" class="Symbol">=</a> <a id="2721" href="Graded.Context.Properties.Update.html#2721" class="Bound">p</a><a id="2722" class="Symbol">}</a> <a id="2724" class="Symbol">{</a><a id="2725" class="Argument">q</a> <a id="2727" class="Symbol">=</a> <a id="2729" href="Graded.Context.Properties.Update.html#2729" class="Bound">q</a><a id="2730" class="Symbol">}</a> <a id="2732" href="Graded.Context.Properties.Update.html#2732" class="Bound">x</a> <a id="2734" href="Graded.Context.Properties.Update.html#2734" class="Bound">γ≤δ</a> <a id="2738" href="Graded.Context.Properties.Update.html#2738" class="Bound">p≤q</a> <a id="2742" class="Symbol">=</a> <a id="2744" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
  <a id="2752" href="Graded.Context.Properties.Update.html#2705" class="Bound">γ</a> <a id="2754" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2756" href="Graded.Context.Properties.Update.html#2732" class="Bound">x</a> <a id="2758" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2760" href="Graded.Context.Properties.Update.html#2721" class="Bound">p</a>  <a id="2763" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2766" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="2783" class="Symbol">_</a> <a id="2785" href="Graded.Context.Properties.Update.html#2734" class="Bound">γ≤δ</a> <a id="2789" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
  <a id="2793" href="Graded.Context.Properties.Update.html#2713" class="Bound">δ</a> <a id="2795" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2797" href="Graded.Context.Properties.Update.html#2732" class="Bound">x</a> <a id="2799" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2801" href="Graded.Context.Properties.Update.html#2721" class="Bound">p</a>  <a id="2804" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2807" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="2824" class="Symbol">_</a> <a id="2826" href="Graded.Context.Properties.Update.html#2738" class="Bound">p≤q</a> <a id="2830" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
  <a id="2834" href="Graded.Context.Properties.Update.html#2713" class="Bound">δ</a> <a id="2836" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="2838" href="Graded.Context.Properties.Update.html#2732" class="Bound">x</a> <a id="2840" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="2842" href="Graded.Context.Properties.Update.html#2729" class="Bound">q</a>  <a id="2845" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="2849" class="Keyword">where</a>
  <a id="2857" class="Keyword">open</a> <a id="2862" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="2891" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a>

<a id="2901" class="Comment">-- The update operation preserves equivalence in its first argument.</a>

<a id="update-congˡ"></a><a id="2971" href="Graded.Context.Properties.Update.html#2971" class="Function">update-congˡ</a> <a id="2984" class="Symbol">:</a> <a id="2986" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2988" href="Graded.Context.html#843" class="Datatype Operator">≈ᶜ</a> <a id="2991" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="2993" class="Symbol">→</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="2998" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3000" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3002" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3004" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="3005" class="Symbol">)</a> <a id="3007" href="Graded.Context.html#843" class="Datatype Operator">≈ᶜ</a> <a id="3010" class="Symbol">(</a><a id="3011" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="3013" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3015" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3017" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3019" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="3020" class="Symbol">)</a>
<a id="3022" href="Graded.Context.Properties.Update.html#2971" class="Function">update-congˡ</a> <a id="3035" href="Graded.Context.Properties.Update.html#3035" class="Bound">γ≈ᶜδ</a> <a id="3040" class="Symbol">=</a>
  <a id="3044" href="Graded.Context.Properties.PartialOrder.html#988" class="Function">≤ᶜ-antisym</a> <a id="3055" class="Symbol">(</a><a id="3056" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="3073" class="Symbol">_</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Graded.Context.Properties.PartialOrder.html#1223" class="Function">≤ᶜ-reflexive</a> <a id="3089" href="Graded.Context.Properties.Update.html#3035" class="Bound">γ≈ᶜδ</a><a id="3093" class="Symbol">))</a>
    <a id="3100" class="Symbol">(</a><a id="3101" href="Graded.Context.Properties.Update.html#2029" class="Function">update-monotoneˡ</a> <a id="3118" class="Symbol">_</a> <a id="3120" class="Symbol">(</a><a id="3121" href="Graded.Context.Properties.PartialOrder.html#1223" class="Function">≤ᶜ-reflexive</a> <a id="3134" class="Symbol">(</a><a id="3135" href="Graded.Context.Properties.Equivalence.html#897" class="Function">≈ᶜ-sym</a> <a id="3142" href="Graded.Context.Properties.Update.html#3035" class="Bound">γ≈ᶜδ</a><a id="3146" class="Symbol">)))</a>

<a id="3151" class="Comment">-- The update operation preserves equivalence in its third argument.</a>

<a id="update-congʳ"></a><a id="3221" href="Graded.Context.Properties.Update.html#3221" class="Function">update-congʳ</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a> <a id="3238" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3240" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="3242" class="Symbol">→</a> <a id="3244" class="Symbol">(</a><a id="3245" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="3247" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3249" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3251" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3253" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="3254" class="Symbol">)</a> <a id="3256" href="Graded.Context.html#843" class="Datatype Operator">≈ᶜ</a> <a id="3259" class="Symbol">(</a><a id="3260" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="3262" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3264" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3266" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3268" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a><a id="3269" class="Symbol">)</a>
<a id="3271" href="Graded.Context.Properties.Update.html#3221" class="Function">update-congʳ</a> <a id="3284" href="Graded.Context.Properties.Update.html#3284" class="Bound">p≡q</a> <a id="3288" class="Symbol">=</a>
  <a id="3292" href="Graded.Context.Properties.PartialOrder.html#988" class="Function">≤ᶜ-antisym</a> <a id="3303" class="Symbol">(</a><a id="3304" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="3321" class="Symbol">_</a> <a id="3323" class="Symbol">(</a><a id="3324" href="Graded.Modality.Properties.PartialOrder.html#1015" class="Function">≤-reflexive</a> <a id="3336" href="Graded.Context.Properties.Update.html#3284" class="Bound">p≡q</a><a id="3339" class="Symbol">))</a>
    <a id="3346" class="Symbol">(</a><a id="3347" href="Graded.Context.Properties.Update.html#2373" class="Function">update-monotoneʳ</a> <a id="3364" class="Symbol">_</a> <a id="3366" class="Symbol">(</a><a id="3367" href="Graded.Modality.Properties.PartialOrder.html#1015" class="Function">≤-reflexive</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="3384" href="Graded.Context.Properties.Update.html#3284" class="Bound">p≡q</a><a id="3387" class="Symbol">)))</a>

<a id="3392" class="Comment">-- The update operation preserves equivalence in its first and third</a>
<a id="3461" class="Comment">-- arguments.</a>

<a id="update-cong"></a><a id="3476" href="Graded.Context.Properties.Update.html#3476" class="Function">update-cong</a> <a id="3488" class="Symbol">:</a> <a id="3490" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="3492" href="Graded.Context.html#843" class="Datatype Operator">≈ᶜ</a> <a id="3495" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="3497" class="Symbol">→</a> <a id="3499" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a> <a id="3501" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3503" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a> <a id="3505" class="Symbol">→</a> <a id="3507" class="Symbol">(</a><a id="3508" href="Graded.Context.Properties.Update.html#842" class="Generalizable">γ</a> <a id="3510" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3512" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3514" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3516" href="Graded.Context.Properties.Update.html#830" class="Generalizable">p</a><a id="3517" class="Symbol">)</a> <a id="3519" href="Graded.Context.html#843" class="Datatype Operator">≈ᶜ</a> <a id="3522" class="Symbol">(</a><a id="3523" href="Graded.Context.Properties.Update.html#844" class="Generalizable">δ</a> <a id="3525" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3527" href="Graded.Context.Properties.Update.html#859" class="Generalizable">x</a> <a id="3529" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3531" href="Graded.Context.Properties.Update.html#832" class="Generalizable">q</a><a id="3532" class="Symbol">)</a>
<a id="3534" href="Graded.Context.Properties.Update.html#3476" class="Function">update-cong</a> <a id="3546" href="Graded.Context.Properties.Update.html#3546" class="Bound">γ≈ᶜδ</a> <a id="3551" href="Graded.Context.Properties.Update.html#3551" class="Bound">p≡q</a> <a id="3555" class="Symbol">=</a>
  <a id="3559" href="Graded.Context.Properties.Equivalence.html#669" class="Function">≈ᶜ-trans</a> <a id="3568" class="Symbol">(</a><a id="3569" href="Graded.Context.Properties.Update.html#2971" class="Function">update-congˡ</a> <a id="3582" href="Graded.Context.Properties.Update.html#3546" class="Bound">γ≈ᶜδ</a><a id="3586" class="Symbol">)</a> <a id="3588" class="Symbol">(</a><a id="3589" href="Graded.Context.Properties.Update.html#3221" class="Function">update-congʳ</a> <a id="3602" href="Graded.Context.Properties.Update.html#3551" class="Bound">p≡q</a><a id="3605" class="Symbol">)</a>

<a id="3608" class="Comment">-- Context update distributes over addition</a>
<a id="3652" class="Comment">-- (γ +ᶜ δ) , x ≔ (p + q) ≡ (γ , x ≔ p) +ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-+ᶜ"></a><a id="3708" href="Graded.Context.Properties.Update.html#3708" class="Function">update-distrib-+ᶜ</a> <a id="3726" class="Symbol">:</a> <a id="3728" class="Symbol">(</a><a id="3729" href="Graded.Context.Properties.Update.html#3729" class="Bound">γ</a> <a id="3731" href="Graded.Context.Properties.Update.html#3731" class="Bound">δ</a> <a id="3733" class="Symbol">:</a> <a id="3735" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="3740" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="3741" class="Symbol">)</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Graded.Context.Properties.Update.html#3744" class="Bound">p</a> <a id="3746" href="Graded.Context.Properties.Update.html#3746" class="Bound">q</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="3751" class="Symbol">)</a> <a id="3753" class="Symbol">(</a><a id="3754" href="Graded.Context.Properties.Update.html#3754" class="Bound">x</a> <a id="3756" class="Symbol">:</a> <a id="3758" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="3762" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="3763" class="Symbol">)</a>
                  <a id="3783" class="Symbol">→</a> <a id="3785" class="Symbol">(</a><a id="3786" href="Graded.Context.Properties.Update.html#3729" class="Bound">γ</a> <a id="3788" href="Graded.Context.html#1510" class="Function Operator">+ᶜ</a> <a id="3791" href="Graded.Context.Properties.Update.html#3731" class="Bound">δ</a><a id="3792" class="Symbol">)</a> <a id="3794" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3796" href="Graded.Context.Properties.Update.html#3754" class="Bound">x</a> <a id="3798" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3800" class="Symbol">(</a><a id="3801" href="Graded.Context.Properties.Update.html#3744" class="Bound">p</a> <a id="3803" href="Graded.Modality.html#713" class="Function Operator">+</a> <a id="3805" href="Graded.Context.Properties.Update.html#3746" class="Bound">q</a><a id="3806" class="Symbol">)</a> <a id="3808" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3810" class="Symbol">(</a><a id="3811" href="Graded.Context.Properties.Update.html#3729" class="Bound">γ</a> <a id="3813" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3815" href="Graded.Context.Properties.Update.html#3754" class="Bound">x</a> <a id="3817" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3819" href="Graded.Context.Properties.Update.html#3744" class="Bound">p</a><a id="3820" class="Symbol">)</a> <a id="3822" href="Graded.Context.html#1510" class="Function Operator">+ᶜ</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Graded.Context.Properties.Update.html#3731" class="Bound">δ</a> <a id="3828" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="3830" href="Graded.Context.Properties.Update.html#3754" class="Bound">x</a> <a id="3832" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="3834" href="Graded.Context.Properties.Update.html#3746" class="Bound">q</a><a id="3835" class="Symbol">)</a>
<a id="3837" href="Graded.Context.Properties.Update.html#3708" class="Function">update-distrib-+ᶜ</a> <a id="3855" class="Symbol">(</a><a id="3856" href="Graded.Context.Properties.Update.html#3856" class="Bound">γ</a> <a id="3858" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="3860" href="Graded.Context.Properties.Update.html#3860" class="Bound">p′</a><a id="3862" class="Symbol">)</a> <a id="3864" class="Symbol">(</a><a id="3865" href="Graded.Context.Properties.Update.html#3865" class="Bound">δ</a> <a id="3867" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="3869" href="Graded.Context.Properties.Update.html#3869" class="Bound">q′</a><a id="3871" class="Symbol">)</a> <a id="3873" href="Graded.Context.Properties.Update.html#3873" class="Bound">p</a> <a id="3875" href="Graded.Context.Properties.Update.html#3875" class="Bound">q</a> <a id="3877" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="3884" class="Symbol">=</a> <a id="3886" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="3894" href="Graded.Context.Properties.Update.html#3708" class="Function">update-distrib-+ᶜ</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Graded.Context.Properties.Update.html#3913" class="Bound">γ</a> <a id="3915" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="3917" href="Graded.Context.Properties.Update.html#3917" class="Bound">p′</a><a id="3919" class="Symbol">)</a> <a id="3921" class="Symbol">(</a><a id="3922" href="Graded.Context.Properties.Update.html#3922" class="Bound">δ</a> <a id="3924" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="3926" href="Graded.Context.Properties.Update.html#3926" class="Bound">q′</a><a id="3928" class="Symbol">)</a> <a id="3930" href="Graded.Context.Properties.Update.html#3930" class="Bound">p</a> <a id="3932" href="Graded.Context.Properties.Update.html#3932" class="Bound">q</a> <a id="3934" class="Symbol">(</a><a id="3935" href="Graded.Context.Properties.Update.html#3935" class="Bound">x</a> <a id="3937" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3939" class="Symbol">)</a> <a id="3941" class="Symbol">=</a> <a id="3943" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="3952" class="Symbol">_)</a> <a id="3955" class="Symbol">(</a><a id="3956" href="Graded.Context.Properties.Update.html#3708" class="Function">update-distrib-+ᶜ</a> <a id="3974" href="Graded.Context.Properties.Update.html#3913" class="Bound">γ</a> <a id="3976" href="Graded.Context.Properties.Update.html#3922" class="Bound">δ</a> <a id="3978" href="Graded.Context.Properties.Update.html#3930" class="Bound">p</a> <a id="3980" href="Graded.Context.Properties.Update.html#3932" class="Bound">q</a> <a id="3982" href="Graded.Context.Properties.Update.html#3935" class="Bound">x</a><a id="3983" class="Symbol">)</a>

<a id="3986" class="Comment">-- Context update distributes over multiplication</a>
<a id="4036" class="Comment">-- (p ·ᶜ γ) , x ≔ (p · q) ≡ p ·ᶜ (γ , x ≔ q)</a>

<a id="update-distrib-·ᶜ"></a><a id="4082" href="Graded.Context.Properties.Update.html#4082" class="Function">update-distrib-·ᶜ</a> <a id="4100" class="Symbol">:</a> <a id="4102" class="Symbol">(</a><a id="4103" href="Graded.Context.Properties.Update.html#4103" class="Bound">γ</a> <a id="4105" class="Symbol">:</a> <a id="4107" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="4112" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4113" class="Symbol">)</a> <a id="4115" class="Symbol">(</a><a id="4116" href="Graded.Context.Properties.Update.html#4116" class="Bound">p</a> <a id="4118" href="Graded.Context.Properties.Update.html#4118" class="Bound">q</a> <a id="4120" class="Symbol">:</a> <a id="4122" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="4123" class="Symbol">)</a> <a id="4125" class="Symbol">(</a><a id="4126" href="Graded.Context.Properties.Update.html#4126" class="Bound">x</a> <a id="4128" class="Symbol">:</a> <a id="4130" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4134" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4135" class="Symbol">)</a>
                  <a id="4155" class="Symbol">→</a> <a id="4157" class="Symbol">(</a><a id="4158" href="Graded.Context.Properties.Update.html#4116" class="Bound">p</a> <a id="4160" href="Graded.Context.html#1742" class="Function Operator">·ᶜ</a> <a id="4163" href="Graded.Context.Properties.Update.html#4103" class="Bound">γ</a><a id="4164" class="Symbol">)</a> <a id="4166" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4168" href="Graded.Context.Properties.Update.html#4126" class="Bound">x</a> <a id="4170" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4172" class="Symbol">(</a><a id="4173" href="Graded.Context.Properties.Update.html#4116" class="Bound">p</a> <a id="4175" href="Graded.Modality.html#741" class="Function Operator">·</a> <a id="4177" href="Graded.Context.Properties.Update.html#4118" class="Bound">q</a><a id="4178" class="Symbol">)</a> <a id="4180" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4182" href="Graded.Context.Properties.Update.html#4116" class="Bound">p</a> <a id="4184" href="Graded.Context.html#1742" class="Function Operator">·ᶜ</a> <a id="4187" class="Symbol">(</a><a id="4188" href="Graded.Context.Properties.Update.html#4103" class="Bound">γ</a> <a id="4190" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4192" href="Graded.Context.Properties.Update.html#4126" class="Bound">x</a> <a id="4194" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4196" href="Graded.Context.Properties.Update.html#4118" class="Bound">q</a><a id="4197" class="Symbol">)</a>
<a id="4199" href="Graded.Context.Properties.Update.html#4082" class="Function">update-distrib-·ᶜ</a> <a id="4217" class="Symbol">(</a><a id="4218" href="Graded.Context.Properties.Update.html#4218" class="Bound">γ</a> <a id="4220" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4222" href="Graded.Context.Properties.Update.html#4222" class="Bound">r</a><a id="4223" class="Symbol">)</a> <a id="4225" href="Graded.Context.Properties.Update.html#4225" class="Bound">p</a> <a id="4227" href="Graded.Context.Properties.Update.html#4227" class="Bound">q</a> <a id="4229" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="4236" class="Symbol">=</a> <a id="4238" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="4246" href="Graded.Context.Properties.Update.html#4082" class="Function">update-distrib-·ᶜ</a> <a id="4264" class="Symbol">(</a><a id="4265" href="Graded.Context.Properties.Update.html#4265" class="Bound">γ</a> <a id="4267" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4269" href="Graded.Context.Properties.Update.html#4269" class="Bound">r</a><a id="4270" class="Symbol">)</a> <a id="4272" href="Graded.Context.Properties.Update.html#4272" class="Bound">p</a> <a id="4274" href="Graded.Context.Properties.Update.html#4274" class="Bound">q</a> <a id="4276" class="Symbol">(</a><a id="4277" href="Graded.Context.Properties.Update.html#4277" class="Bound">x</a> <a id="4279" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4281" class="Symbol">)</a> <a id="4283" class="Symbol">=</a> <a id="4285" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4290" class="Symbol">(</a><a id="4291" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="4294" class="Symbol">_)</a> <a id="4297" class="Symbol">(</a><a id="4298" href="Graded.Context.Properties.Update.html#4082" class="Function">update-distrib-·ᶜ</a> <a id="4316" href="Graded.Context.Properties.Update.html#4265" class="Bound">γ</a> <a id="4318" href="Graded.Context.Properties.Update.html#4272" class="Bound">p</a> <a id="4320" href="Graded.Context.Properties.Update.html#4274" class="Bound">q</a> <a id="4322" href="Graded.Context.Properties.Update.html#4277" class="Bound">x</a><a id="4323" class="Symbol">)</a>

<a id="4326" class="Comment">-- Context update distributes over meet</a>
<a id="4366" class="Comment">-- (γ ∧ᶜ δ) , x ≔ (p ∧ q) ≡ (γ , x ≔ p) ∧ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-∧ᶜ"></a><a id="4422" href="Graded.Context.Properties.Update.html#4422" class="Function">update-distrib-∧ᶜ</a> <a id="4440" class="Symbol">:</a> <a id="4442" class="Symbol">(</a><a id="4443" href="Graded.Context.Properties.Update.html#4443" class="Bound">γ</a> <a id="4445" href="Graded.Context.Properties.Update.html#4445" class="Bound">δ</a> <a id="4447" class="Symbol">:</a> <a id="4449" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="4454" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4455" class="Symbol">)</a> <a id="4457" class="Symbol">(</a><a id="4458" href="Graded.Context.Properties.Update.html#4458" class="Bound">p</a> <a id="4460" href="Graded.Context.Properties.Update.html#4460" class="Bound">q</a> <a id="4462" class="Symbol">:</a> <a id="4464" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="4465" class="Symbol">)</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Graded.Context.Properties.Update.html#4468" class="Bound">x</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4476" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4477" class="Symbol">)</a>
                  <a id="4497" class="Symbol">→</a> <a id="4499" class="Symbol">(</a><a id="4500" href="Graded.Context.Properties.Update.html#4443" class="Bound">γ</a> <a id="4502" href="Graded.Context.html#1630" class="Function Operator">∧ᶜ</a> <a id="4505" href="Graded.Context.Properties.Update.html#4445" class="Bound">δ</a><a id="4506" class="Symbol">)</a> <a id="4508" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4510" href="Graded.Context.Properties.Update.html#4468" class="Bound">x</a> <a id="4512" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4514" class="Symbol">(</a><a id="4515" href="Graded.Context.Properties.Update.html#4458" class="Bound">p</a> <a id="4517" href="Graded.Modality.html#775" class="Function Operator">∧</a> <a id="4519" href="Graded.Context.Properties.Update.html#4460" class="Bound">q</a><a id="4520" class="Symbol">)</a> <a id="4522" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4524" class="Symbol">(</a><a id="4525" href="Graded.Context.Properties.Update.html#4443" class="Bound">γ</a> <a id="4527" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4529" href="Graded.Context.Properties.Update.html#4468" class="Bound">x</a> <a id="4531" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4533" href="Graded.Context.Properties.Update.html#4458" class="Bound">p</a><a id="4534" class="Symbol">)</a> <a id="4536" href="Graded.Context.html#1630" class="Function Operator">∧ᶜ</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Graded.Context.Properties.Update.html#4445" class="Bound">δ</a> <a id="4542" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4544" href="Graded.Context.Properties.Update.html#4468" class="Bound">x</a> <a id="4546" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4548" href="Graded.Context.Properties.Update.html#4460" class="Bound">q</a><a id="4549" class="Symbol">)</a>
<a id="4551" href="Graded.Context.Properties.Update.html#4422" class="Function">update-distrib-∧ᶜ</a> <a id="4569" class="Symbol">(</a><a id="4570" href="Graded.Context.Properties.Update.html#4570" class="Bound">γ</a> <a id="4572" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4574" href="Graded.Context.Properties.Update.html#4574" class="Bound">p′</a><a id="4576" class="Symbol">)</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Graded.Context.Properties.Update.html#4579" class="Bound">δ</a> <a id="4581" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4583" href="Graded.Context.Properties.Update.html#4583" class="Bound">q′</a><a id="4585" class="Symbol">)</a> <a id="4587" href="Graded.Context.Properties.Update.html#4587" class="Bound">p</a> <a id="4589" href="Graded.Context.Properties.Update.html#4589" class="Bound">q</a> <a id="4591" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="4594" class="Symbol">=</a> <a id="4596" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="4604" href="Graded.Context.Properties.Update.html#4422" class="Function">update-distrib-∧ᶜ</a> <a id="4622" class="Symbol">(</a><a id="4623" href="Graded.Context.Properties.Update.html#4623" class="Bound">γ</a> <a id="4625" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4627" href="Graded.Context.Properties.Update.html#4627" class="Bound">p′</a><a id="4629" class="Symbol">)</a> <a id="4631" class="Symbol">(</a><a id="4632" href="Graded.Context.Properties.Update.html#4632" class="Bound">δ</a> <a id="4634" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4636" href="Graded.Context.Properties.Update.html#4636" class="Bound">q′</a><a id="4638" class="Symbol">)</a> <a id="4640" href="Graded.Context.Properties.Update.html#4640" class="Bound">p</a> <a id="4642" href="Graded.Context.Properties.Update.html#4642" class="Bound">q</a> <a id="4644" class="Symbol">(</a><a id="4645" href="Graded.Context.Properties.Update.html#4645" class="Bound">x</a> <a id="4647" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4649" class="Symbol">)</a> <a id="4651" class="Symbol">=</a> <a id="4653" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4658" class="Symbol">(</a><a id="4659" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="4662" class="Symbol">_)</a> <a id="4665" class="Symbol">(</a><a id="4666" href="Graded.Context.Properties.Update.html#4422" class="Function">update-distrib-∧ᶜ</a> <a id="4684" href="Graded.Context.Properties.Update.html#4623" class="Bound">γ</a> <a id="4686" href="Graded.Context.Properties.Update.html#4632" class="Bound">δ</a> <a id="4688" href="Graded.Context.Properties.Update.html#4640" class="Bound">p</a> <a id="4690" href="Graded.Context.Properties.Update.html#4642" class="Bound">q</a> <a id="4692" href="Graded.Context.Properties.Update.html#4645" class="Bound">x</a><a id="4693" class="Symbol">)</a>

<a id="4696" class="Comment">-- Context update distributes over ⊛ᶜ</a>
<a id="4734" class="Comment">-- γ ⊛ᶜ δ ▷ r , x ≔ p ⊛ q ▷ r ≡ (γ , x ≔ p) ⊛ᶜ (δ , x ≔ q) ▷ r</a>

<a id="update-distrib-⊛ᶜ"></a><a id="4798" href="Graded.Context.Properties.Update.html#4798" class="Function">update-distrib-⊛ᶜ</a> <a id="4816" class="Symbol">:</a>
  <a id="4820" class="Symbol">⦃</a> <a id="4822" href="Graded.Context.Properties.Update.html#4822" class="Bound">has-star</a> <a id="4831" class="Symbol">:</a> <a id="4833" href="Graded.Modality.html#4079" class="Record">Has-star</a> <a id="4842" href="Graded.Modality.html#5395" class="Field">semiring-with-meet</a> <a id="4861" class="Symbol">⦄</a> <a id="4863" class="Symbol">→</a>
  <a id="4867" class="Symbol">(</a><a id="4868" href="Graded.Context.Properties.Update.html#4868" class="Bound">γ</a> <a id="4870" href="Graded.Context.Properties.Update.html#4870" class="Bound">δ</a> <a id="4872" class="Symbol">:</a> <a id="4874" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="4879" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4880" class="Symbol">)</a> <a id="4882" class="Symbol">(</a><a id="4883" href="Graded.Context.Properties.Update.html#4883" class="Bound">r</a> <a id="4885" href="Graded.Context.Properties.Update.html#4885" class="Bound">p</a> <a id="4887" href="Graded.Context.Properties.Update.html#4887" class="Bound">q</a> <a id="4889" class="Symbol">:</a> <a id="4891" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="4892" class="Symbol">)</a> <a id="4894" class="Symbol">(</a><a id="4895" href="Graded.Context.Properties.Update.html#4895" class="Bound">x</a> <a id="4897" class="Symbol">:</a> <a id="4899" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4903" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="4904" class="Symbol">)</a> <a id="4906" class="Symbol">→</a>
  <a id="4910" href="Graded.Context.Properties.Update.html#4868" class="Bound">γ</a> <a id="4912" href="Graded.Context.html#2022" class="Function Operator">⊛ᶜ</a> <a id="4915" href="Graded.Context.Properties.Update.html#4870" class="Bound">δ</a> <a id="4917" href="Graded.Context.html#2022" class="Function Operator">▷</a> <a id="4919" href="Graded.Context.Properties.Update.html#4883" class="Bound">r</a> <a id="4921" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4923" href="Graded.Context.Properties.Update.html#4895" class="Bound">x</a> <a id="4925" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Graded.Context.Properties.Update.html#4885" class="Bound">p</a> <a id="4930" href="Graded.Modality.html#4219" class="Field Operator">⊛</a> <a id="4932" href="Graded.Context.Properties.Update.html#4887" class="Bound">q</a> <a id="4934" href="Graded.Modality.html#4219" class="Field Operator">▷</a> <a id="4936" href="Graded.Context.Properties.Update.html#4883" class="Bound">r</a><a id="4937" class="Symbol">)</a> <a id="4939" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4941" class="Symbol">(</a><a id="4942" href="Graded.Context.Properties.Update.html#4868" class="Bound">γ</a> <a id="4944" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4946" href="Graded.Context.Properties.Update.html#4895" class="Bound">x</a> <a id="4948" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4950" href="Graded.Context.Properties.Update.html#4885" class="Bound">p</a><a id="4951" class="Symbol">)</a> <a id="4953" href="Graded.Context.html#2022" class="Function Operator">⊛ᶜ</a> <a id="4956" class="Symbol">(</a><a id="4957" href="Graded.Context.Properties.Update.html#4870" class="Bound">δ</a> <a id="4959" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="4961" href="Graded.Context.Properties.Update.html#4895" class="Bound">x</a> <a id="4963" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="4965" href="Graded.Context.Properties.Update.html#4887" class="Bound">q</a><a id="4966" class="Symbol">)</a> <a id="4968" href="Graded.Context.html#2022" class="Function Operator">▷</a> <a id="4970" href="Graded.Context.Properties.Update.html#4883" class="Bound">r</a>
<a id="4972" href="Graded.Context.Properties.Update.html#4798" class="Function">update-distrib-⊛ᶜ</a> <a id="4990" class="Symbol">(</a><a id="4991" href="Graded.Context.Properties.Update.html#4991" class="Bound">γ</a> <a id="4993" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="4995" class="Symbol">_)</a> <a id="4998" class="Symbol">(</a><a id="4999" href="Graded.Context.Properties.Update.html#4999" class="Bound">δ</a> <a id="5001" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="5003" class="Symbol">_)</a> <a id="5006" href="Graded.Context.Properties.Update.html#5006" class="Bound">r</a> <a id="5008" href="Graded.Context.Properties.Update.html#5008" class="Bound">p</a> <a id="5010" href="Graded.Context.Properties.Update.html#5010" class="Bound">q</a> <a id="5012" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="5015" class="Symbol">=</a> <a id="5017" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="5025" href="Graded.Context.Properties.Update.html#4798" class="Function">update-distrib-⊛ᶜ</a> <a id="5043" class="Symbol">(</a><a id="5044" href="Graded.Context.Properties.Update.html#5044" class="Bound">γ</a> <a id="5046" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="5048" class="Symbol">_)</a> <a id="5051" class="Symbol">(</a><a id="5052" href="Graded.Context.Properties.Update.html#5052" class="Bound">δ</a> <a id="5054" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="5056" class="Symbol">_)</a> <a id="5059" href="Graded.Context.Properties.Update.html#5059" class="Bound">r</a> <a id="5061" href="Graded.Context.Properties.Update.html#5061" class="Bound">p</a> <a id="5063" href="Graded.Context.Properties.Update.html#5063" class="Bound">q</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Graded.Context.Properties.Update.html#5066" class="Bound">x</a> <a id="5068" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="5070" class="Symbol">)</a> <a id="5072" class="Symbol">=</a>
  <a id="5076" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="5081" class="Symbol">(</a><a id="5082" href="Graded.Context.html#743" class="InductiveConstructor Operator">_∙</a> <a id="5085" class="Symbol">_)</a> <a id="5088" class="Symbol">(</a><a id="5089" href="Graded.Context.Properties.Update.html#4798" class="Function">update-distrib-⊛ᶜ</a> <a id="5107" href="Graded.Context.Properties.Update.html#5044" class="Bound">γ</a> <a id="5109" href="Graded.Context.Properties.Update.html#5052" class="Bound">δ</a> <a id="5111" href="Graded.Context.Properties.Update.html#5059" class="Bound">r</a> <a id="5113" href="Graded.Context.Properties.Update.html#5061" class="Bound">p</a> <a id="5115" href="Graded.Context.Properties.Update.html#5063" class="Bound">q</a> <a id="5117" href="Graded.Context.Properties.Update.html#5066" class="Bound">x</a><a id="5118" class="Symbol">)</a>

<a id="5121" class="Comment">-- Updating the head of a context leaves the tail untouched</a>
<a id="5181" class="Comment">-- γ , x0 ≔ p ≡ tailₘ γ ∙ p</a>

<a id="update-head"></a><a id="5210" href="Graded.Context.Properties.Update.html#5210" class="Function">update-head</a> <a id="5222" class="Symbol">:</a> <a id="5224" class="Symbol">(</a><a id="5225" href="Graded.Context.Properties.Update.html#5225" class="Bound">γ</a> <a id="5227" class="Symbol">:</a> <a id="5229" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="5234" class="Symbol">(</a><a id="5235" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="5238" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="5239" class="Symbol">))</a> <a id="5242" class="Symbol">(</a><a id="5243" href="Graded.Context.Properties.Update.html#5243" class="Bound">p</a> <a id="5245" class="Symbol">:</a> <a id="5247" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="5248" class="Symbol">)</a> <a id="5250" class="Symbol">→</a> <a id="5252" href="Graded.Context.Properties.Update.html#5225" class="Bound">γ</a> <a id="5254" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="5256" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="5259" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="5261" href="Graded.Context.Properties.Update.html#5243" class="Bound">p</a> <a id="5263" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5265" href="Graded.Context.html#1014" class="Function">tailₘ</a> <a id="5271" href="Graded.Context.Properties.Update.html#5225" class="Bound">γ</a> <a id="5273" class="InductiveConstructor Operator">∙</a> <a id="5275" href="Graded.Context.Properties.Update.html#5243" class="Bound">p</a>
<a id="5277" href="Graded.Context.Properties.Update.html#5210" class="Function">update-head</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Graded.Context.Properties.Update.html#5290" class="Bound">γ</a> <a id="5292" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="5294" href="Graded.Context.Properties.Update.html#5294" class="Bound">q</a><a id="5295" class="Symbol">)</a> <a id="5297" href="Graded.Context.Properties.Update.html#5297" class="Bound">p</a> <a id="5299" class="Symbol">=</a> <a id="5301" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>

<a id="5310" class="Comment">-- Updating the tail of a context leaves the head untouched</a>
<a id="5370" class="Comment">-- γ , (x +1) ≔ p ≡ (tailₘ γ , x ≔ p) ∙ headₘ γ</a>

<a id="update-step"></a><a id="5419" href="Graded.Context.Properties.Update.html#5419" class="Function">update-step</a> <a id="5431" class="Symbol">:</a> <a id="5433" class="Symbol">(</a><a id="5434" href="Graded.Context.Properties.Update.html#5434" class="Bound">γ</a> <a id="5436" class="Symbol">:</a> <a id="5438" href="Graded.Context.html#701" class="Datatype">Conₘ</a> <a id="5443" class="Symbol">(</a><a id="5444" href="Tools.Nat.html#1071" class="InductiveConstructor">1+</a> <a id="5447" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="5448" class="Symbol">))</a> <a id="5451" class="Symbol">(</a><a id="5452" href="Graded.Context.Properties.Update.html#5452" class="Bound">p</a> <a id="5454" class="Symbol">:</a> <a id="5456" href="Graded.Context.Properties.Update.html#253" class="Bound">M</a><a id="5457" class="Symbol">)</a> <a id="5459" class="Symbol">(</a><a id="5460" href="Graded.Context.Properties.Update.html#5460" class="Bound">x</a> <a id="5462" class="Symbol">:</a> <a id="5464" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="5468" href="Graded.Context.Properties.Update.html#818" class="Generalizable">n</a><a id="5469" class="Symbol">)</a>
            <a id="5483" class="Symbol">→</a> <a id="5485" href="Graded.Context.Properties.Update.html#5434" class="Bound">γ</a> <a id="5487" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="5489" class="Symbol">(</a><a id="5490" href="Graded.Context.Properties.Update.html#5460" class="Bound">x</a> <a id="5492" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="5494" class="Symbol">)</a> <a id="5496" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="5498" href="Graded.Context.Properties.Update.html#5452" class="Bound">p</a> <a id="5500" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5502" class="Symbol">(</a><a id="5503" href="Graded.Context.html#1014" class="Function">tailₘ</a> <a id="5509" href="Graded.Context.Properties.Update.html#5434" class="Bound">γ</a> <a id="5511" href="Graded.Context.html#1116" class="Function Operator">,</a> <a id="5513" href="Graded.Context.Properties.Update.html#5460" class="Bound">x</a> <a id="5515" href="Graded.Context.html#1116" class="Function Operator">≔</a> <a id="5517" href="Graded.Context.Properties.Update.html#5452" class="Bound">p</a><a id="5518" class="Symbol">)</a> <a id="5520" class="InductiveConstructor Operator">∙</a> <a id="5522" href="Graded.Context.html#965" class="Function">headₘ</a> <a id="5528" href="Graded.Context.Properties.Update.html#5434" class="Bound">γ</a>
<a id="5530" href="Graded.Context.Properties.Update.html#5419" class="Function">update-step</a> <a id="5542" class="Symbol">(</a><a id="5543" href="Graded.Context.Properties.Update.html#5543" class="Bound">γ</a> <a id="5545" href="Graded.Context.html#743" class="InductiveConstructor Operator">∙</a> <a id="5547" href="Graded.Context.Properties.Update.html#5547" class="Bound">q</a><a id="5548" class="Symbol">)</a> <a id="5550" href="Graded.Context.Properties.Update.html#5550" class="Bound">p</a> <a id="5552" href="Graded.Context.Properties.Update.html#5552" class="Bound">x</a> <a id="5554" class="Symbol">=</a> <a id="5556" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
</pre></body></html>