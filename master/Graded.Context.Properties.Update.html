<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Context.Properties.Update</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties of context updates.</a>
<a id="108" class="Comment">------------------------------------------------------------------------</a>

<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="211" class="Keyword">module</a> <a id="218" href="Graded.Context.Properties.Update.html" class="Module">Graded.Context.Properties.Update</a>
  <a id="253" class="Symbol">{</a><a id="254" href="Graded.Context.Properties.Update.html#254" class="Bound">a</a><a id="255" class="Symbol">}</a> <a id="257" class="Symbol">{</a><a id="258" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a> <a id="260" class="Symbol">:</a> <a id="262" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="266" href="Graded.Context.Properties.Update.html#254" class="Bound">a</a><a id="267" class="Symbol">}</a> <a id="269" class="Symbol">(</a><a id="270" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a> <a id="272" class="Symbol">:</a> <a id="274" href="Graded.Modality.html#5274" class="Record">Modality</a> <a id="283" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="284" class="Symbol">)</a> <a id="286" class="Keyword">where</a>

<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="320" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Graded.Context.Properties.Equivalence.html" class="Module">Graded.Context.Properties.Equivalence</a> <a id="372" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Graded.Context.Properties.Lookup.html" class="Module">Graded.Context.Properties.Lookup</a> <a id="419" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Graded.Context.Properties.PartialOrder.html" class="Module">Graded.Context.Properties.PartialOrder</a> <a id="472" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="513" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>

<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="560" class="Keyword">hiding</a> <a id="567" class="Symbol">(</a><a id="568" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">_+_</a><a id="571" class="Symbol">)</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="613" class="Symbol">as</a> <a id="616" class="Module">PE</a>
<a id="619" class="Keyword">import</a> <a id="626" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="665" class="Keyword">open</a> <a id="670" href="Graded.Modality.html#5274" class="Module">Modality</a> <a id="679" href="Graded.Context.Properties.Update.html#270" class="Bound">𝕄</a>

<a id="682" class="Keyword">private</a>
  <a id="692" class="Keyword">variable</a>
    <a id="705" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a> <a id="707" class="Symbol">:</a> <a id="709" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="717" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a> <a id="719" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a> <a id="721" class="Symbol">:</a> <a id="723" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a>
    <a id="729" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="731" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="733" class="Symbol">:</a> <a id="735" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="740" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a>
    <a id="746" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="748" class="Symbol">:</a> <a id="750" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="754" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a>

<a id="757" class="Comment">-- Updating a context with its own content has no effect</a>
<a id="814" class="Comment">-- (γ , x ≔ (γ ⟨ x ⟩)) ≡ γ</a>

<a id="update-self"></a><a id="842" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="854" class="Symbol">:</a> <a id="856" class="Symbol">(</a><a id="857" href="Graded.Context.Properties.Update.html#857" class="Bound">γ</a> <a id="859" class="Symbol">:</a> <a id="861" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="866" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="867" class="Symbol">)</a> <a id="869" class="Symbol">(</a><a id="870" href="Graded.Context.Properties.Update.html#870" class="Bound">x</a> <a id="872" class="Symbol">:</a> <a id="874" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="878" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="879" class="Symbol">)</a> <a id="881" class="Symbol">→</a> <a id="883" class="Symbol">(</a><a id="884" href="Graded.Context.Properties.Update.html#857" class="Bound">γ</a> <a id="886" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="888" href="Graded.Context.Properties.Update.html#870" class="Bound">x</a> <a id="890" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="892" class="Symbol">(</a><a id="893" href="Graded.Context.Properties.Update.html#857" class="Bound">γ</a> <a id="895" href="Graded.Context.html#1196" class="Function Operator">⟨</a> <a id="897" href="Graded.Context.Properties.Update.html#870" class="Bound">x</a> <a id="899" href="Graded.Context.html#1196" class="Function Operator">⟩</a><a id="900" class="Symbol">))</a> <a id="903" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="905" href="Graded.Context.Properties.Update.html#857" class="Bound">γ</a>
<a id="907" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="919" class="Symbol">(</a><a id="920" href="Graded.Context.Properties.Update.html#920" class="Bound">γ</a> <a id="922" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="924" href="Graded.Context.Properties.Update.html#924" class="Bound">p</a><a id="925" class="Symbol">)</a> <a id="927" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="934" class="Symbol">=</a> <a id="936" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="944" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="956" class="Symbol">(</a><a id="957" href="Graded.Context.Properties.Update.html#957" class="Bound">γ</a> <a id="959" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="961" href="Graded.Context.Properties.Update.html#961" class="Bound">p</a><a id="962" class="Symbol">)</a> <a id="964" class="Symbol">(</a><a id="965" href="Graded.Context.Properties.Update.html#965" class="Bound">x</a> <a id="967" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="969" class="Symbol">)</a> <a id="971" class="Symbol">=</a> <a id="973" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="978" class="Symbol">(</a><a id="979" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="982" class="Symbol">_)</a> <a id="985" class="Symbol">(</a><a id="986" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="998" href="Graded.Context.Properties.Update.html#957" class="Bound">γ</a> <a id="1000" href="Graded.Context.Properties.Update.html#965" class="Bound">x</a><a id="1001" class="Symbol">)</a>

<a id="1004" class="Comment">-- Updating a value in 𝟘ᶜ with 𝟘 has no effect.</a>

<a id="𝟘ᶜ,≔𝟘"></a><a id="1053" href="Graded.Context.Properties.Update.html#1053" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1059" class="Symbol">:</a> <a id="1061" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a> <a id="1064" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1066" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="1068" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1070" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="1072" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1074" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a>
<a id="1077" href="Graded.Context.Properties.Update.html#1053" class="Function">𝟘ᶜ,≔𝟘</a> <a id="1083" class="Symbol">{</a><a id="1084" class="Argument">x</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Graded.Context.Properties.Update.html#1088" class="Bound">x</a><a id="1089" class="Symbol">}</a> <a id="1091" class="Symbol">=</a> <a id="1093" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1101" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a> <a id="1104" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1106" href="Graded.Context.Properties.Update.html#1088" class="Bound">x</a> <a id="1108" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1110" href="Graded.Modality.html#809" class="Function">𝟘</a>         <a id="1120" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="1124" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1129" class="Symbol">(λ</a> <a id="1132" href="Graded.Context.Properties.Update.html#1132" class="Bound">p</a> <a id="1134" class="Symbol">→</a> <a id="1136" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a> <a id="1139" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1141" class="Symbol">_</a> <a id="1143" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1145" href="Graded.Context.Properties.Update.html#1132" class="Bound">p</a><a id="1146" class="Symbol">)</a> <a id="1148" class="Symbol">(</a><a id="1149" href="Graded.Context.Properties.Lookup.html#753" class="Function">𝟘ᶜ-lookup</a> <a id="1159" href="Graded.Context.Properties.Update.html#1088" class="Bound">x</a><a id="1160" class="Symbol">)</a> <a id="1162" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="1166" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a> <a id="1169" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1171" href="Graded.Context.Properties.Update.html#1088" class="Bound">x</a> <a id="1173" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1175" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a> <a id="1178" href="Graded.Context.html#1196" class="Function Operator">⟨</a> <a id="1180" href="Graded.Context.Properties.Update.html#1088" class="Bound">x</a> <a id="1182" href="Graded.Context.html#1196" class="Function Operator">⟩</a>  <a id="1185" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1188" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="1200" class="Symbol">_</a> <a id="1202" class="Symbol">_</a> <a id="1204" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1208" href="Graded.Context.html#2010" class="Function">𝟘ᶜ</a>                 <a id="1227" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="1231" class="Keyword">where</a>
  <a id="1239" class="Keyword">open</a> <a id="1244" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1283" class="Comment">-- Updating a value in 𝟙ᶜ with 𝟙 has no effect.</a>

<a id="𝟙ᶜ,≔𝟙"></a><a id="1332" href="Graded.Context.Properties.Update.html#1332" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1338" class="Symbol">:</a> <a id="1340" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a> <a id="1343" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1345" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="1347" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1349" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="1351" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1353" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a>
<a id="1356" href="Graded.Context.Properties.Update.html#1332" class="Function">𝟙ᶜ,≔𝟙</a> <a id="1362" class="Symbol">{</a><a id="1363" class="Argument">x</a> <a id="1365" class="Symbol">=</a> <a id="1367" href="Graded.Context.Properties.Update.html#1367" class="Bound">x</a><a id="1368" class="Symbol">}</a> <a id="1370" class="Symbol">=</a> <a id="1372" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
  <a id="1380" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a> <a id="1383" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1385" href="Graded.Context.Properties.Update.html#1367" class="Bound">x</a> <a id="1387" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1389" href="Graded.Modality.html#819" class="Function">𝟙</a>         <a id="1399" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">≡˘⟨</a> <a id="1403" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1408" class="Symbol">(λ</a> <a id="1411" href="Graded.Context.Properties.Update.html#1411" class="Bound">p</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a> <a id="1418" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1420" class="Symbol">_</a> <a id="1422" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1424" href="Graded.Context.Properties.Update.html#1411" class="Bound">p</a><a id="1425" class="Symbol">)</a> <a id="1427" class="Symbol">(</a><a id="1428" href="Graded.Context.Properties.Lookup.html#901" class="Function">𝟙ᶜ-lookup</a> <a id="1438" href="Graded.Context.Properties.Update.html#1367" class="Bound">x</a><a id="1439" class="Symbol">)</a> <a id="1441" href="Relation.Binary.PropositionalEquality.Core.html#3010" class="Function">⟩</a>
  <a id="1445" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a> <a id="1448" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1450" href="Graded.Context.Properties.Update.html#1367" class="Bound">x</a> <a id="1452" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1454" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a> <a id="1457" href="Graded.Context.html#1196" class="Function Operator">⟨</a> <a id="1459" href="Graded.Context.Properties.Update.html#1367" class="Bound">x</a> <a id="1461" href="Graded.Context.html#1196" class="Function Operator">⟩</a>  <a id="1464" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="1467" href="Graded.Context.Properties.Update.html#842" class="Function">update-self</a> <a id="1479" class="Symbol">_</a> <a id="1481" class="Symbol">_</a> <a id="1483" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
  <a id="1487" href="Graded.Context.html#2090" class="Function">𝟙ᶜ</a>                 <a id="1506" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="1510" class="Keyword">where</a>
  <a id="1518" class="Keyword">open</a> <a id="1523" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="1562" class="Comment">-- If a given position is updated twice, then the first update has no</a>
<a id="1632" class="Comment">-- effect.</a>

<a id="update-twice"></a><a id="1644" href="Graded.Context.Properties.Update.html#1644" class="Function">update-twice</a> <a id="1657" class="Symbol">:</a> <a id="1659" class="Symbol">(</a><a id="1660" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="1662" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1664" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="1666" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1668" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="1669" class="Symbol">)</a> <a id="1671" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1673" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="1675" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1677" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a> <a id="1679" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1681" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="1683" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1685" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="1687" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1689" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a>
<a id="1691" href="Graded.Context.Properties.Update.html#1644" class="Function">update-twice</a> <a id="1704" class="Symbol">{</a><a id="1705" class="Argument">γ</a> <a id="1707" class="Symbol">=</a> <a id="1709" class="Symbol">_</a> <a id="1711" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="1713" class="Symbol">_}</a> <a id="1716" class="Symbol">{</a><a id="1717" class="Argument">x</a> <a id="1719" class="Symbol">=</a> <a id="1721" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="1723" class="Symbol">}</a>   <a id="1727" class="Symbol">=</a> <a id="1729" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="1737" href="Graded.Context.Properties.Update.html#1644" class="Function">update-twice</a> <a id="1750" class="Symbol">{</a><a id="1751" class="Argument">γ</a> <a id="1753" class="Symbol">=</a> <a id="1755" class="Symbol">_</a> <a id="1757" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="1759" class="Symbol">_}</a> <a id="1762" class="Symbol">{</a><a id="1763" class="Argument">x</a> <a id="1765" class="Symbol">=</a> <a id="1767" href="Graded.Context.Properties.Update.html#1767" class="Bound">x</a> <a id="1769" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="1771" class="Symbol">}</a> <a id="1773" class="Symbol">=</a> <a id="1775" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="1780" class="Symbol">(</a><a id="1781" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="1784" class="Symbol">_)</a> <a id="1787" href="Graded.Context.Properties.Update.html#1644" class="Function">update-twice</a>

<a id="1801" class="Comment">-- Context update is a monotone function with regards to the context</a>
<a id="1870" class="Comment">-- If γ ≤ᶜ δ then (γ , x ≔ p) ≤ᶜ (δ , x ≔ p)</a>

<a id="update-monotoneˡ"></a><a id="1916" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="1933" class="Symbol">:</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Graded.Context.Properties.Update.html#1936" class="Bound">x</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1944" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="1945" class="Symbol">)</a> <a id="1947" class="Symbol">→</a> <a id="1949" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="1951" href="Graded.Context.html#1789" class="Function Operator">≤ᶜ</a> <a id="1954" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="1956" class="Symbol">→</a> <a id="1958" class="Symbol">(</a><a id="1959" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="1961" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1963" href="Graded.Context.Properties.Update.html#1936" class="Bound">x</a> <a id="1965" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1967" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="1968" class="Symbol">)</a> <a id="1970" href="Graded.Context.html#1789" class="Function Operator">≤ᶜ</a> <a id="1973" class="Symbol">(</a><a id="1974" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="1976" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="1978" href="Graded.Context.Properties.Update.html#1936" class="Bound">x</a> <a id="1980" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="1982" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="1983" class="Symbol">)</a>
<a id="1985" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="2002" class="Symbol">{</a><a id="2003" class="Argument">γ</a> <a id="2005" class="Symbol">=</a> <a id="2007" href="Graded.Context.Properties.Update.html#2007" class="Bound">γ</a> <a id="2009" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2011" href="Graded.Context.Properties.Update.html#2011" class="Bound">p</a><a id="2012" class="Symbol">}</a> <a id="2014" class="Symbol">{</a><a id="2015" href="Graded.Context.Properties.Update.html#2015" class="Bound">δ</a> <a id="2017" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2019" href="Graded.Context.Properties.Update.html#2019" class="Bound">q</a><a id="2020" class="Symbol">}</a> <a id="2022" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="2025" class="Symbol">(</a><a id="2026" href="Graded.Context.Properties.Update.html#2026" class="Bound">γ≤δ</a> <a id="2030" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2032" class="Symbol">_)</a>        <a id="2042" class="Symbol">=</a> <a id="2044" href="Graded.Context.Properties.Update.html#2026" class="Bound">γ≤δ</a> <a id="2048" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2050" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a>
<a id="2057" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="2074" class="Symbol">{</a><a id="2075" class="Argument">γ</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Graded.Context.Properties.Update.html#2079" class="Bound">γ</a> <a id="2081" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2083" href="Graded.Context.Properties.Update.html#2083" class="Bound">p</a><a id="2084" class="Symbol">}</a> <a id="2086" class="Symbol">{</a><a id="2087" href="Graded.Context.Properties.Update.html#2087" class="Bound">δ</a> <a id="2089" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2091" href="Graded.Context.Properties.Update.html#2091" class="Bound">q</a><a id="2092" class="Symbol">}</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">_+1</a> <a id="2099" href="Graded.Context.Properties.Update.html#2099" class="Bound">x</a><a id="2100" class="Symbol">)</a> <a id="2102" class="Symbol">(</a><a id="2103" href="Graded.Context.Properties.Update.html#2103" class="Bound">γ≤δ</a> <a id="2107" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2109" href="Graded.Context.Properties.Update.html#2109" class="Bound">p≤q</a><a id="2112" class="Symbol">)</a> <a id="2114" class="Symbol">=</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="2134" href="Graded.Context.Properties.Update.html#2099" class="Bound">x</a> <a id="2136" href="Graded.Context.Properties.Update.html#2103" class="Bound">γ≤δ</a><a id="2139" class="Symbol">)</a> <a id="2141" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2143" href="Graded.Context.Properties.Update.html#2109" class="Bound">p≤q</a>

<a id="2148" class="Comment">-- Context update is monotone with regards to the inserted element</a>
<a id="2215" class="Comment">-- If p ≤ q then( γ , x ≔ p) ≤ᶜ (γ , x ≔ q)</a>

<a id="update-monotoneʳ"></a><a id="2260" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2277" class="Symbol">:</a> <a id="2279" class="Symbol">(</a><a id="2280" href="Graded.Context.Properties.Update.html#2280" class="Bound">x</a> <a id="2282" class="Symbol">:</a> <a id="2284" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2288" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="2289" class="Symbol">)</a> <a id="2291" class="Symbol">→</a> <a id="2293" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a> <a id="2295" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="2297" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a> <a id="2299" class="Symbol">→</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2304" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2306" href="Graded.Context.Properties.Update.html#2280" class="Bound">x</a> <a id="2308" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2310" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="2311" class="Symbol">)</a> <a id="2313" href="Graded.Context.html#1789" class="Function Operator">≤ᶜ</a> <a id="2316" class="Symbol">(</a><a id="2317" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2319" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2321" href="Graded.Context.Properties.Update.html#2280" class="Bound">x</a> <a id="2323" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2325" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a><a id="2326" class="Symbol">)</a>
<a id="2328" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2345" class="Symbol">{</a><a id="2346" class="Argument">γ</a> <a id="2348" class="Symbol">=</a> <a id="2350" href="Graded.Context.Properties.Update.html#2350" class="Bound">γ</a> <a id="2352" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2354" href="Graded.Context.Properties.Update.html#2354" class="Bound">p</a><a id="2355" class="Symbol">}</a> <a id="2357" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="2360" href="Graded.Context.Properties.Update.html#2360" class="Bound">p≤q</a>     <a id="2368" class="Symbol">=</a> <a id="2370" href="Graded.Context.Properties.PartialOrder.html#608" class="Function">≤ᶜ-refl</a> <a id="2378" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2380" href="Graded.Context.Properties.Update.html#2360" class="Bound">p≤q</a>
<a id="2384" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2401" class="Symbol">{</a><a id="2402" class="Argument">γ</a> <a id="2404" class="Symbol">=</a> <a id="2406" href="Graded.Context.Properties.Update.html#2406" class="Bound">γ</a> <a id="2408" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="2410" href="Graded.Context.Properties.Update.html#2410" class="Bound">p</a><a id="2411" class="Symbol">}</a> <a id="2413" class="Symbol">(</a><a id="2414" href="Graded.Context.Properties.Update.html#2414" class="Bound">x</a> <a id="2416" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="2418" class="Symbol">)</a> <a id="2420" href="Graded.Context.Properties.Update.html#2420" class="Bound">p≤q</a> <a id="2424" class="Symbol">=</a> <a id="2426" class="Symbol">(</a><a id="2427" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2444" href="Graded.Context.Properties.Update.html#2414" class="Bound">x</a> <a id="2446" href="Graded.Context.Properties.Update.html#2420" class="Bound">p≤q</a><a id="2449" class="Symbol">)</a> <a id="2451" href="Graded.Context.html#819" class="InductiveConstructor Operator">∙</a> <a id="2453" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a>

<a id="2461" class="Comment">-- The update operation preserves equivalence in its first argument.</a>

<a id="update-congˡ"></a><a id="2531" href="Graded.Context.Properties.Update.html#2531" class="Function">update-congˡ</a> <a id="2544" class="Symbol">:</a> <a id="2546" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2548" href="Graded.Context.html#768" class="Datatype Operator">≈ᶜ</a> <a id="2551" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="2553" class="Symbol">→</a> <a id="2555" class="Symbol">(</a><a id="2556" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2558" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2560" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="2562" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2564" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="2565" class="Symbol">)</a> <a id="2567" href="Graded.Context.html#768" class="Datatype Operator">≈ᶜ</a> <a id="2570" class="Symbol">(</a><a id="2571" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="2573" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2575" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="2577" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2579" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="2580" class="Symbol">)</a>
<a id="2582" href="Graded.Context.Properties.Update.html#2531" class="Function">update-congˡ</a> <a id="2595" href="Graded.Context.Properties.Update.html#2595" class="Bound">γ≈ᶜδ</a> <a id="2600" class="Symbol">=</a>
  <a id="2604" href="Graded.Context.Properties.PartialOrder.html#976" class="Function">≤ᶜ-antisym</a> <a id="2615" class="Symbol">(</a><a id="2616" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="2633" class="Symbol">_</a> <a id="2635" class="Symbol">(</a><a id="2636" href="Graded.Context.Properties.PartialOrder.html#1211" class="Function">≤ᶜ-reflexive</a> <a id="2649" href="Graded.Context.Properties.Update.html#2595" class="Bound">γ≈ᶜδ</a><a id="2653" class="Symbol">))</a>
    <a id="2660" class="Symbol">(</a><a id="2661" href="Graded.Context.Properties.Update.html#1916" class="Function">update-monotoneˡ</a> <a id="2678" class="Symbol">_</a> <a id="2680" class="Symbol">(</a><a id="2681" href="Graded.Context.Properties.PartialOrder.html#1211" class="Function">≤ᶜ-reflexive</a> <a id="2694" class="Symbol">(</a><a id="2695" href="Graded.Context.Properties.Equivalence.html#897" class="Function">≈ᶜ-sym</a> <a id="2702" href="Graded.Context.Properties.Update.html#2595" class="Bound">γ≈ᶜδ</a><a id="2706" class="Symbol">)))</a>

<a id="2711" class="Comment">-- The update operation preserves equivalence in its third argument.</a>

<a id="update-congʳ"></a><a id="2781" href="Graded.Context.Properties.Update.html#2781" class="Function">update-congʳ</a> <a id="2794" class="Symbol">:</a> <a id="2796" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a> <a id="2798" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2800" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a> <a id="2802" class="Symbol">→</a> <a id="2804" class="Symbol">(</a><a id="2805" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2807" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2809" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="2811" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2813" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="2814" class="Symbol">)</a> <a id="2816" href="Graded.Context.html#768" class="Datatype Operator">≈ᶜ</a> <a id="2819" class="Symbol">(</a><a id="2820" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="2822" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="2824" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="2826" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="2828" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a><a id="2829" class="Symbol">)</a>
<a id="2831" href="Graded.Context.Properties.Update.html#2781" class="Function">update-congʳ</a> <a id="2844" href="Graded.Context.Properties.Update.html#2844" class="Bound">p≡q</a> <a id="2848" class="Symbol">=</a>
  <a id="2852" href="Graded.Context.Properties.PartialOrder.html#976" class="Function">≤ᶜ-antisym</a> <a id="2863" class="Symbol">(</a><a id="2864" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2881" class="Symbol">_</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Graded.Modality.Properties.PartialOrder.html#1015" class="Function">≤-reflexive</a> <a id="2896" href="Graded.Context.Properties.Update.html#2844" class="Bound">p≡q</a><a id="2899" class="Symbol">))</a>
    <a id="2906" class="Symbol">(</a><a id="2907" href="Graded.Context.Properties.Update.html#2260" class="Function">update-monotoneʳ</a> <a id="2924" class="Symbol">_</a> <a id="2926" class="Symbol">(</a><a id="2927" href="Graded.Modality.Properties.PartialOrder.html#1015" class="Function">≤-reflexive</a> <a id="2939" class="Symbol">(</a><a id="2940" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="2944" href="Graded.Context.Properties.Update.html#2844" class="Bound">p≡q</a><a id="2947" class="Symbol">)))</a>

<a id="2952" class="Comment">-- The update operation preserves equivalence in its first and third</a>
<a id="3021" class="Comment">-- arguments.</a>

<a id="update-cong"></a><a id="3036" href="Graded.Context.Properties.Update.html#3036" class="Function">update-cong</a> <a id="3048" class="Symbol">:</a> <a id="3050" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="3052" href="Graded.Context.html#768" class="Datatype Operator">≈ᶜ</a> <a id="3055" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="3057" class="Symbol">→</a> <a id="3059" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a> <a id="3061" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3063" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a> <a id="3065" class="Symbol">→</a> <a id="3067" class="Symbol">(</a><a id="3068" href="Graded.Context.Properties.Update.html#729" class="Generalizable">γ</a> <a id="3070" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3072" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="3074" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3076" href="Graded.Context.Properties.Update.html#717" class="Generalizable">p</a><a id="3077" class="Symbol">)</a> <a id="3079" href="Graded.Context.html#768" class="Datatype Operator">≈ᶜ</a> <a id="3082" class="Symbol">(</a><a id="3083" href="Graded.Context.Properties.Update.html#731" class="Generalizable">δ</a> <a id="3085" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3087" href="Graded.Context.Properties.Update.html#746" class="Generalizable">x</a> <a id="3089" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3091" href="Graded.Context.Properties.Update.html#719" class="Generalizable">q</a><a id="3092" class="Symbol">)</a>
<a id="3094" href="Graded.Context.Properties.Update.html#3036" class="Function">update-cong</a> <a id="3106" href="Graded.Context.Properties.Update.html#3106" class="Bound">γ≈ᶜδ</a> <a id="3111" href="Graded.Context.Properties.Update.html#3111" class="Bound">p≡q</a> <a id="3115" class="Symbol">=</a>
  <a id="3119" href="Graded.Context.Properties.Equivalence.html#669" class="Function">≈ᶜ-trans</a> <a id="3128" class="Symbol">(</a><a id="3129" href="Graded.Context.Properties.Update.html#2531" class="Function">update-congˡ</a> <a id="3142" href="Graded.Context.Properties.Update.html#3106" class="Bound">γ≈ᶜδ</a><a id="3146" class="Symbol">)</a> <a id="3148" class="Symbol">(</a><a id="3149" href="Graded.Context.Properties.Update.html#2781" class="Function">update-congʳ</a> <a id="3162" href="Graded.Context.Properties.Update.html#3111" class="Bound">p≡q</a><a id="3165" class="Symbol">)</a>

<a id="3168" class="Comment">-- Context update distributes over addition</a>
<a id="3212" class="Comment">-- (γ +ᶜ δ) , x ≔ (p + q) ≡ (γ , x ≔ p) +ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-+ᶜ"></a><a id="3268" href="Graded.Context.Properties.Update.html#3268" class="Function">update-distrib-+ᶜ</a> <a id="3286" class="Symbol">:</a> <a id="3288" class="Symbol">(</a><a id="3289" href="Graded.Context.Properties.Update.html#3289" class="Bound">γ</a> <a id="3291" href="Graded.Context.Properties.Update.html#3291" class="Bound">δ</a> <a id="3293" class="Symbol">:</a> <a id="3295" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="3300" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="3301" class="Symbol">)</a> <a id="3303" class="Symbol">(</a><a id="3304" href="Graded.Context.Properties.Update.html#3304" class="Bound">p</a> <a id="3306" href="Graded.Context.Properties.Update.html#3306" class="Bound">q</a> <a id="3308" class="Symbol">:</a> <a id="3310" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="3311" class="Symbol">)</a> <a id="3313" class="Symbol">(</a><a id="3314" href="Graded.Context.Properties.Update.html#3314" class="Bound">x</a> <a id="3316" class="Symbol">:</a> <a id="3318" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="3322" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="3323" class="Symbol">)</a>
                  <a id="3343" class="Symbol">→</a> <a id="3345" class="Symbol">(</a><a id="3346" href="Graded.Context.Properties.Update.html#3289" class="Bound">γ</a> <a id="3348" href="Graded.Context.html#1435" class="Function Operator">+ᶜ</a> <a id="3351" href="Graded.Context.Properties.Update.html#3291" class="Bound">δ</a><a id="3352" class="Symbol">)</a> <a id="3354" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3356" href="Graded.Context.Properties.Update.html#3314" class="Bound">x</a> <a id="3358" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3360" class="Symbol">(</a><a id="3361" href="Graded.Context.Properties.Update.html#3304" class="Bound">p</a> <a id="3363" href="Graded.Modality.html#686" class="Function Operator">+</a> <a id="3365" href="Graded.Context.Properties.Update.html#3306" class="Bound">q</a><a id="3366" class="Symbol">)</a> <a id="3368" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3370" class="Symbol">(</a><a id="3371" href="Graded.Context.Properties.Update.html#3289" class="Bound">γ</a> <a id="3373" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3375" href="Graded.Context.Properties.Update.html#3314" class="Bound">x</a> <a id="3377" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3379" href="Graded.Context.Properties.Update.html#3304" class="Bound">p</a><a id="3380" class="Symbol">)</a> <a id="3382" href="Graded.Context.html#1435" class="Function Operator">+ᶜ</a> <a id="3385" class="Symbol">(</a><a id="3386" href="Graded.Context.Properties.Update.html#3291" class="Bound">δ</a> <a id="3388" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3390" href="Graded.Context.Properties.Update.html#3314" class="Bound">x</a> <a id="3392" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3394" href="Graded.Context.Properties.Update.html#3306" class="Bound">q</a><a id="3395" class="Symbol">)</a>
<a id="3397" href="Graded.Context.Properties.Update.html#3268" class="Function">update-distrib-+ᶜ</a> <a id="3415" class="Symbol">(</a><a id="3416" href="Graded.Context.Properties.Update.html#3416" class="Bound">γ</a> <a id="3418" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3420" href="Graded.Context.Properties.Update.html#3420" class="Bound">p′</a><a id="3422" class="Symbol">)</a> <a id="3424" class="Symbol">(</a><a id="3425" href="Graded.Context.Properties.Update.html#3425" class="Bound">δ</a> <a id="3427" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3429" href="Graded.Context.Properties.Update.html#3429" class="Bound">q′</a><a id="3431" class="Symbol">)</a> <a id="3433" href="Graded.Context.Properties.Update.html#3433" class="Bound">p</a> <a id="3435" href="Graded.Context.Properties.Update.html#3435" class="Bound">q</a> <a id="3437" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="3444" class="Symbol">=</a> <a id="3446" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="3454" href="Graded.Context.Properties.Update.html#3268" class="Function">update-distrib-+ᶜ</a> <a id="3472" class="Symbol">(</a><a id="3473" href="Graded.Context.Properties.Update.html#3473" class="Bound">γ</a> <a id="3475" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3477" href="Graded.Context.Properties.Update.html#3477" class="Bound">p′</a><a id="3479" class="Symbol">)</a> <a id="3481" class="Symbol">(</a><a id="3482" href="Graded.Context.Properties.Update.html#3482" class="Bound">δ</a> <a id="3484" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3486" href="Graded.Context.Properties.Update.html#3486" class="Bound">q′</a><a id="3488" class="Symbol">)</a> <a id="3490" href="Graded.Context.Properties.Update.html#3490" class="Bound">p</a> <a id="3492" href="Graded.Context.Properties.Update.html#3492" class="Bound">q</a> <a id="3494" class="Symbol">(</a><a id="3495" href="Graded.Context.Properties.Update.html#3495" class="Bound">x</a> <a id="3497" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3499" class="Symbol">)</a> <a id="3501" class="Symbol">=</a> <a id="3503" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3508" class="Symbol">(</a><a id="3509" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="3512" class="Symbol">_)</a> <a id="3515" class="Symbol">(</a><a id="3516" href="Graded.Context.Properties.Update.html#3268" class="Function">update-distrib-+ᶜ</a> <a id="3534" href="Graded.Context.Properties.Update.html#3473" class="Bound">γ</a> <a id="3536" href="Graded.Context.Properties.Update.html#3482" class="Bound">δ</a> <a id="3538" href="Graded.Context.Properties.Update.html#3490" class="Bound">p</a> <a id="3540" href="Graded.Context.Properties.Update.html#3492" class="Bound">q</a> <a id="3542" href="Graded.Context.Properties.Update.html#3495" class="Bound">x</a><a id="3543" class="Symbol">)</a>

<a id="3546" class="Comment">-- Context update distributes over multiplication</a>
<a id="3596" class="Comment">-- (p ·ᶜ γ) , x ≔ (p · q) ≡ p ·ᶜ (γ , x ≔ q)</a>

<a id="update-distrib-·ᶜ"></a><a id="3642" href="Graded.Context.Properties.Update.html#3642" class="Function">update-distrib-·ᶜ</a> <a id="3660" class="Symbol">:</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Graded.Context.Properties.Update.html#3663" class="Bound">γ</a> <a id="3665" class="Symbol">:</a> <a id="3667" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="3672" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="3673" class="Symbol">)</a> <a id="3675" class="Symbol">(</a><a id="3676" href="Graded.Context.Properties.Update.html#3676" class="Bound">p</a> <a id="3678" href="Graded.Context.Properties.Update.html#3678" class="Bound">q</a> <a id="3680" class="Symbol">:</a> <a id="3682" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="3683" class="Symbol">)</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Graded.Context.Properties.Update.html#3686" class="Bound">x</a> <a id="3688" class="Symbol">:</a> <a id="3690" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="3694" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="3695" class="Symbol">)</a>
                  <a id="3715" class="Symbol">→</a> <a id="3717" class="Symbol">(</a><a id="3718" href="Graded.Context.Properties.Update.html#3676" class="Bound">p</a> <a id="3720" href="Graded.Context.html#1667" class="Function Operator">·ᶜ</a> <a id="3723" href="Graded.Context.Properties.Update.html#3663" class="Bound">γ</a><a id="3724" class="Symbol">)</a> <a id="3726" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3728" href="Graded.Context.Properties.Update.html#3686" class="Bound">x</a> <a id="3730" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3732" class="Symbol">(</a><a id="3733" href="Graded.Context.Properties.Update.html#3676" class="Bound">p</a> <a id="3735" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="3737" href="Graded.Context.Properties.Update.html#3678" class="Bound">q</a><a id="3738" class="Symbol">)</a> <a id="3740" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3742" href="Graded.Context.Properties.Update.html#3676" class="Bound">p</a> <a id="3744" href="Graded.Context.html#1667" class="Function Operator">·ᶜ</a> <a id="3747" class="Symbol">(</a><a id="3748" href="Graded.Context.Properties.Update.html#3663" class="Bound">γ</a> <a id="3750" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="3752" href="Graded.Context.Properties.Update.html#3686" class="Bound">x</a> <a id="3754" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="3756" href="Graded.Context.Properties.Update.html#3678" class="Bound">q</a><a id="3757" class="Symbol">)</a>
<a id="3759" href="Graded.Context.Properties.Update.html#3642" class="Function">update-distrib-·ᶜ</a> <a id="3777" class="Symbol">(</a><a id="3778" href="Graded.Context.Properties.Update.html#3778" class="Bound">γ</a> <a id="3780" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3782" href="Graded.Context.Properties.Update.html#3782" class="Bound">r</a><a id="3783" class="Symbol">)</a> <a id="3785" href="Graded.Context.Properties.Update.html#3785" class="Bound">p</a> <a id="3787" href="Graded.Context.Properties.Update.html#3787" class="Bound">q</a> <a id="3789" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="3796" class="Symbol">=</a> <a id="3798" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="3806" href="Graded.Context.Properties.Update.html#3642" class="Function">update-distrib-·ᶜ</a> <a id="3824" class="Symbol">(</a><a id="3825" href="Graded.Context.Properties.Update.html#3825" class="Bound">γ</a> <a id="3827" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="3829" href="Graded.Context.Properties.Update.html#3829" class="Bound">r</a><a id="3830" class="Symbol">)</a> <a id="3832" href="Graded.Context.Properties.Update.html#3832" class="Bound">p</a> <a id="3834" href="Graded.Context.Properties.Update.html#3834" class="Bound">q</a> <a id="3836" class="Symbol">(</a><a id="3837" href="Graded.Context.Properties.Update.html#3837" class="Bound">x</a> <a id="3839" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="3841" class="Symbol">)</a> <a id="3843" class="Symbol">=</a> <a id="3845" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3850" class="Symbol">(</a><a id="3851" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="3854" class="Symbol">_)</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Graded.Context.Properties.Update.html#3642" class="Function">update-distrib-·ᶜ</a> <a id="3876" href="Graded.Context.Properties.Update.html#3825" class="Bound">γ</a> <a id="3878" href="Graded.Context.Properties.Update.html#3832" class="Bound">p</a> <a id="3880" href="Graded.Context.Properties.Update.html#3834" class="Bound">q</a> <a id="3882" href="Graded.Context.Properties.Update.html#3837" class="Bound">x</a><a id="3883" class="Symbol">)</a>

<a id="3886" class="Comment">-- Context update distributes over meet</a>
<a id="3926" class="Comment">-- (γ ∧ᶜ δ) , x ≔ (p ∧ q) ≡ (γ , x ≔ p) ∧ᶜ (δ , x ≔ q)</a>

<a id="update-distrib-∧ᶜ"></a><a id="3982" href="Graded.Context.Properties.Update.html#3982" class="Function">update-distrib-∧ᶜ</a> <a id="4000" class="Symbol">:</a> <a id="4002" class="Symbol">(</a><a id="4003" href="Graded.Context.Properties.Update.html#4003" class="Bound">γ</a> <a id="4005" href="Graded.Context.Properties.Update.html#4005" class="Bound">δ</a> <a id="4007" class="Symbol">:</a> <a id="4009" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="4014" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4015" class="Symbol">)</a> <a id="4017" class="Symbol">(</a><a id="4018" href="Graded.Context.Properties.Update.html#4018" class="Bound">p</a> <a id="4020" href="Graded.Context.Properties.Update.html#4020" class="Bound">q</a> <a id="4022" class="Symbol">:</a> <a id="4024" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="4025" class="Symbol">)</a> <a id="4027" class="Symbol">(</a><a id="4028" href="Graded.Context.Properties.Update.html#4028" class="Bound">x</a> <a id="4030" class="Symbol">:</a> <a id="4032" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4036" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4037" class="Symbol">)</a>
                  <a id="4057" class="Symbol">→</a> <a id="4059" class="Symbol">(</a><a id="4060" href="Graded.Context.Properties.Update.html#4003" class="Bound">γ</a> <a id="4062" href="Graded.Context.html#1555" class="Function Operator">∧ᶜ</a> <a id="4065" href="Graded.Context.Properties.Update.html#4005" class="Bound">δ</a><a id="4066" class="Symbol">)</a> <a id="4068" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4070" href="Graded.Context.Properties.Update.html#4028" class="Bound">x</a> <a id="4072" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4074" class="Symbol">(</a><a id="4075" href="Graded.Context.Properties.Update.html#4018" class="Bound">p</a> <a id="4077" href="Graded.Modality.html#748" class="Function Operator">∧</a> <a id="4079" href="Graded.Context.Properties.Update.html#4020" class="Bound">q</a><a id="4080" class="Symbol">)</a> <a id="4082" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4084" class="Symbol">(</a><a id="4085" href="Graded.Context.Properties.Update.html#4003" class="Bound">γ</a> <a id="4087" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4089" href="Graded.Context.Properties.Update.html#4028" class="Bound">x</a> <a id="4091" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4093" href="Graded.Context.Properties.Update.html#4018" class="Bound">p</a><a id="4094" class="Symbol">)</a> <a id="4096" href="Graded.Context.html#1555" class="Function Operator">∧ᶜ</a> <a id="4099" class="Symbol">(</a><a id="4100" href="Graded.Context.Properties.Update.html#4005" class="Bound">δ</a> <a id="4102" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4104" href="Graded.Context.Properties.Update.html#4028" class="Bound">x</a> <a id="4106" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4108" href="Graded.Context.Properties.Update.html#4020" class="Bound">q</a><a id="4109" class="Symbol">)</a>
<a id="4111" href="Graded.Context.Properties.Update.html#3982" class="Function">update-distrib-∧ᶜ</a> <a id="4129" class="Symbol">(</a><a id="4130" href="Graded.Context.Properties.Update.html#4130" class="Bound">γ</a> <a id="4132" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4134" href="Graded.Context.Properties.Update.html#4134" class="Bound">p′</a><a id="4136" class="Symbol">)</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Graded.Context.Properties.Update.html#4139" class="Bound">δ</a> <a id="4141" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4143" href="Graded.Context.Properties.Update.html#4143" class="Bound">q′</a><a id="4145" class="Symbol">)</a> <a id="4147" href="Graded.Context.Properties.Update.html#4147" class="Bound">p</a> <a id="4149" href="Graded.Context.Properties.Update.html#4149" class="Bound">q</a> <a id="4151" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="4154" class="Symbol">=</a> <a id="4156" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="4164" href="Graded.Context.Properties.Update.html#3982" class="Function">update-distrib-∧ᶜ</a> <a id="4182" class="Symbol">(</a><a id="4183" href="Graded.Context.Properties.Update.html#4183" class="Bound">γ</a> <a id="4185" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4187" href="Graded.Context.Properties.Update.html#4187" class="Bound">p′</a><a id="4189" class="Symbol">)</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Graded.Context.Properties.Update.html#4192" class="Bound">δ</a> <a id="4194" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4196" href="Graded.Context.Properties.Update.html#4196" class="Bound">q′</a><a id="4198" class="Symbol">)</a> <a id="4200" href="Graded.Context.Properties.Update.html#4200" class="Bound">p</a> <a id="4202" href="Graded.Context.Properties.Update.html#4202" class="Bound">q</a> <a id="4204" class="Symbol">(</a><a id="4205" href="Graded.Context.Properties.Update.html#4205" class="Bound">x</a> <a id="4207" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4209" class="Symbol">)</a> <a id="4211" class="Symbol">=</a> <a id="4213" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4218" class="Symbol">(</a><a id="4219" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="4222" class="Symbol">_)</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Graded.Context.Properties.Update.html#3982" class="Function">update-distrib-∧ᶜ</a> <a id="4244" href="Graded.Context.Properties.Update.html#4183" class="Bound">γ</a> <a id="4246" href="Graded.Context.Properties.Update.html#4192" class="Bound">δ</a> <a id="4248" href="Graded.Context.Properties.Update.html#4200" class="Bound">p</a> <a id="4250" href="Graded.Context.Properties.Update.html#4202" class="Bound">q</a> <a id="4252" href="Graded.Context.Properties.Update.html#4205" class="Bound">x</a><a id="4253" class="Symbol">)</a>

<a id="4256" class="Comment">-- Context update distributes over ⊛ᶜ</a>
<a id="4294" class="Comment">-- γ ⊛ᶜ δ ▷ r , x ≔ p ⊛ q ▷ r ≡ (γ , x ≔ p) ⊛ᶜ (δ , x ≔ q) ▷ r</a>

<a id="update-distrib-⊛ᶜ"></a><a id="4358" href="Graded.Context.Properties.Update.html#4358" class="Function">update-distrib-⊛ᶜ</a> <a id="4376" class="Symbol">:</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Graded.Context.Properties.Update.html#4379" class="Bound">γ</a> <a id="4381" href="Graded.Context.Properties.Update.html#4381" class="Bound">δ</a> <a id="4383" class="Symbol">:</a> <a id="4385" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="4390" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4391" class="Symbol">)</a> <a id="4393" class="Symbol">(</a><a id="4394" href="Graded.Context.Properties.Update.html#4394" class="Bound">r</a> <a id="4396" href="Graded.Context.Properties.Update.html#4396" class="Bound">p</a> <a id="4398" href="Graded.Context.Properties.Update.html#4398" class="Bound">q</a> <a id="4400" class="Symbol">:</a> <a id="4402" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="4403" class="Symbol">)</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Graded.Context.Properties.Update.html#4406" class="Bound">x</a> <a id="4408" class="Symbol">:</a> <a id="4410" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4414" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4415" class="Symbol">)</a>
                   <a id="4436" class="Symbol">→</a> <a id="4438" href="Graded.Context.Properties.Update.html#4379" class="Bound">γ</a> <a id="4440" href="Graded.Context.html#1875" class="Function Operator">⊛ᶜ</a> <a id="4443" href="Graded.Context.Properties.Update.html#4381" class="Bound">δ</a> <a id="4445" href="Graded.Context.html#1875" class="Function Operator">▷</a> <a id="4447" href="Graded.Context.Properties.Update.html#4394" class="Bound">r</a> <a id="4449" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4451" href="Graded.Context.Properties.Update.html#4406" class="Bound">x</a> <a id="4453" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4455" class="Symbol">(</a><a id="4456" href="Graded.Context.Properties.Update.html#4396" class="Bound">p</a> <a id="4458" href="Graded.Modality.html#4211" class="Function Operator">⊛</a> <a id="4460" href="Graded.Context.Properties.Update.html#4398" class="Bound">q</a> <a id="4462" href="Graded.Modality.html#4211" class="Function Operator">▷</a> <a id="4464" href="Graded.Context.Properties.Update.html#4394" class="Bound">r</a><a id="4465" class="Symbol">)</a> <a id="4467" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4469" class="Symbol">(</a><a id="4470" href="Graded.Context.Properties.Update.html#4379" class="Bound">γ</a> <a id="4472" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4474" href="Graded.Context.Properties.Update.html#4406" class="Bound">x</a> <a id="4476" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4478" href="Graded.Context.Properties.Update.html#4396" class="Bound">p</a><a id="4479" class="Symbol">)</a> <a id="4481" href="Graded.Context.html#1875" class="Function Operator">⊛ᶜ</a> <a id="4484" class="Symbol">(</a><a id="4485" href="Graded.Context.Properties.Update.html#4381" class="Bound">δ</a> <a id="4487" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4489" href="Graded.Context.Properties.Update.html#4406" class="Bound">x</a> <a id="4491" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4493" href="Graded.Context.Properties.Update.html#4398" class="Bound">q</a><a id="4494" class="Symbol">)</a> <a id="4496" href="Graded.Context.html#1875" class="Function Operator">▷</a> <a id="4498" href="Graded.Context.Properties.Update.html#4394" class="Bound">r</a>
<a id="4500" href="Graded.Context.Properties.Update.html#4358" class="Function">update-distrib-⊛ᶜ</a> <a id="4518" class="Symbol">(</a><a id="4519" href="Graded.Context.Properties.Update.html#4519" class="Bound">γ</a> <a id="4521" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4523" class="Symbol">_)</a> <a id="4526" class="Symbol">(</a><a id="4527" href="Graded.Context.Properties.Update.html#4527" class="Bound">δ</a> <a id="4529" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4531" class="Symbol">_)</a> <a id="4534" href="Graded.Context.Properties.Update.html#4534" class="Bound">r</a> <a id="4536" href="Graded.Context.Properties.Update.html#4536" class="Bound">p</a> <a id="4538" href="Graded.Context.Properties.Update.html#4538" class="Bound">q</a> <a id="4540" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="4543" class="Symbol">=</a> <a id="4545" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
<a id="4553" href="Graded.Context.Properties.Update.html#4358" class="Function">update-distrib-⊛ᶜ</a> <a id="4571" class="Symbol">(</a><a id="4572" href="Graded.Context.Properties.Update.html#4572" class="Bound">γ</a> <a id="4574" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4576" class="Symbol">_)</a> <a id="4579" class="Symbol">(</a><a id="4580" href="Graded.Context.Properties.Update.html#4580" class="Bound">δ</a> <a id="4582" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4584" class="Symbol">_)</a> <a id="4587" href="Graded.Context.Properties.Update.html#4587" class="Bound">r</a> <a id="4589" href="Graded.Context.Properties.Update.html#4589" class="Bound">p</a> <a id="4591" href="Graded.Context.Properties.Update.html#4591" class="Bound">q</a> <a id="4593" class="Symbol">(</a><a id="4594" href="Graded.Context.Properties.Update.html#4594" class="Bound">x</a> <a id="4596" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="4598" class="Symbol">)</a> <a id="4600" class="Symbol">=</a>
  <a id="4604" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="4609" class="Symbol">(</a><a id="4610" href="Graded.Context.html#668" class="InductiveConstructor Operator">_∙</a> <a id="4613" class="Symbol">_)</a> <a id="4616" class="Symbol">(</a><a id="4617" href="Graded.Context.Properties.Update.html#4358" class="Function">update-distrib-⊛ᶜ</a> <a id="4635" href="Graded.Context.Properties.Update.html#4572" class="Bound">γ</a> <a id="4637" href="Graded.Context.Properties.Update.html#4580" class="Bound">δ</a> <a id="4639" href="Graded.Context.Properties.Update.html#4587" class="Bound">r</a> <a id="4641" href="Graded.Context.Properties.Update.html#4589" class="Bound">p</a> <a id="4643" href="Graded.Context.Properties.Update.html#4591" class="Bound">q</a> <a id="4645" href="Graded.Context.Properties.Update.html#4594" class="Bound">x</a><a id="4646" class="Symbol">)</a>

<a id="4649" class="Comment">-- Updating the head of a context leaves the tail untouched</a>
<a id="4709" class="Comment">-- γ , x0 ≔ p ≡ tailₘ γ ∙ p</a>

<a id="update-head"></a><a id="4738" href="Graded.Context.Properties.Update.html#4738" class="Function">update-head</a> <a id="4750" class="Symbol">:</a> <a id="4752" class="Symbol">(</a><a id="4753" href="Graded.Context.Properties.Update.html#4753" class="Bound">γ</a> <a id="4755" class="Symbol">:</a> <a id="4757" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="4762" class="Symbol">(</a><a id="4763" href="Tools.Nat.html#698" class="InductiveConstructor">1+</a> <a id="4766" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4767" class="Symbol">))</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Graded.Context.Properties.Update.html#4771" class="Bound">p</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="4776" class="Symbol">)</a> <a id="4778" class="Symbol">→</a> <a id="4780" href="Graded.Context.Properties.Update.html#4753" class="Bound">γ</a> <a id="4782" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="4784" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a> <a id="4787" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="4789" href="Graded.Context.Properties.Update.html#4771" class="Bound">p</a> <a id="4791" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4793" href="Graded.Context.html#939" class="Function">tailₘ</a> <a id="4799" href="Graded.Context.Properties.Update.html#4753" class="Bound">γ</a> <a id="4801" class="InductiveConstructor Operator">∙</a> <a id="4803" href="Graded.Context.Properties.Update.html#4771" class="Bound">p</a>
<a id="4805" href="Graded.Context.Properties.Update.html#4738" class="Function">update-head</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Graded.Context.Properties.Update.html#4818" class="Bound">γ</a> <a id="4820" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="4822" href="Graded.Context.Properties.Update.html#4822" class="Bound">q</a><a id="4823" class="Symbol">)</a> <a id="4825" href="Graded.Context.Properties.Update.html#4825" class="Bound">p</a> <a id="4827" class="Symbol">=</a> <a id="4829" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>

<a id="4838" class="Comment">-- Updating the tail of a context leaves the head untouched</a>
<a id="4898" class="Comment">-- γ , (x +1) ≔ p ≡ (tailₘ γ , x ≔ p) ∙ headₘ γ</a>

<a id="update-step"></a><a id="4947" href="Graded.Context.Properties.Update.html#4947" class="Function">update-step</a> <a id="4959" class="Symbol">:</a> <a id="4961" class="Symbol">(</a><a id="4962" href="Graded.Context.Properties.Update.html#4962" class="Bound">γ</a> <a id="4964" class="Symbol">:</a> <a id="4966" href="Graded.Context.html#626" class="Datatype">Conₘ</a> <a id="4971" class="Symbol">(</a><a id="4972" href="Tools.Nat.html#698" class="InductiveConstructor">1+</a> <a id="4975" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4976" class="Symbol">))</a> <a id="4979" class="Symbol">(</a><a id="4980" href="Graded.Context.Properties.Update.html#4980" class="Bound">p</a> <a id="4982" class="Symbol">:</a> <a id="4984" href="Graded.Context.Properties.Update.html#258" class="Bound">M</a><a id="4985" class="Symbol">)</a> <a id="4987" class="Symbol">(</a><a id="4988" href="Graded.Context.Properties.Update.html#4988" class="Bound">x</a> <a id="4990" class="Symbol">:</a> <a id="4992" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="4996" href="Graded.Context.Properties.Update.html#705" class="Generalizable">n</a><a id="4997" class="Symbol">)</a>
            <a id="5011" class="Symbol">→</a> <a id="5013" href="Graded.Context.Properties.Update.html#4962" class="Bound">γ</a> <a id="5015" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="5017" class="Symbol">(</a><a id="5018" href="Graded.Context.Properties.Update.html#4988" class="Bound">x</a> <a id="5020" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="5022" class="Symbol">)</a> <a id="5024" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="5026" href="Graded.Context.Properties.Update.html#4980" class="Bound">p</a> <a id="5028" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5030" class="Symbol">(</a><a id="5031" href="Graded.Context.html#939" class="Function">tailₘ</a> <a id="5037" href="Graded.Context.Properties.Update.html#4962" class="Bound">γ</a> <a id="5039" href="Graded.Context.html#1041" class="Function Operator">,</a> <a id="5041" href="Graded.Context.Properties.Update.html#4988" class="Bound">x</a> <a id="5043" href="Graded.Context.html#1041" class="Function Operator">≔</a> <a id="5045" href="Graded.Context.Properties.Update.html#4980" class="Bound">p</a><a id="5046" class="Symbol">)</a> <a id="5048" class="InductiveConstructor Operator">∙</a> <a id="5050" href="Graded.Context.html#890" class="Function">headₘ</a> <a id="5056" href="Graded.Context.Properties.Update.html#4962" class="Bound">γ</a>
<a id="5058" href="Graded.Context.Properties.Update.html#4947" class="Function">update-step</a> <a id="5070" class="Symbol">(</a><a id="5071" href="Graded.Context.Properties.Update.html#5071" class="Bound">γ</a> <a id="5073" href="Graded.Context.html#668" class="InductiveConstructor Operator">∙</a> <a id="5075" href="Graded.Context.Properties.Update.html#5075" class="Bound">q</a><a id="5076" class="Symbol">)</a> <a id="5078" href="Graded.Context.Properties.Update.html#5078" class="Bound">p</a> <a id="5080" href="Graded.Context.Properties.Update.html#5080" class="Bound">x</a> <a id="5082" class="Symbol">=</a> <a id="5084" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a>
</pre></body></html>