<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Reasoning.Type</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Equational reasoning combinators for definitional equality of types</a>
<a id="145" class="Comment">------------------------------------------------------------------------</a>

<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="290" class="Keyword">module</a> <a id="297" href="Definition.Typed.Reasoning.Type.html" class="Module">Definition.Typed.Reasoning.Type</a>
  <a id="331" class="Symbol">{</a><a id="332" href="Definition.Typed.Reasoning.Type.html#332" class="Bound">ℓ</a><a id="333" class="Symbol">}</a> <a id="335" class="Symbol">{</a><a id="336" href="Definition.Typed.Reasoning.Type.html#336" class="Bound">M</a> <a id="338" class="Symbol">:</a> <a id="340" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="344" href="Definition.Typed.Reasoning.Type.html#332" class="Bound">ℓ</a><a id="345" class="Symbol">}</a>
  <a id="349" class="Symbol">{</a><a id="350" href="Definition.Typed.Reasoning.Type.html#350" class="Bound">𝕄</a> <a id="352" class="Symbol">:</a> <a id="354" href="Graded.Modality.html#8058" class="Record">Modality</a> <a id="363" href="Definition.Typed.Reasoning.Type.html#336" class="Bound">M</a><a id="364" class="Symbol">}</a>
  <a id="368" class="Symbol">(</a><a id="369" href="Definition.Typed.Reasoning.Type.html#369" class="Bound">R</a> <a id="371" class="Symbol">:</a> <a id="373" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="391" href="Definition.Typed.Reasoning.Type.html#350" class="Bound">𝕄</a><a id="392" class="Symbol">)</a>
  <a id="396" class="Keyword">where</a>

<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="432" href="Definition.Typed.Reasoning.Type.html#369" class="Bound">R</a>
<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="465" href="Definition.Typed.Reasoning.Type.html#336" class="Bound">M</a>

<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="495" class="Keyword">import</a> <a id="502" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="530" class="Symbol">as</a> <a id="533" class="Module">PE</a>

<a id="537" class="Keyword">private</a> <a id="545" class="Keyword">variable</a>
  <a id="556" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="558" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="560" class="Symbol">:</a> <a id="562" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="567" class="Symbol">_</a>
  <a id="571" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a>   <a id="575" class="Symbol">:</a> <a id="577" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="581" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="586" class="Symbol">_</a>

<a id="589" class="Keyword">infix</a>  <a id="596" class="Number">-1</a> <a id="599" href="Definition.Typed.Reasoning.Type.html#1961" class="Function Operator">_∎⟨_⟩⊢</a> <a id="606" href="Definition.Typed.Reasoning.Type.html#2214" class="Function">finally</a> <a id="614" href="Definition.Typed.Reasoning.Type.html#2397" class="Function">finally-˘</a> <a id="624" href="Definition.Typed.Reasoning.Type.html#2688" class="Function">finally-≡</a> <a id="634" href="Definition.Typed.Reasoning.Type.html#2846" class="Function">finally-˘≡</a>
<a id="645" class="Keyword">infixr</a> <a id="652" class="Number">-2</a> <a id="655" href="Definition.Typed.Reasoning.Type.html#1073" class="Function">step-≡</a> <a id="662" href="Definition.Typed.Reasoning.Type.html#1256" class="Function">step-≡˘</a> <a id="670" href="Definition.Typed.Reasoning.Type.html#1471" class="Function">step-≡≡</a> <a id="678" href="Definition.Typed.Reasoning.Type.html#1676" class="Function">step-≡˘≡</a> <a id="687" href="Definition.Typed.Reasoning.Type.html#1866" class="Function Operator">_≡⟨⟩⊢_</a>

<a id="695" class="Comment">-- A regular reasoning step.</a>
<a id="724" class="Comment">--</a>
<a id="727" class="Comment">-- It can be easier for Agda to type-check typical equational</a>
<a id="789" class="Comment">-- reasoning chains if the transitivity proof gets the equality</a>
<a id="853" class="Comment">-- arguments in the opposite order, because then the B argument is</a>
<a id="920" class="Comment">-- (perhaps more) known once the proof of Γ ⊢ A ≡ B is type-checked.</a>
<a id="989" class="Comment">--</a>
<a id="992" class="Comment">-- The idea behind this optimisation came up in discussions with Ulf</a>
<a id="1061" class="Comment">-- Norell.</a>

<a id="step-≡"></a><a id="1073" href="Definition.Typed.Reasoning.Type.html#1073" class="Function">step-≡</a> <a id="1080" class="Symbol">:</a> <a id="1082" class="Symbol">∀</a> <a id="1084" href="Definition.Typed.Reasoning.Type.html#1084" class="Bound">A</a> <a id="1086" class="Symbol">→</a> <a id="1088" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1090" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1092" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1094" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1096" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1102" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1104" href="Definition.Typed.Reasoning.Type.html#1084" class="Bound">A</a> <a id="1106" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1108" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1114" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1116" href="Definition.Typed.Reasoning.Type.html#1084" class="Bound">A</a> <a id="1118" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1120" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="1122" href="Definition.Typed.Reasoning.Type.html#1073" class="Function">step-≡</a> <a id="1129" class="Symbol">_</a> <a id="1131" class="Symbol">=</a> <a id="1133" href="Function.Base.html#1638" class="Function">flip</a> <a id="1138" href="Definition.Typed.html#5064" class="InductiveConstructor">trans</a>

<a id="1145" class="Keyword">syntax</a> <a id="1152" href="Definition.Typed.Reasoning.Type.html#1073" class="Function">step-≡</a> <a id="1159" class="Bound">A</a> <a id="1161" class="Bound">B≡C</a> <a id="1165" class="Bound">A≡B</a> <a id="1169" class="Symbol">=</a> <a id="1171" class="Bound">A</a> <a id="1173" class="Function">≡⟨</a> <a id="1176" class="Bound">A≡B</a> <a id="1180" class="Function">⟩⊢</a> <a id="1183" class="Bound">B≡C</a>

<a id="1188" class="Symbol">{-#</a> <a id="1192" class="Keyword">INLINE</a> <a id="1199" href="Definition.Typed.Reasoning.Type.html#1073" class="Function">step-≡</a> <a id="1206" class="Symbol">#-}</a>

<a id="1211" class="Comment">-- A reasoning step combined with symmetry.</a>

<a id="step-≡˘"></a><a id="1256" href="Definition.Typed.Reasoning.Type.html#1256" class="Function">step-≡˘</a> <a id="1264" class="Symbol">:</a> <a id="1266" class="Symbol">∀</a> <a id="1268" href="Definition.Typed.Reasoning.Type.html#1268" class="Bound">A</a> <a id="1270" class="Symbol">→</a> <a id="1272" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1274" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1276" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1278" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1280" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="1282" class="Symbol">→</a> <a id="1284" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1286" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1288" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1290" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1292" href="Definition.Typed.Reasoning.Type.html#1268" class="Bound">A</a> <a id="1294" class="Symbol">→</a> <a id="1296" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1298" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1300" href="Definition.Typed.Reasoning.Type.html#1268" class="Bound">A</a> <a id="1302" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1304" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="1306" href="Definition.Typed.Reasoning.Type.html#1256" class="Function">step-≡˘</a> <a id="1314" class="Symbol">_</a> <a id="1316" href="Definition.Typed.Reasoning.Type.html#1316" class="Bound">B≡C</a> <a id="1320" href="Definition.Typed.Reasoning.Type.html#1320" class="Bound">B≡A</a> <a id="1324" class="Symbol">=</a> <a id="1326" href="Definition.Typed.html#5064" class="InductiveConstructor">trans</a> <a id="1332" class="Symbol">(</a><a id="1333" href="Definition.Typed.html#5018" class="InductiveConstructor">sym</a> <a id="1337" href="Definition.Typed.Reasoning.Type.html#1320" class="Bound">B≡A</a><a id="1340" class="Symbol">)</a> <a id="1342" href="Definition.Typed.Reasoning.Type.html#1316" class="Bound">B≡C</a>

<a id="1347" class="Keyword">syntax</a> <a id="1354" href="Definition.Typed.Reasoning.Type.html#1256" class="Function">step-≡˘</a> <a id="1362" class="Bound">A</a> <a id="1364" class="Bound">B≡C</a> <a id="1368" class="Bound">B≡A</a> <a id="1372" class="Symbol">=</a> <a id="1374" class="Bound">A</a> <a id="1376" class="Function">≡˘⟨</a> <a id="1380" class="Bound">B≡A</a> <a id="1384" class="Function">⟩⊢</a> <a id="1387" class="Bound">B≡C</a>

<a id="1392" class="Symbol">{-#</a> <a id="1396" class="Keyword">INLINE</a> <a id="1403" href="Definition.Typed.Reasoning.Type.html#1256" class="Function">step-≡˘</a> <a id="1411" class="Symbol">#-}</a>

<a id="1416" class="Comment">-- A reasoning step that uses propositional equality.</a>

<a id="step-≡≡"></a><a id="1471" href="Definition.Typed.Reasoning.Type.html#1471" class="Function">step-≡≡</a> <a id="1479" class="Symbol">:</a> <a id="1481" class="Symbol">∀</a> <a id="1483" href="Definition.Typed.Reasoning.Type.html#1483" class="Bound">A</a> <a id="1485" class="Symbol">→</a> <a id="1487" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1489" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1491" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1493" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1495" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Definition.Typed.Reasoning.Type.html#1483" class="Bound">A</a> <a id="1501" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="1506" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1508" class="Symbol">→</a> <a id="1510" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1512" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1514" href="Definition.Typed.Reasoning.Type.html#1483" class="Bound">A</a> <a id="1516" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1518" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="1520" href="Definition.Typed.Reasoning.Type.html#1471" class="Function">step-≡≡</a> <a id="1528" class="Symbol">_</a> <a id="1530" href="Definition.Typed.Reasoning.Type.html#1530" class="Bound">B≡C</a> <a id="1534" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="Definition.Typed.Reasoning.Type.html#1530" class="Bound">B≡C</a>

<a id="1549" class="Keyword">syntax</a> <a id="1556" href="Definition.Typed.Reasoning.Type.html#1471" class="Function">step-≡≡</a> <a id="1564" class="Bound">A</a> <a id="1566" class="Bound">B≡C</a> <a id="1570" class="Bound">A≡B</a> <a id="1574" class="Symbol">=</a> <a id="1576" class="Bound">A</a> <a id="1578" class="Function">≡⟨</a> <a id="1581" class="Bound">A≡B</a> <a id="1585" class="Function">⟩⊢≡</a> <a id="1589" class="Bound">B≡C</a>

<a id="1594" class="Comment">-- A reasoning step that uses propositional equality, combined with</a>
<a id="1662" class="Comment">-- symmetry.</a>

<a id="step-≡˘≡"></a><a id="1676" href="Definition.Typed.Reasoning.Type.html#1676" class="Function">step-≡˘≡</a> <a id="1685" class="Symbol">:</a> <a id="1687" class="Symbol">∀</a> <a id="1689" href="Definition.Typed.Reasoning.Type.html#1689" class="Bound">A</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1695" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1697" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1699" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1701" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="1703" class="Symbol">→</a> <a id="1705" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1707" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="1712" href="Definition.Typed.Reasoning.Type.html#1689" class="Bound">A</a> <a id="1714" class="Symbol">→</a> <a id="1716" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1718" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1720" href="Definition.Typed.Reasoning.Type.html#1689" class="Bound">A</a> <a id="1722" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1724" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="1726" href="Definition.Typed.Reasoning.Type.html#1676" class="Function">step-≡˘≡</a> <a id="1735" class="Symbol">_</a> <a id="1737" href="Definition.Typed.Reasoning.Type.html#1737" class="Bound">B≡C</a> <a id="1741" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Definition.Typed.Reasoning.Type.html#1737" class="Bound">B≡C</a>

<a id="1756" class="Keyword">syntax</a> <a id="1763" href="Definition.Typed.Reasoning.Type.html#1676" class="Function">step-≡˘≡</a> <a id="1772" class="Bound">A</a> <a id="1774" class="Bound">B≡C</a> <a id="1778" class="Bound">B≡A</a> <a id="1782" class="Symbol">=</a> <a id="1784" class="Bound">A</a> <a id="1786" class="Function">≡˘⟨</a> <a id="1790" class="Bound">B≡A</a> <a id="1794" class="Function">⟩⊢≡</a> <a id="1798" class="Bound">B≡C</a>

<a id="1803" class="Comment">-- A reasoning step that uses (Agda&#39;s) definitional equality.</a>

<a id="_≡⟨⟩⊢_"></a><a id="1866" href="Definition.Typed.Reasoning.Type.html#1866" class="Function Operator">_≡⟨⟩⊢_</a> <a id="1873" class="Symbol">:</a> <a id="1875" class="Symbol">∀</a> <a id="1877" href="Definition.Typed.Reasoning.Type.html#1877" class="Bound">A</a> <a id="1879" class="Symbol">→</a> <a id="1881" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1883" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1885" href="Definition.Typed.Reasoning.Type.html#1877" class="Bound">A</a> <a id="1887" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1889" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="1891" class="Symbol">→</a> <a id="1893" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1895" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1897" href="Definition.Typed.Reasoning.Type.html#1877" class="Bound">A</a> <a id="1899" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1901" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a>
<a id="1903" class="Symbol">_</a> <a id="1905" href="Definition.Typed.Reasoning.Type.html#1866" class="Function Operator">≡⟨⟩⊢</a> <a id="1910" href="Definition.Typed.Reasoning.Type.html#1910" class="Bound">A≡B</a> <a id="1914" class="Symbol">=</a> <a id="1916" href="Definition.Typed.Reasoning.Type.html#1910" class="Bound">A≡B</a>

<a id="1921" class="Symbol">{-#</a> <a id="1925" class="Keyword">INLINE</a> <a id="1932" href="Definition.Typed.Reasoning.Type.html#1866" class="Function Operator">_≡⟨⟩⊢_</a> <a id="1939" class="Symbol">#-}</a>

<a id="1944" class="Comment">-- Reflexivity.</a>

<a id="_∎⟨_⟩⊢"></a><a id="1961" href="Definition.Typed.Reasoning.Type.html#1961" class="Function Operator">_∎⟨_⟩⊢</a> <a id="1968" class="Symbol">:</a> <a id="1970" class="Symbol">∀</a> <a id="1972" href="Definition.Typed.Reasoning.Type.html#1972" class="Bound">A</a> <a id="1974" class="Symbol">→</a> <a id="1976" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1978" href="Definition.Typed.html#1306" class="Datatype Operator">⊢</a> <a id="1980" href="Definition.Typed.Reasoning.Type.html#1972" class="Bound">A</a> <a id="1982" class="Symbol">→</a> <a id="1984" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="1986" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="1988" href="Definition.Typed.Reasoning.Type.html#1972" class="Bound">A</a> <a id="1990" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="1992" href="Definition.Typed.Reasoning.Type.html#1972" class="Bound">A</a>
<a id="1994" class="Symbol">_</a> <a id="1996" href="Definition.Typed.Reasoning.Type.html#1961" class="Function Operator">∎⟨</a> <a id="1999" href="Definition.Typed.Reasoning.Type.html#1999" class="Bound">⊢A</a> <a id="2002" href="Definition.Typed.Reasoning.Type.html#1961" class="Function Operator">⟩⊢</a> <a id="2005" class="Symbol">=</a> <a id="2007" href="Definition.Typed.html#4976" class="InductiveConstructor">refl</a> <a id="2012" href="Definition.Typed.Reasoning.Type.html#1999" class="Bound">⊢A</a>

<a id="2016" class="Symbol">{-#</a> <a id="2020" class="Keyword">INLINE</a> <a id="2027" href="Definition.Typed.Reasoning.Type.html#1961" class="Function Operator">_∎⟨_⟩⊢</a> <a id="2034" class="Symbol">#-}</a>

<a id="2039" class="Comment">-- The reflexivity proof requires one to prove that the type is</a>
<a id="2103" class="Comment">-- well-formed. In a non-empty chain of reasoning steps one can</a>
<a id="2167" class="Comment">-- instead end with the following combinator.</a>

<a id="finally"></a><a id="2214" href="Definition.Typed.Reasoning.Type.html#2214" class="Function">finally</a> <a id="2222" class="Symbol">:</a> <a id="2224" class="Symbol">∀</a> <a id="2226" href="Definition.Typed.Reasoning.Type.html#2226" class="Bound">A</a> <a id="2228" href="Definition.Typed.Reasoning.Type.html#2228" class="Bound">B</a> <a id="2230" class="Symbol">→</a> <a id="2232" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2234" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2236" href="Definition.Typed.Reasoning.Type.html#2226" class="Bound">A</a> <a id="2238" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2240" href="Definition.Typed.Reasoning.Type.html#2228" class="Bound">B</a> <a id="2242" class="Symbol">→</a> <a id="2244" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2246" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2248" href="Definition.Typed.Reasoning.Type.html#2226" class="Bound">A</a> <a id="2250" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2252" href="Definition.Typed.Reasoning.Type.html#2228" class="Bound">B</a>
<a id="2254" href="Definition.Typed.Reasoning.Type.html#2214" class="Function">finally</a> <a id="2262" class="Symbol">_</a> <a id="2264" class="Symbol">_</a> <a id="2266" href="Definition.Typed.Reasoning.Type.html#2266" class="Bound">A≡B</a> <a id="2270" class="Symbol">=</a> <a id="2272" href="Definition.Typed.Reasoning.Type.html#2266" class="Bound">A≡B</a>

<a id="2277" class="Keyword">syntax</a> <a id="2284" href="Definition.Typed.Reasoning.Type.html#2214" class="Function">finally</a> <a id="2292" class="Bound">A</a> <a id="2294" class="Bound">B</a> <a id="2296" class="Bound">A≡B</a> <a id="2300" class="Symbol">=</a> <a id="2302" class="Bound">A</a> <a id="2304" class="Function">≡⟨</a> <a id="2307" class="Bound">A≡B</a> <a id="2311" class="Function">⟩⊢∎</a> <a id="2315" class="Bound">B</a> <a id="2317" class="Function">∎</a>

<a id="2320" class="Symbol">{-#</a> <a id="2324" class="Keyword">INLINE</a> <a id="2331" href="Definition.Typed.Reasoning.Type.html#2214" class="Function">finally</a> <a id="2339" class="Symbol">#-}</a>

<a id="2344" class="Comment">-- A combinator that combines finally and symmetry.</a>

<a id="finally-˘"></a><a id="2397" href="Definition.Typed.Reasoning.Type.html#2397" class="Function">finally-˘</a> <a id="2407" class="Symbol">:</a> <a id="2409" class="Symbol">∀</a> <a id="2411" href="Definition.Typed.Reasoning.Type.html#2411" class="Bound">A</a> <a id="2413" href="Definition.Typed.Reasoning.Type.html#2413" class="Bound">B</a> <a id="2415" class="Symbol">→</a> <a id="2417" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2419" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2421" href="Definition.Typed.Reasoning.Type.html#2413" class="Bound">B</a> <a id="2423" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2425" href="Definition.Typed.Reasoning.Type.html#2411" class="Bound">A</a> <a id="2427" class="Symbol">→</a> <a id="2429" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2431" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2433" href="Definition.Typed.Reasoning.Type.html#2411" class="Bound">A</a> <a id="2435" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2437" href="Definition.Typed.Reasoning.Type.html#2413" class="Bound">B</a>
<a id="2439" href="Definition.Typed.Reasoning.Type.html#2397" class="Function">finally-˘</a> <a id="2449" class="Symbol">_</a> <a id="2451" class="Symbol">_</a> <a id="2453" href="Definition.Typed.Reasoning.Type.html#2453" class="Bound">A≡B</a> <a id="2457" class="Symbol">=</a> <a id="2459" href="Definition.Typed.html#5018" class="InductiveConstructor">sym</a> <a id="2463" href="Definition.Typed.Reasoning.Type.html#2453" class="Bound">A≡B</a>

<a id="2468" class="Keyword">syntax</a> <a id="2475" href="Definition.Typed.Reasoning.Type.html#2397" class="Function">finally-˘</a> <a id="2485" class="Bound">A</a> <a id="2487" class="Bound">B</a> <a id="2489" class="Bound">B≡A</a> <a id="2493" class="Symbol">=</a> <a id="2495" class="Bound">A</a> <a id="2497" class="Function">≡˘⟨</a> <a id="2501" class="Bound">B≡A</a> <a id="2505" class="Function">⟩⊢∎</a> <a id="2509" class="Bound">B</a> <a id="2511" class="Function">∎</a>

<a id="2514" class="Symbol">{-#</a> <a id="2518" class="Keyword">INLINE</a> <a id="2525" href="Definition.Typed.Reasoning.Type.html#2397" class="Function">finally-˘</a> <a id="2535" class="Symbol">#-}</a>

<a id="2540" class="Comment">-- A variant of finally that makes it possible to end the chain of</a>
<a id="2607" class="Comment">-- reasoning steps with a propositional equality, without the use of</a>
<a id="2676" class="Comment">-- _∎⟨_⟩⊢.</a>

<a id="finally-≡"></a><a id="2688" href="Definition.Typed.Reasoning.Type.html#2688" class="Function">finally-≡</a> <a id="2698" class="Symbol">:</a> <a id="2700" class="Symbol">∀</a> <a id="2702" href="Definition.Typed.Reasoning.Type.html#2702" class="Bound">A</a> <a id="2704" class="Symbol">→</a> <a id="2706" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="2708" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="2713" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="2715" class="Symbol">→</a> <a id="2717" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2719" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2721" href="Definition.Typed.Reasoning.Type.html#2702" class="Bound">A</a> <a id="2723" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2725" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="2727" class="Symbol">→</a> <a id="2729" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2731" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2733" href="Definition.Typed.Reasoning.Type.html#2702" class="Bound">A</a> <a id="2735" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2737" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="2739" href="Definition.Typed.Reasoning.Type.html#2688" class="Function">finally-≡</a> <a id="2749" class="Symbol">_</a> <a id="2751" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="2759" href="Definition.Typed.Reasoning.Type.html#2759" class="Bound">A≡B</a> <a id="2763" class="Symbol">=</a> <a id="2765" href="Definition.Typed.Reasoning.Type.html#2759" class="Bound">A≡B</a>

<a id="2770" class="Keyword">syntax</a> <a id="2777" href="Definition.Typed.Reasoning.Type.html#2688" class="Function">finally-≡</a> <a id="2787" class="Bound">A</a> <a id="2789" class="Bound">B≡C</a> <a id="2793" class="Bound">A≡B</a> <a id="2797" class="Symbol">=</a> <a id="2799" class="Bound">A</a> <a id="2801" class="Function">≡⟨</a> <a id="2804" class="Bound">A≡B</a> <a id="2808" class="Function">⟩⊢∎≡</a> <a id="2813" class="Bound">B≡C</a>

<a id="2818" class="Comment">-- A variant of finally-≡.</a>

<a id="finally-˘≡"></a><a id="2846" href="Definition.Typed.Reasoning.Type.html#2846" class="Function">finally-˘≡</a> <a id="2857" class="Symbol">:</a> <a id="2859" class="Symbol">∀</a> <a id="2861" href="Definition.Typed.Reasoning.Type.html#2861" class="Bound">A</a> <a id="2863" class="Symbol">→</a> <a id="2865" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="2867" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="2872" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a> <a id="2874" class="Symbol">→</a> <a id="2876" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2878" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2880" href="Definition.Typed.Reasoning.Type.html#556" class="Generalizable">B</a> <a id="2882" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2884" href="Definition.Typed.Reasoning.Type.html#2861" class="Bound">A</a> <a id="2886" class="Symbol">→</a> <a id="2888" href="Definition.Typed.Reasoning.Type.html#571" class="Generalizable">Γ</a> <a id="2890" href="Definition.Typed.html#4865" class="Datatype Operator">⊢</a> <a id="2892" href="Definition.Typed.Reasoning.Type.html#2861" class="Bound">A</a> <a id="2894" href="Definition.Typed.html#4865" class="Datatype Operator">≡</a> <a id="2896" href="Definition.Typed.Reasoning.Type.html#558" class="Generalizable">C</a>
<a id="2898" href="Definition.Typed.Reasoning.Type.html#2846" class="Function">finally-˘≡</a> <a id="2909" class="Symbol">_</a> <a id="2911" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="2919" href="Definition.Typed.Reasoning.Type.html#2919" class="Bound">B≡A</a> <a id="2923" class="Symbol">=</a> <a id="2925" href="Definition.Typed.html#5018" class="InductiveConstructor">sym</a> <a id="2929" href="Definition.Typed.Reasoning.Type.html#2919" class="Bound">B≡A</a>

<a id="2934" class="Keyword">syntax</a> <a id="2941" href="Definition.Typed.Reasoning.Type.html#2846" class="Function">finally-˘≡</a> <a id="2952" class="Bound">A</a> <a id="2954" class="Bound">B≡C</a> <a id="2958" class="Bound">B≡A</a> <a id="2962" class="Symbol">=</a> <a id="2964" class="Bound">A</a> <a id="2966" class="Function">≡˘⟨</a> <a id="2970" class="Bound">B≡A</a> <a id="2974" class="Function">⟩⊢∎≡</a> <a id="2979" class="Bound">B≡C</a>
</pre></body></html>