<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Conversion.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Weak head expansion of algorithmic equality.</a>
<a id="122" class="Comment">------------------------------------------------------------------------</a>

<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="267" class="Keyword">module</a> <a id="274" href="Definition.Conversion.Reduction.html" class="Module">Definition.Conversion.Reduction</a>
  <a id="308" class="Symbol">{</a><a id="309" href="Definition.Conversion.Reduction.html#309" class="Bound">a</a><a id="310" class="Symbol">}</a> <a id="312" class="Symbol">{</a><a id="313" href="Definition.Conversion.Reduction.html#313" class="Bound">M</a> <a id="315" class="Symbol">:</a> <a id="317" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="321" href="Definition.Conversion.Reduction.html#309" class="Bound">a</a><a id="322" class="Symbol">}</a>
  <a id="326" class="Symbol">{</a><a id="327" href="Definition.Conversion.Reduction.html#327" class="Bound">𝕄</a> <a id="329" class="Symbol">:</a> <a id="331" href="Graded.Modality.html#7187" class="Record">Modality</a> <a id="340" href="Definition.Conversion.Reduction.html#313" class="Bound">M</a><a id="341" class="Symbol">}</a>
  <a id="345" class="Symbol">(</a><a id="346" href="Definition.Conversion.Reduction.html#346" class="Bound">R</a> <a id="348" class="Symbol">:</a> <a id="350" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="368" href="Definition.Conversion.Reduction.html#327" class="Bound">𝕄</a><a id="369" class="Symbol">)</a>
  <a id="373" class="Keyword">where</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="411" href="Definition.Conversion.Reduction.html#313" class="Bound">M</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="442" href="Definition.Conversion.Reduction.html#346" class="Bound">R</a>
<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="484" href="Definition.Conversion.Reduction.html#346" class="Bound">R</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a> <a id="524" href="Definition.Conversion.Reduction.html#346" class="Bound">R</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Definition.Conversion.html" class="Module">Definition.Conversion</a> <a id="560" href="Definition.Conversion.Reduction.html#346" class="Bound">R</a>

<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="586" class="Keyword">private</a>
  <a id="596" class="Keyword">variable</a>
    <a id="609" href="Definition.Conversion.Reduction.html#609" class="Generalizable">n</a> <a id="611" class="Symbol">:</a> <a id="613" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="621" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="623" class="Symbol">:</a> <a id="625" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="629" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="634" href="Definition.Conversion.Reduction.html#609" class="Generalizable">n</a>

<a id="637" class="Comment">-- Weak head expansion of algorithmic equality of types.</a>
<a id="reductionConv↑"></a><a id="694" href="Definition.Conversion.Reduction.html#694" class="Function">reductionConv↑</a> <a id="709" class="Symbol">:</a> <a id="711" class="Symbol">∀</a> <a id="713" class="Symbol">{</a><a id="714" href="Definition.Conversion.Reduction.html#714" class="Bound">A</a> <a id="716" href="Definition.Conversion.Reduction.html#716" class="Bound">A′</a> <a id="719" href="Definition.Conversion.Reduction.html#719" class="Bound">B</a> <a id="721" href="Definition.Conversion.Reduction.html#721" class="Bound">B′</a><a id="723" class="Symbol">}</a>
               <a id="740" class="Symbol">→</a> <a id="742" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="744" href="Definition.Typed.html#19311" class="Datatype Operator">⊢</a> <a id="746" href="Definition.Conversion.Reduction.html#714" class="Bound">A</a> <a id="748" href="Definition.Typed.html#19311" class="Datatype Operator">⇒*</a> <a id="751" href="Definition.Conversion.Reduction.html#716" class="Bound">A′</a>
               <a id="769" class="Symbol">→</a> <a id="771" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="773" href="Definition.Typed.html#19311" class="Datatype Operator">⊢</a> <a id="775" href="Definition.Conversion.Reduction.html#719" class="Bound">B</a> <a id="777" href="Definition.Typed.html#19311" class="Datatype Operator">⇒*</a> <a id="780" href="Definition.Conversion.Reduction.html#721" class="Bound">B′</a>
               <a id="798" class="Symbol">→</a> <a id="800" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="802" href="Definition.Conversion.html#4104" class="Record Operator">⊢</a> <a id="804" href="Definition.Conversion.Reduction.html#716" class="Bound">A′</a> <a id="807" href="Definition.Conversion.html#4104" class="Record Operator">[conv↑]</a> <a id="815" href="Definition.Conversion.Reduction.html#721" class="Bound">B′</a>
               <a id="833" class="Symbol">→</a> <a id="835" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="837" href="Definition.Conversion.html#4104" class="Record Operator">⊢</a> <a id="839" href="Definition.Conversion.Reduction.html#714" class="Bound">A</a>  <a id="842" href="Definition.Conversion.html#4104" class="Record Operator">[conv↑]</a> <a id="850" href="Definition.Conversion.Reduction.html#719" class="Bound">B</a>
<a id="852" href="Definition.Conversion.Reduction.html#694" class="Function">reductionConv↑</a> <a id="867" href="Definition.Conversion.Reduction.html#867" class="Bound">A⇒*</a> <a id="871" href="Definition.Conversion.Reduction.html#871" class="Bound">B⇒*</a> <a id="875" class="Symbol">(</a><a id="876" href="Definition.Conversion.html#4192" class="InductiveConstructor">[↑]</a> <a id="880" href="Definition.Conversion.Reduction.html#880" class="Bound">A″</a> <a id="883" href="Definition.Conversion.Reduction.html#883" class="Bound">B″</a> <a id="886" href="Definition.Conversion.Reduction.html#886" class="Bound">D</a> <a id="888" href="Definition.Conversion.Reduction.html#888" class="Bound">D′</a> <a id="891" href="Definition.Conversion.Reduction.html#891" class="Bound">whnfA″</a> <a id="898" href="Definition.Conversion.Reduction.html#898" class="Bound">whnfB″</a> <a id="905" href="Definition.Conversion.Reduction.html#905" class="Bound">A″&lt;&gt;B″</a><a id="911" class="Symbol">)</a> <a id="913" class="Symbol">=</a>
  <a id="917" href="Definition.Conversion.html#4192" class="InductiveConstructor">[↑]</a> <a id="921" href="Definition.Conversion.Reduction.html#880" class="Bound">A″</a> <a id="924" href="Definition.Conversion.Reduction.html#883" class="Bound">B″</a> <a id="927" class="Symbol">(</a><a id="928" href="Definition.Conversion.Reduction.html#867" class="Bound">A⇒*</a> <a id="932" href="Definition.Typed.RedSteps.html#858" class="Function Operator">⇨*</a> <a id="935" href="Definition.Conversion.Reduction.html#886" class="Bound">D</a><a id="936" class="Symbol">)</a> <a id="938" class="Symbol">(</a><a id="939" href="Definition.Conversion.Reduction.html#871" class="Bound">B⇒*</a> <a id="943" href="Definition.Typed.RedSteps.html#858" class="Function Operator">⇨*</a> <a id="946" href="Definition.Conversion.Reduction.html#888" class="Bound">D′</a><a id="948" class="Symbol">)</a> <a id="950" href="Definition.Conversion.Reduction.html#891" class="Bound">whnfA″</a> <a id="957" href="Definition.Conversion.Reduction.html#898" class="Bound">whnfB″</a> <a id="964" href="Definition.Conversion.Reduction.html#905" class="Bound">A″&lt;&gt;B″</a>

<a id="972" class="Comment">-- Weak head expansion of algorithmic equality of terms.</a>
<a id="reductionConv↑Term"></a><a id="1029" href="Definition.Conversion.Reduction.html#1029" class="Function">reductionConv↑Term</a> <a id="1048" class="Symbol">:</a> <a id="1050" class="Symbol">∀</a> <a id="1052" class="Symbol">{</a><a id="1053" href="Definition.Conversion.Reduction.html#1053" class="Bound">t</a> <a id="1055" href="Definition.Conversion.Reduction.html#1055" class="Bound">t′</a> <a id="1058" href="Definition.Conversion.Reduction.html#1058" class="Bound">u</a> <a id="1060" href="Definition.Conversion.Reduction.html#1060" class="Bound">u′</a> <a id="1063" href="Definition.Conversion.Reduction.html#1063" class="Bound">A</a> <a id="1065" href="Definition.Conversion.Reduction.html#1065" class="Bound">B</a><a id="1066" class="Symbol">}</a>
                   <a id="1087" class="Symbol">→</a> <a id="1089" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="1091" href="Definition.Typed.html#19311" class="Datatype Operator">⊢</a> <a id="1093" href="Definition.Conversion.Reduction.html#1063" class="Bound">A</a> <a id="1095" href="Definition.Typed.html#19311" class="Datatype Operator">⇒*</a> <a id="1098" href="Definition.Conversion.Reduction.html#1065" class="Bound">B</a>
                   <a id="1119" class="Symbol">→</a> <a id="1121" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="1123" href="Definition.Typed.html#19096" class="Datatype Operator">⊢</a> <a id="1125" href="Definition.Conversion.Reduction.html#1053" class="Bound">t</a> <a id="1127" href="Definition.Typed.html#19096" class="Datatype Operator">⇒*</a> <a id="1130" href="Definition.Conversion.Reduction.html#1055" class="Bound">t′</a> <a id="1133" href="Definition.Typed.html#19096" class="Datatype Operator">∷</a> <a id="1135" href="Definition.Conversion.Reduction.html#1065" class="Bound">B</a>
                   <a id="1156" class="Symbol">→</a> <a id="1158" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="1160" href="Definition.Typed.html#19096" class="Datatype Operator">⊢</a> <a id="1162" href="Definition.Conversion.Reduction.html#1058" class="Bound">u</a> <a id="1164" href="Definition.Typed.html#19096" class="Datatype Operator">⇒*</a> <a id="1167" href="Definition.Conversion.Reduction.html#1060" class="Bound">u′</a> <a id="1170" href="Definition.Typed.html#19096" class="Datatype Operator">∷</a> <a id="1172" href="Definition.Conversion.Reduction.html#1065" class="Bound">B</a>
                   <a id="1193" class="Symbol">→</a> <a id="1195" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="1197" href="Definition.Conversion.html#5182" class="Record Operator">⊢</a> <a id="1199" href="Definition.Conversion.Reduction.html#1055" class="Bound">t′</a> <a id="1202" href="Definition.Conversion.html#5182" class="Record Operator">[conv↑]</a> <a id="1210" href="Definition.Conversion.Reduction.html#1060" class="Bound">u′</a> <a id="1213" href="Definition.Conversion.html#5182" class="Record Operator">∷</a> <a id="1215" href="Definition.Conversion.Reduction.html#1065" class="Bound">B</a>
                   <a id="1236" class="Symbol">→</a> <a id="1238" href="Definition.Conversion.Reduction.html#621" class="Generalizable">Γ</a> <a id="1240" href="Definition.Conversion.html#5182" class="Record Operator">⊢</a> <a id="1242" href="Definition.Conversion.Reduction.html#1053" class="Bound">t</a>  <a id="1245" href="Definition.Conversion.html#5182" class="Record Operator">[conv↑]</a> <a id="1253" href="Definition.Conversion.Reduction.html#1058" class="Bound">u</a>  <a id="1256" href="Definition.Conversion.html#5182" class="Record Operator">∷</a> <a id="1258" href="Definition.Conversion.Reduction.html#1063" class="Bound">A</a>
<a id="1260" href="Definition.Conversion.Reduction.html#1029" class="Function">reductionConv↑Term</a> <a id="1279" href="Definition.Conversion.Reduction.html#1279" class="Bound">A⇒*</a> <a id="1283" href="Definition.Conversion.Reduction.html#1283" class="Bound">t⇒*</a> <a id="1287" href="Definition.Conversion.Reduction.html#1287" class="Bound">u⇒*</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Definition.Conversion.html#5274" class="InductiveConstructor">[↑]ₜ</a> <a id="1297" href="Definition.Conversion.Reduction.html#1297" class="Bound">B′</a> <a id="1300" href="Definition.Conversion.Reduction.html#1300" class="Bound">t″</a> <a id="1303" href="Definition.Conversion.Reduction.html#1303" class="Bound">u″</a> <a id="1306" href="Definition.Conversion.Reduction.html#1306" class="Bound">D</a> <a id="1308" href="Definition.Conversion.Reduction.html#1308" class="Bound">d</a> <a id="1310" href="Definition.Conversion.Reduction.html#1310" class="Bound">d′</a> <a id="1313" href="Definition.Conversion.Reduction.html#1313" class="Bound">whnfB′</a> <a id="1320" href="Definition.Conversion.Reduction.html#1320" class="Bound">whnft″</a> <a id="1327" href="Definition.Conversion.Reduction.html#1327" class="Bound">whnfu″</a> <a id="1334" href="Definition.Conversion.Reduction.html#1334" class="Bound">t″&lt;&gt;u″</a><a id="1340" class="Symbol">)</a> <a id="1342" class="Symbol">=</a>
  <a id="1346" href="Definition.Conversion.html#5274" class="InductiveConstructor">[↑]ₜ</a> <a id="1351" href="Definition.Conversion.Reduction.html#1297" class="Bound">B′</a> <a id="1354" href="Definition.Conversion.Reduction.html#1300" class="Bound">t″</a> <a id="1357" href="Definition.Conversion.Reduction.html#1303" class="Bound">u″</a>
       <a id="1367" class="Symbol">(</a><a id="1368" href="Definition.Conversion.Reduction.html#1279" class="Bound">A⇒*</a> <a id="1372" href="Definition.Typed.RedSteps.html#858" class="Function Operator">⇨*</a> <a id="1375" href="Definition.Conversion.Reduction.html#1306" class="Bound">D</a><a id="1376" class="Symbol">)</a>
       <a id="1385" class="Symbol">((</a><a id="1387" href="Definition.Typed.RedSteps.html#1170" class="Function">conv*</a> <a id="1393" href="Definition.Conversion.Reduction.html#1283" class="Bound">t⇒*</a> <a id="1397" class="Symbol">(</a><a id="1398" href="Definition.Typed.Properties.html#7612" class="Function">subset*</a> <a id="1406" href="Definition.Conversion.Reduction.html#1306" class="Bound">D</a><a id="1407" class="Symbol">))</a> <a id="1410" href="Definition.Typed.RedSteps.html#1010" class="Function Operator">⇨∷*</a> <a id="1414" href="Definition.Conversion.Reduction.html#1308" class="Bound">d</a><a id="1415" class="Symbol">)</a>
       <a id="1424" class="Symbol">((</a><a id="1426" href="Definition.Typed.RedSteps.html#1170" class="Function">conv*</a> <a id="1432" href="Definition.Conversion.Reduction.html#1287" class="Bound">u⇒*</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Definition.Typed.Properties.html#7612" class="Function">subset*</a> <a id="1445" href="Definition.Conversion.Reduction.html#1306" class="Bound">D</a><a id="1446" class="Symbol">))</a> <a id="1449" href="Definition.Typed.RedSteps.html#1010" class="Function Operator">⇨∷*</a> <a id="1453" href="Definition.Conversion.Reduction.html#1310" class="Bound">d′</a><a id="1455" class="Symbol">)</a>
       <a id="1464" href="Definition.Conversion.Reduction.html#1313" class="Bound">whnfB′</a> <a id="1471" href="Definition.Conversion.Reduction.html#1320" class="Bound">whnft″</a> <a id="1478" href="Definition.Conversion.Reduction.html#1327" class="Bound">whnfu″</a> <a id="1485" href="Definition.Conversion.Reduction.html#1334" class="Bound">t″&lt;&gt;u″</a>
</pre></body></html>