<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.LogicalRelation.Fundamental.Reducibility</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The fundamental lemma of the logical relation for reducibility.</a>
<a id="141" class="Comment">------------------------------------------------------------------------</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Definition.Typed.EqualityRelation.html" class="Module">Definition.Typed.EqualityRelation</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="303" class="Keyword">import</a> <a id="310" href="Definition.Untyped.html" class="Module">Definition.Untyped</a>
<a id="329" class="Keyword">open</a> <a id="334" class="Keyword">import</a> <a id="341" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="358" class="Keyword">module</a> <a id="365" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a>
  <a id="419" class="Symbol">{</a><a id="420" href="Definition.LogicalRelation.Fundamental.Reducibility.html#420" class="Bound">a</a><a id="421" class="Symbol">}</a> <a id="423" class="Symbol">{</a><a id="424" href="Definition.LogicalRelation.Fundamental.Reducibility.html#424" class="Bound">M</a> <a id="426" class="Symbol">:</a> <a id="428" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="432" href="Definition.LogicalRelation.Fundamental.Reducibility.html#420" class="Bound">a</a><a id="433" class="Symbol">}</a>
  <a id="437" class="Symbol">(</a><a id="438" class="Keyword">open</a> <a id="443" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="462" href="Definition.LogicalRelation.Fundamental.Reducibility.html#424" class="Bound">M</a><a id="463" class="Symbol">)</a>
  <a id="467" class="Symbol">{</a><a id="468" href="Definition.LogicalRelation.Fundamental.Reducibility.html#468" class="Bound">ğ•„</a> <a id="470" class="Symbol">:</a> <a id="472" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="481" href="Definition.LogicalRelation.Fundamental.Reducibility.html#424" class="Bound">M</a><a id="482" class="Symbol">}</a>
  <a id="486" class="Symbol">(</a><a id="487" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a> <a id="489" class="Symbol">:</a> <a id="491" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="509" href="Definition.LogicalRelation.Fundamental.Reducibility.html#468" class="Bound">ğ•„</a><a id="510" class="Symbol">)</a>
  <a id="514" class="Symbol">{{</a><a id="516" href="Definition.LogicalRelation.Fundamental.Reducibility.html#516" class="Bound">eqrel</a> <a id="522" class="Symbol">:</a> <a id="524" href="Definition.Typed.EqualityRelation.html#12167" class="Record">EqRelSet</a> <a id="533" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a><a id="534" class="Symbol">}}</a>
  <a id="539" class="Symbol">(</a><a id="540" class="Keyword">open</a> <a id="545" href="Definition.Typed.EqualityRelation.html#12167" class="Module">EqRelSet</a> <a id="554" href="Definition.LogicalRelation.Fundamental.Reducibility.html#516" class="Bound">eqrel</a><a id="559" class="Symbol">)</a>
  <a id="563" class="Symbol">{</a><a id="564" href="Definition.LogicalRelation.Fundamental.Reducibility.html#564" class="Bound">m</a> <a id="566" href="Definition.LogicalRelation.Fundamental.Reducibility.html#566" class="Bound">n</a><a id="567" class="Symbol">}</a> <a id="569" class="Symbol">{</a><a id="570" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="572" class="Symbol">:</a> <a id="574" href="Definition.Untyped.html#3577" class="Function">Cons</a> <a id="579" href="Definition.LogicalRelation.Fundamental.Reducibility.html#564" class="Bound">m</a> <a id="581" href="Definition.LogicalRelation.Fundamental.Reducibility.html#566" class="Bound">n</a><a id="582" class="Symbol">}</a>
  <a id="586" class="Comment">-- Neutrals are included or Î“Â .vars is empty.</a>
  <a id="634" class="Symbol">â¦ƒ</a> <a id="636" href="Definition.LogicalRelation.Fundamental.Reducibility.html#636" class="Bound">inc</a> <a id="640" class="Symbol">:</a> <a id="642" href="Definition.Typed.EqualityRelation.html#12615" class="Field">Var-included</a> <a id="655" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="664" class="Symbol">(</a><a id="665" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="667" class="Symbol">.</a><a id="668" href="Definition.Untyped.NotParametrised.html#9327" class="Field">vars</a><a id="672" class="Symbol">)</a> <a id="674" class="Symbol">â¦„</a>
  <a id="678" class="Keyword">where</a>

<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="714" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a>
<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="755" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a>
<a id="757" class="Keyword">import</a> <a id="764" href="Definition.LogicalRelation.Fundamental.Reducibility.Restricted.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility.Restricted</a> <a id="827" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a>
  <a id="831" class="Symbol">as</a> <a id="RR"></a><a id="834" href="Definition.LogicalRelation.Fundamental.Reducibility.html#834" class="Module">RR</a>
<a id="837" class="Keyword">open</a> <a id="842" class="Keyword">import</a> <a id="849" href="Definition.LogicalRelation.Hidden.html" class="Module">Definition.LogicalRelation.Hidden</a> <a id="883" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a>
<a id="885" class="Keyword">import</a> <a id="892" href="Definition.LogicalRelation.Hidden.Restricted.html" class="Module">Definition.LogicalRelation.Hidden.Restricted</a> <a id="937" href="Definition.LogicalRelation.Fundamental.Reducibility.html#487" class="Bound">R</a> <a id="939" class="Symbol">as</a> <a id="R"></a><a id="942" href="Definition.LogicalRelation.Fundamental.Reducibility.html#942" class="Module">R</a>

<a id="945" class="Keyword">open</a> <a id="950" class="Keyword">import</a> <a id="957" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="972" class="Keyword">open</a> <a id="977" class="Keyword">import</a> <a id="984" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="998" class="Symbol">as</a> <a id="1001" class="Module">Î£</a>

<a id="1004" class="Keyword">private</a> <a id="1012" class="Keyword">variable</a>
  <a id="1023" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1025" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1025" class="Generalizable">B</a> <a id="1027" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1027" class="Generalizable">t</a> <a id="1029" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1029" class="Generalizable">u</a> <a id="1031" class="Symbol">:</a> <a id="1033" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="1038" class="Symbol">_</a>

<a id="1041" class="Keyword">opaque</a>

  <a id="1051" class="Comment">-- Well-formed types are reducible.</a>

  <a id="reducible-âŠ©"></a><a id="1090" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1090" class="Function">reducible-âŠ©</a> <a id="1102" class="Symbol">:</a> <a id="1104" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1106" href="Definition.Typed.html#2454" class="Datatype Operator">âŠ¢</a> <a id="1108" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1110" class="Symbol">â†’</a> <a id="1112" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1114" class="Symbol">Î»</a> <a id="1116" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1116" class="Bound">l</a> <a id="1118" class="Symbol">â†’</a> <a id="1120" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1122" href="Definition.LogicalRelation.html#18652" class="Function Operator">âŠ©âŸ¨</a> <a id="1125" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1116" class="Bound">l</a> <a id="1127" href="Definition.LogicalRelation.html#18652" class="Function Operator">âŸ©</a> <a id="1129" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a>
  <a id="1133" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1090" class="Function">reducible-âŠ©</a> <a id="1145" class="Symbol">=</a> <a id="1147" href="Data.Product.Base.html#2173" class="Function">Î£.map</a> <a id="1153" href="Function.Base.html#704" class="Function">idá¶ </a> <a id="1157" href="Definition.LogicalRelation.Hidden.Restricted.html#3344" class="Function">R.âŠ©â†’</a> <a id="1162" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1165" href="Definition.LogicalRelation.Fundamental.Reducibility.Restricted.html#883" class="Function">RR.reducible-âŠ©</a>

<a id="1181" class="Keyword">opaque</a>

  <a id="1191" class="Comment">-- If A and B are definitionally equal (with respect toÂ Î“), then</a>
  <a id="1258" class="Comment">-- Î“Â âŠ©âŸ¨Â lÂ âŸ©Â AÂ â‰¡Â B holds for some type levelÂ l.</a>

  <a id="reducible-âŠ©â‰¡"></a><a id="1308" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1308" class="Function">reducible-âŠ©â‰¡</a> <a id="1321" class="Symbol">:</a> <a id="1323" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1325" href="Definition.Typed.html#5965" class="Datatype Operator">âŠ¢</a> <a id="1327" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1329" href="Definition.Typed.html#5965" class="Datatype Operator">â‰¡</a> <a id="1331" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1025" class="Generalizable">B</a> <a id="1333" class="Symbol">â†’</a> <a id="1335" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1337" class="Symbol">Î»</a> <a id="1339" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1339" class="Bound">l</a> <a id="1341" class="Symbol">â†’</a> <a id="1343" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1345" href="Definition.LogicalRelation.Hidden.html#2101" class="Function Operator">âŠ©âŸ¨</a> <a id="1348" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1339" class="Bound">l</a> <a id="1350" href="Definition.LogicalRelation.Hidden.html#2101" class="Function Operator">âŸ©</a> <a id="1352" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1354" href="Definition.LogicalRelation.Hidden.html#2101" class="Function Operator">â‰¡</a> <a id="1356" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1025" class="Generalizable">B</a>
  <a id="1360" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1308" class="Function">reducible-âŠ©â‰¡</a> <a id="1373" class="Symbol">=</a> <a id="1375" href="Data.Product.Base.html#2173" class="Function">Î£.map</a> <a id="1381" href="Function.Base.html#704" class="Function">idá¶ </a> <a id="1385" href="Definition.LogicalRelation.Hidden.Restricted.html#3911" class="Function">R.âŠ©â‰¡â†’</a> <a id="1391" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1394" href="Definition.LogicalRelation.Fundamental.Reducibility.Restricted.html#1107" class="Function">RR.reducible-âŠ©â‰¡</a>

<a id="1411" class="Keyword">opaque</a>

  <a id="1421" class="Comment">-- Well-formed terms are reducible.</a>

  <a id="reducible-âŠ©âˆ·"></a><a id="1460" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1460" class="Function">reducible-âŠ©âˆ·</a> <a id="1473" class="Symbol">:</a> <a id="1475" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1477" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="1479" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1027" class="Generalizable">t</a> <a id="1481" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="1483" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1485" class="Symbol">â†’</a> <a id="1487" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1489" class="Symbol">Î»</a> <a id="1491" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1491" class="Bound">l</a> <a id="1493" class="Symbol">â†’</a> <a id="1495" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1497" href="Definition.LogicalRelation.Hidden.html#1909" class="Function Operator">âŠ©âŸ¨</a> <a id="1500" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1491" class="Bound">l</a> <a id="1502" href="Definition.LogicalRelation.Hidden.html#1909" class="Function Operator">âŸ©</a> <a id="1504" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1027" class="Generalizable">t</a> <a id="1506" href="Definition.LogicalRelation.Hidden.html#1909" class="Function Operator">âˆ·</a> <a id="1508" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a>
  <a id="1512" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1460" class="Function">reducible-âŠ©âˆ·</a> <a id="1525" class="Symbol">=</a> <a id="1527" href="Data.Product.Base.html#2173" class="Function">Î£.map</a> <a id="1533" href="Function.Base.html#704" class="Function">idá¶ </a> <a id="1537" href="Definition.LogicalRelation.Hidden.Restricted.html#3621" class="Function">R.âŠ©âˆ·â†’</a> <a id="1543" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1546" href="Definition.LogicalRelation.Fundamental.Reducibility.Restricted.html#1270" class="Function">RR.reducible-âŠ©âˆ·</a>

<a id="1563" class="Keyword">opaque</a>

  <a id="1573" class="Comment">-- If t and u are definitionally equal (with respect to Î“ andÂ A),</a>
  <a id="1641" class="Comment">-- then Î“Â âŠ©âŸ¨Â lÂ âŸ©Â tÂ â‰¡Â uÂ âˆ·Â A holds for some type levelÂ l.</a>

  <a id="reducible-âŠ©â‰¡âˆ·"></a><a id="1700" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1700" class="Function">reducible-âŠ©â‰¡âˆ·</a> <a id="1714" class="Symbol">:</a> <a id="1716" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1718" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="1720" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1027" class="Generalizable">t</a> <a id="1722" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="1724" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1029" class="Generalizable">u</a> <a id="1726" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="1728" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a> <a id="1730" class="Symbol">â†’</a> <a id="1732" href="Data.Product.Base.html#852" class="Function">âˆƒ</a> <a id="1734" class="Symbol">Î»</a> <a id="1736" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1736" class="Bound">l</a> <a id="1738" class="Symbol">â†’</a> <a id="1740" href="Definition.LogicalRelation.Fundamental.Reducibility.html#570" class="Bound">Î“</a> <a id="1742" href="Definition.LogicalRelation.Hidden.html#2310" class="Function Operator">âŠ©âŸ¨</a> <a id="1745" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1736" class="Bound">l</a> <a id="1747" href="Definition.LogicalRelation.Hidden.html#2310" class="Function Operator">âŸ©</a> <a id="1749" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1027" class="Generalizable">t</a> <a id="1751" href="Definition.LogicalRelation.Hidden.html#2310" class="Function Operator">â‰¡</a> <a id="1753" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1029" class="Generalizable">u</a> <a id="1755" href="Definition.LogicalRelation.Hidden.html#2310" class="Function Operator">âˆ·</a> <a id="1757" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1023" class="Generalizable">A</a>
  <a id="1761" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1700" class="Function">reducible-âŠ©â‰¡âˆ·</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Data.Product.Base.html#2173" class="Function">Î£.map</a> <a id="1783" href="Function.Base.html#704" class="Function">idá¶ </a> <a id="1787" href="Definition.LogicalRelation.Hidden.Restricted.html#4218" class="Function">R.âŠ©â‰¡âˆ·â†’</a> <a id="1794" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="1797" href="Definition.LogicalRelation.Fundamental.Reducibility.Restricted.html#1521" class="Function">RR.reducible-âŠ©â‰¡âˆ·</a>
</pre></body></html>