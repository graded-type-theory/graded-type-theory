<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Instances.Affine</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- A modality for affine types.</a>
<a id="106" class="Comment">------------------------------------------------------------------------</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Tools.Bool.html" class="Module">Tools.Bool</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Definition.Modality.Instances.Zero-one-many.html" class="Module">Definition.Modality.Instances.Zero-one-many</a> <a id="260" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> as <a id="𝟘𝟙ω"></a><a id="268" href="Definition.Modality.Instances.Affine.html#268" class="Module">𝟘𝟙ω</a>

<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Definition.Mode.Restrictions.html" class="Module">Definition.Mode.Restrictions</a>

<a id="315" class="Keyword">module</a> <a id="322" href="Definition.Modality.Instances.Affine.html" class="Module">Definition.Modality.Instances.Affine</a>
  <a id="361" class="Symbol">(</a><a id="362" href="Definition.Modality.Instances.Affine.html#362" class="Bound">mrs</a> <a id="366" class="Symbol">:</a> <a id="368" href="Definition.Mode.Restrictions.html#274" class="Record">Mode-restrictions</a><a id="385" class="Symbol">)</a>
  <a id="389" class="Keyword">where</a>

<a id="396" class="Keyword">open</a> <a id="401" href="Definition.Mode.Restrictions.html#274" class="Module">Mode-restrictions</a> <a id="419" href="Definition.Modality.Instances.Affine.html#362" class="Bound">mrs</a>

<a id="424" class="Keyword">open</a> <a id="429" href="Definition.Modality.Instances.Affine.html#268" class="Module">𝟘𝟙ω</a> <a id="433" class="Keyword">renaming</a> <a id="442" class="Symbol">(</a><a id="443" href="Definition.Modality.Instances.Zero-one-many.html#1306" class="Datatype">Zero-one-many</a> <a id="457" class="Symbol">to</a> <a id="460" class="Datatype">Affine</a><a id="466" class="Symbol">)</a> <a id="468" class="Keyword">public</a>

<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Definition.Modality.html" class="Module">Definition.Modality</a> <a id="508" href="Definition.Modality.Instances.Affine.html#460" class="Datatype">Affine</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Definition.Modality.FullReduction.Assumptions.html" class="Module">Definition.Modality.FullReduction.Assumptions</a>
<a id="573" class="Keyword">import</a> <a id="580" href="Definition.Modality.Properties.html" class="Module">Definition.Modality.Properties</a>

<a id="612" class="Keyword">import</a> <a id="619" href="Definition.Mode.html" class="Module">Definition.Mode</a>

<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="678" href="Definition.Modality.Instances.Affine.html#460" class="Datatype">Affine</a>

<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="737" class="Keyword">open</a> <a id="742" class="Keyword">import</a> <a id="749" href="Tools.Nullary.html" class="Module">Tools.Nullary</a>
<a id="763" class="Keyword">open</a> <a id="768" class="Keyword">import</a> <a id="775" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="829" class="Keyword">import</a> <a id="836" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="865" class="Keyword">open</a> <a id="870" class="Keyword">import</a> <a id="877" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="889" class="Keyword">private</a> <a id="897" class="Keyword">variable</a>
  <a id="908" href="Definition.Modality.Instances.Affine.html#908" class="Generalizable">p</a>  <a id="911" class="Symbol">:</a> <a id="913" href="Definition.Modality.Instances.Affine.html#460" class="Datatype">Affine</a>
  <a id="922" href="Definition.Modality.Instances.Affine.html#922" class="Generalizable">rs</a> <a id="925" class="Symbol">:</a> <a id="927" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a>

<a id="946" class="Comment">-- An &quot;affine types&quot; modality.</a>

<a id="affineModality"></a><a id="978" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a> <a id="993" class="Symbol">:</a> <a id="995" href="Definition.Modality.html#5110" class="Record">Modality</a>
<a id="1004" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a> <a id="1019" class="Symbol">=</a> <a id="1021" href="Definition.Modality.Instances.Zero-one-many.html#30372" class="Function">zero-one-many-greatest</a> <a id="1044" href="Definition.Modality.Instances.Affine.html#362" class="Bound">mrs</a>

<a id="1049" class="Comment">-- 𝟘 is the largest element.</a>

<a id="≤𝟘"></a><a id="1079" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a> <a id="1082" class="Symbol">:</a> <a id="1084" href="Definition.Modality.Instances.Affine.html#908" class="Generalizable">p</a> <a id="1086" href="Definition.Modality.Instances.Zero-one-many.html#5538" class="Function Operator">≤</a> <a id="1088" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a>
<a id="1090" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a> <a id="1093" class="Symbol">{</a><a id="1094" class="Argument">p</a> <a id="1096" class="Symbol">=</a> <a id="1098" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a><a id="1099" class="Symbol">}</a> <a id="1101" class="Symbol">=</a> <a id="1103" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1108" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a> <a id="1111" class="Symbol">{</a><a id="1112" class="Argument">p</a> <a id="1114" class="Symbol">=</a> <a id="1116" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a><a id="1117" class="Symbol">}</a> <a id="1119" class="Symbol">=</a> <a id="1121" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1126" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a> <a id="1129" class="Symbol">{</a><a id="1130" class="Argument">p</a> <a id="1132" class="Symbol">=</a> <a id="1134" href="Definition.Modality.Instances.Zero-one-many.html#1338" class="InductiveConstructor">ω</a><a id="1135" class="Symbol">}</a> <a id="1137" class="Symbol">=</a> <a id="1139" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="1145" class="Comment">-- An instance of Type-restrictions is suitable for the full reduction</a>
<a id="1216" class="Comment">-- theorem if</a>
<a id="1230" class="Comment">-- * Σₚ-restriction 𝟘 p implies that 𝟘ᵐ is allowed, and</a>
<a id="1286" class="Comment">-- * Σₚ-restriction ω p does not hold.</a>

<a id="Suitable-for-full-reduction"></a><a id="1326" href="Definition.Modality.Instances.Affine.html#1326" class="Function">Suitable-for-full-reduction</a> <a id="1354" class="Symbol">:</a>
  <a id="1358" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="1376" class="Symbol">→</a> <a id="1378" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1382" href="Definition.Modality.Instances.Affine.html#1326" class="Function">Suitable-for-full-reduction</a> <a id="1410" href="Definition.Modality.Instances.Affine.html#1410" class="Bound">rs</a> <a id="1413" class="Symbol">=</a>
  <a id="1417" class="Symbol">(∀</a> <a id="1420" href="Definition.Modality.Instances.Affine.html#1420" class="Bound">p</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Definition.Typed.Restrictions.html#962" class="Function">Σₚ-restriction</a> <a id="1439" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a> <a id="1441" href="Definition.Modality.Instances.Affine.html#1420" class="Bound">p</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1447" href="Definition.Mode.Restrictions.html#375" class="Field">𝟘ᵐ-allowed</a><a id="1457" class="Symbol">)</a> <a id="1459" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="1463" class="Symbol">(∀</a> <a id="1466" href="Definition.Modality.Instances.Affine.html#1466" class="Bound">p</a> <a id="1468" class="Symbol">→</a> <a id="1470" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="1472" href="Definition.Typed.Restrictions.html#962" class="Function">Σₚ-restriction</a> <a id="1487" href="Definition.Modality.Instances.Zero-one-many.html#1338" class="InductiveConstructor">ω</a> <a id="1489" href="Definition.Modality.Instances.Affine.html#1466" class="Bound">p</a><a id="1490" class="Symbol">)</a>
  <a id="1494" class="Keyword">where</a>
  <a id="1502" class="Keyword">open</a> <a id="1507" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="1525" href="Definition.Modality.Instances.Affine.html#1410" class="Bound">rs</a>

<a id="1529" class="Comment">-- Given an instance of Type-restrictions one can create a &quot;suitable&quot;</a>
<a id="1599" class="Comment">-- instance.</a>

<a id="suitable-for-full-reduction"></a><a id="1613" href="Definition.Modality.Instances.Affine.html#1613" class="Function">suitable-for-full-reduction</a> <a id="1641" class="Symbol">:</a>
  <a id="1645" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="1663" class="Symbol">→</a> <a id="1665" href="Data.Product.html#1369" class="Function">∃</a> <a id="1667" href="Definition.Modality.Instances.Affine.html#1326" class="Function">Suitable-for-full-reduction</a>
<a id="1695" href="Definition.Modality.Instances.Affine.html#1613" class="Function">suitable-for-full-reduction</a> <a id="1723" href="Definition.Modality.Instances.Affine.html#1723" class="Bound">rs</a> <a id="1726" class="Symbol">=</a>
    <a id="1732" class="Keyword">record</a> <a id="1739" href="Definition.Modality.Instances.Affine.html#1723" class="Bound">rs</a>
      <a id="1748" class="Symbol">{</a> <a id="1750" href="Definition.Typed.Restrictions.html#617" class="Field">ΠΣ-restriction</a> <a id="1765" class="Symbol">=</a> <a id="1767" class="Symbol">λ</a> <a id="1769" href="Definition.Modality.Instances.Affine.html#1769" class="Bound">b</a> <a id="1771" href="Definition.Modality.Instances.Affine.html#1771" class="Bound">p</a> <a id="1773" href="Definition.Modality.Instances.Affine.html#1773" class="Bound">q</a> <a id="1775" class="Symbol">→</a>
          <a id="1787" href="Definition.Typed.Restrictions.html#617" class="Field">ΠΣ-restriction</a> <a id="1802" href="Definition.Modality.Instances.Affine.html#1769" class="Bound">b</a> <a id="1804" href="Definition.Modality.Instances.Affine.html#1771" class="Bound">p</a> <a id="1806" href="Definition.Modality.Instances.Affine.html#1773" class="Bound">q</a> <a id="1808" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1810" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1812" href="Definition.Mode.Restrictions.html#375" class="Field">𝟘ᵐ-allowed</a> <a id="1823" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1825" href="Definition.Modality.Instances.Affine.html#1771" class="Bound">p</a> <a id="1827" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="1829" href="Definition.Modality.Instances.Zero-one-many.html#1338" class="InductiveConstructor">ω</a>
      <a id="1837" class="Symbol">}</a>
  <a id="1841" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1843" class="Symbol">(λ</a> <a id="1846" href="Definition.Modality.Instances.Affine.html#1846" class="Bound">_</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1856" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1859" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1864" class="Symbol">)</a>
  <a id="1868" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1870" class="Symbol">(λ</a> <a id="1873" href="Definition.Modality.Instances.Affine.html#1873" class="Bound">_</a> <a id="1875" class="Symbol">→</a> <a id="1877" class="Symbol">(</a><a id="1878" href="Function.Base.html#1919" class="Function Operator">_$</a> <a id="1881" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="1885" class="Symbol">)</a> <a id="1887" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1890" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1896" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1899" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1904" class="Symbol">)</a>
  <a id="1908" class="Keyword">where</a>
  <a id="1916" class="Keyword">open</a> <a id="1921" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="1939" href="Definition.Modality.Instances.Affine.html#1723" class="Bound">rs</a>

<a id="1943" class="Comment">-- The full reduction assumptions hold for affineModality and any</a>
<a id="2009" class="Comment">-- &quot;suitable&quot; Type-restrictions.</a>

<a id="full-reduction-assumptions"></a><a id="2043" href="Definition.Modality.Instances.Affine.html#2043" class="Function">full-reduction-assumptions</a> <a id="2070" class="Symbol">:</a>
  <a id="2074" href="Definition.Modality.Instances.Affine.html#1326" class="Function">Suitable-for-full-reduction</a> <a id="2102" href="Definition.Modality.Instances.Affine.html#922" class="Generalizable">rs</a> <a id="2105" class="Symbol">→</a>
  <a id="2109" href="Definition.Modality.FullReduction.Assumptions.html#707" class="Record">Full-reduction-assumptions</a> <a id="2136" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a> <a id="2151" href="Definition.Modality.Instances.Affine.html#922" class="Generalizable">rs</a>
<a id="2154" href="Definition.Modality.Instances.Affine.html#2043" class="Function">full-reduction-assumptions</a> <a id="2181" class="Symbol">(</a><a id="2182" href="Definition.Modality.Instances.Affine.html#2182" class="Bound">𝟘→𝟘ᵐ</a> <a id="2187" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2189" href="Definition.Modality.Instances.Affine.html#2189" class="Bound">¬ω</a><a id="2191" class="Symbol">)</a> <a id="2193" class="Symbol">=</a> <a id="2195" class="Keyword">record</a>
  <a id="2204" class="Symbol">{</a> <a id="2206" href="Definition.Modality.FullReduction.Assumptions.html#891" class="Field">≤𝟘</a>           <a id="2219" class="Symbol">=</a> <a id="2221" class="Symbol">λ</a> <a id="2223" href="Definition.Modality.Instances.Affine.html#2223" class="Bound">_</a> <a id="2225" class="Symbol">→</a> <a id="2227" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a>
  <a id="2232" class="Symbol">;</a> <a id="2234" href="Definition.Modality.FullReduction.Assumptions.html#1062" class="Field">·-increasing</a> <a id="2247" class="Symbol">=</a> <a id="2249" class="Symbol">λ</a> <a id="2251" class="Keyword">where</a>
      <a id="2263" class="Symbol">{</a><a id="2264" class="Argument">p</a> <a id="2266" class="Symbol">=</a> <a id="2268" href="Definition.Modality.Instances.Zero-one-many.html#1338" class="InductiveConstructor">ω</a><a id="2269" class="Symbol">}</a>         <a id="2279" href="Definition.Modality.Instances.Affine.html#2279" class="Bound">ok</a> <a id="2282" class="Symbol">→</a> <a id="2284" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2291" class="Symbol">(</a><a id="2292" href="Definition.Modality.Instances.Affine.html#2189" class="Bound">¬ω</a> <a id="2295" class="Symbol">_</a> <a id="2297" href="Definition.Modality.Instances.Affine.html#2279" class="Bound">ok</a><a id="2299" class="Symbol">)</a>
      <a id="2307" class="Symbol">{</a><a id="2308" class="Argument">p</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a><a id="2313" class="Symbol">}</a> <a id="2315" class="Symbol">{</a><a id="2316" class="Argument">r</a> <a id="2318" class="Symbol">=</a> <a id="2320" href="Definition.Modality.Instances.Affine.html#2320" class="Bound">q</a><a id="2321" class="Symbol">}</a> <a id="2323" class="Symbol">_</a>  <a id="2326" class="Symbol">→</a> <a id="2328" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2342" href="Definition.Modality.Instances.Affine.html#2320" class="Bound">q</a>      <a id="2349" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">≡˘⟨</a> <a id="2353" href="Definition.Modality.html#2135" class="Function">·-identityˡ</a> <a id="2365" class="Symbol">_</a> <a id="2367" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">⟩</a>
        <a id="2377" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a> <a id="2379" href="Definition.Modality.Instances.Zero-one-many.html#7162" class="Function Operator">·</a> <a id="2381" href="Definition.Modality.Instances.Affine.html#2320" class="Bound">q</a>  <a id="2384" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
      <a id="2392" class="Symbol">{</a><a id="2393" class="Argument">p</a> <a id="2395" class="Symbol">=</a> <a id="2397" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a><a id="2398" class="Symbol">}</a> <a id="2400" class="Symbol">{</a><a id="2401" class="Argument">r</a> <a id="2403" class="Symbol">=</a> <a id="2405" href="Definition.Modality.Instances.Affine.html#2405" class="Bound">q</a><a id="2406" class="Symbol">}</a> <a id="2408" class="Symbol">_</a> <a id="2410" class="Symbol">→</a> <a id="2412" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2426" href="Definition.Modality.Instances.Affine.html#2405" class="Bound">q</a>      <a id="2433" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2436" href="Definition.Modality.Instances.Affine.html#1079" class="Function">≤𝟘</a> <a id="2439" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="2449" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a> <a id="2451" href="Definition.Modality.Instances.Zero-one-many.html#7162" class="Function Operator">·</a> <a id="2453" href="Definition.Modality.Instances.Affine.html#2405" class="Bound">q</a>  <a id="2456" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="2460" class="Symbol">;</a> <a id="2462" href="Definition.Modality.FullReduction.Assumptions.html#1258" class="Field">⌞⌟≡𝟙ᵐ→≤𝟙</a> <a id="2471" class="Symbol">=</a> <a id="2473" class="Symbol">λ</a> <a id="2475" class="Keyword">where</a>
      <a id="2487" class="Symbol">{</a><a id="2488" class="Argument">p</a> <a id="2490" class="Symbol">=</a> <a id="2492" href="Definition.Modality.Instances.Zero-one-many.html#1338" class="InductiveConstructor">ω</a><a id="2493" class="Symbol">}</a> <a id="2495" href="Definition.Modality.Instances.Affine.html#2495" class="Bound">ok</a>   <a id="2500" class="Symbol">→</a> <a id="2502" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2509" class="Symbol">(</a><a id="2510" href="Definition.Modality.Instances.Affine.html#2189" class="Bound">¬ω</a> <a id="2513" class="Symbol">_</a> <a id="2515" href="Definition.Modality.Instances.Affine.html#2495" class="Bound">ok</a><a id="2517" class="Symbol">)</a>
      <a id="2525" class="Symbol">{</a><a id="2526" class="Argument">p</a> <a id="2528" class="Symbol">=</a> <a id="2530" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a><a id="2531" class="Symbol">}</a> <a id="2533" class="Symbol">_</a>  <a id="2536" class="Symbol">_</a> <a id="2538" class="Symbol">→</a> <a id="2540" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2554" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a>  <a id="2557" href="Relation.Binary.Reasoning.Base.Triple.html#5023" class="Function Operator">≡⟨⟩</a>
        <a id="2569" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a>  <a id="2572" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
      <a id="2580" class="Symbol">{</a><a id="2581" class="Argument">p</a> <a id="2583" class="Symbol">=</a> <a id="2585" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a><a id="2586" class="Symbol">}</a> <a id="2588" href="Definition.Modality.Instances.Affine.html#2588" class="Bound">ok</a> <a id="2591" class="Symbol">→</a>
        <a id="2601" href="Definition.Mode.html#3902" class="Function Operator">⌞</a> <a id="2603" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a> <a id="2605" href="Definition.Mode.html#3902" class="Function Operator">⌟</a> <a id="2607" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2609" href="Definition.Mode.html#1066" class="InductiveConstructor">𝟙ᵐ</a>      <a id="2617" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2620" class="Symbol">(λ</a> <a id="2623" href="Definition.Modality.Instances.Affine.html#2623" class="Bound">hyp</a> <a id="2627" href="Definition.Modality.Instances.Affine.html#2627" class="Bound">ok</a> <a id="2630" class="Symbol">→</a> <a id="2632" href="Definition.Mode.html#14537" class="Function">⌞⌟≡𝟙ᵐ→≉𝟘</a> <a id="2641" href="Definition.Modality.Instances.Affine.html#2627" class="Bound">ok</a> <a id="2644" href="Definition.Modality.Instances.Affine.html#2623" class="Bound">hyp</a> <a id="2648" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2652" class="Symbol">)</a> <a id="2654" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2664" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2666" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="2668" href="Definition.Mode.Restrictions.html#375" class="Field">𝟘ᵐ-allowed</a>  <a id="2680" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2683" href="Function.Base.html#1919" class="Function Operator">_$</a> <a id="2686" href="Definition.Modality.Instances.Affine.html#2182" class="Bound">𝟘→𝟘ᵐ</a> <a id="2691" class="Symbol">_</a> <a id="2693" href="Definition.Modality.Instances.Affine.html#2588" class="Bound">ok</a> <a id="2696" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2706" href="Data.Empty.html#526" class="Datatype">⊥</a>               <a id="2722" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2725" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2732" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2742" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟘</a> <a id="2744" href="Definition.Modality.Instances.Zero-one-many.html#5538" class="Function Operator">≤</a> <a id="2746" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">𝟙</a>           <a id="2758" href="Tools.Function.html#895" class="Function Operator">□</a>
  <a id="2762" class="Symbol">}</a>
  <a id="2766" class="Keyword">where</a>
  <a id="2774" class="Keyword">open</a> <a id="2779" href="Definition.Modality.Properties.html" class="Module">Definition.Modality.Properties</a> <a id="2810" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a>
  <a id="2827" class="Keyword">open</a> <a id="2832" href="Definition.Mode.html" class="Module">Definition.Mode</a> <a id="2848" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a>
  <a id="2865" class="Keyword">open</a> <a id="2870" href="Definition.Modality.html#5110" class="Module">Modality</a> <a id="2879" href="Definition.Modality.Instances.Affine.html#978" class="Function">affineModality</a> <a id="2894" class="Keyword">using</a> <a id="2900" class="Symbol">(</a><a id="2901" href="Definition.Modality.html#2135" class="Function">·-identityˡ</a><a id="2912" class="Symbol">)</a>
  <a id="2916" class="Keyword">open</a> <a id="2921" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="2950" href="Definition.Modality.Properties.PartialOrder.html#1507" class="Function">≤-poset</a>
</pre></body></html>