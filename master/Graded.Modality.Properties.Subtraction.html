<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Properties.Subtraction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Subtraction</a>
<a id="89" class="Comment">------------------------------------------------------------------------</a>

<a id="163" class="Keyword">import</a> <a id="170" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="187" class="Keyword">module</a> <a id="194" href="Graded.Modality.Properties.Subtraction.html" class="Module">Graded.Modality.Properties.Subtraction</a>
  <a id="235" class="Symbol">{</a><a id="236" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a><a id="237" class="Symbol">}</a> <a id="239" class="Symbol">{</a><a id="240" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a> <a id="242" class="Symbol">:</a> <a id="244" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="248" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a><a id="249" class="Symbol">}</a>
  <a id="253" class="Symbol">(</a><a id="254" class="Keyword">open</a> <a id="259" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="275" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="276" class="Symbol">)</a>
  <a id="280" class="Symbol">(</a><a id="281" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a> <a id="283" class="Symbol">:</a> <a id="285" href="Graded.Modality.html#670" class="Record">Semiring-with-meet</a><a id="303" class="Symbol">)</a>
  <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" href="Graded.Modality.html#670" class="Module">Semiring-with-meet</a> <a id="338" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Graded.Modality.Properties.Addition.html" class="Module">Graded.Modality.Properties.Addition</a> <a id="389" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Graded.Modality.Properties.Meet.html" class="Module">Graded.Modality.Properties.Meet</a> <a id="435" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Graded.Modality.Properties.PartialOrder.html" class="Module">Graded.Modality.Properties.PartialOrder</a> <a id="489" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>

<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="591" class="Keyword">open</a> <a id="596" class="Keyword">import</a> <a id="603" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="659" class="Keyword">private</a> <a id="667" class="Keyword">variable</a>
  <a id="678" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="680" href="Graded.Modality.Properties.Subtraction.html#680" class="Generalizable">p′</a> <a id="683" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="685" href="Graded.Modality.Properties.Subtraction.html#685" class="Generalizable">q′</a> <a id="688" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="690" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="693" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a> <a id="695" class="Symbol">:</a> <a id="697" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a>

<a id="700" class="Comment">------------------------------------------------------------------------</a>
<a id="773" class="Comment">-- The relations _-_≤_ and _-_≡_</a>
<a id="806" class="Comment">-- a kind of subtraction</a>

<a id="832" class="Comment">-- The relation p - q ≤ r is inhabited if &quot;p minus q&quot; is bounded by r.</a>
<a id="903" class="Comment">--</a>
<a id="906" class="Comment">-- For modalities with quantitative interpretetations, p - q ≤ r can be</a>
<a id="978" class="Comment">-- interpreted as &quot;If there are p copies of some resource, it is</a>
<a id="1043" class="Comment">-- possible to use q copies and have at least r copies left&quot;</a>

<a id="1105" class="Keyword">infix</a> <a id="1111" class="Number">4</a> <a id="1113" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">_-_≤_</a>

<a id="_-_≤_"></a><a id="1120" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">_-_≤_</a> <a id="1126" class="Symbol">:</a> <a id="1128" class="Symbol">(</a><a id="1129" href="Graded.Modality.Properties.Subtraction.html#1129" class="Bound">p</a> <a id="1131" href="Graded.Modality.Properties.Subtraction.html#1131" class="Bound">q</a> <a id="1133" href="Graded.Modality.Properties.Subtraction.html#1133" class="Bound">r</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="1138" class="Symbol">)</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1146" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="1148" href="Graded.Modality.Properties.Subtraction.html#1148" class="Bound">p</a> <a id="1150" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="1152" href="Graded.Modality.Properties.Subtraction.html#1152" class="Bound">q</a> <a id="1154" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="1156" href="Graded.Modality.Properties.Subtraction.html#1156" class="Bound">r</a> <a id="1158" class="Symbol">=</a> <a id="1160" href="Graded.Modality.Properties.Subtraction.html#1148" class="Bound">p</a> <a id="1162" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="1164" href="Graded.Modality.Properties.Subtraction.html#1156" class="Bound">r</a> <a id="1166" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="1168" href="Graded.Modality.Properties.Subtraction.html#1152" class="Bound">q</a>

<a id="1171" class="Comment">-- The relation p - q ≡ r is inhabited if r is the least value for</a>
<a id="1238" class="Comment">-- which p - q ≤  is inhabited.</a>
<a id="1270" class="Comment">--</a>
<a id="1273" class="Comment">-- For modalities with quantitative interpretetations, p - q ≡ r can be</a>
<a id="1345" class="Comment">-- interpreted as &quot;If there are p copies of some resource, it is</a>
<a id="1410" class="Comment">-- possible to use q copies and have r copies left.&quot;</a>
<a id="1463" class="Comment">--</a>
<a id="1466" class="Comment">-- The reason for chosing the least value is to leave as many copies</a>
<a id="1535" class="Comment">-- available as possible to avoid needlessly running out of resources.</a>
<a id="1606" class="Comment">-- For instance, for the linearity modality we have ω - 𝟙 ≤ ω and</a>
<a id="1672" class="Comment">-- ω - 𝟙 ≤ 𝟙 but using 𝟙 copy of ω can safely leave ω copies remaining.</a>

<a id="1745" class="Keyword">infix</a> <a id="1751" class="Number">4</a> <a id="1753" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">_-_≡_</a>

<a id="_-_≡_"></a><a id="1760" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">_-_≡_</a> <a id="1766" class="Symbol">:</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Graded.Modality.Properties.Subtraction.html#1769" class="Bound">p</a> <a id="1771" href="Graded.Modality.Properties.Subtraction.html#1771" class="Bound">q</a> <a id="1773" href="Graded.Modality.Properties.Subtraction.html#1773" class="Bound">r</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="1778" class="Symbol">)</a> <a id="1780" class="Symbol">→</a> <a id="1782" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1786" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="1788" href="Graded.Modality.Properties.Subtraction.html#1788" class="Bound">p</a> <a id="1790" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="1792" href="Graded.Modality.Properties.Subtraction.html#1792" class="Bound">q</a> <a id="1794" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="1796" href="Graded.Modality.Properties.Subtraction.html#1796" class="Bound">r</a> <a id="1798" class="Symbol">=</a> <a id="1800" href="Graded.Modality.html#2194" class="Function">Least-such-that</a> <a id="1816" class="Symbol">(</a><a id="1817" href="Graded.Modality.Properties.Subtraction.html#1788" class="Bound">p</a> <a id="1819" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="1821" href="Graded.Modality.Properties.Subtraction.html#1792" class="Bound">q</a> <a id="1823" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤_</a><a id="1825" class="Symbol">)</a> <a id="1827" href="Graded.Modality.Properties.Subtraction.html#1796" class="Bound">r</a>

<a id="1830" class="Keyword">opaque</a>

  <a id="1840" class="Comment">-- The relation _-_≡_ is functional.</a>

  <a id="-≡-functional"></a><a id="1880" href="Graded.Modality.Properties.Subtraction.html#1880" class="Function">-≡-functional</a> <a id="1894" class="Symbol">:</a> <a id="1896" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="1898" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="1900" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="1902" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="1904" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="1906" class="Symbol">→</a> <a id="1908" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="1910" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="1912" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="1914" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="1916" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="1919" class="Symbol">→</a> <a id="1921" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="1923" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1925" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a>
  <a id="1930" href="Graded.Modality.Properties.Subtraction.html#1880" class="Function">-≡-functional</a> <a id="1944" class="Symbol">(</a><a id="1945" href="Graded.Modality.Properties.Subtraction.html#1945" class="Bound">p-q≤r</a> <a id="1951" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1953" href="Graded.Modality.Properties.Subtraction.html#1953" class="Bound">least</a><a id="1958" class="Symbol">)</a> <a id="1960" class="Symbol">(</a><a id="1961" href="Graded.Modality.Properties.Subtraction.html#1961" class="Bound">p-q≤r′</a> <a id="1968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1970" href="Graded.Modality.Properties.Subtraction.html#1970" class="Bound">least′</a><a id="1976" class="Symbol">)</a> <a id="1978" class="Symbol">=</a>
    <a id="1984" href="Graded.Modality.Properties.PartialOrder.html#853" class="Function">≤-antisym</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Graded.Modality.Properties.Subtraction.html#1953" class="Bound">least</a> <a id="2001" class="Symbol">_</a> <a id="2003" href="Graded.Modality.Properties.Subtraction.html#1961" class="Bound">p-q≤r′</a><a id="2009" class="Symbol">)</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Graded.Modality.Properties.Subtraction.html#1970" class="Bound">least′</a> <a id="2019" class="Symbol">_</a> <a id="2021" href="Graded.Modality.Properties.Subtraction.html#1945" class="Bound">p-q≤r</a><a id="2026" class="Symbol">)</a>

<a id="2029" class="Keyword">opaque</a>

  <a id="2039" class="Comment">-- Subtraction is monotone in its first argument.</a>

  <a id="-≡≤-monotoneˡ"></a><a id="2092" href="Graded.Modality.Properties.Subtraction.html#2092" class="Function">-≡≤-monotoneˡ</a> <a id="2106" class="Symbol">:</a> <a id="2108" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2110" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2112" href="Graded.Modality.Properties.Subtraction.html#680" class="Generalizable">p′</a> <a id="2115" class="Symbol">→</a> <a id="2117" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2119" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2121" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2123" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2125" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="2127" class="Symbol">→</a> <a id="2129" href="Graded.Modality.Properties.Subtraction.html#680" class="Generalizable">p′</a> <a id="2132" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="2134" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2136" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="2138" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="2141" class="Symbol">→</a> <a id="2143" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="2145" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2147" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a>
  <a id="2152" href="Graded.Modality.Properties.Subtraction.html#2092" class="Function">-≡≤-monotoneˡ</a> <a id="2166" href="Graded.Modality.Properties.Subtraction.html#2166" class="Bound">p≤p′</a> <a id="2171" class="Symbol">(</a><a id="2172" href="Graded.Modality.Properties.Subtraction.html#2172" class="Bound">p≤q+r</a> <a id="2178" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2180" href="Graded.Modality.Properties.Subtraction.html#2180" class="Bound">P</a><a id="2181" class="Symbol">)</a> <a id="2183" href="Graded.Modality.Properties.Subtraction.html#2183" class="Bound">p′≤q+r′</a> <a id="2191" class="Symbol">=</a>
    <a id="2197" href="Graded.Modality.Properties.Subtraction.html#2180" class="Bound">P</a> <a id="2199" class="Symbol">_</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2210" href="Graded.Modality.Properties.Subtraction.html#2166" class="Bound">p≤p′</a> <a id="2215" href="Graded.Modality.Properties.Subtraction.html#2183" class="Bound">p′≤q+r′</a><a id="2222" class="Symbol">)</a>

<a id="2225" class="Keyword">opaque</a>

  <a id="2235" class="Comment">-- Subtraction is monotone in its first argument.</a>

  <a id="-≡-monotoneˡ"></a><a id="2288" href="Graded.Modality.Properties.Subtraction.html#2288" class="Function">-≡-monotoneˡ</a> <a id="2301" class="Symbol">:</a> <a id="2303" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2305" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2307" href="Graded.Modality.Properties.Subtraction.html#680" class="Generalizable">p′</a> <a id="2310" class="Symbol">→</a> <a id="2312" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2314" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2316" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2318" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2320" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="2322" class="Symbol">→</a> <a id="2324" href="Graded.Modality.Properties.Subtraction.html#680" class="Generalizable">p′</a> <a id="2327" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2329" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2331" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2333" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="2336" class="Symbol">→</a> <a id="2338" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="2340" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2342" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a>
  <a id="2347" href="Graded.Modality.Properties.Subtraction.html#2288" class="Function">-≡-monotoneˡ</a> <a id="2360" href="Graded.Modality.Properties.Subtraction.html#2360" class="Bound">p≤p′</a> <a id="2365" href="Graded.Modality.Properties.Subtraction.html#2365" class="Bound">p-q≡r</a> <a id="2371" class="Symbol">(</a><a id="2372" href="Graded.Modality.Properties.Subtraction.html#2372" class="Bound">p′≤q+r′</a> <a id="2380" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2382" href="Graded.Modality.Properties.Subtraction.html#2382" class="Bound">P′</a><a id="2384" class="Symbol">)</a> <a id="2386" class="Symbol">=</a>
    <a id="2392" href="Graded.Modality.Properties.Subtraction.html#2092" class="Function">-≡≤-monotoneˡ</a> <a id="2406" href="Graded.Modality.Properties.Subtraction.html#2360" class="Bound">p≤p′</a> <a id="2411" href="Graded.Modality.Properties.Subtraction.html#2365" class="Bound">p-q≡r</a> <a id="2417" href="Graded.Modality.Properties.Subtraction.html#2372" class="Bound">p′≤q+r′</a>

<a id="2426" class="Keyword">opaque</a>

  <a id="2436" class="Comment">-- Subtraction is antitone in its second argument.</a>

  <a id="-≡-antitoneʳ"></a><a id="2490" href="Graded.Modality.Properties.Subtraction.html#2490" class="Function">-≡-antitoneʳ</a> <a id="2503" class="Symbol">:</a> <a id="2505" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2507" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2509" href="Graded.Modality.Properties.Subtraction.html#685" class="Generalizable">q′</a> <a id="2512" class="Symbol">→</a> <a id="2514" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2516" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2518" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2520" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2522" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="2524" class="Symbol">→</a> <a id="2526" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2528" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2530" href="Graded.Modality.Properties.Subtraction.html#685" class="Generalizable">q′</a> <a id="2533" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2535" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="2538" class="Symbol">→</a> <a id="2540" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="2543" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2545" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a>
  <a id="2549" href="Graded.Modality.Properties.Subtraction.html#2490" class="Function">-≡-antitoneʳ</a> <a id="2562" href="Graded.Modality.Properties.Subtraction.html#2562" class="Bound">q≤q′</a> <a id="2567" class="Symbol">(</a><a id="2568" href="Graded.Modality.Properties.Subtraction.html#2568" class="Bound">p≤q+r</a> <a id="2574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2576" href="Graded.Modality.Properties.Subtraction.html#2576" class="Bound">P</a><a id="2577" class="Symbol">)</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Graded.Modality.Properties.Subtraction.html#2580" class="Bound">p≤q′+r′</a> <a id="2588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2590" href="Graded.Modality.Properties.Subtraction.html#2590" class="Bound">P′</a><a id="2592" class="Symbol">)</a> <a id="2594" class="Symbol">=</a>
    <a id="2600" href="Graded.Modality.Properties.Subtraction.html#2590" class="Bound">P′</a> <a id="2603" class="Symbol">_</a> <a id="2605" class="Symbol">(</a><a id="2606" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2614" href="Graded.Modality.Properties.Subtraction.html#2568" class="Bound">p≤q+r</a> <a id="2620" class="Symbol">(</a><a id="2621" href="Graded.Modality.Properties.Addition.html#984" class="Function">+-monotoneʳ</a> <a id="2633" href="Graded.Modality.Properties.Subtraction.html#2562" class="Bound">q≤q′</a><a id="2637" class="Symbol">))</a>

<a id="2641" class="Keyword">opaque</a>

  <a id="2651" class="Comment">-- The value of p minus 𝟘 is bounded by p.</a>

  <a id="p-𝟘≤p"></a><a id="2697" href="Graded.Modality.Properties.Subtraction.html#2697" class="Function">p-𝟘≤p</a> <a id="2703" class="Symbol">:</a> <a id="2705" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2707" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="2709" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="2711" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="2713" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a>
  <a id="2717" href="Graded.Modality.Properties.Subtraction.html#2697" class="Function">p-𝟘≤p</a> <a id="2723" class="Symbol">=</a> <a id="2725" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="2737" class="Symbol">(</a><a id="2738" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2742" class="Symbol">(</a><a id="2743" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="2755" class="Symbol">_))</a>

<a id="2760" class="Keyword">opaque</a>

  <a id="2770" class="Comment">-- The value of p minus 𝟘 is p.</a>

  <a id="p-𝟘≡p"></a><a id="2805" href="Graded.Modality.Properties.Subtraction.html#2805" class="Function">p-𝟘≡p</a> <a id="2811" class="Symbol">:</a> <a id="2813" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2815" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="2817" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="2819" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="2821" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a>
  <a id="2825" href="Graded.Modality.Properties.Subtraction.html#2805" class="Function">p-𝟘≡p</a> <a id="2831" class="Symbol">=</a> <a id="2833" href="Graded.Modality.Properties.Subtraction.html#2697" class="Function">p-𝟘≤p</a> <a id="2839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2841" class="Symbol">(λ</a> <a id="2844" href="Graded.Modality.Properties.Subtraction.html#2844" class="Bound">q</a> <a id="2846" href="Graded.Modality.Properties.Subtraction.html#2846" class="Bound">p≤q+𝟘</a> <a id="2852" class="Symbol">→</a> <a id="2854" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2862" href="Graded.Modality.Properties.Subtraction.html#2846" class="Bound">p≤q+𝟘</a> <a id="2868" class="Symbol">(</a><a id="2869" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="2881" class="Symbol">(</a><a id="2882" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="2894" href="Graded.Modality.Properties.Subtraction.html#2844" class="Bound">q</a><a id="2895" class="Symbol">)))</a>

<a id="2900" class="Keyword">opaque</a>

  <a id="2910" class="Comment">-- If p - 𝟘 ≤ q then p ≤ q</a>

  <a id="p-𝟘≤"></a><a id="2940" href="Graded.Modality.Properties.Subtraction.html#2940" class="Function">p-𝟘≤</a>  <a id="2946" class="Symbol">:</a> <a id="2948" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2950" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="2952" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="2954" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="2956" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="2962" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="2964" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a>
  <a id="2968" href="Graded.Modality.Properties.Subtraction.html#2940" class="Function">p-𝟘≤</a> <a id="2973" href="Graded.Modality.Properties.Subtraction.html#2973" class="Bound">p≤q+𝟘</a> <a id="2979" class="Symbol">=</a> <a id="2981" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2989" href="Graded.Modality.Properties.Subtraction.html#2973" class="Bound">p≤q+𝟘</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="3008" class="Symbol">(</a><a id="3009" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="3021" class="Symbol">_))</a>

<a id="3026" class="Keyword">opaque</a>

  <a id="3036" class="Comment">-- If p - 𝟘 ≡ q then p ≡ q</a>

  <a id="p-𝟘≡"></a><a id="3066" href="Graded.Modality.Properties.Subtraction.html#3066" class="Function">p-𝟘≡</a> <a id="3071" class="Symbol">:</a> <a id="3073" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3075" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="3077" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="3079" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="3081" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="3083" class="Symbol">→</a> <a id="3085" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3087" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3089" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a>
  <a id="3093" href="Graded.Modality.Properties.Subtraction.html#3066" class="Function">p-𝟘≡</a> <a id="3098" href="Graded.Modality.Properties.Subtraction.html#3098" class="Bound">p-𝟘≡q</a> <a id="3104" class="Symbol">=</a> <a id="3106" href="Graded.Modality.Properties.Subtraction.html#1880" class="Function">-≡-functional</a> <a id="3120" href="Graded.Modality.Properties.Subtraction.html#2805" class="Function">p-𝟘≡p</a> <a id="3126" href="Graded.Modality.Properties.Subtraction.html#3098" class="Bound">p-𝟘≡q</a>

<a id="3133" class="Keyword">opaque</a>

  <a id="3143" class="Comment">-- The value of p minus p is at most 𝟘.</a>

  <a id="p-p≤𝟘"></a><a id="3186" href="Graded.Modality.Properties.Subtraction.html#3186" class="Function">p-p≤𝟘</a> <a id="3192" class="Symbol">:</a> <a id="3194" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3196" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="3198" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3200" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="3202" href="Graded.Modality.html#995" class="Field">𝟘</a>
  <a id="3206" href="Graded.Modality.Properties.Subtraction.html#3186" class="Function">p-p≤𝟘</a> <a id="3212" class="Symbol">=</a> <a id="3214" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3231" class="Symbol">(</a><a id="3232" href="Algebra.Structures.html#13356" class="Function">+-identityˡ</a> <a id="3244" class="Symbol">_))</a>

<a id="3249" class="Keyword">opaque</a>

  <a id="3259" class="Comment">-- For a least element, subtraction by p is identity</a>

  <a id="∞-p≤∞"></a><a id="3315" href="Graded.Modality.Properties.Subtraction.html#3315" class="Function">∞-p≤∞</a> <a id="3321" class="Symbol">:</a> <a id="3323" class="Symbol">(∀</a> <a id="3326" class="Symbol">{</a><a id="3327" href="Graded.Modality.Properties.Subtraction.html#3327" class="Bound">q</a><a id="3328" class="Symbol">}</a> <a id="3330" class="Symbol">→</a> <a id="3332" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a> <a id="3334" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="3336" href="Graded.Modality.Properties.Subtraction.html#3327" class="Bound">q</a><a id="3337" class="Symbol">)</a> <a id="3339" class="Symbol">→</a> <a id="3341" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a> <a id="3343" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="3345" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3347" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="3349" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a>
  <a id="3353" href="Graded.Modality.Properties.Subtraction.html#3315" class="Function">∞-p≤∞</a> <a id="3359" href="Graded.Modality.Properties.Subtraction.html#3359" class="Bound">∞≤</a> <a id="3362" class="Symbol">=</a> <a id="3364" href="Graded.Modality.Properties.Subtraction.html#3359" class="Bound">∞≤</a>

<a id="3368" class="Keyword">opaque</a>

  <a id="3378" class="Comment">-- For a least element, subtraction by p is identity</a>

  <a id="∞-p≡∞"></a><a id="3434" href="Graded.Modality.Properties.Subtraction.html#3434" class="Function">∞-p≡∞</a> <a id="3440" class="Symbol">:</a> <a id="3442" class="Symbol">(∀</a> <a id="3445" class="Symbol">{</a><a id="3446" href="Graded.Modality.Properties.Subtraction.html#3446" class="Bound">q</a><a id="3447" class="Symbol">}</a> <a id="3449" class="Symbol">→</a> <a id="3451" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a> <a id="3453" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="3455" href="Graded.Modality.Properties.Subtraction.html#3446" class="Bound">q</a><a id="3456" class="Symbol">)</a> <a id="3458" class="Symbol">→</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Graded.Modality.Properties.Subtraction.html#3461" class="Bound">p</a> <a id="3463" class="Symbol">:</a> <a id="3465" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="3466" class="Symbol">)</a> <a id="3468" class="Symbol">→</a> <a id="3470" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a> <a id="3472" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="3474" href="Graded.Modality.Properties.Subtraction.html#3461" class="Bound">p</a> <a id="3476" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="3478" href="Graded.Modality.Properties.Subtraction.html#693" class="Generalizable">∞</a>
  <a id="3482" href="Graded.Modality.Properties.Subtraction.html#3434" class="Function">∞-p≡∞</a> <a id="3488" href="Graded.Modality.Properties.Subtraction.html#3488" class="Bound">∞≤</a> <a id="3491" class="Symbol">_</a> <a id="3493" class="Symbol">=</a> <a id="3495" href="Graded.Modality.Properties.Subtraction.html#3315" class="Function">∞-p≤∞</a> <a id="3501" href="Graded.Modality.Properties.Subtraction.html#3488" class="Bound">∞≤</a> <a id="3504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3506" class="Symbol">λ</a> <a id="3508" href="Graded.Modality.Properties.Subtraction.html#3508" class="Bound">_</a> <a id="3510" href="Graded.Modality.Properties.Subtraction.html#3510" class="Bound">_</a> <a id="3512" class="Symbol">→</a> <a id="3514" href="Graded.Modality.Properties.Subtraction.html#3488" class="Bound">∞≤</a>

<a id="3518" class="Keyword">opaque</a>

  <a id="3528" class="Comment">-- If substraction by q is bounded by r and r′ then it is also</a>
  <a id="3593" class="Comment">-- bounded by r ∧ r′.</a>

  <a id="-≤∧"></a><a id="3618" href="Graded.Modality.Properties.Subtraction.html#3618" class="Function">-≤∧</a> <a id="3622" class="Symbol">:</a> <a id="3624" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3626" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="3628" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="3630" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="3632" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="3634" class="Symbol">→</a> <a id="3636" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3638" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="3640" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="3642" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="3644" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a> <a id="3647" class="Symbol">→</a> <a id="3649" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="3651" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="3653" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="3655" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="3657" class="Symbol">(</a><a id="3658" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="3660" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3662" href="Graded.Modality.Properties.Subtraction.html#690" class="Generalizable">r′</a><a id="3664" class="Symbol">)</a>
  <a id="3668" href="Graded.Modality.Properties.Subtraction.html#3618" class="Function">-≤∧</a> <a id="3672" class="Symbol">{</a><a id="3673" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a><a id="3674" class="Symbol">}</a> <a id="3676" class="Symbol">{</a><a id="3677" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3678" class="Symbol">}</a> <a id="3680" class="Symbol">{</a><a id="3681" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a><a id="3682" class="Symbol">}</a> <a id="3684" class="Symbol">{</a><a id="3685" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a><a id="3687" class="Symbol">}</a> <a id="3689" href="Graded.Modality.Properties.Subtraction.html#3689" class="Bound">≤r</a> <a id="3692" href="Graded.Modality.Properties.Subtraction.html#3692" class="Bound">≤r′</a> <a id="3696" class="Symbol">=</a> <a id="3698" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="3708" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a>                        <a id="3733" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3736" href="Graded.Modality.Properties.Subtraction.html#3692" class="Bound">≤r′</a> <a id="3740" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3746" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a> <a id="3748" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3750" class="Symbol">(</a><a id="3751" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a> <a id="3754" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3756" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3757" class="Symbol">)</a>             <a id="3771" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3774" href="Algebra.Lattice.Structures.html#1602" class="Function">∧-congʳ</a> <a id="3782" href="Graded.Modality.Properties.Subtraction.html#3689" class="Bound">≤r</a> <a id="3785" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3791" class="Symbol">(</a><a id="3792" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a> <a id="3794" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3796" class="Symbol">(</a><a id="3797" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a> <a id="3799" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3801" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3802" class="Symbol">))</a> <a id="3805" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3807" class="Symbol">(</a><a id="3808" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a> <a id="3811" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3813" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3814" class="Symbol">)</a> <a id="3816" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3819" href="Graded.Modality.html#4319" class="Function">∧-assoc</a> <a id="3827" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a> <a id="3829" class="Symbol">(</a><a id="3830" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a> <a id="3832" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3834" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3835" class="Symbol">)</a> <a id="3837" class="Symbol">(</a><a id="3838" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a> <a id="3841" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3843" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3844" class="Symbol">)</a> <a id="3846" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3852" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a> <a id="3854" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3856" class="Symbol">((</a><a id="3858" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a> <a id="3860" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3862" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3863" class="Symbol">)</a> <a id="3865" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3867" class="Symbol">(</a><a id="3868" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a> <a id="3871" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3873" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3874" class="Symbol">))</a> <a id="3877" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3881" href="Algebra.Lattice.Structures.html#1577" class="Function">∧-congˡ</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Graded.Modality.html#3151" class="Function">+-distribʳ-∧</a> <a id="3903" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a> <a id="3905" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a> <a id="3907" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a><a id="3909" class="Symbol">)</a> <a id="3911" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="3917" href="Graded.Modality.Properties.Subtraction.html#3673" class="Bound">p</a> <a id="3919" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3921" class="Symbol">(</a><a id="3922" href="Graded.Modality.Properties.Subtraction.html#3681" class="Bound">r</a> <a id="3924" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="3926" href="Graded.Modality.Properties.Subtraction.html#3685" class="Bound">r′</a> <a id="3929" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="3931" href="Graded.Modality.Properties.Subtraction.html#3677" class="Bound">q</a><a id="3932" class="Symbol">)</a>         <a id="3942" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="3948" class="Keyword">where</a>
    <a id="3958" class="Keyword">open</a> <a id="3963" class="Keyword">import</a> <a id="3970" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="4009" class="Keyword">opaque</a>

  <a id="4019" class="Comment">-- A distributivity law for substraction over addition</a>

  <a id="p+q-r≤p-r+q"></a><a id="4077" href="Graded.Modality.Properties.Subtraction.html#4077" class="Function">p+q-r≤p-r+q</a> <a id="4089" class="Symbol">:</a> <a id="4091" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="4093" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="4095" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="4097" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="4099" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="4101" class="Symbol">→</a> <a id="4103" class="Symbol">(</a><a id="4104" href="Graded.Modality.Properties.Subtraction.html#4104" class="Bound">p′</a> <a id="4107" class="Symbol">:</a> <a id="4109" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="4110" class="Symbol">)</a>
      <a id="4118" class="Symbol">→</a> <a id="4120" class="Symbol">(</a><a id="4121" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="4123" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4125" href="Graded.Modality.Properties.Subtraction.html#4104" class="Bound">p′</a> <a id="4128" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="4130" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="4132" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="4134" href="Graded.Modality.Properties.Subtraction.html#4104" class="Bound">p′</a> <a id="4137" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4139" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a><a id="4140" class="Symbol">)</a>
  <a id="4144" href="Graded.Modality.Properties.Subtraction.html#4077" class="Function">p+q-r≤p-r+q</a> <a id="4156" class="Symbol">{</a><a id="4157" href="Graded.Modality.Properties.Subtraction.html#4157" class="Bound">p</a><a id="4158" class="Symbol">}</a> <a id="4160" class="Symbol">{</a><a id="4161" href="Graded.Modality.Properties.Subtraction.html#4161" class="Bound">q</a><a id="4162" class="Symbol">}</a> <a id="4164" class="Symbol">{</a><a id="4165" href="Graded.Modality.Properties.Subtraction.html#4165" class="Bound">r</a><a id="4166" class="Symbol">}</a> <a id="4168" href="Graded.Modality.Properties.Subtraction.html#4168" class="Bound">p≤r+q</a> <a id="4174" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a> <a id="4177" class="Symbol">=</a> <a id="4179" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="4189" href="Graded.Modality.Properties.Subtraction.html#4157" class="Bound">p</a> <a id="4191" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4193" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a>        <a id="4203" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="4206" href="Graded.Modality.Properties.Addition.html#808" class="Function">+-monotoneˡ</a> <a id="4218" href="Graded.Modality.Properties.Subtraction.html#4168" class="Bound">p≤r+q</a> <a id="4224" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="4230" class="Symbol">(</a><a id="4231" href="Graded.Modality.Properties.Subtraction.html#4165" class="Bound">r</a> <a id="4233" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4235" href="Graded.Modality.Properties.Subtraction.html#4161" class="Bound">q</a><a id="4236" class="Symbol">)</a> <a id="4238" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4240" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a>  <a id="4244" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4247" href="Algebra.Structures.html#13444" class="Function">+-comm</a> <a id="4254" class="Symbol">_</a> <a id="4256" class="Symbol">_</a> <a id="4258" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="4264" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a> <a id="4267" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4269" class="Symbol">(</a><a id="4270" href="Graded.Modality.Properties.Subtraction.html#4165" class="Bound">r</a> <a id="4272" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4274" href="Graded.Modality.Properties.Subtraction.html#4161" class="Bound">q</a><a id="4275" class="Symbol">)</a>  <a id="4278" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="4282" href="Algebra.Structures.html#13154" class="Function">+-assoc</a> <a id="4290" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a> <a id="4293" href="Graded.Modality.Properties.Subtraction.html#4165" class="Bound">r</a> <a id="4295" href="Graded.Modality.Properties.Subtraction.html#4161" class="Bound">q</a> <a id="4297" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="4303" class="Symbol">(</a><a id="4304" href="Graded.Modality.Properties.Subtraction.html#4174" class="Bound">p′</a> <a id="4307" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4309" href="Graded.Modality.Properties.Subtraction.html#4165" class="Bound">r</a><a id="4310" class="Symbol">)</a> <a id="4312" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="4314" href="Graded.Modality.Properties.Subtraction.html#4161" class="Bound">q</a>  <a id="4317" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="4323" class="Keyword">where</a>
    <a id="4333" class="Keyword">open</a> <a id="4338" class="Keyword">import</a> <a id="4345" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="4374" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

<a id="4383" class="Comment">------------------------------------------------------------------------</a>
<a id="4456" class="Comment">-- The predicate Supports-subtraction</a>

<a id="4495" class="Comment">-- A modality supports subtraction if whenever p - q ≤ r there is an r′</a>
<a id="4567" class="Comment">-- such that p - q ≡ r′.</a>
<a id="4592" class="Comment">--</a>
<a id="4595" class="Comment">-- In other words, a modality supports subtraction if whenever there is</a>
<a id="4667" class="Comment">-- at least one candidate for the value of p - q (i.e. whenever it is</a>
<a id="4737" class="Comment">-- meaningful to talk about p - q) there is a least candidate.</a>

<a id="Supports-subtraction"></a><a id="4801" href="Graded.Modality.Properties.Subtraction.html#4801" class="Function">Supports-subtraction</a> <a id="4822" class="Symbol">:</a> <a id="4824" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4828" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="4830" href="Graded.Modality.Properties.Subtraction.html#4801" class="Function">Supports-subtraction</a> <a id="4851" class="Symbol">=</a>
  <a id="4855" class="Symbol">∀</a> <a id="4857" class="Symbol">{</a><a id="4858" href="Graded.Modality.Properties.Subtraction.html#4858" class="Bound">p</a> <a id="4860" href="Graded.Modality.Properties.Subtraction.html#4860" class="Bound">q</a> <a id="4862" href="Graded.Modality.Properties.Subtraction.html#4862" class="Bound">r</a><a id="4863" class="Symbol">}</a> <a id="4865" class="Symbol">→</a> <a id="4867" href="Graded.Modality.Properties.Subtraction.html#4858" class="Bound">p</a> <a id="4869" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="4871" href="Graded.Modality.Properties.Subtraction.html#4860" class="Bound">q</a> <a id="4873" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="4875" href="Graded.Modality.Properties.Subtraction.html#4862" class="Bound">r</a> <a id="4877" class="Symbol">→</a> <a id="4879" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="4881" class="Symbol">λ</a> <a id="4883" href="Graded.Modality.Properties.Subtraction.html#4883" class="Bound">r′</a> <a id="4886" class="Symbol">→</a> <a id="4888" href="Graded.Modality.Properties.Subtraction.html#4858" class="Bound">p</a> <a id="4890" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="4892" href="Graded.Modality.Properties.Subtraction.html#4860" class="Bound">q</a> <a id="4894" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="4896" href="Graded.Modality.Properties.Subtraction.html#4883" class="Bound">r′</a>

<a id="4900" class="Comment">-- Subtraction for modalities where _+_ and _∧_ coincide.</a>
<a id="4958" class="Comment">-- This is true for instance in some lattices, see e.g.</a>
<a id="5014" class="Comment">-- Graded.Modality.Instances.Bounded-distributive-lattice or</a>
<a id="5075" class="Comment">-- Graded.Modality.Instances.Information-flow</a>

<a id="5122" class="Keyword">module</a> <a id="Addition≡Meet"></a><a id="5129" href="Graded.Modality.Properties.Subtraction.html#5129" class="Module">Addition≡Meet</a> <a id="5143" class="Symbol">(</a><a id="5144" href="Graded.Modality.Properties.Subtraction.html#5144" class="Bound">+≡∧</a> <a id="5148" class="Symbol">:</a> <a id="5150" class="Symbol">∀</a> <a id="5152" href="Graded.Modality.Properties.Subtraction.html#5152" class="Bound">p</a> <a id="5154" href="Graded.Modality.Properties.Subtraction.html#5154" class="Bound">q</a> <a id="5156" class="Symbol">→</a> <a id="5158" href="Graded.Modality.Properties.Subtraction.html#5152" class="Bound">p</a> <a id="5160" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="5162" href="Graded.Modality.Properties.Subtraction.html#5154" class="Bound">q</a> <a id="5164" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5166" href="Graded.Modality.Properties.Subtraction.html#5152" class="Bound">p</a> <a id="5168" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="5170" href="Graded.Modality.Properties.Subtraction.html#5154" class="Bound">q</a><a id="5171" class="Symbol">)</a> <a id="5173" class="Keyword">where</a>

  <a id="5182" class="Keyword">opaque</a>

    <a id="5194" class="Comment">-- If p ≤ q then p - q ≤ p</a>

    <a id="Addition≡Meet.p-q≤p"></a><a id="5226" href="Graded.Modality.Properties.Subtraction.html#5226" class="Function">p-q≤p</a> <a id="5232" class="Symbol">:</a> <a id="5234" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5236" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="5238" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="5240" class="Symbol">→</a> <a id="5242" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5244" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="5246" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="5248" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="5250" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a>
    <a id="5256" href="Graded.Modality.Properties.Subtraction.html#5226" class="Function">p-q≤p</a> <a id="5262" class="Symbol">{</a><a id="5263" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a><a id="5264" class="Symbol">}</a> <a id="5266" class="Symbol">{</a><a id="5267" href="Graded.Modality.Properties.Subtraction.html#5267" class="Bound">q</a><a id="5268" class="Symbol">}</a> <a id="5270" href="Graded.Modality.Properties.Subtraction.html#5270" class="Bound">p≤q</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5288" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a>     <a id="5294" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="5298" href="Graded.Modality.html#4288" class="Function">∧-idem</a> <a id="5305" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5307" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="5315" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5317" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="5319" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5321" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="5325" href="Graded.Modality.Properties.Subtraction.html#5144" class="Bound">+≡∧</a> <a id="5329" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5331" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5333" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="5341" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5343" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="5345" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5347" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5350" href="Graded.Modality.Properties.Addition.html#984" class="Function">+-monotoneʳ</a> <a id="5362" href="Graded.Modality.Properties.Subtraction.html#5270" class="Bound">p≤q</a> <a id="5366" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5374" href="Graded.Modality.Properties.Subtraction.html#5263" class="Bound">p</a> <a id="5376" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="5378" href="Graded.Modality.Properties.Subtraction.html#5267" class="Bound">q</a> <a id="5380" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="5388" class="Keyword">where</a>
      <a id="5400" class="Keyword">open</a> <a id="5405" class="Keyword">import</a> <a id="5412" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5441" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="5452" class="Keyword">opaque</a>

    <a id="5464" class="Comment">-- If p ≤ q then p - q ≡ p</a>

    <a id="Addition≡Meet.p-q≡p"></a><a id="5496" href="Graded.Modality.Properties.Subtraction.html#5496" class="Function">p-q≡p</a> <a id="5502" class="Symbol">:</a> <a id="5504" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5506" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="5508" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="5510" class="Symbol">→</a> <a id="5512" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5514" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="5516" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="5518" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="5520" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a>
    <a id="5526" href="Graded.Modality.Properties.Subtraction.html#5496" class="Function">p-q≡p</a> <a id="5532" class="Symbol">{</a><a id="5533" href="Graded.Modality.Properties.Subtraction.html#5533" class="Bound">p</a><a id="5534" class="Symbol">}</a> <a id="5536" class="Symbol">{</a><a id="5537" href="Graded.Modality.Properties.Subtraction.html#5537" class="Bound">q</a><a id="5538" class="Symbol">}</a> <a id="5540" href="Graded.Modality.Properties.Subtraction.html#5540" class="Bound">p≤q</a> <a id="5544" class="Symbol">=</a> <a id="5546" href="Graded.Modality.Properties.Subtraction.html#5226" class="Function">p-q≤p</a> <a id="5552" href="Graded.Modality.Properties.Subtraction.html#5540" class="Bound">p≤q</a> <a id="5556" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5558" class="Symbol">(λ</a> <a id="5561" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a> <a id="5563" href="Graded.Modality.Properties.Subtraction.html#5563" class="Bound">p≤r+q</a> <a id="5569" class="Symbol">→</a> <a id="5571" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5583" href="Graded.Modality.Properties.Subtraction.html#5533" class="Bound">p</a>     <a id="5589" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5592" href="Graded.Modality.Properties.Subtraction.html#5563" class="Bound">p≤r+q</a> <a id="5598" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5606" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a> <a id="5608" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="5610" href="Graded.Modality.Properties.Subtraction.html#5537" class="Bound">q</a> <a id="5612" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5615" href="Graded.Modality.Properties.Subtraction.html#5144" class="Bound">+≡∧</a> <a id="5619" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a> <a id="5621" href="Graded.Modality.Properties.Subtraction.html#5537" class="Bound">q</a> <a id="5623" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="5631" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a> <a id="5633" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="5635" href="Graded.Modality.Properties.Subtraction.html#5537" class="Bound">q</a> <a id="5637" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5640" href="Graded.Modality.Properties.Meet.html#1916" class="Function">∧-decreasingˡ</a> <a id="5654" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a> <a id="5656" href="Graded.Modality.Properties.Subtraction.html#5537" class="Bound">q</a> <a id="5658" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5666" href="Graded.Modality.Properties.Subtraction.html#5561" class="Bound">r</a>     <a id="5672" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="5673" class="Symbol">)</a>
      <a id="5681" class="Keyword">where</a>
      <a id="5693" class="Keyword">open</a> <a id="5698" class="Keyword">import</a> <a id="5705" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5734" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="5745" class="Keyword">opaque</a>

    <a id="5757" class="Comment">-- If p - q ≤ r then p ≤ q</a>

    <a id="Addition≡Meet.p-q≤r→p≤q"></a><a id="5789" href="Graded.Modality.Properties.Subtraction.html#5789" class="Function">p-q≤r→p≤q</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5803" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="5805" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="5807" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="5809" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="5811" class="Symbol">→</a> <a id="5813" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="5815" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="5817" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a>
    <a id="5823" href="Graded.Modality.Properties.Subtraction.html#5789" class="Function">p-q≤r→p≤q</a> <a id="5833" class="Symbol">{</a><a id="5834" href="Graded.Modality.Properties.Subtraction.html#5834" class="Bound">p</a><a id="5835" class="Symbol">}</a> <a id="5837" class="Symbol">{</a><a id="5838" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a><a id="5839" class="Symbol">}</a> <a id="5841" class="Symbol">{</a><a id="5842" href="Graded.Modality.Properties.Subtraction.html#5842" class="Bound">r</a><a id="5843" class="Symbol">}</a> <a id="5845" href="Graded.Modality.Properties.Subtraction.html#5845" class="Bound">p≤r+q</a> <a id="5851" class="Symbol">=</a> <a id="5853" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5865" href="Graded.Modality.Properties.Subtraction.html#5834" class="Bound">p</a>     <a id="5871" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5874" href="Graded.Modality.Properties.Subtraction.html#5845" class="Bound">p≤r+q</a> <a id="5880" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5888" href="Graded.Modality.Properties.Subtraction.html#5842" class="Bound">r</a> <a id="5890" href="Graded.Modality.html#971" class="Field Operator">+</a> <a id="5892" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a> <a id="5894" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5897" href="Graded.Modality.Properties.Subtraction.html#5144" class="Bound">+≡∧</a> <a id="5901" href="Graded.Modality.Properties.Subtraction.html#5842" class="Bound">r</a> <a id="5903" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a> <a id="5905" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="5913" href="Graded.Modality.Properties.Subtraction.html#5842" class="Bound">r</a> <a id="5915" href="Graded.Modality.html#979" class="Field Operator">∧</a> <a id="5917" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a> <a id="5919" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5922" href="Graded.Modality.Properties.Meet.html#2216" class="Function">∧-decreasingʳ</a> <a id="5936" href="Graded.Modality.Properties.Subtraction.html#5842" class="Bound">r</a> <a id="5938" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a> <a id="5940" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5948" href="Graded.Modality.Properties.Subtraction.html#5838" class="Bound">q</a>     <a id="5954" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="5962" class="Keyword">where</a>
      <a id="5974" class="Keyword">open</a> <a id="5979" class="Keyword">import</a> <a id="5986" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="6015" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="6026" class="Keyword">opaque</a>

    <a id="6038" class="Comment">-- If p - q ≡ r then p ≤ q and r ≡ p</a>

    <a id="Addition≡Meet.p-q≡r→p≤q∧r≡p"></a><a id="6080" href="Graded.Modality.Properties.Subtraction.html#6080" class="Function">p-q≡r→p≤q∧r≡p</a> <a id="6094" class="Symbol">:</a> <a id="6096" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="6098" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="6100" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6102" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="6104" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="6106" class="Symbol">→</a> <a id="6108" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="6110" href="Graded.Modality.html#1434" class="Function Operator">≤</a> <a id="6112" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6114" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6116" href="Graded.Modality.Properties.Subtraction.html#688" class="Generalizable">r</a> <a id="6118" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6120" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a>
    <a id="6126" href="Graded.Modality.Properties.Subtraction.html#6080" class="Function">p-q≡r→p≤q∧r≡p</a> <a id="6140" href="Graded.Modality.Properties.Subtraction.html#6140" class="Bound">p-q≡r</a> <a id="6146" class="Symbol">=</a>
      <a id="6154" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6159" href="Graded.Modality.Properties.Subtraction.html#5789" class="Function">p-q≤r→p≤q</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6176" href="Graded.Modality.Properties.Subtraction.html#6140" class="Bound">p-q≡r</a><a id="6181" class="Symbol">)</a> <a id="6183" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6186" class="Symbol">λ</a>
        <a id="6196" href="Graded.Modality.Properties.Subtraction.html#6196" class="Bound">p≤q</a> <a id="6200" class="Symbol">→</a>
      <a id="6208" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6213" href="Graded.Modality.Properties.Subtraction.html#1880" class="Function">-≡-functional</a> <a id="6227" href="Graded.Modality.Properties.Subtraction.html#6140" class="Bound">p-q≡r</a> <a id="6233" class="Symbol">(</a><a id="6234" href="Graded.Modality.Properties.Subtraction.html#5496" class="Function">p-q≡p</a> <a id="6240" href="Graded.Modality.Properties.Subtraction.html#6196" class="Bound">p≤q</a><a id="6243" class="Symbol">)</a> <a id="6245" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6248" class="Symbol">λ</a>
        <a id="6258" href="Graded.Modality.Properties.Subtraction.html#6258" class="Bound">p≡r</a> <a id="6262" class="Symbol">→</a>
      <a id="6270" href="Graded.Modality.Properties.Subtraction.html#6196" class="Bound">p≤q</a> <a id="6274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6276" href="Graded.Modality.Properties.Subtraction.html#6258" class="Bound">p≡r</a>

  <a id="6283" class="Keyword">opaque</a>

    <a id="6295" class="Comment">-- Modalities where addition and meet coincide support subtraction</a>

    <a id="Addition≡Meet.supports-subtraction"></a><a id="6367" href="Graded.Modality.Properties.Subtraction.html#6367" class="Function">supports-subtraction</a> <a id="6388" class="Symbol">:</a> <a id="6390" href="Graded.Modality.Properties.Subtraction.html#4801" class="Function">Supports-subtraction</a>
    <a id="6415" href="Graded.Modality.Properties.Subtraction.html#6367" class="Function">supports-subtraction</a> <a id="6436" class="Symbol">{</a><a id="6437" href="Graded.Modality.Properties.Subtraction.html#6437" class="Bound">p</a><a id="6438" class="Symbol">}</a> <a id="6440" href="Graded.Modality.Properties.Subtraction.html#6440" class="Bound">p-q≤r</a> <a id="6446" class="Symbol">=</a> <a id="6448" href="Graded.Modality.Properties.Subtraction.html#6437" class="Bound">p</a> <a id="6450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6452" href="Graded.Modality.Properties.Subtraction.html#5496" class="Function">p-q≡p</a> <a id="6458" class="Symbol">(</a><a id="6459" href="Graded.Modality.Properties.Subtraction.html#5789" class="Function">p-q≤r→p≤q</a> <a id="6469" href="Graded.Modality.Properties.Subtraction.html#6440" class="Bound">p-q≤r</a><a id="6474" class="Symbol">)</a>

<a id="6477" class="Comment">------------------------------------------------------------------------</a>
<a id="6550" class="Comment">-- Properties of _-_≤_ and _-_≡_ that hold for well-behaved zeros.</a>

<a id="6618" class="Keyword">module</a> <a id="6625" href="Graded.Modality.Properties.Subtraction.html#6625" class="Module">_</a> <a id="6627" class="Symbol">⦃</a> <a id="6629" href="Graded.Modality.Properties.Subtraction.html#6629" class="Bound">_</a> <a id="6631" class="Symbol">:</a> <a id="6633" href="Graded.Modality.html#4391" class="Record">Has-well-behaved-zero</a> <a id="6655" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a> <a id="6657" class="Symbol">⦄</a> <a id="6659" class="Keyword">where</a>
  <a id="6667" class="Keyword">open</a> <a id="6672" class="Keyword">import</a> <a id="6679" href="Graded.Modality.Properties.Has-well-behaved-zero.html" class="Module">Graded.Modality.Properties.Has-well-behaved-zero</a> <a id="6728" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>


  <a id="6734" class="Keyword">opaque</a>

    <a id="6746" class="Comment">-- It is only possible to subtract 𝟘 by 𝟘, and the value is 𝟘.</a>

    <a id="6814" href="Graded.Modality.Properties.Subtraction.html#6814" class="Function">𝟘-p≤q</a> <a id="6820" class="Symbol">:</a> <a id="6822" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="6824" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="6826" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="6828" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="6830" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6832" class="Symbol">→</a> <a id="6834" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6836" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6838" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="6840" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6842" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="6844" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6846" href="Graded.Modality.html#995" class="Field">𝟘</a>
    <a id="6852" href="Graded.Modality.Properties.Subtraction.html#6814" class="Function">𝟘-p≤q</a> <a id="6858" href="Graded.Modality.Properties.Subtraction.html#6858" class="Bound">𝟘≤p+q</a> <a id="6864" class="Symbol">=</a> <a id="6866" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1135" class="Function">+-positive</a> <a id="6877" class="Symbol">(</a><a id="6878" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="6881" href="Graded.Modality.Properties.Subtraction.html#6858" class="Bound">𝟘≤p+q</a><a id="6886" class="Symbol">)</a>

  <a id="6891" class="Keyword">opaque</a>

    <a id="6903" class="Comment">-- It is only possible to subtract 𝟘 by 𝟘, and the value is 𝟘.</a>

    <a id="6971" href="Graded.Modality.Properties.Subtraction.html#6971" class="Function">𝟘-p≡q</a> <a id="6977" class="Symbol">:</a> <a id="6979" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="6981" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="6983" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="6985" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="6987" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6989" class="Symbol">→</a> <a id="6991" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="6993" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6995" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="6997" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6999" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="7001" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7003" href="Graded.Modality.html#995" class="Field">𝟘</a>
    <a id="7009" href="Graded.Modality.Properties.Subtraction.html#6971" class="Function">𝟘-p≡q</a> <a id="7015" class="Symbol">(</a><a id="7016" href="Graded.Modality.Properties.Subtraction.html#7016" class="Bound">x</a> <a id="7018" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7020" class="Symbol">_)</a> <a id="7023" class="Symbol">=</a> <a id="7025" href="Graded.Modality.Properties.Subtraction.html#6814" class="Function">𝟘-p≤q</a> <a id="7031" href="Graded.Modality.Properties.Subtraction.html#7016" class="Bound">x</a>

  <a id="7036" class="Keyword">opaque</a>

    <a id="7048" class="Comment">-- It is not possible to subtract non-zero grades from 𝟘</a>

    <a id="7110" href="Graded.Modality.Properties.Subtraction.html#7110" class="Function">𝟘-q≰p</a> <a id="7116" class="Symbol">:</a> <a id="7118" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="7120" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7122" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="7124" class="Symbol">→</a> <a id="7126" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="7128" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">-</a> <a id="7130" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="7132" href="Graded.Modality.Properties.Subtraction.html#1120" class="Function Operator">≤</a> <a id="7134" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="7136" class="Symbol">→</a> <a id="7138" href="Data.Empty.html#914" class="Function">⊥</a>
    <a id="7144" href="Graded.Modality.Properties.Subtraction.html#7110" class="Function">𝟘-q≰p</a> <a id="7150" href="Graded.Modality.Properties.Subtraction.html#7150" class="Bound">q≢𝟘</a> <a id="7154" href="Graded.Modality.Properties.Subtraction.html#7154" class="Bound">𝟘≤p+q</a> <a id="7160" class="Symbol">=</a>
      <a id="7168" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7173" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1680" class="Function">𝟘≮</a> <a id="7176" href="Graded.Modality.Properties.Subtraction.html#7154" class="Bound">𝟘≤p+q</a> <a id="7182" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7185" class="Symbol">λ</a>
        <a id="7195" href="Graded.Modality.Properties.Subtraction.html#7195" class="Bound">p+q≡𝟘</a> <a id="7201" class="Symbol">→</a>
      <a id="7209" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7214" href="Graded.Modality.Properties.Has-well-behaved-zero.html#998" class="Function">+-positiveʳ</a> <a id="7226" href="Graded.Modality.Properties.Subtraction.html#7195" class="Bound">p+q≡𝟘</a> <a id="7232" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7235" class="Symbol">λ</a>
        <a id="7245" href="Graded.Modality.Properties.Subtraction.html#7245" class="Bound">q≡𝟘</a> <a id="7249" class="Symbol">→</a>
      <a id="7257" href="Graded.Modality.Properties.Subtraction.html#7150" class="Bound">q≢𝟘</a> <a id="7261" href="Graded.Modality.Properties.Subtraction.html#7245" class="Bound">q≡𝟘</a>

  <a id="7268" class="Keyword">opaque</a>

    <a id="7280" class="Comment">-- It is not possible to subtract non-zero grades from 𝟘</a>

    <a id="7342" href="Graded.Modality.Properties.Subtraction.html#7342" class="Function">𝟘-q≢p</a> <a id="7348" class="Symbol">:</a> <a id="7350" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="7352" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7354" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="7356" class="Symbol">→</a> <a id="7358" href="Graded.Modality.html#995" class="Field">𝟘</a> <a id="7360" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">-</a> <a id="7362" href="Graded.Modality.Properties.Subtraction.html#683" class="Generalizable">q</a> <a id="7364" href="Graded.Modality.Properties.Subtraction.html#1760" class="Function Operator">≡</a> <a id="7366" href="Graded.Modality.Properties.Subtraction.html#678" class="Generalizable">p</a> <a id="7368" class="Symbol">→</a> <a id="7370" href="Data.Empty.html#914" class="Function">⊥</a>
    <a id="7376" href="Graded.Modality.Properties.Subtraction.html#7342" class="Function">𝟘-q≢p</a> <a id="7382" href="Graded.Modality.Properties.Subtraction.html#7382" class="Bound">q≢𝟘</a> <a id="7386" href="Graded.Modality.Properties.Subtraction.html#7386" class="Bound">𝟘-q≡p</a> <a id="7392" class="Symbol">=</a> <a id="7394" href="Graded.Modality.Properties.Subtraction.html#7110" class="Function">𝟘-q≰p</a> <a id="7400" href="Graded.Modality.Properties.Subtraction.html#7382" class="Bound">q≢𝟘</a> <a id="7404" class="Symbol">(</a><a id="7405" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7411" href="Graded.Modality.Properties.Subtraction.html#7386" class="Bound">𝟘-q≡p</a><a id="7416" class="Symbol">)</a>
</pre></body></html>