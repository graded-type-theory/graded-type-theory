<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Properties.Subtraction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Subtraction</a>
<a id="89" class="Comment">------------------------------------------------------------------------</a>

<a id="163" class="Keyword">import</a> <a id="170" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="187" class="Keyword">module</a> <a id="194" href="Graded.Modality.Properties.Subtraction.html" class="Module">Graded.Modality.Properties.Subtraction</a>
  <a id="235" class="Symbol">{</a><a id="236" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a><a id="237" class="Symbol">}</a> <a id="239" class="Symbol">{</a><a id="240" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a> <a id="242" class="Symbol">:</a> <a id="244" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="248" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a><a id="249" class="Symbol">}</a>
  <a id="253" class="Symbol">(</a><a id="254" class="Keyword">open</a> <a id="259" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="275" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="276" class="Symbol">)</a>
  <a id="280" class="Symbol">(</a><a id="281" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a> <a id="283" class="Symbol">:</a> <a id="285" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="303" class="Symbol">)</a>
  <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="338" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Graded.Modality.Properties.Addition.html" class="Module">Graded.Modality.Properties.Addition</a> <a id="389" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Graded.Modality.Properties.Meet.html" class="Module">Graded.Modality.Properties.Meet</a> <a id="435" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Graded.Modality.Properties.PartialOrder.html" class="Module">Graded.Modality.Properties.PartialOrder</a> <a id="489" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>

<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>

<a id="610" class="Keyword">private</a> <a id="618" class="Keyword">variable</a>
  <a id="629" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="631" href="Graded.Modality.Properties.Subtraction.html#631" class="Generalizable">p′</a> <a id="634" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="636" href="Graded.Modality.Properties.Subtraction.html#636" class="Generalizable">q′</a> <a id="639" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="641" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="644" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a> <a id="646" class="Symbol">:</a> <a id="648" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a>

<a id="651" class="Comment">------------------------------------------------------------------------</a>
<a id="724" class="Comment">-- The relations _-_≤_ and _-_≡_</a>
<a id="757" class="Comment">-- a kind of subtraction</a>

<a id="783" class="Comment">-- The relation p - q ≤ r is inhabited if &quot;p minus q&quot; is bounded by r.</a>
<a id="854" class="Comment">--</a>
<a id="857" class="Comment">-- For modalities with quantitative interpretetations, p - q ≤ r can be</a>
<a id="929" class="Comment">-- interpreted as &quot;If there are p copies of some resource, it is</a>
<a id="994" class="Comment">-- possible to use q copies and have at least r copies left&quot;</a>

<a id="1056" class="Keyword">infix</a> <a id="1062" class="Number">4</a> <a id="1064" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">_-_≤_</a>

<a id="_-_≤_"></a><a id="1071" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">_-_≤_</a> <a id="1077" class="Symbol">:</a> <a id="1079" class="Symbol">(</a><a id="1080" href="Graded.Modality.Properties.Subtraction.html#1080" class="Bound">p</a> <a id="1082" href="Graded.Modality.Properties.Subtraction.html#1082" class="Bound">q</a> <a id="1084" href="Graded.Modality.Properties.Subtraction.html#1084" class="Bound">r</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="1089" class="Symbol">)</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1097" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="1099" href="Graded.Modality.Properties.Subtraction.html#1099" class="Bound">p</a> <a id="1101" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="1103" href="Graded.Modality.Properties.Subtraction.html#1103" class="Bound">q</a> <a id="1105" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="1107" href="Graded.Modality.Properties.Subtraction.html#1107" class="Bound">r</a> <a id="1109" class="Symbol">=</a> <a id="1111" href="Graded.Modality.Properties.Subtraction.html#1099" class="Bound">p</a> <a id="1113" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="1115" href="Graded.Modality.Properties.Subtraction.html#1107" class="Bound">r</a> <a id="1117" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="1119" href="Graded.Modality.Properties.Subtraction.html#1103" class="Bound">q</a>

<a id="1122" class="Comment">-- The relation p - q ≡ r is inhabited if r is the least value for</a>
<a id="1189" class="Comment">-- which p - q ≤  is inhabited.</a>
<a id="1221" class="Comment">--</a>
<a id="1224" class="Comment">-- For modalities with quantitative interpretetations, p - q ≡ r can be</a>
<a id="1296" class="Comment">-- interpreted as &quot;If there are p copies of some resource, it is</a>
<a id="1361" class="Comment">-- possible to use q copies and have r copies left.&quot;</a>
<a id="1414" class="Comment">--</a>
<a id="1417" class="Comment">-- The reason for chosing the least value is to leave as many copies</a>
<a id="1486" class="Comment">-- available as possible to avoid needlessly running out of resources.</a>
<a id="1557" class="Comment">-- For instance, for the linearity modality we have ω - 𝟙 ≤ ω and</a>
<a id="1623" class="Comment">-- ω - 𝟙 ≤ 𝟙 but using 𝟙 copy of ω can safely leave ω copies remaining.</a>

<a id="1696" class="Keyword">infix</a> <a id="1702" class="Number">4</a> <a id="1704" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">_-_≡_</a>

<a id="_-_≡_"></a><a id="1711" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">_-_≡_</a> <a id="1717" class="Symbol">:</a> <a id="1719" class="Symbol">(</a><a id="1720" href="Graded.Modality.Properties.Subtraction.html#1720" class="Bound">p</a> <a id="1722" href="Graded.Modality.Properties.Subtraction.html#1722" class="Bound">q</a> <a id="1724" href="Graded.Modality.Properties.Subtraction.html#1724" class="Bound">r</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="1729" class="Symbol">)</a> <a id="1731" class="Symbol">→</a> <a id="1733" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1737" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="1739" href="Graded.Modality.Properties.Subtraction.html#1739" class="Bound">p</a> <a id="1741" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="1743" href="Graded.Modality.Properties.Subtraction.html#1743" class="Bound">q</a> <a id="1745" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="1747" href="Graded.Modality.Properties.Subtraction.html#1747" class="Bound">r</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Graded.Modality.html#2144" class="Function">Least-such-that</a> <a id="1767" class="Symbol">(</a><a id="1768" href="Graded.Modality.Properties.Subtraction.html#1739" class="Bound">p</a> <a id="1770" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="1772" href="Graded.Modality.Properties.Subtraction.html#1743" class="Bound">q</a> <a id="1774" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤_</a><a id="1776" class="Symbol">)</a> <a id="1778" href="Graded.Modality.Properties.Subtraction.html#1747" class="Bound">r</a>

<a id="1781" class="Keyword">opaque</a>

  <a id="1791" class="Comment">-- The relation _-_≡_ is functional.</a>

  <a id="-≡-functional"></a><a id="1831" href="Graded.Modality.Properties.Subtraction.html#1831" class="Function">-≡-functional</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="1849" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="1851" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="1853" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="1855" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="1857" class="Symbol">→</a> <a id="1859" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="1861" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="1863" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="1865" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="1867" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="1870" class="Symbol">→</a> <a id="1872" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="1874" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1876" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a>
  <a id="1881" href="Graded.Modality.Properties.Subtraction.html#1831" class="Function">-≡-functional</a> <a id="1895" class="Symbol">(</a><a id="1896" href="Graded.Modality.Properties.Subtraction.html#1896" class="Bound">p-q≤r</a> <a id="1902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1904" href="Graded.Modality.Properties.Subtraction.html#1904" class="Bound">least</a><a id="1909" class="Symbol">)</a> <a id="1911" class="Symbol">(</a><a id="1912" href="Graded.Modality.Properties.Subtraction.html#1912" class="Bound">p-q≤r′</a> <a id="1919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1921" href="Graded.Modality.Properties.Subtraction.html#1921" class="Bound">least′</a><a id="1927" class="Symbol">)</a> <a id="1929" class="Symbol">=</a>
    <a id="1935" href="Graded.Modality.Properties.PartialOrder.html#853" class="Function">≤-antisym</a> <a id="1945" class="Symbol">(</a><a id="1946" href="Graded.Modality.Properties.Subtraction.html#1904" class="Bound">least</a> <a id="1952" class="Symbol">_</a> <a id="1954" href="Graded.Modality.Properties.Subtraction.html#1912" class="Bound">p-q≤r′</a><a id="1960" class="Symbol">)</a> <a id="1962" class="Symbol">(</a><a id="1963" href="Graded.Modality.Properties.Subtraction.html#1921" class="Bound">least′</a> <a id="1970" class="Symbol">_</a> <a id="1972" href="Graded.Modality.Properties.Subtraction.html#1896" class="Bound">p-q≤r</a><a id="1977" class="Symbol">)</a>

<a id="1980" class="Keyword">opaque</a>

  <a id="1990" class="Comment">-- Subtraction is monotone in its first argument.</a>

  <a id="-≡≤-monotoneˡ"></a><a id="2043" href="Graded.Modality.Properties.Subtraction.html#2043" class="Function">-≡≤-monotoneˡ</a> <a id="2057" class="Symbol">:</a> <a id="2059" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2061" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2063" href="Graded.Modality.Properties.Subtraction.html#631" class="Generalizable">p′</a> <a id="2066" class="Symbol">→</a> <a id="2068" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2070" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2072" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2074" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2076" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="Graded.Modality.Properties.Subtraction.html#631" class="Generalizable">p′</a> <a id="2083" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="2085" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2087" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="2089" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="2092" class="Symbol">→</a> <a id="2094" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="2096" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2098" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a>
  <a id="2103" href="Graded.Modality.Properties.Subtraction.html#2043" class="Function">-≡≤-monotoneˡ</a> <a id="2117" href="Graded.Modality.Properties.Subtraction.html#2117" class="Bound">p≤p′</a> <a id="2122" class="Symbol">(</a><a id="2123" href="Graded.Modality.Properties.Subtraction.html#2123" class="Bound">p≤q+r</a> <a id="2129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2131" href="Graded.Modality.Properties.Subtraction.html#2131" class="Bound">P</a><a id="2132" class="Symbol">)</a> <a id="2134" href="Graded.Modality.Properties.Subtraction.html#2134" class="Bound">p′≤q+r′</a> <a id="2142" class="Symbol">=</a>
    <a id="2148" href="Graded.Modality.Properties.Subtraction.html#2131" class="Bound">P</a> <a id="2150" class="Symbol">_</a> <a id="2152" class="Symbol">(</a><a id="2153" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2161" href="Graded.Modality.Properties.Subtraction.html#2117" class="Bound">p≤p′</a> <a id="2166" href="Graded.Modality.Properties.Subtraction.html#2134" class="Bound">p′≤q+r′</a><a id="2173" class="Symbol">)</a>

<a id="2176" class="Keyword">opaque</a>

  <a id="2186" class="Comment">-- Subtraction is monotone in its first argument.</a>

  <a id="-≡-monotoneˡ"></a><a id="2239" href="Graded.Modality.Properties.Subtraction.html#2239" class="Function">-≡-monotoneˡ</a> <a id="2252" class="Symbol">:</a> <a id="2254" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2256" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2258" href="Graded.Modality.Properties.Subtraction.html#631" class="Generalizable">p′</a> <a id="2261" class="Symbol">→</a> <a id="2263" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2265" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2267" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2269" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2271" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Graded.Modality.Properties.Subtraction.html#631" class="Generalizable">p′</a> <a id="2278" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2280" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2282" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2284" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="2287" class="Symbol">→</a> <a id="2289" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="2291" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2293" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a>
  <a id="2298" href="Graded.Modality.Properties.Subtraction.html#2239" class="Function">-≡-monotoneˡ</a> <a id="2311" href="Graded.Modality.Properties.Subtraction.html#2311" class="Bound">p≤p′</a> <a id="2316" href="Graded.Modality.Properties.Subtraction.html#2316" class="Bound">p-q≡r</a> <a id="2322" class="Symbol">(</a><a id="2323" href="Graded.Modality.Properties.Subtraction.html#2323" class="Bound">p′≤q+r′</a> <a id="2331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2333" href="Graded.Modality.Properties.Subtraction.html#2333" class="Bound">P′</a><a id="2335" class="Symbol">)</a> <a id="2337" class="Symbol">=</a>
    <a id="2343" href="Graded.Modality.Properties.Subtraction.html#2043" class="Function">-≡≤-monotoneˡ</a> <a id="2357" href="Graded.Modality.Properties.Subtraction.html#2311" class="Bound">p≤p′</a> <a id="2362" href="Graded.Modality.Properties.Subtraction.html#2316" class="Bound">p-q≡r</a> <a id="2368" href="Graded.Modality.Properties.Subtraction.html#2323" class="Bound">p′≤q+r′</a>

<a id="2377" class="Keyword">opaque</a>

  <a id="2387" class="Comment">-- Subtraction is antitone in its second argument.</a>

  <a id="-≡-antitoneʳ"></a><a id="2441" href="Graded.Modality.Properties.Subtraction.html#2441" class="Function">-≡-antitoneʳ</a> <a id="2454" class="Symbol">:</a> <a id="2456" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2458" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2460" href="Graded.Modality.Properties.Subtraction.html#636" class="Generalizable">q′</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2467" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2469" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2471" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2473" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="2475" class="Symbol">→</a> <a id="2477" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2479" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2481" href="Graded.Modality.Properties.Subtraction.html#636" class="Generalizable">q′</a> <a id="2484" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2486" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="2489" class="Symbol">→</a> <a id="2491" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="2494" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2496" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a>
  <a id="2500" href="Graded.Modality.Properties.Subtraction.html#2441" class="Function">-≡-antitoneʳ</a> <a id="2513" href="Graded.Modality.Properties.Subtraction.html#2513" class="Bound">q≤q′</a> <a id="2518" class="Symbol">(</a><a id="2519" href="Graded.Modality.Properties.Subtraction.html#2519" class="Bound">p≤q+r</a> <a id="2525" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2527" href="Graded.Modality.Properties.Subtraction.html#2527" class="Bound">P</a><a id="2528" class="Symbol">)</a> <a id="2530" class="Symbol">(</a><a id="2531" href="Graded.Modality.Properties.Subtraction.html#2531" class="Bound">p≤q′+r′</a> <a id="2539" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2541" href="Graded.Modality.Properties.Subtraction.html#2541" class="Bound">P′</a><a id="2543" class="Symbol">)</a> <a id="2545" class="Symbol">=</a>
    <a id="2551" href="Graded.Modality.Properties.Subtraction.html#2541" class="Bound">P′</a> <a id="2554" class="Symbol">_</a> <a id="2556" class="Symbol">(</a><a id="2557" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2565" href="Graded.Modality.Properties.Subtraction.html#2519" class="Bound">p≤q+r</a> <a id="2571" class="Symbol">(</a><a id="2572" href="Graded.Modality.Properties.Addition.html#984" class="Function">+-monotoneʳ</a> <a id="2584" href="Graded.Modality.Properties.Subtraction.html#2513" class="Bound">q≤q′</a><a id="2588" class="Symbol">))</a>

<a id="2592" class="Keyword">opaque</a>

  <a id="2602" class="Comment">-- The value of p minus 𝟘 is bounded by p.</a>

  <a id="p-𝟘≤p"></a><a id="2648" href="Graded.Modality.Properties.Subtraction.html#2648" class="Function">p-𝟘≤p</a> <a id="2654" class="Symbol">:</a> <a id="2656" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2658" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="2660" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="2662" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="2664" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a>
  <a id="2668" href="Graded.Modality.Properties.Subtraction.html#2648" class="Function">p-𝟘≤p</a> <a id="2674" class="Symbol">=</a> <a id="2676" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2693" class="Symbol">(</a><a id="2694" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="2706" class="Symbol">_))</a>

<a id="2711" class="Keyword">opaque</a>

  <a id="2721" class="Comment">-- The value of p minus 𝟘 is p.</a>

  <a id="p-𝟘≡p"></a><a id="2756" href="Graded.Modality.Properties.Subtraction.html#2756" class="Function">p-𝟘≡p</a> <a id="2762" class="Symbol">:</a> <a id="2764" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2766" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="2768" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="2770" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="2772" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a>
  <a id="2776" href="Graded.Modality.Properties.Subtraction.html#2756" class="Function">p-𝟘≡p</a> <a id="2782" class="Symbol">=</a> <a id="2784" href="Graded.Modality.Properties.Subtraction.html#2648" class="Function">p-𝟘≤p</a> <a id="2790" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2792" class="Symbol">(λ</a> <a id="2795" href="Graded.Modality.Properties.Subtraction.html#2795" class="Bound">q</a> <a id="2797" href="Graded.Modality.Properties.Subtraction.html#2797" class="Bound">p≤q+𝟘</a> <a id="2803" class="Symbol">→</a> <a id="2805" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2813" href="Graded.Modality.Properties.Subtraction.html#2797" class="Bound">p≤q+𝟘</a> <a id="2819" class="Symbol">(</a><a id="2820" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="2832" class="Symbol">(</a><a id="2833" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="2845" href="Graded.Modality.Properties.Subtraction.html#2795" class="Bound">q</a><a id="2846" class="Symbol">)))</a>

<a id="2851" class="Keyword">opaque</a>

  <a id="2861" class="Comment">-- If p - 𝟘 ≤ q then p ≤ q</a>

  <a id="p-𝟘≤"></a><a id="2891" href="Graded.Modality.Properties.Subtraction.html#2891" class="Function">p-𝟘≤</a>  <a id="2897" class="Symbol">:</a> <a id="2899" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2901" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="2903" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="2905" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="2907" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="2909" class="Symbol">→</a> <a id="2911" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="2913" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2915" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a>
  <a id="2919" href="Graded.Modality.Properties.Subtraction.html#2891" class="Function">p-𝟘≤</a> <a id="2924" href="Graded.Modality.Properties.Subtraction.html#2924" class="Bound">p≤q+𝟘</a> <a id="2930" class="Symbol">=</a> <a id="2932" href="Graded.Modality.Properties.PartialOrder.html#668" class="Function">≤-trans</a> <a id="2940" href="Graded.Modality.Properties.Subtraction.html#2924" class="Bound">p≤q+𝟘</a> <a id="2946" class="Symbol">(</a><a id="2947" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="2959" class="Symbol">(</a><a id="2960" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a> <a id="2972" class="Symbol">_))</a>

<a id="2977" class="Keyword">opaque</a>

  <a id="2987" class="Comment">-- If p - 𝟘 ≡ q then p ≡ q</a>

  <a id="p-𝟘≡"></a><a id="3017" href="Graded.Modality.Properties.Subtraction.html#3017" class="Function">p-𝟘≡</a> <a id="3022" class="Symbol">:</a> <a id="3024" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3026" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="3028" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="3030" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="3032" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="3034" class="Symbol">→</a> <a id="3036" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3038" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3040" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a>
  <a id="3044" href="Graded.Modality.Properties.Subtraction.html#3017" class="Function">p-𝟘≡</a> <a id="3049" href="Graded.Modality.Properties.Subtraction.html#3049" class="Bound">p-𝟘≡q</a> <a id="3055" class="Symbol">=</a> <a id="3057" href="Graded.Modality.Properties.Subtraction.html#1831" class="Function">-≡-functional</a> <a id="3071" href="Graded.Modality.Properties.Subtraction.html#2756" class="Function">p-𝟘≡p</a> <a id="3077" href="Graded.Modality.Properties.Subtraction.html#3049" class="Bound">p-𝟘≡q</a>

<a id="3084" class="Keyword">opaque</a>

  <a id="3094" class="Comment">-- The value of p minus p is at most 𝟘.</a>

  <a id="p-p≤𝟘"></a><a id="3137" href="Graded.Modality.Properties.Subtraction.html#3137" class="Function">p-p≤𝟘</a> <a id="3143" class="Symbol">:</a> <a id="3145" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3147" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="3149" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3151" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="3153" href="Graded.Modality.html#945" class="Field">𝟘</a>
  <a id="3157" href="Graded.Modality.Properties.Subtraction.html#3137" class="Function">p-p≤𝟘</a> <a id="3163" class="Symbol">=</a> <a id="3165" href="Graded.Modality.Properties.PartialOrder.html#1013" class="Function">≤-reflexive</a> <a id="3177" class="Symbol">(</a><a id="3178" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3182" class="Symbol">(</a><a id="3183" href="Algebra.Structures.html#13356" class="Function">+-identityˡ</a> <a id="3195" class="Symbol">_))</a>

<a id="3200" class="Keyword">opaque</a>

  <a id="3210" class="Comment">-- For a least element, subtraction by p is identity</a>

  <a id="∞-p≤∞"></a><a id="3266" href="Graded.Modality.Properties.Subtraction.html#3266" class="Function">∞-p≤∞</a> <a id="3272" class="Symbol">:</a> <a id="3274" class="Symbol">(∀</a> <a id="3277" class="Symbol">{</a><a id="3278" href="Graded.Modality.Properties.Subtraction.html#3278" class="Bound">q</a><a id="3279" class="Symbol">}</a> <a id="3281" class="Symbol">→</a> <a id="3283" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a> <a id="3285" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="3287" href="Graded.Modality.Properties.Subtraction.html#3278" class="Bound">q</a><a id="3288" class="Symbol">)</a> <a id="3290" class="Symbol">→</a> <a id="3292" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a> <a id="3294" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="3296" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3298" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="3300" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a>
  <a id="3304" href="Graded.Modality.Properties.Subtraction.html#3266" class="Function">∞-p≤∞</a> <a id="3310" href="Graded.Modality.Properties.Subtraction.html#3310" class="Bound">∞≤</a> <a id="3313" class="Symbol">=</a> <a id="3315" href="Graded.Modality.Properties.Subtraction.html#3310" class="Bound">∞≤</a>

<a id="3319" class="Keyword">opaque</a>

  <a id="3329" class="Comment">-- For a least element, subtraction by p is identity</a>

  <a id="∞-p≡∞"></a><a id="3385" href="Graded.Modality.Properties.Subtraction.html#3385" class="Function">∞-p≡∞</a> <a id="3391" class="Symbol">:</a> <a id="3393" class="Symbol">(∀</a> <a id="3396" class="Symbol">{</a><a id="3397" href="Graded.Modality.Properties.Subtraction.html#3397" class="Bound">q</a><a id="3398" class="Symbol">}</a> <a id="3400" class="Symbol">→</a> <a id="3402" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a> <a id="3404" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="3406" href="Graded.Modality.Properties.Subtraction.html#3397" class="Bound">q</a><a id="3407" class="Symbol">)</a> <a id="3409" class="Symbol">→</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Graded.Modality.Properties.Subtraction.html#3412" class="Bound">p</a> <a id="3414" class="Symbol">:</a> <a id="3416" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="3417" class="Symbol">)</a> <a id="3419" class="Symbol">→</a> <a id="3421" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a> <a id="3423" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="3425" href="Graded.Modality.Properties.Subtraction.html#3412" class="Bound">p</a> <a id="3427" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="3429" href="Graded.Modality.Properties.Subtraction.html#644" class="Generalizable">∞</a>
  <a id="3433" href="Graded.Modality.Properties.Subtraction.html#3385" class="Function">∞-p≡∞</a> <a id="3439" href="Graded.Modality.Properties.Subtraction.html#3439" class="Bound">∞≤</a> <a id="3442" class="Symbol">_</a> <a id="3444" class="Symbol">=</a> <a id="3446" href="Graded.Modality.Properties.Subtraction.html#3266" class="Function">∞-p≤∞</a> <a id="3452" href="Graded.Modality.Properties.Subtraction.html#3439" class="Bound">∞≤</a> <a id="3455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3457" class="Symbol">λ</a> <a id="3459" href="Graded.Modality.Properties.Subtraction.html#3459" class="Bound">_</a> <a id="3461" href="Graded.Modality.Properties.Subtraction.html#3461" class="Bound">_</a> <a id="3463" class="Symbol">→</a> <a id="3465" href="Graded.Modality.Properties.Subtraction.html#3439" class="Bound">∞≤</a>

<a id="3469" class="Keyword">opaque</a>

  <a id="3479" class="Comment">-- If substraction by q is bounded by r and r′ then it is also</a>
  <a id="3544" class="Comment">-- bounded by r ∧ r′.</a>

  <a id="-≤∧"></a><a id="3569" href="Graded.Modality.Properties.Subtraction.html#3569" class="Function">-≤∧</a> <a id="3573" class="Symbol">:</a> <a id="3575" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3577" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="3579" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="3581" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="3583" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="3585" class="Symbol">→</a> <a id="3587" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3589" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="3591" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="3593" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="3595" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a> <a id="3598" class="Symbol">→</a> <a id="3600" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="3602" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="3604" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="3606" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="3608" class="Symbol">(</a><a id="3609" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="3611" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3613" href="Graded.Modality.Properties.Subtraction.html#641" class="Generalizable">r′</a><a id="3615" class="Symbol">)</a>
  <a id="3619" href="Graded.Modality.Properties.Subtraction.html#3569" class="Function">-≤∧</a> <a id="3623" class="Symbol">{</a><a id="3624" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a><a id="3625" class="Symbol">}</a> <a id="3627" class="Symbol">{</a><a id="3628" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3629" class="Symbol">}</a> <a id="3631" class="Symbol">{</a><a id="3632" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a><a id="3633" class="Symbol">}</a> <a id="3635" class="Symbol">{</a><a id="3636" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a><a id="3638" class="Symbol">}</a> <a id="3640" href="Graded.Modality.Properties.Subtraction.html#3640" class="Bound">≤r</a> <a id="3643" href="Graded.Modality.Properties.Subtraction.html#3643" class="Bound">≤r′</a> <a id="3647" class="Symbol">=</a> <a id="3649" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="3659" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a>                        <a id="3684" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3687" href="Graded.Modality.Properties.Subtraction.html#3643" class="Bound">≤r′</a> <a id="3691" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3697" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a> <a id="3699" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a> <a id="3705" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3707" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3708" class="Symbol">)</a>             <a id="3722" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3725" href="Algebra.Lattice.Structures.html#1602" class="Function">∧-congʳ</a> <a id="3733" href="Graded.Modality.Properties.Subtraction.html#3640" class="Bound">≤r</a> <a id="3736" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3742" class="Symbol">(</a><a id="3743" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a> <a id="3745" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3747" class="Symbol">(</a><a id="3748" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a> <a id="3750" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3752" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3753" class="Symbol">))</a> <a id="3756" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3758" class="Symbol">(</a><a id="3759" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a> <a id="3762" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3764" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3765" class="Symbol">)</a> <a id="3767" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3770" href="Graded.Modality.html#4269" class="Function">∧-assoc</a> <a id="3778" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a> <a id="3780" class="Symbol">(</a><a id="3781" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a> <a id="3783" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3785" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3786" class="Symbol">)</a> <a id="3788" class="Symbol">(</a><a id="3789" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a> <a id="3792" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3794" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3795" class="Symbol">)</a> <a id="3797" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="3803" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a> <a id="3805" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3807" class="Symbol">((</a><a id="3809" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a> <a id="3811" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3813" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3814" class="Symbol">)</a> <a id="3816" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a> <a id="3822" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3824" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3825" class="Symbol">))</a> <a id="3828" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3832" href="Algebra.Lattice.Structures.html#1577" class="Function">∧-congˡ</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Graded.Modality.html#3101" class="Function">+-distribʳ-∧</a> <a id="3854" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a> <a id="3856" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a> <a id="3858" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a><a id="3860" class="Symbol">)</a> <a id="3862" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="3868" href="Graded.Modality.Properties.Subtraction.html#3624" class="Bound">p</a> <a id="3870" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3872" class="Symbol">(</a><a id="3873" href="Graded.Modality.Properties.Subtraction.html#3632" class="Bound">r</a> <a id="3875" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="3877" href="Graded.Modality.Properties.Subtraction.html#3636" class="Bound">r′</a> <a id="3880" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="3882" href="Graded.Modality.Properties.Subtraction.html#3628" class="Bound">q</a><a id="3883" class="Symbol">)</a>         <a id="3893" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="3899" class="Keyword">where</a>
    <a id="3909" class="Keyword">open</a> <a id="3914" class="Keyword">import</a> <a id="3921" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>

<a id="3960" class="Keyword">opaque</a>

  <a id="3970" class="Comment">-- A distributivity law for substraction over addition</a>

  <a id="p+q-r≤p-r+q"></a><a id="4028" href="Graded.Modality.Properties.Subtraction.html#4028" class="Function">p+q-r≤p-r+q</a> <a id="4040" class="Symbol">:</a> <a id="4042" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="4044" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="4046" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="4048" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="4050" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="4052" class="Symbol">→</a> <a id="4054" class="Symbol">(</a><a id="4055" href="Graded.Modality.Properties.Subtraction.html#4055" class="Bound">p′</a> <a id="4058" class="Symbol">:</a> <a id="4060" href="Graded.Modality.Properties.Subtraction.html#240" class="Bound">M</a><a id="4061" class="Symbol">)</a>
      <a id="4069" class="Symbol">→</a> <a id="4071" class="Symbol">(</a><a id="4072" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="4074" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4076" href="Graded.Modality.Properties.Subtraction.html#4055" class="Bound">p′</a> <a id="4079" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="4081" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="4083" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="4085" href="Graded.Modality.Properties.Subtraction.html#4055" class="Bound">p′</a> <a id="4088" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4090" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a><a id="4091" class="Symbol">)</a>
  <a id="4095" href="Graded.Modality.Properties.Subtraction.html#4028" class="Function">p+q-r≤p-r+q</a> <a id="4107" class="Symbol">{</a><a id="4108" href="Graded.Modality.Properties.Subtraction.html#4108" class="Bound">p</a><a id="4109" class="Symbol">}</a> <a id="4111" class="Symbol">{</a><a id="4112" href="Graded.Modality.Properties.Subtraction.html#4112" class="Bound">q</a><a id="4113" class="Symbol">}</a> <a id="4115" class="Symbol">{</a><a id="4116" href="Graded.Modality.Properties.Subtraction.html#4116" class="Bound">r</a><a id="4117" class="Symbol">}</a> <a id="4119" href="Graded.Modality.Properties.Subtraction.html#4119" class="Bound">p≤r+q</a> <a id="4125" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a> <a id="4128" class="Symbol">=</a> <a id="4130" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="4140" href="Graded.Modality.Properties.Subtraction.html#4108" class="Bound">p</a> <a id="4142" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4144" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a>        <a id="4154" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="4157" href="Graded.Modality.Properties.Addition.html#808" class="Function">+-monotoneˡ</a> <a id="4169" href="Graded.Modality.Properties.Subtraction.html#4119" class="Bound">p≤r+q</a> <a id="4175" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="4181" class="Symbol">(</a><a id="4182" href="Graded.Modality.Properties.Subtraction.html#4116" class="Bound">r</a> <a id="4184" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4186" href="Graded.Modality.Properties.Subtraction.html#4112" class="Bound">q</a><a id="4187" class="Symbol">)</a> <a id="4189" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4191" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a>  <a id="4195" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="4198" href="Algebra.Structures.html#13444" class="Function">+-comm</a> <a id="4205" class="Symbol">_</a> <a id="4207" class="Symbol">_</a> <a id="4209" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="4215" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a> <a id="4218" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4220" class="Symbol">(</a><a id="4221" href="Graded.Modality.Properties.Subtraction.html#4116" class="Bound">r</a> <a id="4223" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4225" href="Graded.Modality.Properties.Subtraction.html#4112" class="Bound">q</a><a id="4226" class="Symbol">)</a>  <a id="4229" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="4233" href="Algebra.Structures.html#13154" class="Function">+-assoc</a> <a id="4241" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a> <a id="4244" href="Graded.Modality.Properties.Subtraction.html#4116" class="Bound">r</a> <a id="4246" href="Graded.Modality.Properties.Subtraction.html#4112" class="Bound">q</a> <a id="4248" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="4254" class="Symbol">(</a><a id="4255" href="Graded.Modality.Properties.Subtraction.html#4125" class="Bound">p′</a> <a id="4258" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4260" href="Graded.Modality.Properties.Subtraction.html#4116" class="Bound">r</a><a id="4261" class="Symbol">)</a> <a id="4263" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="4265" href="Graded.Modality.Properties.Subtraction.html#4112" class="Bound">q</a>  <a id="4268" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="4274" class="Keyword">where</a>
    <a id="4284" class="Keyword">open</a> <a id="4289" class="Keyword">import</a> <a id="4296" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="4325" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

<a id="4334" class="Comment">------------------------------------------------------------------------</a>
<a id="4407" class="Comment">-- The predicate Supports-subtraction</a>

<a id="4446" class="Comment">-- A modality supports subtraction if whenever p - q ≤ r there is an r′</a>
<a id="4518" class="Comment">-- such that p - q ≡ r′.</a>
<a id="4543" class="Comment">--</a>
<a id="4546" class="Comment">-- In other words, a modality supports subtraction if whenever there is</a>
<a id="4618" class="Comment">-- at least one candidate for the value of p - q (i.e. whenever it is</a>
<a id="4688" class="Comment">-- meaningful to talk about p - q) there is a least candidate.</a>

<a id="Supports-subtraction"></a><a id="4752" href="Graded.Modality.Properties.Subtraction.html#4752" class="Function">Supports-subtraction</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4779" href="Graded.Modality.Properties.Subtraction.html#236" class="Bound">a</a>
<a id="4781" href="Graded.Modality.Properties.Subtraction.html#4752" class="Function">Supports-subtraction</a> <a id="4802" class="Symbol">=</a>
  <a id="4806" class="Symbol">∀</a> <a id="4808" class="Symbol">{</a><a id="4809" href="Graded.Modality.Properties.Subtraction.html#4809" class="Bound">p</a> <a id="4811" href="Graded.Modality.Properties.Subtraction.html#4811" class="Bound">q</a> <a id="4813" href="Graded.Modality.Properties.Subtraction.html#4813" class="Bound">r</a><a id="4814" class="Symbol">}</a> <a id="4816" class="Symbol">→</a> <a id="4818" href="Graded.Modality.Properties.Subtraction.html#4809" class="Bound">p</a> <a id="4820" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="4822" href="Graded.Modality.Properties.Subtraction.html#4811" class="Bound">q</a> <a id="4824" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="4826" href="Graded.Modality.Properties.Subtraction.html#4813" class="Bound">r</a> <a id="4828" class="Symbol">→</a> <a id="4830" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="4832" class="Symbol">λ</a> <a id="4834" href="Graded.Modality.Properties.Subtraction.html#4834" class="Bound">r′</a> <a id="4837" class="Symbol">→</a> <a id="4839" href="Graded.Modality.Properties.Subtraction.html#4809" class="Bound">p</a> <a id="4841" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="4843" href="Graded.Modality.Properties.Subtraction.html#4811" class="Bound">q</a> <a id="4845" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="4847" href="Graded.Modality.Properties.Subtraction.html#4834" class="Bound">r′</a>

<a id="4851" class="Comment">-- Subtraction for modalities where _+_ and _∧_ coincide.</a>
<a id="4909" class="Comment">-- This is true for instance in some lattices, see e.g.</a>
<a id="4965" class="Comment">-- Graded.Modality.Instances.Bounded-distributive-lattice or</a>
<a id="5026" class="Comment">-- Graded.Modality.Instances.Information-flow</a>

<a id="5073" class="Keyword">module</a> <a id="Addition≡Meet"></a><a id="5080" href="Graded.Modality.Properties.Subtraction.html#5080" class="Module">Addition≡Meet</a> <a id="5094" class="Symbol">(</a><a id="5095" href="Graded.Modality.Properties.Subtraction.html#5095" class="Bound">+≡∧</a> <a id="5099" class="Symbol">:</a> <a id="5101" class="Symbol">∀</a> <a id="5103" href="Graded.Modality.Properties.Subtraction.html#5103" class="Bound">p</a> <a id="5105" href="Graded.Modality.Properties.Subtraction.html#5105" class="Bound">q</a> <a id="5107" class="Symbol">→</a> <a id="5109" href="Graded.Modality.Properties.Subtraction.html#5103" class="Bound">p</a> <a id="5111" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="5113" href="Graded.Modality.Properties.Subtraction.html#5105" class="Bound">q</a> <a id="5115" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5117" href="Graded.Modality.Properties.Subtraction.html#5103" class="Bound">p</a> <a id="5119" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="5121" href="Graded.Modality.Properties.Subtraction.html#5105" class="Bound">q</a><a id="5122" class="Symbol">)</a> <a id="5124" class="Keyword">where</a>

  <a id="5133" class="Keyword">opaque</a>

    <a id="5145" class="Comment">-- If p ≤ q then p - q ≤ p</a>

    <a id="Addition≡Meet.p-q≤p"></a><a id="5177" href="Graded.Modality.Properties.Subtraction.html#5177" class="Function">p-q≤p</a> <a id="5183" class="Symbol">:</a> <a id="5185" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5187" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5189" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="5191" class="Symbol">→</a> <a id="5193" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5195" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="5197" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="5199" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="5201" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a>
    <a id="5207" href="Graded.Modality.Properties.Subtraction.html#5177" class="Function">p-q≤p</a> <a id="5213" class="Symbol">{</a><a id="5214" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a><a id="5215" class="Symbol">}</a> <a id="5217" class="Symbol">{</a><a id="5218" href="Graded.Modality.Properties.Subtraction.html#5218" class="Bound">q</a><a id="5219" class="Symbol">}</a> <a id="5221" href="Graded.Modality.Properties.Subtraction.html#5221" class="Bound">p≤q</a> <a id="5225" class="Symbol">=</a> <a id="5227" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5239" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a>     <a id="5245" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="5249" href="Graded.Modality.html#4238" class="Function">∧-idem</a> <a id="5256" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5258" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="5266" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5268" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="5270" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5272" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="5276" href="Graded.Modality.Properties.Subtraction.html#5095" class="Bound">+≡∧</a> <a id="5280" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5282" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5284" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="5292" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5294" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="5296" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5298" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5301" href="Graded.Modality.Properties.Addition.html#984" class="Function">+-monotoneʳ</a> <a id="5313" href="Graded.Modality.Properties.Subtraction.html#5221" class="Bound">p≤q</a> <a id="5317" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5325" href="Graded.Modality.Properties.Subtraction.html#5214" class="Bound">p</a> <a id="5327" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="5329" href="Graded.Modality.Properties.Subtraction.html#5218" class="Bound">q</a> <a id="5331" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="5339" class="Keyword">where</a>
      <a id="5351" class="Keyword">open</a> <a id="5356" class="Keyword">import</a> <a id="5363" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5392" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="5403" class="Keyword">opaque</a>

    <a id="5415" class="Comment">-- If p ≤ q then p - q ≡ p</a>

    <a id="Addition≡Meet.p-q≡p"></a><a id="5447" href="Graded.Modality.Properties.Subtraction.html#5447" class="Function">p-q≡p</a> <a id="5453" class="Symbol">:</a> <a id="5455" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5457" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5459" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="5461" class="Symbol">→</a> <a id="5463" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5465" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="5467" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="5469" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="5471" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a>
    <a id="5477" href="Graded.Modality.Properties.Subtraction.html#5447" class="Function">p-q≡p</a> <a id="5483" class="Symbol">{</a><a id="5484" href="Graded.Modality.Properties.Subtraction.html#5484" class="Bound">p</a><a id="5485" class="Symbol">}</a> <a id="5487" class="Symbol">{</a><a id="5488" href="Graded.Modality.Properties.Subtraction.html#5488" class="Bound">q</a><a id="5489" class="Symbol">}</a> <a id="5491" href="Graded.Modality.Properties.Subtraction.html#5491" class="Bound">p≤q</a> <a id="5495" class="Symbol">=</a> <a id="5497" href="Graded.Modality.Properties.Subtraction.html#5177" class="Function">p-q≤p</a> <a id="5503" href="Graded.Modality.Properties.Subtraction.html#5491" class="Bound">p≤q</a> <a id="5507" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5509" class="Symbol">(λ</a> <a id="5512" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a> <a id="5514" href="Graded.Modality.Properties.Subtraction.html#5514" class="Bound">p≤r+q</a> <a id="5520" class="Symbol">→</a> <a id="5522" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5534" href="Graded.Modality.Properties.Subtraction.html#5484" class="Bound">p</a>     <a id="5540" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5543" href="Graded.Modality.Properties.Subtraction.html#5514" class="Bound">p≤r+q</a> <a id="5549" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5557" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a> <a id="5559" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="5561" href="Graded.Modality.Properties.Subtraction.html#5488" class="Bound">q</a> <a id="5563" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5566" href="Graded.Modality.Properties.Subtraction.html#5095" class="Bound">+≡∧</a> <a id="5570" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a> <a id="5572" href="Graded.Modality.Properties.Subtraction.html#5488" class="Bound">q</a> <a id="5574" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="5582" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a> <a id="5584" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="5586" href="Graded.Modality.Properties.Subtraction.html#5488" class="Bound">q</a> <a id="5588" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5591" href="Graded.Modality.Properties.Meet.html#1916" class="Function">∧-decreasingˡ</a> <a id="5605" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a> <a id="5607" href="Graded.Modality.Properties.Subtraction.html#5488" class="Bound">q</a> <a id="5609" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5617" href="Graded.Modality.Properties.Subtraction.html#5512" class="Bound">r</a>     <a id="5623" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="5624" class="Symbol">)</a>
      <a id="5632" class="Keyword">where</a>
      <a id="5644" class="Keyword">open</a> <a id="5649" class="Keyword">import</a> <a id="5656" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5685" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="5696" class="Keyword">opaque</a>

    <a id="5708" class="Comment">-- If p - q ≤ r then p ≤ q</a>

    <a id="Addition≡Meet.p-q≤r→p≤q"></a><a id="5740" href="Graded.Modality.Properties.Subtraction.html#5740" class="Function">p-q≤r→p≤q</a> <a id="5750" class="Symbol">:</a> <a id="5752" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5754" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="5756" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="5758" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="5760" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="5762" class="Symbol">→</a> <a id="5764" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="5766" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5768" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a>
    <a id="5774" href="Graded.Modality.Properties.Subtraction.html#5740" class="Function">p-q≤r→p≤q</a> <a id="5784" class="Symbol">{</a><a id="5785" href="Graded.Modality.Properties.Subtraction.html#5785" class="Bound">p</a><a id="5786" class="Symbol">}</a> <a id="5788" class="Symbol">{</a><a id="5789" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a><a id="5790" class="Symbol">}</a> <a id="5792" class="Symbol">{</a><a id="5793" href="Graded.Modality.Properties.Subtraction.html#5793" class="Bound">r</a><a id="5794" class="Symbol">}</a> <a id="5796" href="Graded.Modality.Properties.Subtraction.html#5796" class="Bound">p≤r+q</a> <a id="5802" class="Symbol">=</a> <a id="5804" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="5816" href="Graded.Modality.Properties.Subtraction.html#5785" class="Bound">p</a>     <a id="5822" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5825" href="Graded.Modality.Properties.Subtraction.html#5796" class="Bound">p≤r+q</a> <a id="5831" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5839" href="Graded.Modality.Properties.Subtraction.html#5793" class="Bound">r</a> <a id="5841" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="5843" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a> <a id="5845" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="5848" href="Graded.Modality.Properties.Subtraction.html#5095" class="Bound">+≡∧</a> <a id="5852" href="Graded.Modality.Properties.Subtraction.html#5793" class="Bound">r</a> <a id="5854" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a> <a id="5856" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="5864" href="Graded.Modality.Properties.Subtraction.html#5793" class="Bound">r</a> <a id="5866" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="5868" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a> <a id="5870" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="5873" href="Graded.Modality.Properties.Meet.html#2216" class="Function">∧-decreasingʳ</a> <a id="5887" href="Graded.Modality.Properties.Subtraction.html#5793" class="Bound">r</a> <a id="5889" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a> <a id="5891" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="5899" href="Graded.Modality.Properties.Subtraction.html#5789" class="Bound">q</a>     <a id="5905" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="5913" class="Keyword">where</a>
      <a id="5925" class="Keyword">open</a> <a id="5930" class="Keyword">import</a> <a id="5937" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5966" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a>

  <a id="5977" class="Keyword">opaque</a>

    <a id="5989" class="Comment">-- If p - q ≡ r then p ≤ q and r ≡ p</a>

    <a id="Addition≡Meet.p-q≡r→p≤q∧r≡p"></a><a id="6031" href="Graded.Modality.Properties.Subtraction.html#6031" class="Function">p-q≡r→p≤q∧r≡p</a> <a id="6045" class="Symbol">:</a> <a id="6047" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6049" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="6051" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6053" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="6055" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="6057" class="Symbol">→</a> <a id="6059" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6061" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="6063" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6065" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6067" href="Graded.Modality.Properties.Subtraction.html#639" class="Generalizable">r</a> <a id="6069" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6071" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a>
    <a id="6077" href="Graded.Modality.Properties.Subtraction.html#6031" class="Function">p-q≡r→p≤q∧r≡p</a> <a id="6091" href="Graded.Modality.Properties.Subtraction.html#6091" class="Bound">p-q≡r</a> <a id="6097" class="Symbol">=</a>
      <a id="6105" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6110" href="Graded.Modality.Properties.Subtraction.html#5740" class="Function">p-q≤r→p≤q</a> <a id="6120" class="Symbol">(</a><a id="6121" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6127" href="Graded.Modality.Properties.Subtraction.html#6091" class="Bound">p-q≡r</a><a id="6132" class="Symbol">)</a> <a id="6134" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6137" class="Symbol">λ</a>
        <a id="6147" href="Graded.Modality.Properties.Subtraction.html#6147" class="Bound">p≤q</a> <a id="6151" class="Symbol">→</a>
      <a id="6159" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6164" href="Graded.Modality.Properties.Subtraction.html#1831" class="Function">-≡-functional</a> <a id="6178" href="Graded.Modality.Properties.Subtraction.html#6091" class="Bound">p-q≡r</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Graded.Modality.Properties.Subtraction.html#5447" class="Function">p-q≡p</a> <a id="6191" href="Graded.Modality.Properties.Subtraction.html#6147" class="Bound">p≤q</a><a id="6194" class="Symbol">)</a> <a id="6196" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6199" class="Symbol">λ</a>
        <a id="6209" href="Graded.Modality.Properties.Subtraction.html#6209" class="Bound">p≡r</a> <a id="6213" class="Symbol">→</a>
      <a id="6221" href="Graded.Modality.Properties.Subtraction.html#6147" class="Bound">p≤q</a> <a id="6225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6227" href="Graded.Modality.Properties.Subtraction.html#6209" class="Bound">p≡r</a>

  <a id="6234" class="Keyword">opaque</a>

    <a id="6246" class="Comment">-- Modalities where addition and meet coincide support subtraction</a>

    <a id="Addition≡Meet.supports-subtraction"></a><a id="6318" href="Graded.Modality.Properties.Subtraction.html#6318" class="Function">supports-subtraction</a> <a id="6339" class="Symbol">:</a> <a id="6341" href="Graded.Modality.Properties.Subtraction.html#4752" class="Function">Supports-subtraction</a>
    <a id="6366" href="Graded.Modality.Properties.Subtraction.html#6318" class="Function">supports-subtraction</a> <a id="6387" class="Symbol">{</a><a id="6388" href="Graded.Modality.Properties.Subtraction.html#6388" class="Bound">p</a><a id="6389" class="Symbol">}</a> <a id="6391" href="Graded.Modality.Properties.Subtraction.html#6391" class="Bound">p-q≤r</a> <a id="6397" class="Symbol">=</a> <a id="6399" href="Graded.Modality.Properties.Subtraction.html#6388" class="Bound">p</a> <a id="6401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6403" href="Graded.Modality.Properties.Subtraction.html#5447" class="Function">p-q≡p</a> <a id="6409" class="Symbol">(</a><a id="6410" href="Graded.Modality.Properties.Subtraction.html#5740" class="Function">p-q≤r→p≤q</a> <a id="6420" href="Graded.Modality.Properties.Subtraction.html#6391" class="Bound">p-q≤r</a><a id="6425" class="Symbol">)</a>

<a id="6428" class="Comment">------------------------------------------------------------------------</a>
<a id="6501" class="Comment">-- Properties of _-_≤_ and _-_≡_ that hold for well-behaved zeros.</a>

<a id="6569" class="Keyword">module</a> <a id="6576" href="Graded.Modality.Properties.Subtraction.html#6576" class="Module">_</a> <a id="6578" class="Symbol">⦃</a> <a id="6580" href="Graded.Modality.Properties.Subtraction.html#6580" class="Bound">_</a> <a id="6582" class="Symbol">:</a> <a id="6584" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="6606" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a> <a id="6608" class="Symbol">⦄</a> <a id="6610" class="Keyword">where</a>
  <a id="6618" class="Keyword">open</a> <a id="6623" class="Keyword">import</a> <a id="6630" href="Graded.Modality.Properties.Has-well-behaved-zero.html" class="Module">Graded.Modality.Properties.Has-well-behaved-zero</a> <a id="6679" href="Graded.Modality.Properties.Subtraction.html#281" class="Bound">𝕄</a>


  <a id="6685" class="Keyword">opaque</a>

    <a id="6697" class="Comment">-- It is only possible to subtract 𝟘 by 𝟘, and the value is 𝟘.</a>

    <a id="6765" href="Graded.Modality.Properties.Subtraction.html#6765" class="Function">𝟘-p≤q</a> <a id="6771" class="Symbol">:</a> <a id="6773" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="6775" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="6777" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6779" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="6781" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6783" class="Symbol">→</a> <a id="6785" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6787" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6789" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="6791" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6793" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6795" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6797" href="Graded.Modality.html#945" class="Field">𝟘</a>
    <a id="6803" href="Graded.Modality.Properties.Subtraction.html#6765" class="Function">𝟘-p≤q</a> <a id="6809" href="Graded.Modality.Properties.Subtraction.html#6809" class="Bound">𝟘≤p+q</a> <a id="6815" class="Symbol">=</a> <a id="6817" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1108" class="Function">+-positive</a> <a id="6828" class="Symbol">(</a><a id="6829" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1653" class="Function">𝟘≮</a> <a id="6832" href="Graded.Modality.Properties.Subtraction.html#6809" class="Bound">𝟘≤p+q</a><a id="6837" class="Symbol">)</a>

  <a id="6842" class="Keyword">opaque</a>

    <a id="6854" class="Comment">-- It is only possible to subtract 𝟘 by 𝟘, and the value is 𝟘.</a>

    <a id="6922" href="Graded.Modality.Properties.Subtraction.html#6922" class="Function">𝟘-p≡q</a> <a id="6928" class="Symbol">:</a> <a id="6930" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="6932" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="6934" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6936" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="6938" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6940" class="Symbol">→</a> <a id="6942" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="6944" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6946" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="6948" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6950" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="6952" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6954" href="Graded.Modality.html#945" class="Field">𝟘</a>
    <a id="6960" href="Graded.Modality.Properties.Subtraction.html#6922" class="Function">𝟘-p≡q</a> <a id="6966" class="Symbol">(</a><a id="6967" href="Graded.Modality.Properties.Subtraction.html#6967" class="Bound">x</a> <a id="6969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6971" class="Symbol">_)</a> <a id="6974" class="Symbol">=</a> <a id="6976" href="Graded.Modality.Properties.Subtraction.html#6765" class="Function">𝟘-p≤q</a> <a id="6982" href="Graded.Modality.Properties.Subtraction.html#6967" class="Bound">x</a>

  <a id="6987" class="Keyword">opaque</a>

    <a id="6999" class="Comment">-- It is not possible to subtract non-zero grades from 𝟘</a>

    <a id="7061" href="Graded.Modality.Properties.Subtraction.html#7061" class="Function">𝟘-q≰p</a> <a id="7067" class="Symbol">:</a> <a id="7069" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="7071" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7073" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="7075" class="Symbol">→</a> <a id="7077" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="7079" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">-</a> <a id="7081" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="7083" href="Graded.Modality.Properties.Subtraction.html#1071" class="Function Operator">≤</a> <a id="7085" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="7087" class="Symbol">→</a> <a id="7089" href="Data.Empty.html#914" class="Function">⊥</a>
    <a id="7095" href="Graded.Modality.Properties.Subtraction.html#7061" class="Function">𝟘-q≰p</a> <a id="7101" href="Graded.Modality.Properties.Subtraction.html#7101" class="Bound">q≢𝟘</a> <a id="7105" href="Graded.Modality.Properties.Subtraction.html#7105" class="Bound">𝟘≤p+q</a> <a id="7111" class="Symbol">=</a>
      <a id="7119" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7124" href="Graded.Modality.Properties.Has-well-behaved-zero.html#1653" class="Function">𝟘≮</a> <a id="7127" href="Graded.Modality.Properties.Subtraction.html#7105" class="Bound">𝟘≤p+q</a> <a id="7133" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7136" class="Symbol">λ</a>
        <a id="7146" href="Graded.Modality.Properties.Subtraction.html#7146" class="Bound">p+q≡𝟘</a> <a id="7152" class="Symbol">→</a>
      <a id="7160" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7165" href="Graded.Modality.Properties.Has-well-behaved-zero.html#971" class="Function">+-positiveʳ</a> <a id="7177" href="Graded.Modality.Properties.Subtraction.html#7146" class="Bound">p+q≡𝟘</a> <a id="7183" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7186" class="Symbol">λ</a>
        <a id="7196" href="Graded.Modality.Properties.Subtraction.html#7196" class="Bound">q≡𝟘</a> <a id="7200" class="Symbol">→</a>
      <a id="7208" href="Graded.Modality.Properties.Subtraction.html#7101" class="Bound">q≢𝟘</a> <a id="7212" href="Graded.Modality.Properties.Subtraction.html#7196" class="Bound">q≡𝟘</a>

  <a id="7219" class="Keyword">opaque</a>

    <a id="7231" class="Comment">-- It is not possible to subtract non-zero grades from 𝟘</a>

    <a id="7293" href="Graded.Modality.Properties.Subtraction.html#7293" class="Function">𝟘-q≢p</a> <a id="7299" class="Symbol">:</a> <a id="7301" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="7303" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7305" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="7307" class="Symbol">→</a> <a id="7309" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="7311" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">-</a> <a id="7313" href="Graded.Modality.Properties.Subtraction.html#634" class="Generalizable">q</a> <a id="7315" href="Graded.Modality.Properties.Subtraction.html#1711" class="Function Operator">≡</a> <a id="7317" href="Graded.Modality.Properties.Subtraction.html#629" class="Generalizable">p</a> <a id="7319" class="Symbol">→</a> <a id="7321" href="Data.Empty.html#914" class="Function">⊥</a>
    <a id="7327" href="Graded.Modality.Properties.Subtraction.html#7293" class="Function">𝟘-q≢p</a> <a id="7333" href="Graded.Modality.Properties.Subtraction.html#7333" class="Bound">q≢𝟘</a> <a id="7337" href="Graded.Modality.Properties.Subtraction.html#7337" class="Bound">𝟘-q≡p</a> <a id="7343" class="Symbol">=</a> <a id="7345" href="Graded.Modality.Properties.Subtraction.html#7061" class="Function">𝟘-q≰p</a> <a id="7351" href="Graded.Modality.Properties.Subtraction.html#7333" class="Bound">q≢𝟘</a> <a id="7355" class="Symbol">(</a><a id="7356" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7362" href="Graded.Modality.Properties.Subtraction.html#7337" class="Bound">𝟘-q≡p</a><a id="7367" class="Symbol">)</a>
</pre></body></html>