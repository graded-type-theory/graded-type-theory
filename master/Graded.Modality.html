<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The modality structure.</a>
<a id="101" class="Comment">------------------------------------------------------------------------</a>

<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="227" class="Keyword">module</a> <a id="234" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="250" class="Symbol">{</a><a id="251" href="Graded.Modality.html#251" class="Bound">a</a><a id="252" class="Symbol">}</a> <a id="254" class="Symbol">(</a><a id="255" href="Graded.Modality.html#255" class="Bound">M</a> <a id="257" class="Symbol">:</a> <a id="259" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="263" href="Graded.Modality.html#251" class="Bound">a</a><a id="264" class="Symbol">)</a> <a id="266" class="Keyword">where</a>

<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Tools.Algebra.html" class="Module">Tools.Algebra</a> <a id="299" href="Graded.Modality.html#255" class="Bound">M</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Tools.Bool.html" class="Module">Tools.Bool</a> <a id="324" class="Keyword">using</a> <a id="330" class="Symbol">(</a><a id="331" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="335" class="Symbol">;</a> <a id="337" href="Data.Bool.Base.html#1348" class="Function">T</a><a id="338" class="Symbol">)</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="Tools.Reasoning.PropositionalEquality.html" class="Module">Tools.Reasoning.PropositionalEquality</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="479" class="Keyword">open</a> <a id="484" class="Keyword">import</a> <a id="491" href="Graded.Modality.Variant.html" class="Module">Graded.Modality.Variant</a> <a id="515" href="Graded.Modality.html#251" class="Bound">a</a>

<a id="518" class="Keyword">private</a> <a id="526" class="Keyword">variable</a>
  <a id="537" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="539" href="Graded.Modality.html#539" class="Generalizable">n₁</a> <a id="542" href="Graded.Modality.html#542" class="Generalizable">n₂</a> <a id="545" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="547" href="Graded.Modality.html#547" class="Generalizable">q</a> <a id="549" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="551" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="553" href="Graded.Modality.html#553" class="Generalizable">z₁</a> <a id="556" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="558" href="Graded.Modality.html#558" class="Generalizable">s₁</a> <a id="561" href="Graded.Modality.html#561" class="Generalizable">s₂</a> <a id="564" href="Graded.Modality.html#564" class="Generalizable">z₂</a> <a id="567" class="Symbol">:</a> <a id="569" href="Graded.Modality.html#255" class="Bound">M</a>

<a id="572" class="Comment">-- Semiring with meet</a>
<a id="594" class="Keyword">record</a> <a id="Semiring-with-meet"></a><a id="601" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a> <a id="620" class="Symbol">:</a> <a id="622" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="626" href="Graded.Modality.html#251" class="Bound">a</a> <a id="628" class="Keyword">where</a>
  <a id="636" class="Keyword">no-eta-equality</a>
  <a id="654" class="Keyword">pattern</a>

  <a id="665" class="Keyword">infixr</a> <a id="672" class="Number">40</a> <a id="675" href="Graded.Modality.html#902" class="Function Operator">_+_</a>
  <a id="681" class="Keyword">infixr</a> <a id="688" class="Number">43</a> <a id="691" href="Graded.Modality.html#910" class="Function Operator">_∧_</a>
  <a id="697" class="Keyword">infixr</a> <a id="704" class="Number">45</a> <a id="707" href="Graded.Modality.html#906" class="Function Operator">_·_</a>
  <a id="713" class="Keyword">infix</a>  <a id="720" class="Number">10</a> <a id="723" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a> <a id="727" href="Graded.Modality.html#1450" class="Function Operator">_&lt;_</a>


  <a id="735" class="Keyword">field</a>
    <a id="745" class="Comment">-- A semiring with meet consists of a type M with three binary</a>
    <a id="812" class="Comment">-- operations (addition, multiplication and meet), and three</a>
    <a id="877" class="Comment">-- special elements.</a>
    <a id="Semiring-with-meet._+_"></a><a id="902" href="Graded.Modality.html#902" class="Field Operator">_+_</a> <a id="Semiring-with-meet._·_"></a><a id="906" href="Graded.Modality.html#906" class="Field Operator">_·_</a> <a id="Semiring-with-meet._∧_"></a><a id="910" href="Graded.Modality.html#910" class="Field Operator">_∧_</a> <a id="914" class="Symbol">:</a> <a id="916" href="Algebra.Core.html#527" class="Function">Op₂</a> <a id="920" href="Graded.Modality.html#255" class="Bound">M</a>
    <a id="Semiring-with-meet.𝟘"></a><a id="926" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="Semiring-with-meet.𝟙"></a><a id="928" href="Graded.Modality.html#928" class="Field">𝟙</a> <a id="Semiring-with-meet.ω"></a><a id="930" href="Graded.Modality.html#930" class="Field">ω</a>       <a id="938" class="Symbol">:</a> <a id="940" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="947" class="Comment">-- + and · form a semiring with 𝟙 as multiplicative unit and 𝟘 as zero</a>
    <a id="Semiring-with-meet.+-·-Semiring"></a><a id="1022" href="Graded.Modality.html#1022" class="Field">+-·-Semiring</a>  <a id="1036" class="Symbol">:</a> <a id="1038" href="Algebra.Structures.html#14300" class="Record">IsSemiring</a> <a id="1049" href="Graded.Modality.html#902" class="Field Operator">_+_</a> <a id="1053" href="Graded.Modality.html#906" class="Field Operator">_·_</a> <a id="1057" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="1059" href="Graded.Modality.html#928" class="Field">𝟙</a>
    <a id="1065" class="Comment">-- ∧ forms a semilattice</a>
    <a id="Semiring-with-meet.∧-Semilattice"></a><a id="1094" href="Graded.Modality.html#1094" class="Field">∧-Semilattice</a>       <a id="1114" class="Symbol">:</a> <a id="1116" href="Algebra.Lattice.Structures.html#1398" class="Function">IsMeetSemilattice</a> <a id="1134" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>

    <a id="1143" class="Comment">-- Multiplation distributes over meet</a>
    <a id="Semiring-with-meet.·-distrib-∧"></a><a id="1185" href="Graded.Modality.html#1185" class="Field">·-distrib-∧</a>         <a id="1205" class="Symbol">:</a> <a id="1207" href="Graded.Modality.html#906" class="Field Operator">_·_</a> <a id="1211" href="Algebra.Definitions.html#3458" class="Function Operator">DistributesOver</a> <a id="1227" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>
    <a id="1235" class="Comment">-- Addition distributes over meet</a>
    <a id="Semiring-with-meet.+-distrib-∧"></a><a id="1273" href="Graded.Modality.html#1273" class="Field">+-distrib-∧</a>         <a id="1293" class="Symbol">:</a> <a id="1295" href="Graded.Modality.html#902" class="Field Operator">_+_</a> <a id="1299" href="Algebra.Definitions.html#3458" class="Function Operator">DistributesOver</a> <a id="1315" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>

  <a id="1322" class="Comment">-- Semilattice partial ordering relation</a>
  <a id="Semiring-with-meet._≤_"></a><a id="1365" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a> <a id="1369" class="Symbol">:</a> <a id="1371" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="1375" href="Graded.Modality.html#255" class="Bound">M</a> <a id="1377" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="1381" href="Graded.Modality.html#1381" class="Bound">p</a> <a id="1383" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="1385" href="Graded.Modality.html#1385" class="Bound">q</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Graded.Modality.html#1381" class="Bound">p</a> <a id="1391" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1393" href="Graded.Modality.html#1381" class="Bound">p</a> <a id="1395" href="Graded.Modality.html#910" class="Field Operator">∧</a> <a id="1397" href="Graded.Modality.html#1385" class="Bound">q</a>

  <a id="1402" class="Comment">-- A strict variant of the ordering relation.</a>
  <a id="Semiring-with-meet._&lt;_"></a><a id="1450" href="Graded.Modality.html#1450" class="Function Operator">_&lt;_</a> <a id="1454" class="Symbol">:</a> <a id="1456" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="1460" href="Graded.Modality.html#255" class="Bound">M</a> <a id="1462" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="1466" href="Graded.Modality.html#1466" class="Bound">p</a> <a id="1468" href="Graded.Modality.html#1450" class="Function Operator">&lt;</a> <a id="1470" href="Graded.Modality.html#1470" class="Bound">q</a> <a id="1472" class="Symbol">=</a> <a id="1474" href="Graded.Modality.html#1466" class="Bound">p</a> <a id="1476" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="1478" href="Graded.Modality.html#1470" class="Bound">q</a> <a id="1480" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1482" href="Graded.Modality.html#1466" class="Bound">p</a> <a id="1484" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="1486" href="Graded.Modality.html#1470" class="Bound">q</a>

  <a id="1491" class="Keyword">field</a>
    <a id="1501" class="Comment">-- In some modalities the grade ω stands for &quot;an unlimited number</a>
    <a id="1571" class="Comment">-- of uses&quot;. This grade must be bounded from above by 𝟙.</a>
    <a id="Semiring-with-meet.ω≤𝟙"></a><a id="1632" href="Graded.Modality.html#1632" class="Field">ω≤𝟙</a> <a id="1636" class="Symbol">:</a> <a id="1638" href="Graded.Modality.html#930" class="Field">ω</a> <a id="1640" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="1642" href="Graded.Modality.html#928" class="Field">𝟙</a>

    <a id="1649" class="Comment">-- Furthermore ω · (p + q) must be bounded by ω · q.</a>
    <a id="Semiring-with-meet.ω·+≤ω·ʳ"></a><a id="1706" href="Graded.Modality.html#1706" class="Field">ω·+≤ω·ʳ</a> <a id="1714" class="Symbol">:</a> <a id="1716" href="Graded.Modality.html#930" class="Field">ω</a> <a id="1718" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="1723" href="Graded.Modality.html#902" class="Field Operator">+</a> <a id="1725" href="Graded.Modality.html#547" class="Generalizable">q</a><a id="1726" class="Symbol">)</a> <a id="1728" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="1730" href="Graded.Modality.html#930" class="Field">ω</a> <a id="1732" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="1734" href="Graded.Modality.html#547" class="Generalizable">q</a>

    <a id="1741" class="Comment">-- It is decidable whether a grade is equal to 𝟘.</a>
    <a id="Semiring-with-meet.is-𝟘?"></a><a id="1795" href="Graded.Modality.html#1795" class="Field">is-𝟘?</a> <a id="1801" class="Symbol">:</a> <a id="1803" class="Symbol">(</a><a id="1804" href="Graded.Modality.html#1804" class="Bound">p</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Graded.Modality.html#255" class="Bound">M</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">→</a> <a id="1813" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1817" class="Symbol">(</a><a id="1818" href="Graded.Modality.html#1804" class="Bound">p</a> <a id="1820" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1822" href="Graded.Modality.html#926" class="Field">𝟘</a><a id="1823" class="Symbol">)</a>

  <a id="1828" class="Comment">-- A semiring with meet is said to be trivial if 𝟙 ≡ 𝟘.</a>
  <a id="1886" class="Comment">--</a>
  <a id="1891" class="Comment">-- This implies that all values of type M are equal, see</a>
  <a id="1950" class="Comment">-- Graded.Modality.Properties.Equivalence.≡-trivial.</a>

  <a id="Semiring-with-meet.Trivial"></a><a id="2006" href="Graded.Modality.html#2006" class="Function">Trivial</a> <a id="2014" class="Symbol">:</a> <a id="2016" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2020" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2024" href="Graded.Modality.html#2006" class="Function">Trivial</a> <a id="2032" class="Symbol">=</a> <a id="2034" href="Graded.Modality.html#928" class="Field">𝟙</a> <a id="2036" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2038" href="Graded.Modality.html#926" class="Field">𝟘</a>

  <a id="2043" class="Comment">-- Least-such-that P p means that p is the least value which</a>
  <a id="2106" class="Comment">-- satisfies P.</a>

  <a id="Semiring-with-meet.Least-such-that"></a><a id="2125" href="Graded.Modality.html#2125" class="Function">Least-such-that</a> <a id="2141" class="Symbol">:</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2146" class="Symbol">→</a> <a id="2148" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2152" href="Graded.Modality.html#251" class="Bound">a</a><a id="2153" class="Symbol">)</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2159" class="Symbol">→</a> <a id="2161" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2165" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2169" href="Graded.Modality.html#2125" class="Function">Least-such-that</a> <a id="2185" href="Graded.Modality.html#2185" class="Bound">P</a> <a id="2187" href="Graded.Modality.html#2187" class="Bound">p</a> <a id="2189" class="Symbol">=</a> <a id="2191" href="Graded.Modality.html#2185" class="Bound">P</a> <a id="2193" href="Graded.Modality.html#2187" class="Bound">p</a> <a id="2195" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2197" class="Symbol">(∀</a> <a id="2200" href="Graded.Modality.html#2200" class="Bound">q</a> <a id="2202" class="Symbol">→</a> <a id="2204" href="Graded.Modality.html#2185" class="Bound">P</a> <a id="2206" href="Graded.Modality.html#2200" class="Bound">q</a> <a id="2208" class="Symbol">→</a> <a id="2210" href="Graded.Modality.html#2187" class="Bound">p</a> <a id="2212" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="2214" href="Graded.Modality.html#2200" class="Bound">q</a><a id="2215" class="Symbol">)</a>

  <a id="Semiring-with-meet.·-distribˡ-∧"></a><a id="2220" href="Graded.Modality.html#2220" class="Function">·-distribˡ-∧</a> <a id="2233" class="Symbol">:</a> <a id="2235" href="Graded.Modality.html#906" class="Field Operator">_·_</a> <a id="2239" href="Algebra.Definitions.html#3220" class="Function Operator">DistributesOverˡ</a> <a id="2256" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>
  <a id="2262" href="Graded.Modality.html#2220" class="Function">·-distribˡ-∧</a> <a id="2275" class="Symbol">=</a> <a id="2277" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2283" href="Graded.Modality.html#1185" class="Field">·-distrib-∧</a>

  <a id="Semiring-with-meet.·-distribʳ-∧"></a><a id="2298" href="Graded.Modality.html#2298" class="Function">·-distribʳ-∧</a> <a id="2311" class="Symbol">:</a> <a id="2313" href="Graded.Modality.html#906" class="Field Operator">_·_</a> <a id="2317" href="Algebra.Definitions.html#3339" class="Function Operator">DistributesOverʳ</a> <a id="2334" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>
  <a id="2340" href="Graded.Modality.html#2298" class="Function">·-distribʳ-∧</a> <a id="2353" class="Symbol">=</a> <a id="2355" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2361" href="Graded.Modality.html#1185" class="Field">·-distrib-∧</a>

  <a id="Semiring-with-meet.+-distribˡ-∧"></a><a id="2376" href="Graded.Modality.html#2376" class="Function">+-distribˡ-∧</a> <a id="2389" class="Symbol">:</a> <a id="2391" href="Graded.Modality.html#902" class="Field Operator">_+_</a> <a id="2395" href="Algebra.Definitions.html#3220" class="Function Operator">DistributesOverˡ</a> <a id="2412" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>
  <a id="2418" href="Graded.Modality.html#2376" class="Function">+-distribˡ-∧</a> <a id="2431" class="Symbol">=</a> <a id="2433" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2439" href="Graded.Modality.html#1273" class="Field">+-distrib-∧</a>

  <a id="Semiring-with-meet.+-distribʳ-∧"></a><a id="2454" href="Graded.Modality.html#2454" class="Function">+-distribʳ-∧</a> <a id="2467" class="Symbol">:</a> <a id="2469" href="Graded.Modality.html#902" class="Field Operator">_+_</a> <a id="2473" href="Algebra.Definitions.html#3339" class="Function Operator">DistributesOverʳ</a> <a id="2490" href="Graded.Modality.html#910" class="Field Operator">_∧_</a>
  <a id="2496" href="Graded.Modality.html#2454" class="Function">+-distribʳ-∧</a> <a id="2509" class="Symbol">=</a> <a id="2511" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2517" href="Graded.Modality.html#1273" class="Field">+-distrib-∧</a>

  <a id="Semiring-with-meet.+-·-Semiring′"></a><a id="2532" href="Graded.Modality.html#2532" class="Function">+-·-Semiring′</a> <a id="2546" class="Symbol">:</a> <a id="2548" href="Algebra.Bundles.html#18455" class="Record">Semiring</a> <a id="2557" href="Graded.Modality.html#251" class="Bound">a</a> <a id="2559" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2563" href="Graded.Modality.html#2532" class="Function">+-·-Semiring′</a> <a id="2577" class="Symbol">=</a> <a id="2579" class="Keyword">record</a>
    <a id="2590" class="Symbol">{</a> <a id="2592" href="Algebra.Bundles.html#18551" class="Field">Carrier</a> <a id="2600" class="Symbol">=</a> <a id="2602" href="Graded.Modality.html#255" class="Bound">M</a>
    <a id="2608" class="Symbol">;</a> <a id="2610" href="Algebra.Bundles.html#18574" class="Field Operator">_≈_</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
    <a id="2624" class="Symbol">;</a> <a id="2626" href="Algebra.Bundles.html#18605" class="Field Operator">_+_</a> <a id="2630" class="Symbol">=</a> <a id="2632" href="Graded.Modality.html#902" class="Field Operator">_+_</a>
    <a id="2640" class="Symbol">;</a> <a id="2642" href="Algebra.Bundles.html#18634" class="Field Operator">_*_</a> <a id="2646" class="Symbol">=</a> <a id="2648" href="Graded.Modality.html#906" class="Field Operator">_·_</a>
    <a id="2656" class="Symbol">;</a> <a id="2658" href="Algebra.Bundles.html#18663" class="Field">0#</a> <a id="2661" class="Symbol">=</a> <a id="2663" href="Graded.Modality.html#926" class="Field">𝟘</a>
    <a id="2669" class="Symbol">;</a> <a id="2671" href="Algebra.Bundles.html#18688" class="Field">1#</a> <a id="2674" class="Symbol">=</a> <a id="2676" href="Graded.Modality.html#928" class="Field">𝟙</a>
    <a id="2682" class="Symbol">;</a> <a id="2684" href="Algebra.Bundles.html#18713" class="Field">isSemiring</a> <a id="2695" class="Symbol">=</a> <a id="2697" href="Graded.Modality.html#1022" class="Field">+-·-Semiring</a>
    <a id="2714" class="Symbol">}</a>

  <a id="2719" class="Keyword">open</a> <a id="2724" href="Algebra.Structures.html#14300" class="Module">IsSemiring</a> <a id="2735" href="Graded.Modality.html#1022" class="Field">+-·-Semiring</a> <a id="2748" class="Keyword">public</a>
    <a id="2759" class="Keyword">using</a> <a id="2765" class="Symbol">(</a>
            <a id="2779" href="Algebra.Structures.html#13154" class="Function">+-assoc</a><a id="2786" class="Symbol">;</a>
            <a id="2800" href="Algebra.Structures.html#13194" class="Function">+-cong</a><a id="2806" class="Symbol">;</a>
            <a id="2820" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a><a id="2827" class="Symbol">;</a>
            <a id="2841" href="Algebra.Structures.html#13273" class="Function">+-congʳ</a><a id="2848" class="Symbol">;</a>
            <a id="2862" href="Algebra.Structures.html#13313" class="Function">+-identity</a><a id="2872" class="Symbol">;</a>
            <a id="2886" href="Algebra.Structures.html#13356" class="Function">+-identityˡ</a><a id="2897" class="Symbol">;</a>
            <a id="2911" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a><a id="2922" class="Symbol">;</a>
            <a id="2936" href="Algebra.Structures.html#13444" class="Function">+-comm</a>
          <a id="2953" class="Symbol">)</a>
    <a id="2959" class="Keyword">renaming</a> <a id="2968" class="Symbol">(</a>
              <a id="2984" href="Algebra.Structures.html#12800" class="Function">*-assoc</a> <a id="2992" class="Symbol">to</a> <a id="2995" class="Function">·-assoc</a><a id="3002" class="Symbol">;</a>
              <a id="3018" href="Algebra.Structures.html#12759" class="Function">*-cong</a> <a id="3025" class="Symbol">to</a> <a id="3028" class="Function">·-cong</a><a id="3034" class="Symbol">;</a>
              <a id="3050" href="Algebra.Structures.html#14182" class="Function">*-congˡ</a> <a id="3058" class="Symbol">to</a> <a id="3061" class="Function">·-congˡ</a><a id="3068" class="Symbol">;</a>
              <a id="3084" href="Algebra.Structures.html#14211" class="Function">*-congʳ</a> <a id="3092" class="Symbol">to</a> <a id="3095" class="Function">·-congʳ</a><a id="3102" class="Symbol">;</a>
              <a id="3118" href="Algebra.Structures.html#12842" class="Function">*-identity</a> <a id="3129" class="Symbol">to</a> <a id="3132" class="Function">·-identity</a><a id="3142" class="Symbol">;</a>
              <a id="3158" href="Algebra.Structures.html#14240" class="Function">*-identityˡ</a> <a id="3170" class="Symbol">to</a> <a id="3173" class="Function">·-identityˡ</a><a id="3184" class="Symbol">;</a>
              <a id="3200" href="Algebra.Structures.html#14273" class="Function">*-identityʳ</a> <a id="3212" class="Symbol">to</a> <a id="3215" class="Function">·-identityʳ</a><a id="3226" class="Symbol">;</a>

              <a id="3243" href="Algebra.Structures.html#12884" class="Function">distrib</a> <a id="3251" class="Symbol">to</a> <a id="3254" class="Function">·-distrib-+</a><a id="3265" class="Symbol">;</a>
              <a id="3281" href="Algebra.Structures.html#12931" class="Function">distribˡ</a> <a id="3290" class="Symbol">to</a> <a id="3293" class="Function">·-distribˡ-+</a><a id="3305" class="Symbol">;</a>
              <a id="3321" href="Algebra.Structures.html#12993" class="Function">distribʳ</a> <a id="3330" class="Symbol">to</a> <a id="3333" class="Function">·-distribʳ-+</a><a id="3345" class="Symbol">;</a>
              <a id="3361" href="Algebra.Structures.html#14459" class="Field">zero</a> <a id="3366" class="Symbol">to</a> <a id="3369" class="Field">·-zero</a><a id="3375" class="Symbol">;</a>
              <a id="3391" href="Algebra.Structures.html#11376" class="Function">zeroˡ</a> <a id="3397" class="Symbol">to</a> <a id="3400" class="Function">·-zeroˡ</a><a id="3407" class="Symbol">;</a>
              <a id="3423" href="Algebra.Structures.html#11422" class="Function">zeroʳ</a> <a id="3429" class="Symbol">to</a> <a id="3432" class="Function">·-zeroʳ</a>
             <a id="3453" class="Symbol">)</a>

  <a id="3458" class="Keyword">open</a> <a id="3463" href="Algebra.Lattice.Structures.html#1439" class="Module">IsMeetSemilattice</a> <a id="3481" href="Graded.Modality.html#1094" class="Field">∧-Semilattice</a> <a id="3495" class="Keyword">public</a>
    <a id="3506" class="Keyword">using</a> <a id="3512" class="Symbol">(</a><a id="3513" href="Algebra.Lattice.Structures.html#1553" class="Function">∧-cong</a><a id="3519" class="Symbol">;</a> <a id="3521" href="Algebra.Lattice.Structures.html#1577" class="Function">∧-congˡ</a><a id="3528" class="Symbol">;</a> <a id="3530" href="Algebra.Lattice.Structures.html#1602" class="Function">∧-congʳ</a><a id="3537" class="Symbol">)</a>
    <a id="3543" class="Keyword">renaming</a> <a id="3552" class="Symbol">(</a><a id="3553" href="Algebra.Structures.html#4067" class="Field">comm</a> <a id="3558" class="Symbol">to</a> <a id="3561" class="Field">∧-comm</a><a id="3567" class="Symbol">;</a>
              <a id="3583" href="Algebra.Structures.html#3607" class="Function">idem</a> <a id="3588" class="Symbol">to</a> <a id="3591" class="Function">∧-idem</a><a id="3597" class="Symbol">;</a>
              <a id="3613" href="Algebra.Structures.html#3460" class="Function">assoc</a> <a id="3619" class="Symbol">to</a> <a id="3622" class="Function">∧-assoc</a>
             <a id="3643" class="Symbol">)</a>

<a id="3646" class="Comment">-- Meet-Semirings with well-behaved zero</a>
<a id="3687" class="Keyword">record</a> <a id="Has-well-behaved-zero"></a><a id="3694" href="Graded.Modality.html#3694" class="Record">Has-well-behaved-zero</a> <a id="3716" class="Symbol">(</a><a id="3717" href="Graded.Modality.html#3717" class="Bound">𝕄</a> <a id="3719" class="Symbol">:</a> <a id="3721" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a><a id="3739" class="Symbol">)</a> <a id="3741" class="Symbol">:</a> <a id="3743" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3747" href="Graded.Modality.html#251" class="Bound">a</a> <a id="3749" class="Keyword">where</a>
  <a id="3757" class="Keyword">no-eta-equality</a>
  <a id="3775" class="Keyword">pattern</a>
  <a id="3785" class="Keyword">open</a> <a id="3790" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="3809" href="Graded.Modality.html#3717" class="Bound">𝕄</a>
  <a id="3813" class="Keyword">field</a>
    <a id="3823" class="Comment">-- 𝕄 is non-trivial.</a>
    <a id="Has-well-behaved-zero.non-trivial"></a><a id="3848" href="Graded.Modality.html#3848" class="Field">non-trivial</a> <a id="3860" class="Symbol">:</a> <a id="3862" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3864" href="Graded.Modality.html#2006" class="Function">Trivial</a>

    <a id="3877" class="Comment">-- The following two assumptions are based on assumptions from</a>
    <a id="3944" class="Comment">-- Conor McBride&#39;s &quot;I Got Plenty o’ Nuttin’&quot; and Robert Atkey&#39;s</a>
    <a id="4012" class="Comment">-- &quot;Syntax and Semantics of Quantitative Type Theory&quot;.</a>

    <a id="4072" class="Comment">-- The semiring has the zero-product property:</a>
    <a id="4123" class="Comment">-- if p · q is 𝟘, then either p is 𝟘 or q is 𝟘.</a>
    <a id="Has-well-behaved-zero.zero-product"></a><a id="4175" href="Graded.Modality.html#4175" class="Field">zero-product</a> <a id="4188" class="Symbol">:</a> <a id="4190" class="Symbol">{</a><a id="4191" href="Graded.Modality.html#4191" class="Bound">p</a> <a id="4193" href="Graded.Modality.html#4193" class="Bound">q</a> <a id="4195" class="Symbol">:</a> <a id="4197" href="Graded.Modality.html#255" class="Bound">M</a><a id="4198" class="Symbol">}</a> <a id="4200" class="Symbol">→</a> <a id="4202" href="Graded.Modality.html#4191" class="Bound">p</a> <a id="4204" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="4206" href="Graded.Modality.html#4193" class="Bound">q</a> <a id="4208" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4210" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="4212" class="Symbol">→</a> <a id="4214" href="Graded.Modality.html#4191" class="Bound">p</a> <a id="4216" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4218" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="4220" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4222" href="Graded.Modality.html#4193" class="Bound">q</a> <a id="4224" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4226" href="Graded.Modality.html#926" class="Function">𝟘</a>

    <a id="4233" class="Comment">-- The semiring is positive (with respect to addition and meet):</a>

    <a id="4303" class="Comment">-- if p + q is 𝟘, then p and q are 𝟘. (The statement that p + q ≡ 𝟘</a>
    <a id="4375" class="Comment">-- implies q ≡ 𝟘 follows from the one below, see</a>
    <a id="4428" class="Comment">-- Definition.Modality.Properties.Has-well-behaved-zero.+-positiveʳ.)</a>
    <a id="Has-well-behaved-zero.+-positiveˡ"></a><a id="4502" href="Graded.Modality.html#4502" class="Field">+-positiveˡ</a> <a id="4514" class="Symbol">:</a> <a id="4516" class="Symbol">{</a><a id="4517" href="Graded.Modality.html#4517" class="Bound">p</a> <a id="4519" href="Graded.Modality.html#4519" class="Bound">q</a> <a id="4521" class="Symbol">:</a> <a id="4523" href="Graded.Modality.html#255" class="Bound">M</a><a id="4524" class="Symbol">}</a> <a id="4526" class="Symbol">→</a> <a id="4528" href="Graded.Modality.html#4517" class="Bound">p</a> <a id="4530" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="4532" href="Graded.Modality.html#4519" class="Bound">q</a> <a id="4534" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4536" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="4538" class="Symbol">→</a> <a id="4540" href="Graded.Modality.html#4517" class="Bound">p</a> <a id="4542" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4544" href="Graded.Modality.html#926" class="Function">𝟘</a>

    <a id="4551" class="Comment">-- If p ∧ q is equal to 𝟘, then p ≡ 𝟘.  (The statement that p ∧ q ≡ 𝟘</a>
    <a id="4625" class="Comment">-- implies q ≡ 𝟘 follows from the one below, see</a>
    <a id="4678" class="Comment">-- Definition.Modality.Properties.Has-well-behaved-zero.∧-positiveʳ.)</a>
    <a id="Has-well-behaved-zero.∧-positiveˡ"></a><a id="4752" href="Graded.Modality.html#4752" class="Field">∧-positiveˡ</a> <a id="4764" class="Symbol">:</a> <a id="4766" class="Symbol">{</a><a id="4767" href="Graded.Modality.html#4767" class="Bound">p</a> <a id="4769" href="Graded.Modality.html#4769" class="Bound">q</a> <a id="4771" class="Symbol">:</a> <a id="4773" href="Graded.Modality.html#255" class="Bound">M</a><a id="4774" class="Symbol">}</a> <a id="4776" class="Symbol">→</a> <a id="4778" href="Graded.Modality.html#4767" class="Bound">p</a> <a id="4780" href="Graded.Modality.html#910" class="Function Operator">∧</a> <a id="4782" href="Graded.Modality.html#4769" class="Bound">q</a> <a id="4784" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4786" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="4788" class="Symbol">→</a> <a id="4790" href="Graded.Modality.html#4767" class="Bound">p</a> <a id="4792" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4794" href="Graded.Modality.html#926" class="Function">𝟘</a>

<a id="4797" class="Comment">-- The property of having an nr function (a &quot;natrec usage function&quot;).</a>
<a id="4867" class="Comment">-- Such a function is used in one of the usage rules for natrec.</a>

<a id="4933" class="Keyword">record</a> <a id="Has-nr"></a><a id="4940" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="4947" class="Symbol">(</a><a id="4948" href="Graded.Modality.html#4948" class="Bound">𝕄</a> <a id="4950" class="Symbol">:</a> <a id="4952" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a><a id="4970" class="Symbol">)</a> <a id="4972" class="Symbol">:</a> <a id="4974" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4978" href="Graded.Modality.html#251" class="Bound">a</a> <a id="4980" class="Keyword">where</a>
  <a id="4988" class="Keyword">no-eta-equality</a>
  <a id="5006" class="Keyword">pattern</a>

  <a id="5017" class="Keyword">open</a> <a id="5022" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="5041" href="Graded.Modality.html#4948" class="Bound">𝕄</a>

  <a id="5046" class="Keyword">field</a>
    <a id="5056" class="Comment">-- The nr function.</a>
    <a id="Has-nr.nr"></a><a id="5080" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5083" class="Symbol">:</a> <a id="5085" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5087" class="Symbol">→</a> <a id="5089" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5091" class="Symbol">→</a> <a id="5093" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5095" class="Symbol">→</a> <a id="5097" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5099" class="Symbol">→</a> <a id="5101" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5103" class="Symbol">→</a> <a id="5105" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="5112" class="Comment">-- The function is monotone in its last three arguments.</a>
    <a id="Has-nr.nr-monotone"></a><a id="5173" href="Graded.Modality.html#5173" class="Field">nr-monotone</a> <a id="5185" class="Symbol">:</a>
      <a id="5193" href="Graded.Modality.html#553" class="Generalizable">z₁</a> <a id="5196" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5198" href="Graded.Modality.html#564" class="Generalizable">z₂</a> <a id="5201" class="Symbol">→</a> <a id="5203" href="Graded.Modality.html#558" class="Generalizable">s₁</a> <a id="5206" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5208" href="Graded.Modality.html#561" class="Generalizable">s₂</a> <a id="5211" class="Symbol">→</a> <a id="5213" href="Graded.Modality.html#539" class="Generalizable">n₁</a> <a id="5216" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5218" href="Graded.Modality.html#542" class="Generalizable">n₂</a> <a id="5221" class="Symbol">→</a>
      <a id="5229" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5232" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5234" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5236" href="Graded.Modality.html#553" class="Generalizable">z₁</a> <a id="5239" href="Graded.Modality.html#558" class="Generalizable">s₁</a> <a id="5242" href="Graded.Modality.html#539" class="Generalizable">n₁</a> <a id="5245" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5247" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5250" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5252" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5254" href="Graded.Modality.html#564" class="Generalizable">z₂</a> <a id="5257" href="Graded.Modality.html#561" class="Generalizable">s₂</a> <a id="5260" href="Graded.Modality.html#542" class="Generalizable">n₂</a>

    <a id="5268" class="Comment">-- Multiplication from the right sub-distributes over nr p r.</a>
    <a id="Has-nr.nr-·"></a><a id="5334" href="Graded.Modality.html#5334" class="Field">nr-·</a> <a id="5339" class="Symbol">:</a> <a id="5341" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5344" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5346" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5348" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="5350" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="5352" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5354" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="5356" href="Graded.Modality.html#547" class="Generalizable">q</a> <a id="5358" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5360" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5363" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5365" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5367" class="Symbol">(</a><a id="5368" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="5370" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="5372" href="Graded.Modality.html#547" class="Generalizable">q</a><a id="5373" class="Symbol">)</a> <a id="5375" class="Symbol">(</a><a id="5376" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="5378" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="5380" href="Graded.Modality.html#547" class="Generalizable">q</a><a id="5381" class="Symbol">)</a> <a id="5383" class="Symbol">(</a><a id="5384" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5386" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="5388" href="Graded.Modality.html#547" class="Generalizable">q</a><a id="5389" class="Symbol">)</a>

    <a id="5396" class="Comment">-- Addition is sub-interchangeable with nr p r.</a>
    <a id="Has-nr.nr-+"></a><a id="5448" href="Graded.Modality.html#5448" class="Field">nr-+</a> <a id="5453" class="Symbol">:</a>
      <a id="5461" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5464" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5466" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5468" href="Graded.Modality.html#553" class="Generalizable">z₁</a> <a id="5471" href="Graded.Modality.html#558" class="Generalizable">s₁</a> <a id="5474" href="Graded.Modality.html#539" class="Generalizable">n₁</a> <a id="5477" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="5479" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5482" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5484" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5486" href="Graded.Modality.html#564" class="Generalizable">z₂</a> <a id="5489" href="Graded.Modality.html#561" class="Generalizable">s₂</a> <a id="5492" href="Graded.Modality.html#542" class="Generalizable">n₂</a> <a id="5495" href="Graded.Modality.html#1365" class="Function Operator">≤</a>
      <a id="5503" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5506" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5508" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5510" class="Symbol">(</a><a id="5511" href="Graded.Modality.html#553" class="Generalizable">z₁</a> <a id="5514" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="5516" href="Graded.Modality.html#564" class="Generalizable">z₂</a><a id="5518" class="Symbol">)</a> <a id="5520" class="Symbol">(</a><a id="5521" href="Graded.Modality.html#558" class="Generalizable">s₁</a> <a id="5524" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="5526" href="Graded.Modality.html#561" class="Generalizable">s₂</a><a id="5528" class="Symbol">)</a> <a id="5530" class="Symbol">(</a><a id="5531" href="Graded.Modality.html#539" class="Generalizable">n₁</a> <a id="5534" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="5536" href="Graded.Modality.html#542" class="Generalizable">n₂</a><a id="5538" class="Symbol">)</a>

    <a id="5545" class="Comment">-- If the zero is well-behaved, then nr p r is only 𝟘 for 𝟘, 𝟘</a>
    <a id="5612" class="Comment">-- and 𝟘.</a>
    <a id="Has-nr.nr-positive"></a><a id="5626" href="Graded.Modality.html#5626" class="Field">nr-positive</a> <a id="5638" class="Symbol">:</a>
      <a id="5646" class="Symbol">⦃</a> <a id="5648" href="Graded.Modality.html#5648" class="Bound">𝟘-well-behaved</a> <a id="5663" class="Symbol">:</a> <a id="5665" href="Graded.Modality.html#3694" class="Record">Has-well-behaved-zero</a> <a id="5687" href="Graded.Modality.html#4948" class="Bound">𝕄</a> <a id="5689" class="Symbol">⦄</a> <a id="5691" class="Symbol">→</a>
      <a id="5699" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5702" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5704" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5706" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="5708" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="5710" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5712" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5714" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5716" class="Symbol">→</a> <a id="5718" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="5720" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5722" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5724" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5726" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="5728" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5730" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5732" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5734" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5736" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5738" href="Graded.Modality.html#926" class="Function">𝟘</a>

    <a id="5745" class="Comment">-- If n is bounded by 𝟘, then nr p r z s n is bounded by n. This</a>
    <a id="5814" class="Comment">-- property is used to prove that the reduction rule natrec-zero</a>
    <a id="5883" class="Comment">-- preserves usage.</a>
    <a id="Has-nr.nr-zero"></a><a id="5907" href="Graded.Modality.html#5907" class="Field">nr-zero</a> <a id="5915" class="Symbol">:</a> <a id="5917" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5919" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5921" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5923" class="Symbol">→</a> <a id="5925" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="5928" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="5930" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="5932" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="5934" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="5936" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="5938" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="5940" href="Graded.Modality.html#551" class="Generalizable">z</a>

    <a id="5947" class="Comment">-- The value nr p r z s n is bounded by</a>
    <a id="5991" class="Comment">-- s + p · n + r · nr p r z s n. This property is used to prove</a>
    <a id="6059" class="Comment">-- that the reduction rule natrec-suc preserves usage.</a>
    <a id="Has-nr.nr-suc"></a><a id="6118" href="Graded.Modality.html#6118" class="Field">nr-suc</a> <a id="6125" class="Symbol">:</a> <a id="6127" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="6130" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="6132" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="6134" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="6136" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="6138" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="6140" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="6142" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="6144" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6146" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="6148" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6150" href="Graded.Modality.html#537" class="Generalizable">n</a> <a id="6152" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6154" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="6156" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6158" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="6161" href="Graded.Modality.html#545" class="Generalizable">p</a> <a id="6163" href="Graded.Modality.html#549" class="Generalizable">r</a> <a id="6165" href="Graded.Modality.html#551" class="Generalizable">z</a> <a id="6167" href="Graded.Modality.html#556" class="Generalizable">s</a> <a id="6169" href="Graded.Modality.html#537" class="Generalizable">n</a>

  <a id="6174" class="Comment">-- A property that nr functions can satisfy.</a>

  <a id="Has-nr.Linearity-like-nr-for-𝟘"></a><a id="6222" href="Graded.Modality.html#6222" class="Function">Linearity-like-nr-for-𝟘</a> <a id="6246" class="Symbol">:</a> <a id="6248" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6252" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="6256" href="Graded.Modality.html#6222" class="Function">Linearity-like-nr-for-𝟘</a> <a id="6280" class="Symbol">=</a>
    <a id="6286" class="Symbol">∀</a> <a id="6288" class="Symbol">{</a><a id="6289" href="Graded.Modality.html#6289" class="Bound">p</a> <a id="6291" href="Graded.Modality.html#6291" class="Bound">z</a> <a id="6293" href="Graded.Modality.html#6293" class="Bound">s</a> <a id="6295" href="Graded.Modality.html#6295" class="Bound">n</a><a id="6296" class="Symbol">}</a> <a id="6298" class="Symbol">→</a>
    <a id="6304" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="6307" href="Graded.Modality.html#6289" class="Bound">p</a> <a id="6309" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="6311" href="Graded.Modality.html#6291" class="Bound">z</a> <a id="6313" href="Graded.Modality.html#6293" class="Bound">s</a> <a id="6315" href="Graded.Modality.html#6295" class="Bound">n</a> <a id="6317" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6319" class="Symbol">((</a><a id="6321" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="6323" href="Graded.Modality.html#910" class="Function Operator">∧</a> <a id="6325" href="Graded.Modality.html#6289" class="Bound">p</a><a id="6326" class="Symbol">)</a> <a id="6328" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6330" href="Graded.Modality.html#6295" class="Bound">n</a> <a id="6332" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6334" href="Graded.Modality.html#6293" class="Bound">s</a><a id="6335" class="Symbol">)</a> <a id="6337" href="Graded.Modality.html#910" class="Function Operator">∧</a> <a id="6339" class="Symbol">(</a><a id="6340" href="Graded.Modality.html#6295" class="Bound">n</a> <a id="6342" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6344" href="Graded.Modality.html#6291" class="Bound">z</a><a id="6345" class="Symbol">)</a>

  <a id="6350" class="Comment">-- Another property that nr functions can satisfy.</a>

  <a id="Has-nr.Linearity-like-nr-for-𝟙"></a><a id="6404" href="Graded.Modality.html#6404" class="Function">Linearity-like-nr-for-𝟙</a> <a id="6428" class="Symbol">:</a> <a id="6430" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6434" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="6438" href="Graded.Modality.html#6404" class="Function">Linearity-like-nr-for-𝟙</a> <a id="6462" class="Symbol">=</a>
    <a id="6468" class="Symbol">∀</a> <a id="6470" class="Symbol">{</a><a id="6471" href="Graded.Modality.html#6471" class="Bound">p</a> <a id="6473" href="Graded.Modality.html#6473" class="Bound">z</a> <a id="6475" href="Graded.Modality.html#6475" class="Bound">s</a> <a id="6477" href="Graded.Modality.html#6477" class="Bound">n</a><a id="6478" class="Symbol">}</a> <a id="6480" class="Symbol">→</a>
    <a id="6486" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="6489" href="Graded.Modality.html#6471" class="Bound">p</a> <a id="6491" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="6493" href="Graded.Modality.html#6473" class="Bound">z</a> <a id="6495" href="Graded.Modality.html#6475" class="Bound">s</a> <a id="6497" href="Graded.Modality.html#6477" class="Bound">n</a> <a id="6499" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6501" class="Symbol">(</a><a id="6502" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="6504" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6506" href="Graded.Modality.html#6471" class="Bound">p</a><a id="6507" class="Symbol">)</a> <a id="6509" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6511" href="Graded.Modality.html#6477" class="Bound">n</a> <a id="6513" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6515" href="Graded.Modality.html#930" class="Function">ω</a> <a id="6517" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6519" href="Graded.Modality.html#6475" class="Bound">s</a> <a id="6521" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6523" href="Graded.Modality.html#6473" class="Bound">z</a>

<a id="6526" class="Comment">-- The property of having an nr function that factors in a certain way</a>

<a id="6598" class="Keyword">record</a> <a id="Has-factoring-nr"></a><a id="6605" href="Graded.Modality.html#6605" class="Record">Has-factoring-nr</a> <a id="6622" class="Symbol">(</a><a id="6623" href="Graded.Modality.html#6623" class="Bound">𝕄</a> <a id="6625" class="Symbol">:</a> <a id="6627" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a><a id="6645" class="Symbol">)</a> <a id="6647" class="Symbol">⦃</a> <a id="6649" href="Graded.Modality.html#6649" class="Bound">has-nr</a> <a id="6656" class="Symbol">:</a> <a id="6658" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="6665" href="Graded.Modality.html#6623" class="Bound">𝕄</a> <a id="6667" class="Symbol">⦄</a> <a id="6669" class="Symbol">:</a> <a id="6671" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6675" href="Graded.Modality.html#251" class="Bound">a</a> <a id="6677" class="Keyword">where</a>
  <a id="6685" class="Keyword">no-eta-equality</a>
  <a id="6703" class="Keyword">pattern</a>

  <a id="6714" class="Keyword">open</a> <a id="6719" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="6738" href="Graded.Modality.html#6623" class="Bound">𝕄</a>

  <a id="6743" class="Keyword">open</a> <a id="6748" href="Graded.Modality.html#4940" class="Module">Has-nr</a> <a id="6755" href="Graded.Modality.html#6649" class="Bound">has-nr</a>

  <a id="6765" class="Keyword">field</a>
    <a id="Has-factoring-nr.nr₂"></a><a id="6775" href="Graded.Modality.html#6775" class="Field">nr₂</a> <a id="6779" class="Symbol">:</a> <a id="6781" class="Symbol">(</a><a id="6782" href="Graded.Modality.html#6782" class="Bound">p</a> <a id="6784" href="Graded.Modality.html#6784" class="Bound">r</a> <a id="6786" class="Symbol">:</a> <a id="6788" href="Graded.Modality.html#255" class="Bound">M</a><a id="6789" class="Symbol">)</a> <a id="6791" class="Symbol">→</a> <a id="6793" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="Has-factoring-nr.nr₂≢𝟘"></a><a id="6800" href="Graded.Modality.html#6800" class="Field">nr₂≢𝟘</a> <a id="6806" class="Symbol">:</a> <a id="6808" class="Symbol">{</a><a id="6809" href="Graded.Modality.html#6809" class="Bound">p</a> <a id="6811" href="Graded.Modality.html#6811" class="Bound">r</a> <a id="6813" class="Symbol">:</a> <a id="6815" href="Graded.Modality.html#255" class="Bound">M</a><a id="6816" class="Symbol">}</a> <a id="6818" class="Symbol">→</a> <a id="6820" href="Graded.Modality.html#6775" class="Field">nr₂</a> <a id="6824" href="Graded.Modality.html#6809" class="Bound">p</a> <a id="6826" href="Graded.Modality.html#6811" class="Bound">r</a> <a id="6828" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="6830" href="Graded.Modality.html#926" class="Function">𝟘</a>
    <a id="Has-factoring-nr.nr-factoring"></a><a id="6836" href="Graded.Modality.html#6836" class="Field">nr-factoring</a> <a id="6849" class="Symbol">:</a> <a id="6851" class="Symbol">{</a><a id="6852" href="Graded.Modality.html#6852" class="Bound">p</a> <a id="6854" href="Graded.Modality.html#6854" class="Bound">r</a> <a id="6856" href="Graded.Modality.html#6856" class="Bound">z</a> <a id="6858" href="Graded.Modality.html#6858" class="Bound">s</a> <a id="6860" href="Graded.Modality.html#6860" class="Bound">n</a> <a id="6862" class="Symbol">:</a> <a id="6864" href="Graded.Modality.html#255" class="Bound">M</a><a id="6865" class="Symbol">}</a> <a id="6867" class="Symbol">→</a> <a id="6869" href="Graded.Modality.html#5080" class="Function">nr</a> <a id="6872" href="Graded.Modality.html#6852" class="Bound">p</a> <a id="6874" href="Graded.Modality.html#6854" class="Bound">r</a> <a id="6876" href="Graded.Modality.html#6856" class="Bound">z</a> <a id="6878" href="Graded.Modality.html#6858" class="Bound">s</a> <a id="6880" href="Graded.Modality.html#6860" class="Bound">n</a> <a id="6882" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6884" href="Graded.Modality.html#6775" class="Field">nr₂</a> <a id="6888" href="Graded.Modality.html#6852" class="Bound">p</a> <a id="6890" href="Graded.Modality.html#6854" class="Bound">r</a> <a id="6892" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="6894" href="Graded.Modality.html#6860" class="Bound">n</a> <a id="6896" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="6898" href="Graded.Modality.html#5080" class="Function">nr</a> <a id="6901" href="Graded.Modality.html#6852" class="Bound">p</a> <a id="6903" href="Graded.Modality.html#6854" class="Bound">r</a> <a id="6905" href="Graded.Modality.html#6856" class="Bound">z</a> <a id="6907" href="Graded.Modality.html#6858" class="Bound">s</a> <a id="6909" href="Graded.Modality.html#926" class="Function">𝟘</a>


<a id="6913" class="Comment">-- The property of having a natrec-star operator.</a>
<a id="6963" class="Keyword">record</a> <a id="Has-star"></a><a id="6970" href="Graded.Modality.html#6970" class="Record">Has-star</a> <a id="6979" class="Symbol">(</a><a id="6980" href="Graded.Modality.html#6980" class="Bound">r</a> <a id="6982" class="Symbol">:</a> <a id="6984" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a><a id="7002" class="Symbol">)</a> <a id="7004" class="Symbol">:</a> <a id="7006" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7010" href="Graded.Modality.html#251" class="Bound">a</a> <a id="7012" class="Keyword">where</a>
  <a id="7020" class="Keyword">no-eta-equality</a>
  <a id="7038" class="Keyword">pattern</a>

  <a id="7049" class="Keyword">open</a> <a id="7054" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="7073" href="Graded.Modality.html#6980" class="Bound">r</a>

  <a id="7078" class="Keyword">infix</a> <a id="7084" class="Number">50</a> <a id="7087" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷_</a>

  <a id="7096" class="Keyword">field</a>
    <a id="7106" class="Comment">-- The natrec-star operator.</a>
    <a id="Has-star._⊛_▷_"></a><a id="7139" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷_</a> <a id="7145" class="Symbol">:</a> <a id="7147" href="Tools.Algebra.html#1385" class="Function">Op₃</a> <a id="7151" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="7158" class="Comment">-- ⊛ is a solution to the following system of inequalities</a>
    <a id="Has-star.⊛-ineq"></a><a id="7221" href="Graded.Modality.html#7221" class="Field">⊛-ineq</a> <a id="7228" class="Symbol">:</a> <a id="7230" class="Symbol">((</a><a id="7232" href="Graded.Modality.html#7232" class="Bound">p</a> <a id="7234" href="Graded.Modality.html#7234" class="Bound">q</a> <a id="7236" href="Graded.Modality.html#7236" class="Bound">r</a> <a id="7238" class="Symbol">:</a> <a id="7240" href="Graded.Modality.html#255" class="Bound">M</a><a id="7241" class="Symbol">)</a> <a id="7243" class="Symbol">→</a> <a id="7245" href="Graded.Modality.html#7232" class="Bound">p</a> <a id="7247" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7249" href="Graded.Modality.html#7234" class="Bound">q</a> <a id="7251" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7253" href="Graded.Modality.html#7236" class="Bound">r</a> <a id="7255" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="7257" href="Graded.Modality.html#7234" class="Bound">q</a> <a id="7259" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="7261" href="Graded.Modality.html#7236" class="Bound">r</a> <a id="7263" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="7265" href="Graded.Modality.html#7232" class="Bound">p</a> <a id="7267" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7269" href="Graded.Modality.html#7234" class="Bound">q</a> <a id="7271" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7273" href="Graded.Modality.html#7236" class="Bound">r</a><a id="7274" class="Symbol">)</a>
           <a id="7287" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7289" class="Symbol">((</a><a id="7291" href="Graded.Modality.html#7291" class="Bound">p</a> <a id="7293" href="Graded.Modality.html#7293" class="Bound">q</a> <a id="7295" href="Graded.Modality.html#7295" class="Bound">r</a> <a id="7297" class="Symbol">:</a> <a id="7299" href="Graded.Modality.html#255" class="Bound">M</a><a id="7300" class="Symbol">)</a> <a id="7302" class="Symbol">→</a> <a id="7304" href="Graded.Modality.html#7291" class="Bound">p</a> <a id="7306" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7308" href="Graded.Modality.html#7293" class="Bound">q</a> <a id="7310" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7312" href="Graded.Modality.html#7295" class="Bound">r</a> <a id="7314" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="7316" href="Graded.Modality.html#7291" class="Bound">p</a><a id="7317" class="Symbol">)</a>

    <a id="7324" class="Comment">-- addition is sub-interchangeable over ⊛ w.r.t the first two arguments</a>
    <a id="Has-star.+-sub-interchangeable-⊛"></a><a id="7400" href="Graded.Modality.html#7400" class="Field">+-sub-interchangeable-⊛</a> <a id="7424" class="Symbol">:</a> <a id="7426" class="Symbol">(</a><a id="7427" href="Graded.Modality.html#7427" class="Bound">r</a> <a id="7429" class="Symbol">:</a> <a id="7431" href="Graded.Modality.html#255" class="Bound">M</a><a id="7432" class="Symbol">)</a> <a id="7434" class="Symbol">→</a> <a id="7436" href="Graded.Modality.html#902" class="Function Operator">_+_</a> <a id="7440" href="Tools.Algebra.html#1923" class="Function Operator">SubInterchangeable</a> <a id="7459" class="Symbol">(</a><a id="7460" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷</a> <a id="7465" href="Graded.Modality.html#7427" class="Bound">r</a><a id="7466" class="Symbol">)</a> <a id="7468" href="Tools.Algebra.html#1923" class="Function Operator">by</a> <a id="7471" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a>
    <a id="7479" class="Comment">-- multiplication is right sub-distributive over ⊛ w.r.t the first two arguments</a>
    <a id="Has-star.·-sub-distribʳ-⊛"></a><a id="7564" href="Graded.Modality.html#7564" class="Field">·-sub-distribʳ-⊛</a> <a id="7581" class="Symbol">:</a> <a id="7583" class="Symbol">(</a><a id="7584" href="Graded.Modality.html#7584" class="Bound">r</a> <a id="7586" class="Symbol">:</a> <a id="7588" href="Graded.Modality.html#255" class="Bound">M</a><a id="7589" class="Symbol">)</a> <a id="7591" class="Symbol">→</a> <a id="7593" href="Graded.Modality.html#906" class="Function Operator">_·_</a> <a id="7597" href="Tools.Algebra.html#1604" class="Function Operator">SubDistributesOverʳ</a> <a id="7617" class="Symbol">(</a><a id="7618" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷</a> <a id="7623" href="Graded.Modality.html#7584" class="Bound">r</a><a id="7624" class="Symbol">)</a> <a id="7626" href="Tools.Algebra.html#1604" class="Function Operator">by</a> <a id="7629" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a>
    <a id="7637" class="Comment">-- ⊛ is sub-distributive over meet w.r.t the first two arguments</a>
    <a id="Has-star.⊛-sub-distrib-∧"></a><a id="7706" href="Graded.Modality.html#7706" class="Field">⊛-sub-distrib-∧</a>    <a id="7725" class="Symbol">:</a> <a id="7727" class="Symbol">(</a><a id="7728" href="Graded.Modality.html#7728" class="Bound">r</a> <a id="7730" class="Symbol">:</a> <a id="7732" href="Graded.Modality.html#255" class="Bound">M</a><a id="7733" class="Symbol">)</a> <a id="7735" class="Symbol">→</a> <a id="7737" class="Symbol">(</a><a id="7738" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷</a> <a id="7743" href="Graded.Modality.html#7728" class="Bound">r</a><a id="7744" class="Symbol">)</a> <a id="7746" href="Tools.Algebra.html#1749" class="Function Operator">SubDistributesOver</a> <a id="7765" href="Graded.Modality.html#910" class="Function Operator">_∧_</a> <a id="7769" href="Tools.Algebra.html#1749" class="Function Operator">by</a> <a id="7772" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a>

  <a id="Has-star.⊛-ineq₁"></a><a id="7779" href="Graded.Modality.html#7779" class="Function">⊛-ineq₁</a> <a id="7787" class="Symbol">:</a> <a id="7789" class="Symbol">(</a><a id="7790" href="Graded.Modality.html#7790" class="Bound">p</a> <a id="7792" href="Graded.Modality.html#7792" class="Bound">q</a> <a id="7794" href="Graded.Modality.html#7794" class="Bound">r</a> <a id="7796" class="Symbol">:</a> <a id="7798" href="Graded.Modality.html#255" class="Bound">M</a><a id="7799" class="Symbol">)</a> <a id="7801" class="Symbol">→</a> <a id="7803" href="Graded.Modality.html#7790" class="Bound">p</a> <a id="7805" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7807" href="Graded.Modality.html#7792" class="Bound">q</a> <a id="7809" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7811" href="Graded.Modality.html#7794" class="Bound">r</a> <a id="7813" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="7815" href="Graded.Modality.html#7792" class="Bound">q</a> <a id="7817" href="Graded.Modality.html#902" class="Function Operator">+</a> <a id="7819" href="Graded.Modality.html#7794" class="Bound">r</a> <a id="7821" href="Graded.Modality.html#906" class="Function Operator">·</a> <a id="7823" class="Symbol">(</a><a id="7824" href="Graded.Modality.html#7790" class="Bound">p</a> <a id="7826" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7828" href="Graded.Modality.html#7792" class="Bound">q</a> <a id="7830" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7832" href="Graded.Modality.html#7794" class="Bound">r</a><a id="7833" class="Symbol">)</a>
  <a id="7837" href="Graded.Modality.html#7779" class="Function">⊛-ineq₁</a> <a id="7845" class="Symbol">=</a> <a id="7847" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7853" href="Graded.Modality.html#7221" class="Field">⊛-ineq</a>

  <a id="Has-star.⊛-ineq₂"></a><a id="7863" href="Graded.Modality.html#7863" class="Function">⊛-ineq₂</a> <a id="7871" class="Symbol">:</a> <a id="7873" class="Symbol">(</a><a id="7874" href="Graded.Modality.html#7874" class="Bound">p</a> <a id="7876" href="Graded.Modality.html#7876" class="Bound">q</a> <a id="7878" href="Graded.Modality.html#7878" class="Bound">r</a> <a id="7880" class="Symbol">:</a> <a id="7882" href="Graded.Modality.html#255" class="Bound">M</a><a id="7883" class="Symbol">)</a> <a id="7885" class="Symbol">→</a> <a id="7887" href="Graded.Modality.html#7874" class="Bound">p</a> <a id="7889" href="Graded.Modality.html#7139" class="Field Operator">⊛</a> <a id="7891" href="Graded.Modality.html#7876" class="Bound">q</a> <a id="7893" href="Graded.Modality.html#7139" class="Field Operator">▷</a> <a id="7895" href="Graded.Modality.html#7878" class="Bound">r</a> <a id="7897" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="7899" href="Graded.Modality.html#7874" class="Bound">p</a>
  <a id="7903" href="Graded.Modality.html#7863" class="Function">⊛-ineq₂</a> <a id="7911" class="Symbol">=</a> <a id="7913" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7919" href="Graded.Modality.html#7221" class="Field">⊛-ineq</a>

  <a id="Has-star.⊛-sub-distribˡ-∧"></a><a id="7929" href="Graded.Modality.html#7929" class="Function">⊛-sub-distribˡ-∧</a> <a id="7946" class="Symbol">:</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Graded.Modality.html#7949" class="Bound">r</a> <a id="7951" class="Symbol">:</a> <a id="7953" href="Graded.Modality.html#255" class="Bound">M</a><a id="7954" class="Symbol">)</a> <a id="7956" class="Symbol">→</a> <a id="7958" class="Symbol">(</a><a id="7959" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷</a> <a id="7964" href="Graded.Modality.html#7949" class="Bound">r</a><a id="7965" class="Symbol">)</a> <a id="7967" href="Tools.Algebra.html#1459" class="Function Operator">SubDistributesOverˡ</a> <a id="7987" href="Graded.Modality.html#910" class="Function Operator">_∧_</a> <a id="7991" href="Tools.Algebra.html#1459" class="Function Operator">by</a> <a id="7994" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a>
  <a id="8000" href="Graded.Modality.html#7929" class="Function">⊛-sub-distribˡ-∧</a> <a id="8017" href="Graded.Modality.html#8017" class="Bound">r</a> <a id="8019" class="Symbol">=</a> <a id="8021" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8027" class="Symbol">(</a><a id="8028" href="Graded.Modality.html#7706" class="Field">⊛-sub-distrib-∧</a> <a id="8044" href="Graded.Modality.html#8017" class="Bound">r</a><a id="8045" class="Symbol">)</a>

  <a id="Has-star.⊛-sub-distribʳ-∧"></a><a id="8050" href="Graded.Modality.html#8050" class="Function">⊛-sub-distribʳ-∧</a> <a id="8067" class="Symbol">:</a> <a id="8069" class="Symbol">(</a><a id="8070" href="Graded.Modality.html#8070" class="Bound">r</a> <a id="8072" class="Symbol">:</a> <a id="8074" href="Graded.Modality.html#255" class="Bound">M</a><a id="8075" class="Symbol">)</a> <a id="8077" class="Symbol">→</a> <a id="8079" class="Symbol">(</a><a id="8080" href="Graded.Modality.html#7139" class="Field Operator">_⊛_▷</a> <a id="8085" href="Graded.Modality.html#8070" class="Bound">r</a><a id="8086" class="Symbol">)</a> <a id="8088" href="Tools.Algebra.html#1604" class="Function Operator">SubDistributesOverʳ</a> <a id="8108" href="Graded.Modality.html#910" class="Function Operator">_∧_</a> <a id="8112" href="Tools.Algebra.html#1604" class="Function Operator">by</a> <a id="8115" href="Graded.Modality.html#1365" class="Function Operator">_≤_</a>
  <a id="8121" href="Graded.Modality.html#8050" class="Function">⊛-sub-distribʳ-∧</a> <a id="8138" href="Graded.Modality.html#8138" class="Bound">r</a> <a id="8140" class="Symbol">=</a> <a id="8142" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8148" class="Symbol">(</a><a id="8149" href="Graded.Modality.html#7706" class="Field">⊛-sub-distrib-∧</a> <a id="8165" href="Graded.Modality.html#8138" class="Bound">r</a><a id="8166" class="Symbol">)</a>

<a id="8169" class="Comment">-- The modality structure</a>
<a id="8195" class="Keyword">record</a> <a id="Modality"></a><a id="8202" href="Graded.Modality.html#8202" class="Record">Modality</a> <a id="8211" class="Symbol">:</a> <a id="8213" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="8217" class="Symbol">(</a><a id="8218" href="Agda.Primitive.html#931" class="Primitive">lsuc</a> <a id="8223" href="Graded.Modality.html#251" class="Bound">a</a><a id="8224" class="Symbol">)</a> <a id="8226" class="Keyword">where</a>
  <a id="8234" class="Keyword">no-eta-equality</a>
  <a id="8252" class="Keyword">pattern</a>
  <a id="8262" class="Keyword">field</a>
    <a id="8272" class="Comment">-- The modality variant.</a>
    <a id="Modality.variant"></a><a id="8301" href="Graded.Modality.html#8301" class="Field">variant</a>            <a id="8320" class="Symbol">:</a> <a id="8322" href="Graded.Modality.Variant.html#710" class="Record">Modality-variant</a>
    <a id="Modality.semiring-with-meet"></a><a id="8343" href="Graded.Modality.html#8343" class="Field">semiring-with-meet</a> <a id="8362" class="Symbol">:</a> <a id="8364" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a>

  <a id="8386" class="Keyword">open</a> <a id="8391" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="8410" href="Graded.Modality.html#8343" class="Field">semiring-with-meet</a> <a id="8429" class="Keyword">public</a>
  <a id="8438" class="Keyword">open</a> <a id="8443" href="Graded.Modality.Variant.html#710" class="Module">Modality-variant</a> <a id="8460" href="Graded.Modality.html#8301" class="Field">variant</a> <a id="8468" class="Keyword">public</a>

  <a id="8478" class="Keyword">field</a>
    <a id="8488" class="Comment">-- If the mode 𝟘ᵐ is allowed, then the zero is well-behaved</a>
    <a id="Modality.𝟘-well-behaved"></a><a id="8552" href="Graded.Modality.html#8552" class="Field">𝟘-well-behaved</a> <a id="8567" class="Symbol">:</a> <a id="8569" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="8571" href="Graded.Modality.Variant.html#820" class="Function">𝟘ᵐ-allowed</a> <a id="8582" class="Symbol">→</a> <a id="8584" href="Graded.Modality.html#3694" class="Record">Has-well-behaved-zero</a> <a id="8606" href="Graded.Modality.html#8343" class="Field">semiring-with-meet</a>

    <a id="8630" class="Comment">-- If the modality is supposed to come with a dedicated nr</a>
    <a id="8693" class="Comment">-- function, then such a function is available.</a>
    <a id="Modality.has-nr"></a><a id="8745" href="Graded.Modality.html#8745" class="Field">has-nr</a> <a id="8752" class="Symbol">:</a> <a id="8754" href="Graded.Modality.Variant.html#955" class="Function">Nr-available</a> <a id="8767" class="Symbol">→</a> <a id="8769" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="8776" href="Graded.Modality.html#8343" class="Field">semiring-with-meet</a>
</pre></body></html>