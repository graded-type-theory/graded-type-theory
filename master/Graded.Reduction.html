<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties related to the usage relation and reduction.</a>
<a id="133" class="Comment">-- Notably, subject reduction.</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="347" class="Keyword">module</a> <a id="354" href="Graded.Reduction.html" class="Module">Graded.Reduction</a>
  <a id="373" class="Symbol">{</a><a id="374" href="Graded.Reduction.html#374" class="Bound">a</a><a id="375" class="Symbol">}</a> <a id="377" class="Symbol">{</a><a id="378" href="Graded.Reduction.html#378" class="Bound">M</a> <a id="380" class="Symbol">:</a> <a id="382" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="386" href="Graded.Reduction.html#374" class="Bound">a</a><a id="387" class="Symbol">}</a>
  <a id="391" class="Symbol">(</a><a id="392" href="Graded.Reduction.html#392" class="Bound">𝕄</a> <a id="394" class="Symbol">:</a> <a id="396" href="Graded.Modality.html#5274" class="Record">Modality</a> <a id="405" href="Graded.Reduction.html#378" class="Bound">M</a><a id="406" class="Symbol">)</a>
  <a id="410" class="Symbol">(</a><a id="411" href="Graded.Reduction.html#411" class="Bound">TR</a> <a id="414" class="Symbol">:</a> <a id="416" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="434" href="Graded.Reduction.html#378" class="Bound">M</a><a id="435" class="Symbol">)</a>
  <a id="439" class="Symbol">(</a><a id="440" href="Graded.Reduction.html#440" class="Bound">UR</a> <a id="443" class="Symbol">:</a> <a id="445" href="Graded.Usage.Restrictions.html#316" class="Record">Usage-restrictions</a> <a id="464" href="Graded.Reduction.html#378" class="Bound">M</a><a id="465" class="Symbol">)</a>
  <a id="469" class="Keyword">where</a>

<a id="476" class="Keyword">open</a> <a id="481" href="Graded.Modality.html#5274" class="Module">Modality</a> <a id="490" href="Graded.Reduction.html#392" class="Bound">𝕄</a>
<a id="492" class="Keyword">open</a> <a id="497" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="515" href="Graded.Reduction.html#411" class="Bound">TR</a>

<a id="519" class="Keyword">open</a> <a id="524" class="Keyword">import</a> <a id="531" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="546" href="Graded.Reduction.html#392" class="Bound">𝕄</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="586" href="Graded.Reduction.html#392" class="Bound">𝕄</a>
<a id="588" class="Keyword">open</a> <a id="593" class="Keyword">import</a> <a id="600" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="627" href="Graded.Reduction.html#392" class="Bound">𝕄</a>
<a id="629" class="Keyword">open</a> <a id="634" class="Keyword">import</a> <a id="641" href="Graded.Substitution.Properties.html" class="Module">Graded.Substitution.Properties</a> <a id="672" href="Graded.Reduction.html#392" class="Bound">𝕄</a> <a id="674" href="Graded.Reduction.html#440" class="Bound">UR</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="702" href="Graded.Reduction.html#392" class="Bound">𝕄</a> <a id="704" href="Graded.Reduction.html#440" class="Bound">UR</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="742" href="Graded.Reduction.html#392" class="Bound">𝕄</a> <a id="744" href="Graded.Reduction.html#440" class="Bound">UR</a>
<a id="747" class="Keyword">open</a> <a id="752" class="Keyword">import</a> <a id="759" href="Graded.Usage.Properties.html" class="Module">Graded.Usage.Properties</a> <a id="783" href="Graded.Reduction.html#392" class="Bound">𝕄</a> <a id="785" href="Graded.Reduction.html#440" class="Bound">UR</a>
<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="812" href="Graded.Reduction.html#392" class="Bound">𝕄</a>
<a id="814" class="Keyword">open</a> <a id="819" class="Keyword">import</a> <a id="826" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="843" href="Graded.Reduction.html#411" class="Bound">TR</a>
<a id="846" class="Keyword">open</a> <a id="851" class="Keyword">import</a> <a id="858" href="Definition.Typed.Consequences.DerivedRules.html" class="Module">Definition.Typed.Consequences.DerivedRules</a> <a id="901" href="Graded.Reduction.html#411" class="Bound">TR</a>
<a id="904" class="Keyword">open</a> <a id="909" class="Keyword">import</a> <a id="916" href="Definition.Typed.Eta-long-normal-form.html" class="Module">Definition.Typed.Eta-long-normal-form</a> <a id="954" href="Graded.Reduction.html#411" class="Bound">TR</a>
<a id="957" class="Keyword">open</a> <a id="962" class="Keyword">import</a> <a id="969" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="988" href="Graded.Reduction.html#378" class="Bound">M</a> <a id="990" class="Keyword">hiding</a> <a id="997" class="Symbol">(</a><a id="998" href="Definition.Untyped.NotParametrised.html#1148" class="InductiveConstructor Operator">_∷_</a><a id="1001" class="Symbol">)</a>
<a id="1003" class="Keyword">open</a> <a id="1008" class="Keyword">import</a> <a id="1015" href="Definition.Untyped.Normal-form.html" class="Module">Definition.Untyped.Normal-form</a> <a id="1046" href="Graded.Reduction.html#378" class="Bound">M</a>

<a id="1049" class="Keyword">open</a> <a id="1054" class="Keyword">import</a> <a id="1061" href="Tools.Bool.html" class="Module">Tools.Bool</a> <a id="1072" class="Keyword">using</a> <a id="1078" class="Symbol">(</a><a id="1079" href="Data.Bool.Base.html#1451" class="Function">T</a><a id="1080" class="Symbol">)</a>
<a id="1082" class="Keyword">open</a> <a id="1087" class="Keyword">import</a> <a id="1094" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="1106" class="Keyword">open</a> <a id="1111" class="Keyword">import</a> <a id="1118" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="1128" class="Keyword">open</a> <a id="1133" class="Keyword">import</a> <a id="1140" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="1155" class="Keyword">open</a> <a id="1160" class="Keyword">import</a> <a id="1167" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="1177" class="Keyword">open</a> <a id="1182" class="Keyword">import</a> <a id="1189" href="Tools.Nullary.html" class="Module">Tools.Nullary</a>
<a id="1203" class="Keyword">open</a> <a id="1208" class="Keyword">import</a> <a id="1215" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="1229" class="Keyword">open</a> <a id="1234" class="Keyword">import</a> <a id="1241" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="1269" class="Symbol">as</a> <a id="1272" class="Module">PE</a> <a id="1275" class="Keyword">using</a> <a id="1281" class="Symbol">(</a><a id="1282" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="1285" class="Symbol">)</a>
<a id="1287" class="Keyword">import</a> <a id="1294" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="1323" class="Keyword">open</a> <a id="1328" class="Keyword">import</a> <a id="1335" href="Tools.Sum.html" class="Module">Tools.Sum</a> <a id="1345" class="Keyword">using</a> <a id="1351" class="Symbol">(</a><a id="1352" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="1355" class="Symbol">;</a> <a id="1357" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a><a id="1361" class="Symbol">;</a> <a id="1363" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a><a id="1367" class="Symbol">)</a>

<a id="1370" class="Keyword">private</a>
  <a id="1380" class="Keyword">variable</a>
    <a id="1393" href="Graded.Reduction.html#1393" class="Generalizable">n</a> <a id="1395" class="Symbol">:</a> <a id="1397" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="1405" href="Graded.Reduction.html#1405" class="Generalizable">Γ</a> <a id="1407" class="Symbol">:</a> <a id="1409" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="1413" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1418" href="Graded.Reduction.html#1393" class="Generalizable">n</a>
    <a id="1424" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="1426" class="Symbol">:</a> <a id="1428" href="Graded.Context.html#610" class="Datatype">Conₘ</a> <a id="1433" href="Graded.Reduction.html#1393" class="Generalizable">n</a>
    <a id="1439" href="Graded.Reduction.html#1439" class="Generalizable">t</a> <a id="1441" href="Graded.Reduction.html#1441" class="Generalizable">u</a> <a id="1443" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="1445" href="Graded.Reduction.html#1445" class="Generalizable">B</a> <a id="1447" class="Symbol">:</a> <a id="1449" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1454" href="Graded.Reduction.html#1393" class="Generalizable">n</a>
    <a id="1460" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="1462" class="Symbol">:</a> <a id="1464" href="Graded.Mode.html#972" class="Datatype">Mode</a>
    <a id="1473" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="1475" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="1477" href="Graded.Reduction.html#1477" class="Generalizable">r</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Graded.Reduction.html#378" class="Bound">M</a>

<a id="1484" class="Comment">-- Subject reduction properties for modality usage</a>

<a id="1536" class="Comment">-- Term reduction preserves usage.</a>
<a id="1571" class="Comment">--</a>
<a id="1574" class="Comment">-- Proof by induction on the reduction relation using the inversion</a>
<a id="1642" class="Comment">-- and substitution lemmata for the usage relation.</a>

<a id="usagePresTerm"></a><a id="1695" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1709" class="Symbol">:</a> <a id="1711" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="1713" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="1716" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="1718" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="1720" href="Graded.Reduction.html#1439" class="Generalizable">t</a> <a id="1722" class="Symbol">→</a> <a id="1724" href="Graded.Reduction.html#1405" class="Generalizable">Γ</a> <a id="1726" href="Definition.Typed.html#8919" class="Datatype Operator">⊢</a> <a id="1728" href="Graded.Reduction.html#1439" class="Generalizable">t</a> <a id="1730" href="Definition.Typed.html#8919" class="Datatype Operator">⇒</a> <a id="1732" href="Graded.Reduction.html#1441" class="Generalizable">u</a> <a id="1734" href="Definition.Typed.html#8919" class="Datatype Operator">∷</a> <a id="1736" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="1738" class="Symbol">→</a> <a id="1740" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="1742" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="1745" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="1747" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="1749" href="Graded.Reduction.html#1441" class="Generalizable">u</a>
<a id="1751" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1765" href="Graded.Reduction.html#1765" class="Bound">γ▸t</a> <a id="1769" class="Symbol">(</a><a id="1770" href="Definition.Typed.html#8987" class="InductiveConstructor">conv</a> <a id="1775" href="Graded.Reduction.html#1775" class="Bound">t⇒u</a> <a id="1779" href="Graded.Reduction.html#1779" class="Bound">x</a><a id="1780" class="Symbol">)</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1798" href="Graded.Reduction.html#1765" class="Bound">γ▸t</a> <a id="1802" href="Graded.Reduction.html#1775" class="Bound">t⇒u</a>
<a id="1806" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1820" href="Graded.Reduction.html#1820" class="Bound">γ▸t</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Definition.Typed.html#9082" class="InductiveConstructor">app-subst</a> <a id="1835" href="Graded.Reduction.html#1835" class="Bound">t⇒u</a> <a id="1839" href="Graded.Reduction.html#1839" class="Bound">x</a><a id="1840" class="Symbol">)</a> <a id="1842" class="Symbol">=</a>
  <a id="1846" class="Keyword">let</a> <a id="1850" href="Graded.Usage.Inversion.html#2976" class="InductiveConstructor">invUsageApp</a> <a id="1862" href="Graded.Reduction.html#1862" class="Bound">δ▸t</a> <a id="1866" href="Graded.Reduction.html#1866" class="Bound">η▸a</a> <a id="1870" href="Graded.Reduction.html#1870" class="Bound">γ≤δ+pη</a> <a id="1877" class="Symbol">=</a> <a id="1879" href="Graded.Usage.Inversion.html#3181" class="Function">inv-usage-app</a> <a id="1893" href="Graded.Reduction.html#1820" class="Bound">γ▸t</a>
  <a id="1899" class="Keyword">in</a>  <a id="1903" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="1907" class="Symbol">((</a><a id="1909" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1923" href="Graded.Reduction.html#1862" class="Bound">δ▸t</a> <a id="1927" href="Graded.Reduction.html#1835" class="Bound">t⇒u</a><a id="1930" class="Symbol">)</a> <a id="1932" href="Graded.Usage.html#1488" class="InductiveConstructor Operator">∘ₘ</a> <a id="1935" href="Graded.Reduction.html#1866" class="Bound">η▸a</a><a id="1938" class="Symbol">)</a> <a id="1940" href="Graded.Reduction.html#1870" class="Bound">γ≤δ+pη</a>
<a id="1947" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="1961" class="Symbol">{</a><a id="1962" class="Argument">m</a> <a id="1964" class="Symbol">=</a> <a id="1966" href="Graded.Reduction.html#1966" class="Bound">m</a><a id="1967" class="Symbol">}</a> <a id="1969" href="Graded.Reduction.html#1969" class="Bound">γ▸λta</a> <a id="1975" class="Symbol">(</a><a id="1976" href="Definition.Typed.html#9216" class="InductiveConstructor">β-red</a> <a id="1982" href="Graded.Reduction.html#1982" class="Bound">x</a> <a id="1984" href="Graded.Reduction.html#1984" class="Bound">x₁</a> <a id="1987" href="Graded.Reduction.html#1987" class="Bound">x₂</a> <a id="1990" href="Graded.Reduction.html#1990" class="Bound">x₃</a> <a id="1993" href="Graded.Reduction.html#1993" class="Bound">x₄</a> <a id="1996" class="Symbol">_)</a> <a id="1999" class="Symbol">=</a>
  <a id="2003" class="Keyword">let</a> <a id="2007" href="Graded.Usage.Inversion.html#2976" class="InductiveConstructor">invUsageApp</a> <a id="2019" href="Graded.Reduction.html#2019" class="Bound">δ▸λt</a> <a id="2024" href="Graded.Reduction.html#2024" class="Bound">η▸a</a> <a id="2028" href="Graded.Reduction.html#2028" class="Bound">γ≤δ′+pη</a> <a id="2036" class="Symbol">=</a> <a id="2038" href="Graded.Usage.Inversion.html#3181" class="Function">inv-usage-app</a> <a id="2052" href="Graded.Reduction.html#1969" class="Bound">γ▸λta</a>
      <a id="2064" href="Graded.Usage.Inversion.html#2461" class="InductiveConstructor">invUsageLam</a> <a id="2076" href="Graded.Reduction.html#2076" class="Bound">δ▸t</a> <a id="2080" href="Graded.Reduction.html#2080" class="Bound">δ′≤δ</a> <a id="2085" class="Symbol">=</a> <a id="2087" href="Graded.Usage.Inversion.html#2613" class="Function">inv-usage-lam</a> <a id="2101" href="Graded.Reduction.html#2019" class="Bound">δ▸λt</a>
  <a id="2108" class="Keyword">in</a>  <a id="2112" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Graded.Substitution.Properties.html#43849" class="Function">sgSubstₘ-lemma₂</a> <a id="2133" href="Graded.Reduction.html#2076" class="Bound">δ▸t</a> <a id="2137" class="Symbol">(</a><a id="2138" href="Graded.Usage.Properties.html#1773" class="Function">▸-cong</a> <a id="2145" class="Symbol">(</a><a id="2146" href="Graded.Mode.html#17499" class="Function">ᵐ·-cong</a> <a id="2154" href="Graded.Reduction.html#1966" class="Bound">m</a> <a id="2156" class="Symbol">(</a><a id="2157" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">PE.sym</a> <a id="2164" href="Graded.Reduction.html#1993" class="Bound">x₄</a><a id="2166" class="Symbol">))</a> <a id="2169" href="Graded.Reduction.html#2024" class="Bound">η▸a</a><a id="2172" class="Symbol">))</a>
          <a id="2185" class="Symbol">(</a><a id="2186" href="Graded.Context.Properties.PartialOrder.html#742" class="Function">≤ᶜ-trans</a> <a id="2195" href="Graded.Reduction.html#2028" class="Bound">γ≤δ′+pη</a>
             <a id="2216" class="Symbol">(</a><a id="2217" href="Graded.Context.Properties.Addition.html#3376" class="Function">+ᶜ-monotone</a> <a id="2229" href="Graded.Reduction.html#2080" class="Bound">δ′≤δ</a>
                <a id="2250" class="Symbol">(</a><a id="2251" href="Graded.Context.Properties.Multiplication.html#3148" class="Function">·ᶜ-monotoneˡ</a> <a id="2264" class="Symbol">(</a><a id="2265" href="Graded.Modality.Properties.PartialOrder.html#1015" class="Function">≤-reflexive</a> <a id="2277" class="Symbol">(</a><a id="2278" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">PE.sym</a> <a id="2285" href="Graded.Reduction.html#1993" class="Bound">x₄</a><a id="2287" class="Symbol">)))))</a>
<a id="2293" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="2307" href="Graded.Reduction.html#2307" class="Bound">γ▸t</a> <a id="2311" class="Symbol">(</a><a id="2312" href="Definition.Typed.html#9530" class="InductiveConstructor">fst-subst</a> <a id="2322" href="Graded.Reduction.html#2322" class="Bound">x</a> <a id="2324" href="Graded.Reduction.html#2324" class="Bound">x₁</a> <a id="2327" href="Graded.Reduction.html#2327" class="Bound">t⇒u</a><a id="2330" class="Symbol">)</a> <a id="2332" class="Symbol">=</a>
  <a id="2336" class="Keyword">let</a> <a id="2340" href="Graded.Usage.Inversion.html#4746" class="InductiveConstructor">invUsageFst</a> <a id="2352" href="Graded.Reduction.html#2352" class="Bound">m</a> <a id="2354" href="Graded.Reduction.html#2354" class="Bound">m≡</a> <a id="2357" href="Graded.Reduction.html#2357" class="Bound">▸t</a> <a id="2360" href="Graded.Reduction.html#2360" class="Bound">γ≤</a> <a id="2363" href="Graded.Reduction.html#2363" class="Bound">ok</a> <a id="2366" class="Symbol">=</a> <a id="2368" href="Graded.Usage.Inversion.html#5044" class="Function">inv-usage-fst</a> <a id="2382" href="Graded.Reduction.html#2307" class="Bound">γ▸t</a>
  <a id="2388" class="Keyword">in</a>  <a id="2392" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="2396" class="Symbol">(</a><a id="2397" href="Graded.Usage.html#1826" class="InductiveConstructor">fstₘ</a> <a id="2402" href="Graded.Reduction.html#2352" class="Bound">m</a> <a id="2404" class="Symbol">(</a><a id="2405" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="2419" class="Symbol">(</a><a id="2420" href="Graded.Usage.Properties.html#1773" class="Function">▸-cong</a> <a id="2427" href="Graded.Reduction.html#2354" class="Bound">m≡</a> <a id="2430" href="Graded.Reduction.html#2357" class="Bound">▸t</a><a id="2432" class="Symbol">)</a> <a id="2434" href="Graded.Reduction.html#2327" class="Bound">t⇒u</a><a id="2437" class="Symbol">)</a> <a id="2439" class="Symbol">(</a><a id="2440" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">PE.sym</a> <a id="2447" href="Graded.Reduction.html#2354" class="Bound">m≡</a><a id="2449" class="Symbol">)</a> <a id="2451" href="Graded.Reduction.html#2363" class="Bound">ok</a><a id="2453" class="Symbol">)</a> <a id="2455" href="Graded.Reduction.html#2360" class="Bound">γ≤</a>
<a id="2458" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="2472" href="Graded.Reduction.html#2472" class="Bound">γ▸t</a> <a id="2476" class="Symbol">(</a><a id="2477" href="Definition.Typed.html#9677" class="InductiveConstructor">snd-subst</a> <a id="2487" href="Graded.Reduction.html#2487" class="Bound">x</a> <a id="2489" href="Graded.Reduction.html#2489" class="Bound">x₁</a> <a id="2492" href="Graded.Reduction.html#2492" class="Bound">t⇒u</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">=</a>
  <a id="2501" class="Keyword">let</a> <a id="2505" href="Graded.Usage.Inversion.html#5404" class="InductiveConstructor">invUsageSnd</a> <a id="2517" href="Graded.Reduction.html#2517" class="Bound">▸t</a> <a id="2520" href="Graded.Reduction.html#2520" class="Bound">γ≤</a> <a id="2523" class="Symbol">=</a> <a id="2525" href="Graded.Usage.Inversion.html#5530" class="Function">inv-usage-snd</a> <a id="2539" href="Graded.Reduction.html#2472" class="Bound">γ▸t</a>
  <a id="2545" class="Keyword">in</a>  <a id="2549" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Graded.Usage.html#1965" class="InductiveConstructor">sndₘ</a> <a id="2559" class="Symbol">(</a><a id="2560" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="2574" href="Graded.Reduction.html#2517" class="Bound">▸t</a> <a id="2577" href="Graded.Reduction.html#2492" class="Bound">t⇒u</a><a id="2580" class="Symbol">))</a> <a id="2583" href="Graded.Reduction.html#2520" class="Bound">γ≤</a>
<a id="2586" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a>
  <a id="2602" class="Symbol">{</a><a id="2603" class="Argument">γ</a> <a id="2605" class="Symbol">=</a> <a id="2607" href="Graded.Reduction.html#2607" class="Bound">γ</a><a id="2608" class="Symbol">}</a> <a id="2610" class="Symbol">{</a><a id="2611" href="Graded.Reduction.html#2611" class="Bound">m′</a><a id="2613" class="Symbol">}</a> <a id="2615" href="Graded.Reduction.html#2615" class="Bound">▸t′</a> <a id="2619" class="Symbol">(</a><a id="2620" href="Definition.Typed.html#9837" class="InductiveConstructor">Σ-β₁</a> <a id="2625" class="Symbol">{</a><a id="2626" class="Argument">t</a> <a id="2628" class="Symbol">=</a> <a id="2630" href="Graded.Reduction.html#2630" class="Bound">t</a><a id="2631" class="Symbol">}</a> <a id="2633" class="Symbol">{</a><a id="2634" class="Argument">p</a> <a id="2636" class="Symbol">=</a> <a id="2638" href="Graded.Reduction.html#2638" class="Bound">p</a><a id="2639" class="Symbol">}</a> <a id="2641" class="Symbol">_</a> <a id="2643" class="Symbol">_</a> <a id="2645" class="Symbol">_</a> <a id="2647" class="Symbol">_</a> <a id="2649" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="2657" class="Symbol">_)</a> <a id="2660" class="Symbol">=</a>
  <a id="2664" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="2669" href="Graded.Usage.Inversion.html#5044" class="Function">inv-usage-fst</a> <a id="2683" href="Graded.Reduction.html#2615" class="Bound">▸t′</a> <a id="2687" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="2690" class="Symbol">λ</a> <a id="2692" class="Keyword">where</a>
    <a id="2702" class="Symbol">(</a><a id="2703" href="Graded.Usage.Inversion.html#4746" class="InductiveConstructor">invUsageFst</a> <a id="2715" class="Symbol">{</a><a id="2716" class="Argument">δ</a> <a id="2718" class="Symbol">=</a> <a id="2720" href="Graded.Reduction.html#2720" class="Bound">δ</a><a id="2721" class="Symbol">}</a> <a id="2723" href="Graded.Reduction.html#2723" class="Bound">m</a> <a id="2725" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="2733" href="Graded.Reduction.html#2733" class="Bound">▸tu</a> <a id="2737" href="Graded.Reduction.html#2737" class="Bound">γ≤δ</a> <a id="2741" href="Graded.Reduction.html#2741" class="Bound">fst-ok</a><a id="2747" class="Symbol">)</a> <a id="2749" class="Symbol">→</a>
      <a id="2757" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="2762" href="Graded.Usage.Inversion.html#4364" class="Function">inv-usage-prodₚ</a> <a id="2778" href="Graded.Reduction.html#2733" class="Bound">▸tu</a> <a id="2782" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="2785" class="Symbol">λ</a> <a id="2787" class="Keyword">where</a>
        <a id="2801" class="Symbol">(</a><a id="2802" href="Graded.Usage.Inversion.html#4153" class="InductiveConstructor">invUsageProdₚ</a> <a id="2816" class="Symbol">{</a><a id="2817" class="Argument">δ</a> <a id="2819" class="Symbol">=</a> <a id="2821" href="Graded.Reduction.html#2821" class="Bound">ζ</a><a id="2822" class="Symbol">}</a> <a id="2824" class="Symbol">{</a><a id="2825" class="Argument">η</a> <a id="2827" class="Symbol">=</a> <a id="2829" href="Graded.Reduction.html#2829" class="Bound">η</a><a id="2830" class="Symbol">}</a> <a id="2832" href="Graded.Reduction.html#2832" class="Bound">▸t</a> <a id="2835" href="Graded.Reduction.html#2835" class="Bound">▸u</a> <a id="2838" href="Graded.Reduction.html#2838" class="Bound">δ≤pζ∧η</a><a id="2844" class="Symbol">)</a> <a id="2846" class="Symbol">→</a>
         <a id="2857" class="Keyword">let</a> <a id="2861" href="Graded.Reduction.html#2861" class="Bound">γ≤pζ</a> <a id="2866" class="Symbol">=</a>
                <a id="2884" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
                  <a id="2908" href="Graded.Reduction.html#2607" class="Bound">γ</a>            <a id="2921" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2924" href="Graded.Reduction.html#2737" class="Bound">γ≤δ</a> <a id="2928" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
                  <a id="2948" href="Graded.Reduction.html#2720" class="Bound">δ</a>            <a id="2961" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2964" href="Graded.Reduction.html#2838" class="Bound">δ≤pζ∧η</a> <a id="2971" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
                  <a id="2991" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="2993" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="2996" href="Graded.Reduction.html#2821" class="Bound">ζ</a> <a id="2998" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="3001" href="Graded.Reduction.html#2829" class="Bound">η</a>  <a id="3004" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="3007" href="Graded.Context.Properties.Meet.html#2368" class="Function">∧ᶜ-decreasingˡ</a> <a id="3022" class="Symbol">_</a> <a id="3024" class="Symbol">_</a> <a id="3026" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
                  <a id="3046" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3048" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3051" href="Graded.Reduction.html#2821" class="Bound">ζ</a>       <a id="3059" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
         <a id="3070" class="Keyword">in</a>  <a id="3074" href="Graded.Reduction.html#3201" class="Function">lemma</a> <a id="3080" class="Symbol">(</a><a id="3081" href="Graded.Reduction.html#2723" class="Bound">m</a> <a id="3083" href="Graded.Mode.html#4112" class="Function Operator">ᵐ·</a> <a id="3086" href="Graded.Reduction.html#2638" class="Bound">p</a><a id="3087" class="Symbol">)</a> <a id="3089" class="Symbol">(</a><a id="3090" href="Graded.Usage.Properties.html#1773" class="Function">▸-cong</a> <a id="3097" class="Symbol">(</a><a id="3098" href="Graded.Mode.html#19674" class="Function">ᵐ·-idem</a> <a id="3106" href="Graded.Reduction.html#2723" class="Bound">m</a><a id="3107" class="Symbol">)</a> <a id="3109" href="Graded.Reduction.html#2832" class="Bound">▸t</a><a id="3111" class="Symbol">)</a> <a id="3113" href="Graded.Reduction.html#2861" class="Bound">γ≤pζ</a> <a id="3118" href="Graded.Reduction.html#2741" class="Bound">fst-ok</a>
         <a id="3134" class="Keyword">where</a>
         <a id="3149" class="Keyword">open</a> <a id="3154" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="3183" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a>
         <a id="3201" href="Graded.Reduction.html#3201" class="Function">lemma</a> <a id="3207" class="Symbol">:</a> <a id="3209" class="Symbol">∀</a> <a id="3211" class="Symbol">{</a><a id="3212" href="Graded.Reduction.html#3212" class="Bound">γ</a> <a id="3214" href="Graded.Reduction.html#3214" class="Bound">δ</a><a id="3215" class="Symbol">}</a> <a id="3217" href="Graded.Reduction.html#3217" class="Bound">m</a> <a id="3219" class="Symbol">→</a> <a id="3221" href="Graded.Reduction.html#3214" class="Bound">δ</a> <a id="3223" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="3226" href="Graded.Reduction.html#3217" class="Bound">m</a> <a id="3228" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="3230" href="Graded.Reduction.html#2630" class="Bound">t</a>
               <a id="3247" class="Symbol">→</a> <a id="3249" href="Graded.Reduction.html#3212" class="Bound">γ</a> <a id="3251" href="Graded.Context.html#1773" class="Function Operator">≤ᶜ</a> <a id="3254" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3256" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3259" href="Graded.Reduction.html#3214" class="Bound">δ</a>
               <a id="3276" class="Symbol">→</a> <a id="3278" class="Symbol">(</a><a id="3279" href="Graded.Reduction.html#3217" class="Bound">m</a> <a id="3281" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="3286" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="3289" class="Symbol">→</a> <a id="3291" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3293" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="3295" href="Graded.Modality.html#819" class="Function">𝟙</a><a id="3296" class="Symbol">)</a>
               <a id="3313" class="Symbol">→</a> <a id="3315" href="Graded.Reduction.html#3212" class="Bound">γ</a> <a id="3317" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="3320" href="Graded.Reduction.html#3217" class="Bound">m</a> <a id="3322" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="3324" href="Graded.Reduction.html#2630" class="Bound">t</a>
         <a id="3335" href="Graded.Reduction.html#3201" class="Function">lemma</a> <a id="3341" class="Symbol">{</a><a id="3342" class="Argument">γ</a> <a id="3344" class="Symbol">=</a> <a id="3346" href="Graded.Reduction.html#3346" class="Bound">γ</a><a id="3347" class="Symbol">}</a> <a id="3349" class="Symbol">{</a><a id="3350" href="Graded.Reduction.html#3350" class="Bound">δ</a><a id="3351" class="Symbol">}</a> <a id="3353" href="Graded.Mode.html#991" class="InductiveConstructor">𝟘ᵐ</a> <a id="3356" href="Graded.Reduction.html#3356" class="Bound">δ▸t</a> <a id="3360" href="Graded.Reduction.html#3360" class="Bound">γ≤pδ</a> <a id="3365" href="Graded.Reduction.html#3365" class="Bound">fst-ok</a> <a id="3372" class="Symbol">=</a>
           <a id="3385" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="3389" class="Symbol">(</a><a id="3390" href="Graded.Usage.Properties.html#7659" class="Function">▸-𝟘</a> <a id="3394" href="Graded.Reduction.html#3356" class="Bound">δ▸t</a><a id="3397" class="Symbol">)</a>
               <a id="3414" class="Symbol">(</a><a id="3415" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
                 <a id="3438" href="Graded.Reduction.html#3346" class="Bound">γ</a>       <a id="3446" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="3449" href="Graded.Reduction.html#3360" class="Bound">γ≤pδ</a> <a id="3454" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
                 <a id="3473" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3475" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3478" href="Graded.Reduction.html#3350" class="Bound">δ</a>  <a id="3481" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="3484" href="Graded.Context.Properties.Multiplication.html#3377" class="Function">·ᶜ-monotoneʳ</a> <a id="3497" class="Symbol">(</a><a id="3498" href="Graded.Usage.Properties.html#27493" class="Function">▸-𝟘ᵐ</a> <a id="3503" href="Graded.Reduction.html#3356" class="Bound">δ▸t</a><a id="3506" class="Symbol">)</a> <a id="3508" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
                 <a id="3527" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3529" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3532" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="3535" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="3538" href="Graded.Context.Properties.Multiplication.html#1088" class="Function">·ᶜ-zeroʳ</a> <a id="3547" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3549" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
                 <a id="3568" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="3571" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="3572" class="Symbol">)</a>
         <a id="3583" href="Graded.Reduction.html#3201" class="Function">lemma</a> <a id="3589" class="Symbol">{</a><a id="3590" class="Argument">γ</a> <a id="3592" class="Symbol">=</a> <a id="3594" href="Graded.Reduction.html#3594" class="Bound">γ</a><a id="3595" class="Symbol">}</a> <a id="3597" class="Symbol">{</a><a id="3598" href="Graded.Reduction.html#3598" class="Bound">δ</a><a id="3599" class="Symbol">}</a> <a id="3601" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="3604" href="Graded.Reduction.html#3604" class="Bound">δ▸t</a> <a id="3608" href="Graded.Reduction.html#3608" class="Bound">γ≤pδ</a> <a id="3613" href="Graded.Reduction.html#3613" class="Bound">fst-ok</a> <a id="3620" class="Symbol">=</a>
           <a id="3633" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="3637" href="Graded.Reduction.html#3604" class="Bound">δ▸t</a> <a id="3641" class="Symbol">(</a><a id="3642" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
             <a id="3661" href="Graded.Reduction.html#3594" class="Bound">γ</a>      <a id="3668" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="3671" href="Graded.Reduction.html#3608" class="Bound">γ≤pδ</a> <a id="3676" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
             <a id="3691" href="Graded.Reduction.html#2638" class="Bound">p</a> <a id="3693" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3696" href="Graded.Reduction.html#3598" class="Bound">δ</a> <a id="3698" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="3701" href="Graded.Context.Properties.Multiplication.html#3148" class="Function">·ᶜ-monotoneˡ</a> <a id="3714" class="Symbol">(</a><a id="3715" href="Graded.Reduction.html#3613" class="Bound">fst-ok</a> <a id="3722" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a><a id="3729" class="Symbol">)</a> <a id="3731" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
             <a id="3746" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="3748" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="3751" href="Graded.Reduction.html#3598" class="Bound">δ</a> <a id="3753" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="3756" href="Graded.Context.Properties.Multiplication.html#698" class="Function">·ᶜ-identityˡ</a> <a id="3769" href="Graded.Reduction.html#3598" class="Bound">δ</a> <a id="3771" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
             <a id="3786" href="Graded.Reduction.html#3598" class="Bound">δ</a> <a id="3788" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="3789" class="Symbol">)</a>

<a id="3792" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="3806" class="Symbol">{</a><a id="3807" class="Argument">γ</a> <a id="3809" class="Symbol">=</a> <a id="3811" href="Graded.Reduction.html#3811" class="Bound">γ</a><a id="3812" class="Symbol">}</a> <a id="3814" href="Graded.Reduction.html#3814" class="Bound">▸t′</a> <a id="3818" class="Symbol">(</a><a id="3819" href="Definition.Typed.html#10132" class="InductiveConstructor">Σ-β₂</a> <a id="3824" class="Symbol">{</a><a id="3825" class="Argument">p</a> <a id="3827" class="Symbol">=</a> <a id="3829" href="Graded.Reduction.html#3829" class="Bound">p</a><a id="3830" class="Symbol">}</a> <a id="3832" class="Symbol">_</a> <a id="3834" class="Symbol">_</a> <a id="3836" class="Symbol">_</a> <a id="3838" class="Symbol">_</a> <a id="3840" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="3848" class="Symbol">_)</a> <a id="3851" class="Symbol">=</a>
  <a id="3855" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="3860" href="Graded.Usage.Inversion.html#5530" class="Function">inv-usage-snd</a> <a id="3874" href="Graded.Reduction.html#3814" class="Bound">▸t′</a> <a id="3878" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="3881" class="Symbol">λ</a> <a id="3883" class="Keyword">where</a>
    <a id="3893" class="Symbol">(</a><a id="3894" href="Graded.Usage.Inversion.html#5404" class="InductiveConstructor">invUsageSnd</a> <a id="3906" class="Symbol">{</a><a id="3907" class="Argument">δ</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Graded.Reduction.html#3911" class="Bound">δ</a><a id="3912" class="Symbol">}</a> <a id="3914" href="Graded.Reduction.html#3914" class="Bound">▸tu</a> <a id="3918" href="Graded.Reduction.html#3918" class="Bound">γ≤δ</a><a id="3921" class="Symbol">)</a> <a id="3923" class="Symbol">→</a> <a id="3925" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="3930" href="Graded.Usage.Inversion.html#4364" class="Function">inv-usage-prodₚ</a> <a id="3946" href="Graded.Reduction.html#3914" class="Bound">▸tu</a> <a id="3950" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="3953" class="Symbol">λ</a> <a id="3955" class="Keyword">where</a>
      <a id="3967" class="Symbol">(</a><a id="3968" href="Graded.Usage.Inversion.html#4153" class="InductiveConstructor">invUsageProdₚ</a> <a id="3982" class="Symbol">{</a><a id="3983" class="Argument">δ</a> <a id="3985" class="Symbol">=</a> <a id="3987" href="Graded.Reduction.html#3987" class="Bound">ζ</a><a id="3988" class="Symbol">}</a> <a id="3990" class="Symbol">{</a><a id="3991" class="Argument">η</a> <a id="3993" class="Symbol">=</a> <a id="3995" href="Graded.Reduction.html#3995" class="Bound">η</a><a id="3996" class="Symbol">}</a> <a id="3998" href="Graded.Reduction.html#3998" class="Bound">▸t</a> <a id="4001" href="Graded.Reduction.html#4001" class="Bound">▸u</a> <a id="4004" href="Graded.Reduction.html#4004" class="Bound">δ≤pζ∧η</a><a id="4010" class="Symbol">)</a> <a id="4012" class="Symbol">→</a> <a id="4014" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="4018" href="Graded.Reduction.html#4001" class="Bound">▸u</a> <a id="4021" class="Symbol">(</a><a id="4022" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="4036" href="Graded.Reduction.html#3811" class="Bound">γ</a>            <a id="4049" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="4052" href="Graded.Reduction.html#3918" class="Bound">γ≤δ</a> <a id="4056" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="4066" href="Graded.Reduction.html#3911" class="Bound">δ</a>            <a id="4079" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="4082" href="Graded.Reduction.html#4004" class="Bound">δ≤pζ∧η</a> <a id="4089" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="4099" href="Graded.Reduction.html#3829" class="Bound">p</a> <a id="4101" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="4104" href="Graded.Reduction.html#3987" class="Bound">ζ</a> <a id="4106" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="4109" href="Graded.Reduction.html#3995" class="Bound">η</a>  <a id="4112" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="4115" href="Graded.Context.Properties.Meet.html#2582" class="Function">∧ᶜ-decreasingʳ</a> <a id="4130" class="Symbol">_</a> <a id="4132" class="Symbol">_</a> <a id="4134" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="4144" href="Graded.Reduction.html#3995" class="Bound">η</a>            <a id="4157" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="4158" class="Symbol">)</a>
  <a id="4162" class="Keyword">where</a>
  <a id="4170" class="Keyword">open</a> <a id="4175" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="4204" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a>

<a id="4214" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="4228" href="Graded.Reduction.html#4228" class="Bound">γ▸natrec</a> <a id="4237" class="Symbol">(</a><a id="4238" href="Definition.Typed.html#11203" class="InductiveConstructor">natrec-subst</a> <a id="4251" href="Graded.Reduction.html#4251" class="Bound">x</a> <a id="4253" href="Graded.Reduction.html#4253" class="Bound">x₁</a> <a id="4256" href="Graded.Reduction.html#4256" class="Bound">x₂</a> <a id="4259" href="Graded.Reduction.html#4259" class="Bound">t⇒u</a><a id="4262" class="Symbol">)</a> <a id="4264" class="Symbol">=</a>
  <a id="4268" class="Keyword">let</a> <a id="4272" href="Graded.Usage.Inversion.html#7424" class="InductiveConstructor">invUsageNatrec</a> <a id="4287" href="Graded.Reduction.html#4287" class="Bound">δ▸z</a> <a id="4291" href="Graded.Reduction.html#4291" class="Bound">η▸s</a> <a id="4295" href="Graded.Reduction.html#4295" class="Bound">θ▸n</a> <a id="4299" href="Graded.Reduction.html#4299" class="Bound">φ▸A</a> <a id="4303" href="Graded.Reduction.html#4303" class="Bound">γ≤X</a> <a id="4307" class="Symbol">=</a> <a id="4309" href="Graded.Usage.Inversion.html#7819" class="Function">inv-usage-natrec</a> <a id="4326" href="Graded.Reduction.html#4228" class="Bound">γ▸natrec</a>
  <a id="4337" class="Keyword">in</a>  <a id="4341" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="4345" class="Symbol">(</a><a id="4346" href="Graded.Usage.html#2320" class="InductiveConstructor">natrecₘ</a> <a id="4354" href="Graded.Reduction.html#4287" class="Bound">δ▸z</a> <a id="4358" href="Graded.Reduction.html#4291" class="Bound">η▸s</a> <a id="4362" class="Symbol">(</a><a id="4363" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="4377" href="Graded.Reduction.html#4295" class="Bound">θ▸n</a> <a id="4381" href="Graded.Reduction.html#4259" class="Bound">t⇒u</a><a id="4384" class="Symbol">)</a> <a id="4386" href="Graded.Reduction.html#4299" class="Bound">φ▸A</a><a id="4389" class="Symbol">)</a> <a id="4391" href="Graded.Reduction.html#4303" class="Bound">γ≤X</a>

<a id="4396" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="4410" href="Graded.Reduction.html#4410" class="Bound">γ▸natrec</a> <a id="4419" class="Symbol">(</a><a id="4420" href="Definition.Typed.html#11555" class="InductiveConstructor">natrec-zero</a> <a id="4432" class="Symbol">{</a><a id="4433" class="Argument">p</a> <a id="4435" class="Symbol">=</a> <a id="4437" href="Graded.Reduction.html#4437" class="Bound">p</a><a id="4438" class="Symbol">}</a> <a id="4440" class="Symbol">{</a><a id="4441" class="Argument">r</a> <a id="4443" class="Symbol">=</a> <a id="4445" href="Graded.Reduction.html#4445" class="Bound">r</a><a id="4446" class="Symbol">}</a> <a id="4448" href="Graded.Reduction.html#4448" class="Bound">x</a> <a id="4450" href="Graded.Reduction.html#4450" class="Bound">x₁</a> <a id="4453" href="Graded.Reduction.html#4453" class="Bound">x₂</a><a id="4455" class="Symbol">)</a> <a id="4457" class="Symbol">=</a>
  <a id="4461" class="Keyword">let</a> <a id="4465" href="Graded.Usage.Inversion.html#7424" class="InductiveConstructor">invUsageNatrec</a> <a id="4480" class="Symbol">{</a><a id="4481" class="Argument">δ</a> <a id="4483" class="Symbol">=</a> <a id="4485" href="Graded.Reduction.html#4485" class="Bound">δ</a><a id="4486" class="Symbol">}</a> <a id="4488" class="Symbol">{</a><a id="4489" class="Argument">θ</a> <a id="4491" class="Symbol">=</a> <a id="4493" href="Graded.Reduction.html#4493" class="Bound">θ</a><a id="4494" class="Symbol">}</a> <a id="4496" href="Graded.Reduction.html#4496" class="Bound">δ▸z</a> <a id="4500" href="Graded.Reduction.html#4500" class="Bound">η▸s</a> <a id="4504" href="Graded.Reduction.html#4504" class="Bound">θ▸n</a> <a id="4508" href="Graded.Reduction.html#4508" class="Bound">φ▸A</a> <a id="4512" href="Graded.Reduction.html#4512" class="Bound">γ≤γ′</a> <a id="4517" class="Symbol">=</a> <a id="4519" href="Graded.Usage.Inversion.html#7819" class="Function">inv-usage-natrec</a> <a id="4536" href="Graded.Reduction.html#4410" class="Bound">γ▸natrec</a>
      <a id="4551" href="Graded.Reduction.html#4551" class="Bound">θ≤𝟘</a> <a id="4555" class="Symbol">=</a> <a id="4557" href="Graded.Usage.Inversion.html#6660" class="Function">inv-usage-zero</a> <a id="4572" href="Graded.Reduction.html#4504" class="Bound">θ▸n</a>
      <a id="4582" href="Graded.Reduction.html#4582" class="Bound">γ′≤δ</a> <a id="4587" class="Symbol">=</a> <a id="4589" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="4603" class="Symbol">(</a><a id="4604" href="Graded.Reduction.html#4485" class="Bound">δ</a> <a id="4606" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="4609" href="Graded.Reduction.html#4493" class="Bound">θ</a><a id="4610" class="Symbol">)</a> <a id="4612" href="Graded.Context.html#1859" class="Function Operator">⊛ᶜ</a> <a id="4615" class="Symbol">(_</a> <a id="4618" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="4621" href="Graded.Reduction.html#4437" class="Bound">p</a> <a id="4623" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="4626" class="Symbol">_)</a> <a id="4629" href="Graded.Context.html#1859" class="Function Operator">▷</a> <a id="4631" href="Graded.Reduction.html#4445" class="Bound">r</a> <a id="4633" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="4636" href="Graded.Context.Properties.Star.html#951" class="Function">⊛ᶜ-ineq₂</a> <a id="4645" class="Symbol">(</a><a id="4646" href="Graded.Reduction.html#4485" class="Bound">δ</a> <a id="4648" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="4651" href="Graded.Reduction.html#4493" class="Bound">θ</a><a id="4652" class="Symbol">)</a> <a id="4654" class="Symbol">_</a> <a id="4656" href="Graded.Reduction.html#4445" class="Bound">r</a> <a id="4658" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="4668" href="Graded.Reduction.html#4485" class="Bound">δ</a> <a id="4670" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="4673" href="Graded.Reduction.html#4493" class="Bound">θ</a>                        <a id="4698" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="4701" href="Graded.Context.Properties.Meet.html#2368" class="Function">∧ᶜ-decreasingˡ</a> <a id="4716" href="Graded.Reduction.html#4485" class="Bound">δ</a> <a id="4718" href="Graded.Reduction.html#4493" class="Bound">θ</a> <a id="4720" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="4730" href="Graded.Reduction.html#4485" class="Bound">δ</a>                             <a id="4760" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="4764" class="Keyword">in</a>  <a id="4768" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="4772" href="Graded.Reduction.html#4496" class="Bound">δ▸z</a> <a id="4776" class="Symbol">(</a><a id="4777" href="Graded.Context.Properties.PartialOrder.html#742" class="Function">≤ᶜ-trans</a> <a id="4786" href="Graded.Reduction.html#4512" class="Bound">γ≤γ′</a> <a id="4791" href="Graded.Reduction.html#4582" class="Bound">γ′≤δ</a><a id="4795" class="Symbol">)</a>
  <a id="4799" class="Keyword">where</a>
  <a id="4807" class="Keyword">open</a> <a id="4812" class="Keyword">import</a> <a id="4819" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="4848" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a>

<a id="4858" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="4872" class="Symbol">{</a><a id="4873" class="Argument">γ</a> <a id="4875" class="Symbol">=</a> <a id="4877" href="Graded.Reduction.html#4877" class="Bound">γ</a><a id="4878" class="Symbol">}</a> <a id="4880" href="Graded.Reduction.html#4880" class="Bound">γ▸natrec</a> <a id="4889" class="Symbol">(</a><a id="4890" href="Definition.Typed.html#11764" class="InductiveConstructor">natrec-suc</a> <a id="4901" class="Symbol">{</a><a id="4902" class="Argument">p</a> <a id="4904" class="Symbol">=</a> <a id="4906" href="Graded.Reduction.html#4906" class="Bound">p</a><a id="4907" class="Symbol">}</a> <a id="4909" class="Symbol">{</a><a id="4910" class="Argument">r</a> <a id="4912" class="Symbol">=</a> <a id="4914" href="Graded.Reduction.html#4914" class="Bound">r</a><a id="4915" class="Symbol">}</a> <a id="4917" href="Graded.Reduction.html#4917" class="Bound">x</a> <a id="4919" href="Graded.Reduction.html#4919" class="Bound">x₁</a> <a id="4922" href="Graded.Reduction.html#4922" class="Bound">x₂</a> <a id="4925" href="Graded.Reduction.html#4925" class="Bound">x₃</a><a id="4927" class="Symbol">)</a> <a id="4929" class="Symbol">=</a>
  <a id="4933" class="Keyword">let</a> <a id="4937" href="Graded.Usage.Inversion.html#7424" class="InductiveConstructor">invUsageNatrec</a> <a id="4952" class="Symbol">{</a><a id="4953" class="Argument">δ</a> <a id="4955" class="Symbol">=</a> <a id="4957" href="Graded.Reduction.html#4957" class="Bound">δ</a><a id="4958" class="Symbol">}</a> <a id="4960" class="Symbol">{</a><a id="4961" href="Graded.Reduction.html#4961" class="Bound">η</a><a id="4962" class="Symbol">}</a> <a id="4964" class="Symbol">{</a><a id="4965" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="4966" class="Symbol">}</a> <a id="4968" href="Graded.Reduction.html#4968" class="Bound">δ▸z</a> <a id="4972" href="Graded.Reduction.html#4972" class="Bound">η▸s</a> <a id="4976" href="Graded.Reduction.html#4976" class="Bound">θ▸sn</a> <a id="4981" href="Graded.Reduction.html#4981" class="Bound">φ▸A</a> <a id="4985" href="Graded.Reduction.html#4985" class="Bound">γ≤γ′</a> <a id="4990" class="Symbol">=</a> <a id="4992" href="Graded.Usage.Inversion.html#7819" class="Function">inv-usage-natrec</a> <a id="5009" href="Graded.Reduction.html#4880" class="Bound">γ▸natrec</a>
      <a id="5024" href="Graded.Usage.Inversion.html#6903" class="InductiveConstructor">invUsageSuc</a> <a id="5036" class="Symbol">{</a><a id="5037" class="Argument">δ</a> <a id="5039" class="Symbol">=</a> <a id="5041" href="Graded.Reduction.html#5041" class="Bound">θ′</a><a id="5043" class="Symbol">}</a> <a id="5045" href="Graded.Reduction.html#5045" class="Bound">θ′▸n</a> <a id="5050" href="Graded.Reduction.html#5050" class="Bound">θ≤θ′</a> <a id="5055" class="Symbol">=</a> <a id="5057" href="Graded.Usage.Inversion.html#7029" class="Function">inv-usage-suc</a> <a id="5071" href="Graded.Reduction.html#4976" class="Bound">θ▸sn</a>
      <a id="5082" href="Graded.Reduction.html#5082" class="Bound">γ′</a> <a id="5085" class="Symbol">=</a> <a id="5087" class="Symbol">(</a><a id="5088" href="Graded.Reduction.html#4957" class="Bound">δ</a> <a id="5090" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="5093" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5094" class="Symbol">)</a> <a id="5096" href="Graded.Context.html#1859" class="Function Operator">⊛ᶜ</a> <a id="5099" class="Symbol">(</a><a id="5100" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5102" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5105" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5107" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5110" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5111" class="Symbol">)</a> <a id="5113" href="Graded.Context.html#1859" class="Function Operator">▷</a> <a id="5115" href="Graded.Reduction.html#4914" class="Bound">r</a>
      <a id="5123" href="Graded.Reduction.html#5123" class="Bound">γ≤γ″</a> <a id="5128" class="Symbol">=</a> <a id="5130" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="5144" href="Graded.Reduction.html#4877" class="Bound">γ</a>       <a id="5152" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="5155" href="Graded.Reduction.html#4985" class="Bound">γ≤γ′</a> <a id="5160" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="5170" href="Graded.Reduction.html#5082" class="Bound">γ′</a>      <a id="5178" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="5181" href="Graded.Context.Properties.Star.html#736" class="Function">⊛ᶜ-ineq₁</a> <a id="5190" class="Symbol">_</a> <a id="5192" class="Symbol">_</a> <a id="5194" class="Symbol">_</a> <a id="5196" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="5206" class="Symbol">(</a><a id="5207" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5209" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5212" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5214" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5217" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5218" class="Symbol">)</a> <a id="5220" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5223" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5225" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5228" href="Graded.Reduction.html#5082" class="Bound">γ′</a>
                <a id="5247" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="5250" href="Graded.Context.Properties.Addition.html#1104" class="Function">+ᶜ-assoc</a> <a id="5259" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5261" class="Symbol">(</a><a id="5262" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5264" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5267" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5268" class="Symbol">)</a> <a id="5270" class="Symbol">(</a><a id="5271" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5273" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5276" class="Symbol">(</a><a id="5277" href="Graded.Reduction.html#4957" class="Bound">δ</a> <a id="5279" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="5282" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5283" class="Symbol">)</a> <a id="5285" href="Graded.Context.html#1859" class="Function Operator">⊛ᶜ</a> <a id="5288" class="Symbol">(</a><a id="5289" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5291" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5297" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5300" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5301" class="Symbol">))</a> <a id="5304" href="Graded.Context.html#1859" class="Function Operator">▷</a> <a id="5306" href="Graded.Reduction.html#4914" class="Bound">r</a><a id="5307" class="Symbol">)</a> <a id="5309" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
        <a id="5319" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5321" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5324" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5326" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5329" href="Graded.Reduction.html#4965" class="Bound">θ</a> <a id="5331" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5334" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5336" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5339" href="Graded.Reduction.html#5082" class="Bound">γ′</a>
               <a id="5357" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="5360" href="Graded.Context.Properties.Addition.html#2619" class="Function">+ᶜ-congˡ</a> <a id="5369" class="Symbol">(</a><a id="5370" href="Graded.Context.Properties.Addition.html#1303" class="Function">+ᶜ-comm</a> <a id="5378" class="Symbol">(</a><a id="5379" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5381" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5384" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5385" class="Symbol">)</a> <a id="5387" class="Symbol">(</a><a id="5388" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5390" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5393" class="Symbol">(</a><a id="5394" href="Graded.Reduction.html#4957" class="Bound">δ</a> <a id="5396" href="Graded.Context.html#1539" class="Function Operator">∧ᶜ</a> <a id="5399" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5400" class="Symbol">)</a> <a id="5402" href="Graded.Context.html#1859" class="Function Operator">⊛ᶜ</a> <a id="5405" class="Symbol">(</a><a id="5406" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5408" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5411" class="Symbol">(</a><a id="5412" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5414" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5417" href="Graded.Reduction.html#4965" class="Bound">θ</a><a id="5418" class="Symbol">))</a> <a id="5421" href="Graded.Context.html#1859" class="Function Operator">▷</a> <a id="5423" href="Graded.Reduction.html#4914" class="Bound">r</a><a id="5424" class="Symbol">))</a> <a id="5427" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
        <a id="5437" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5439" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5442" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5444" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5447" href="Graded.Reduction.html#5082" class="Bound">γ′</a> <a id="5450" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5453" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5455" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5458" href="Graded.Reduction.html#4965" class="Bound">θ</a>
               <a id="5475" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="5478" href="Graded.Context.Properties.Addition.html#3125" class="Function">+ᶜ-monotoneʳ</a> <a id="5491" class="Symbol">(</a><a id="5492" href="Graded.Context.Properties.Addition.html#3125" class="Function">+ᶜ-monotoneʳ</a> <a id="5505" class="Symbol">(</a><a id="5506" href="Graded.Context.Properties.Multiplication.html#3377" class="Function">·ᶜ-monotoneʳ</a> <a id="5519" href="Graded.Reduction.html#5050" class="Bound">θ≤θ′</a><a id="5523" class="Symbol">))</a> <a id="5526" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="5536" href="Graded.Reduction.html#4961" class="Bound">η</a> <a id="5538" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5541" href="Graded.Reduction.html#4914" class="Bound">r</a> <a id="5543" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5546" href="Graded.Reduction.html#5082" class="Bound">γ′</a> <a id="5549" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="5552" href="Graded.Reduction.html#4906" class="Bound">p</a> <a id="5554" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="5557" href="Graded.Reduction.html#5041" class="Bound">θ′</a> <a id="5560" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="5564" class="Keyword">in</a>  <a id="5568" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Graded.Substitution.Properties.html#47182" class="Function">doubleSubstₘ-lemma₃</a> <a id="5593" href="Graded.Reduction.html#4972" class="Bound">η▸s</a>
             <a id="5610" class="Symbol">(</a><a id="5611" href="Graded.Usage.html#2320" class="InductiveConstructor">natrecₘ</a> <a id="5619" href="Graded.Reduction.html#4968" class="Bound">δ▸z</a> <a id="5623" href="Graded.Reduction.html#4972" class="Bound">η▸s</a> <a id="5627" class="Symbol">(</a><a id="5628" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="5632" href="Graded.Reduction.html#5045" class="Bound">θ′▸n</a> <a id="5637" href="Graded.Reduction.html#5050" class="Bound">θ≤θ′</a><a id="5641" class="Symbol">)</a> <a id="5643" href="Graded.Reduction.html#4981" class="Bound">φ▸A</a><a id="5646" class="Symbol">)</a> <a id="5648" href="Graded.Reduction.html#5045" class="Bound">θ′▸n</a><a id="5652" class="Symbol">)</a>
        <a id="5662" href="Graded.Reduction.html#5123" class="Bound">γ≤γ″</a>
  <a id="5669" class="Keyword">where</a>
  <a id="5677" class="Keyword">open</a> <a id="5682" class="Keyword">import</a> <a id="5689" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="5718" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a>

<a id="5728" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="5742" href="Graded.Reduction.html#5742" class="Bound">γ▸prodrec</a> <a id="5752" class="Symbol">(</a><a id="5753" href="Definition.Typed.html#10453" class="InductiveConstructor">prodrec-subst</a> <a id="5767" href="Graded.Reduction.html#5767" class="Bound">x</a> <a id="5769" href="Graded.Reduction.html#5769" class="Bound">x₁</a> <a id="5772" href="Graded.Reduction.html#5772" class="Bound">x₂</a> <a id="5775" href="Graded.Reduction.html#5775" class="Bound">x₃</a> <a id="5778" href="Graded.Reduction.html#5778" class="Bound">x₄</a> <a id="5781" class="Symbol">_)</a> <a id="5784" class="Symbol">=</a>
  <a id="5788" class="Keyword">let</a> <a id="5792" href="Graded.Usage.Inversion.html#5908" class="InductiveConstructor">invUsageProdrec</a> <a id="5808" href="Graded.Reduction.html#5808" class="Bound">δ▸t</a> <a id="5812" href="Graded.Reduction.html#5812" class="Bound">η▸u</a> <a id="5816" href="Graded.Reduction.html#5816" class="Bound">θ▸A</a> <a id="5820" href="Graded.Reduction.html#5820" class="Bound">ok</a> <a id="5823" href="Graded.Reduction.html#5823" class="Bound">γ≤γ′</a> <a id="5828" class="Symbol">=</a> <a id="5830" href="Graded.Usage.Inversion.html#6300" class="Function">inv-usage-prodrec</a> <a id="5848" href="Graded.Reduction.html#5742" class="Bound">γ▸prodrec</a>
  <a id="5860" class="Keyword">in</a>  <a id="5864" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="5868" class="Symbol">(</a><a id="5869" href="Graded.Usage.html#2022" class="InductiveConstructor">prodrecₘ</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="5893" href="Graded.Reduction.html#5808" class="Bound">δ▸t</a> <a id="5897" href="Graded.Reduction.html#5778" class="Bound">x₄</a><a id="5899" class="Symbol">)</a> <a id="5901" href="Graded.Reduction.html#5812" class="Bound">η▸u</a> <a id="5905" href="Graded.Reduction.html#5816" class="Bound">θ▸A</a> <a id="5909" href="Graded.Reduction.html#5820" class="Bound">ok</a><a id="5911" class="Symbol">)</a> <a id="5913" href="Graded.Reduction.html#5823" class="Bound">γ≤γ′</a>
<a id="5918" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a>
  <a id="5934" class="Symbol">{</a><a id="5935" class="Argument">γ</a> <a id="5937" class="Symbol">=</a> <a id="5939" href="Graded.Reduction.html#5939" class="Bound">γ</a><a id="5940" class="Symbol">}</a> <a id="5942" class="Symbol">{</a><a id="5943" class="Argument">m</a> <a id="5945" class="Symbol">=</a> <a id="5947" href="Graded.Reduction.html#5947" class="Bound">m</a><a id="5948" class="Symbol">}</a> <a id="5950" href="Graded.Reduction.html#5950" class="Bound">γ▸prodrec</a>
  <a id="5962" class="Symbol">(</a><a id="5963" href="Definition.Typed.html#10785" class="InductiveConstructor">prodrec-β</a> <a id="5973" class="Symbol">{</a><a id="5974" class="Argument">p</a> <a id="5976" class="Symbol">=</a> <a id="5978" href="Graded.Reduction.html#5978" class="Bound">p</a><a id="5979" class="Symbol">}</a> <a id="5981" class="Symbol">{</a><a id="5982" class="Argument">t</a> <a id="5984" class="Symbol">=</a> <a id="5986" href="Graded.Reduction.html#5986" class="Bound">t</a><a id="5987" class="Symbol">}</a> <a id="5989" class="Symbol">{</a><a id="5990" class="Argument">t′</a> <a id="5993" class="Symbol">=</a> <a id="5995" href="Graded.Reduction.html#5995" class="Bound">t′</a><a id="5997" class="Symbol">}</a> <a id="5999" class="Symbol">{</a><a id="6000" class="Argument">u</a> <a id="6002" class="Symbol">=</a> <a id="6004" href="Graded.Reduction.html#6004" class="Bound">u</a><a id="6005" class="Symbol">}</a> <a id="6007" class="Symbol">{</a><a id="6008" class="Argument">r</a> <a id="6010" class="Symbol">=</a> <a id="6012" href="Graded.Reduction.html#6012" class="Bound">r</a><a id="6013" class="Symbol">}</a>
     <a id="6020" class="Symbol">_</a> <a id="6022" class="Symbol">_</a> <a id="6024" class="Symbol">_</a> <a id="6026" class="Symbol">_</a> <a id="6028" class="Symbol">_</a> <a id="6030" class="Symbol">_</a> <a id="6032" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="6040" class="Symbol">_)</a> <a id="6043" class="Symbol">=</a>
  <a id="6047" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="6052" href="Graded.Usage.Inversion.html#6300" class="Function">inv-usage-prodrec</a> <a id="6070" href="Graded.Reduction.html#5950" class="Bound">γ▸prodrec</a> <a id="6080" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="6083" class="Symbol">λ</a> <a id="6085" class="Keyword">where</a>
    <a id="6095" class="Symbol">(</a><a id="6096" href="Graded.Usage.Inversion.html#5908" class="InductiveConstructor">invUsageProdrec</a> <a id="6112" class="Symbol">{</a><a id="6113" class="Argument">δ</a> <a id="6115" class="Symbol">=</a> <a id="6117" href="Graded.Reduction.html#6117" class="Bound">δ</a><a id="6118" class="Symbol">}</a> <a id="6120" class="Symbol">{</a><a id="6121" class="Argument">η</a> <a id="6123" class="Symbol">=</a> <a id="6125" href="Graded.Reduction.html#6125" class="Bound">η</a><a id="6126" class="Symbol">}</a> <a id="6128" href="Graded.Reduction.html#6128" class="Bound">▸t</a> <a id="6131" href="Graded.Reduction.html#6131" class="Bound">▸u</a> <a id="6134" class="Symbol">_</a> <a id="6136" class="Symbol">_</a> <a id="6138" href="Graded.Reduction.html#6138" class="Bound">γ≤rδ+η</a><a id="6144" class="Symbol">)</a> <a id="6146" class="Symbol">→</a>
      <a id="6154" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="6159" href="Graded.Usage.Inversion.html#3764" class="Function">inv-usage-prodᵣ</a> <a id="6175" href="Graded.Reduction.html#6128" class="Bound">▸t</a> <a id="6178" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="6181" class="Symbol">λ</a> <a id="6183" class="Keyword">where</a>
        <a id="6197" class="Symbol">(</a><a id="6198" href="Graded.Usage.Inversion.html#3556" class="InductiveConstructor">invUsageProdᵣ</a> <a id="6212" class="Symbol">{</a><a id="6213" class="Argument">δ</a> <a id="6215" class="Symbol">=</a> <a id="6217" href="Graded.Reduction.html#6217" class="Bound">δ′</a><a id="6219" class="Symbol">}</a> <a id="6221" class="Symbol">{</a><a id="6222" class="Argument">η</a> <a id="6224" class="Symbol">=</a> <a id="6226" href="Graded.Reduction.html#6226" class="Bound">η′</a><a id="6228" class="Symbol">}</a> <a id="6230" href="Graded.Reduction.html#6230" class="Bound">▸t₁</a> <a id="6234" href="Graded.Reduction.html#6234" class="Bound">▸t₂</a> <a id="6238" href="Graded.Reduction.html#6238" class="Bound">δ≤pδ′+η′</a><a id="6246" class="Symbol">)</a> <a id="6248" class="Symbol">→</a> <a id="6250" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a>
          <a id="6264" class="Symbol">(</a><a id="6265" href="Graded.Substitution.Properties.html#45984" class="Function">doubleSubstₘ-lemma₂</a> <a id="6285" href="Graded.Reduction.html#6131" class="Bound">▸u</a> <a id="6288" href="Graded.Reduction.html#6234" class="Bound">▸t₂</a> <a id="6292" class="Symbol">(</a><a id="6293" href="Graded.Usage.Properties.html#1773" class="Function">▸-cong</a> <a id="6300" class="Symbol">(</a><a id="6301" href="Graded.Mode.html#19207" class="Function">ᵐ·-·-assoc</a> <a id="6312" href="Graded.Reduction.html#5947" class="Bound">m</a><a id="6313" class="Symbol">)</a> <a id="6315" href="Graded.Reduction.html#6230" class="Bound">▸t₁</a><a id="6318" class="Symbol">))</a>
          <a id="6331" class="Symbol">(</a><a id="6332" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
             <a id="6351" href="Graded.Reduction.html#5939" class="Bound">γ</a>                              <a id="6382" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="6385" href="Graded.Reduction.html#6138" class="Bound">γ≤rδ+η</a> <a id="6392" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
             <a id="6407" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6409" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6412" href="Graded.Reduction.html#6117" class="Bound">δ</a> <a id="6414" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6417" href="Graded.Reduction.html#6125" class="Bound">η</a>                    <a id="6438" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="6441" href="Graded.Context.Properties.Addition.html#1303" class="Function">+ᶜ-comm</a> <a id="6449" class="Symbol">_</a> <a id="6451" class="Symbol">_</a> <a id="6453" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
             <a id="6468" href="Graded.Reduction.html#6125" class="Bound">η</a> <a id="6470" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6473" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6475" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6478" href="Graded.Reduction.html#6117" class="Bound">δ</a>                    <a id="6499" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="6502" href="Graded.Context.Properties.Addition.html#3125" class="Function">+ᶜ-monotoneʳ</a> <a id="6515" class="Symbol">(</a><a id="6516" href="Graded.Context.Properties.Multiplication.html#3377" class="Function">·ᶜ-monotoneʳ</a> <a id="6529" href="Graded.Reduction.html#6238" class="Bound">δ≤pδ′+η′</a><a id="6537" class="Symbol">)</a> <a id="6539" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
             <a id="6554" href="Graded.Reduction.html#6125" class="Bound">η</a> <a id="6556" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6559" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6561" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6564" class="Symbol">(</a><a id="6565" href="Graded.Reduction.html#5978" class="Bound">p</a> <a id="6567" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6570" href="Graded.Reduction.html#6217" class="Bound">δ′</a> <a id="6573" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6576" href="Graded.Reduction.html#6226" class="Bound">η′</a><a id="6578" class="Symbol">)</a>      <a id="6585" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="6588" href="Graded.Context.Properties.Addition.html#2619" class="Function">+ᶜ-congˡ</a> <a id="6597" class="Symbol">(</a><a id="6598" href="Graded.Context.Properties.Multiplication.html#2901" class="Function">·ᶜ-congˡ</a> <a id="6607" class="Symbol">(</a><a id="6608" href="Graded.Context.Properties.Addition.html#1303" class="Function">+ᶜ-comm</a> <a id="6616" class="Symbol">_</a> <a id="6618" class="Symbol">_))</a> <a id="6622" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
             <a id="6637" href="Graded.Reduction.html#6125" class="Bound">η</a> <a id="6639" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6642" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6644" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6647" class="Symbol">(</a><a id="6648" href="Graded.Reduction.html#6226" class="Bound">η′</a> <a id="6651" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6654" href="Graded.Reduction.html#5978" class="Bound">p</a> <a id="6656" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6659" href="Graded.Reduction.html#6217" class="Bound">δ′</a><a id="6661" class="Symbol">)</a>      <a id="6668" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="6671" href="Graded.Context.Properties.Addition.html#2619" class="Function">+ᶜ-congˡ</a> <a id="6680" class="Symbol">(</a><a id="6681" href="Graded.Context.Properties.Multiplication.html#1564" class="Function">·ᶜ-distribˡ-+ᶜ</a> <a id="6696" class="Symbol">_</a> <a id="6698" class="Symbol">_</a> <a id="6700" class="Symbol">_)</a> <a id="6703" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
             <a id="6718" href="Graded.Reduction.html#6125" class="Bound">η</a> <a id="6720" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6723" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6725" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6728" href="Graded.Reduction.html#6226" class="Bound">η′</a> <a id="6731" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6734" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6736" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6739" href="Graded.Reduction.html#5978" class="Bound">p</a> <a id="6741" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6744" href="Graded.Reduction.html#6217" class="Bound">δ′</a>   <a id="6749" href="Relation.Binary.Reasoning.Base.Triple.html#4358" class="Function">≈˘⟨</a> <a id="6753" href="Graded.Context.Properties.Addition.html#2619" class="Function">+ᶜ-congˡ</a> <a id="6762" class="Symbol">(</a><a id="6763" href="Graded.Context.Properties.Addition.html#2619" class="Function">+ᶜ-congˡ</a> <a id="6772" class="Symbol">(</a><a id="6773" href="Graded.Context.Properties.Multiplication.html#1302" class="Function">·ᶜ-assoc</a> <a id="6782" class="Symbol">_</a> <a id="6784" class="Symbol">_</a> <a id="6786" class="Symbol">_))</a> <a id="6790" href="Relation.Binary.Reasoning.Base.Triple.html#4358" class="Function">⟩</a>
             <a id="6805" href="Graded.Reduction.html#6125" class="Bound">η</a> <a id="6807" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6810" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6812" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6815" href="Graded.Reduction.html#6226" class="Bound">η′</a> <a id="6818" href="Graded.Context.html#1419" class="Function Operator">+ᶜ</a> <a id="6821" class="Symbol">(</a><a id="6822" href="Graded.Reduction.html#6012" class="Bound">r</a> <a id="6824" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="6826" href="Graded.Reduction.html#5978" class="Bound">p</a><a id="6827" class="Symbol">)</a> <a id="6829" href="Graded.Context.html#1651" class="Function Operator">·ᶜ</a> <a id="6832" href="Graded.Reduction.html#6217" class="Bound">δ′</a>  <a id="6836" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="6837" class="Symbol">)</a>
  <a id="6841" class="Keyword">where</a>
  <a id="6849" class="Keyword">open</a> <a id="6854" class="Keyword">import</a> <a id="6861" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="6890" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a>

<a id="6900" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="6914" href="Graded.Reduction.html#6914" class="Bound">γ▸et</a> <a id="6919" class="Symbol">(</a><a id="6920" href="Definition.Typed.html#12130" class="InductiveConstructor">emptyrec-subst</a> <a id="6935" href="Graded.Reduction.html#6935" class="Bound">x</a> <a id="6937" href="Graded.Reduction.html#6937" class="Bound">t⇒u</a><a id="6940" class="Symbol">)</a> <a id="6942" class="Symbol">=</a>
  <a id="6946" class="Keyword">let</a> <a id="6950" href="Graded.Usage.Inversion.html#8318" class="InductiveConstructor">invUsageemptyrec</a> <a id="6967" href="Graded.Reduction.html#6967" class="Bound">δ▸t</a> <a id="6971" href="Graded.Reduction.html#6971" class="Bound">η▸A</a> <a id="6975" href="Graded.Reduction.html#6975" class="Bound">γ≤δ</a> <a id="6979" class="Symbol">=</a> <a id="6981" href="Graded.Usage.Inversion.html#8523" class="Function">inv-usage-emptyrec</a> <a id="7000" href="Graded.Reduction.html#6914" class="Bound">γ▸et</a>
  <a id="7007" class="Keyword">in</a>  <a id="7011" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="7015" class="Symbol">(</a><a id="7016" href="Graded.Usage.html#2553" class="InductiveConstructor">emptyrecₘ</a> <a id="7026" class="Symbol">(</a><a id="7027" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="7041" href="Graded.Reduction.html#6967" class="Bound">δ▸t</a> <a id="7045" href="Graded.Reduction.html#6937" class="Bound">t⇒u</a><a id="7048" class="Symbol">)</a> <a id="7050" href="Graded.Reduction.html#6971" class="Bound">η▸A</a><a id="7053" class="Symbol">)</a> <a id="7055" href="Graded.Reduction.html#6975" class="Bound">γ≤δ</a>

<a id="7060" class="Comment">-- Type reduction preserves usage.</a>

<a id="usagePres"></a><a id="7096" href="Graded.Reduction.html#7096" class="Function">usagePres</a> <a id="7106" class="Symbol">:</a> <a id="7108" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7110" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7113" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7115" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7117" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="7119" class="Symbol">→</a> <a id="7121" href="Graded.Reduction.html#1405" class="Generalizable">Γ</a> <a id="7123" href="Definition.Typed.html#12308" class="Datatype Operator">⊢</a> <a id="7125" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="7127" href="Definition.Typed.html#12308" class="Datatype Operator">⇒</a> <a id="7129" href="Graded.Reduction.html#1445" class="Generalizable">B</a> <a id="7131" class="Symbol">→</a> <a id="7133" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7135" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7138" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7140" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7142" href="Graded.Reduction.html#1445" class="Generalizable">B</a>
<a id="7144" href="Graded.Reduction.html#7096" class="Function">usagePres</a> <a id="7154" href="Graded.Reduction.html#7154" class="Bound">γ▸A</a> <a id="7158" class="Symbol">(</a><a id="7159" href="Definition.Typed.html#12365" class="InductiveConstructor">univ</a> <a id="7164" href="Graded.Reduction.html#7164" class="Bound">A⇒B</a><a id="7167" class="Symbol">)</a> <a id="7169" class="Symbol">=</a> <a id="7171" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="7185" href="Graded.Reduction.html#7154" class="Bound">γ▸A</a> <a id="7189" href="Graded.Reduction.html#7164" class="Bound">A⇒B</a>

<a id="7194" class="Comment">-- Multi-step term reduction preserves usage.</a>

<a id="usagePres*Term"></a><a id="7241" href="Graded.Reduction.html#7241" class="Function">usagePres*Term</a> <a id="7256" class="Symbol">:</a> <a id="7258" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7260" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7263" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7265" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7267" href="Graded.Reduction.html#1439" class="Generalizable">t</a> <a id="7269" class="Symbol">→</a> <a id="7271" href="Graded.Reduction.html#1405" class="Generalizable">Γ</a> <a id="7273" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="7275" href="Graded.Reduction.html#1439" class="Generalizable">t</a> <a id="7277" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="7280" href="Graded.Reduction.html#1441" class="Generalizable">u</a> <a id="7282" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="7284" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="7286" class="Symbol">→</a> <a id="7288" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7290" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7293" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7295" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7297" href="Graded.Reduction.html#1441" class="Generalizable">u</a>
<a id="7299" href="Graded.Reduction.html#7241" class="Function">usagePres*Term</a> <a id="7314" href="Graded.Reduction.html#7314" class="Bound">γ▸t</a> <a id="7318" class="Symbol">(</a><a id="7319" href="Definition.Typed.html#12506" class="InductiveConstructor">id</a> <a id="7322" href="Graded.Reduction.html#7322" class="Bound">x</a><a id="7323" class="Symbol">)</a> <a id="7325" class="Symbol">=</a> <a id="7327" href="Graded.Reduction.html#7314" class="Bound">γ▸t</a>
<a id="7331" href="Graded.Reduction.html#7241" class="Function">usagePres*Term</a> <a id="7346" href="Graded.Reduction.html#7346" class="Bound">γ▸t</a> <a id="7350" class="Symbol">(</a><a id="7351" href="Graded.Reduction.html#7351" class="Bound">x</a> <a id="7353" href="Definition.Typed.html#12547" class="InductiveConstructor Operator">⇨</a> <a id="7355" href="Graded.Reduction.html#7355" class="Bound">t⇒u</a><a id="7358" class="Symbol">)</a> <a id="7360" class="Symbol">=</a> <a id="7362" href="Graded.Reduction.html#7241" class="Function">usagePres*Term</a> <a id="7377" class="Symbol">(</a><a id="7378" href="Graded.Reduction.html#1695" class="Function">usagePresTerm</a> <a id="7392" href="Graded.Reduction.html#7346" class="Bound">γ▸t</a> <a id="7396" href="Graded.Reduction.html#7351" class="Bound">x</a><a id="7397" class="Symbol">)</a> <a id="7399" href="Graded.Reduction.html#7355" class="Bound">t⇒u</a>

<a id="7404" class="Comment">-- Multi-step type reduction preserves usage.</a>

<a id="usagePres*"></a><a id="7451" href="Graded.Reduction.html#7451" class="Function">usagePres*</a> <a id="7462" class="Symbol">:</a> <a id="7464" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7466" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7469" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7471" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7473" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="7475" class="Symbol">→</a> <a id="7477" href="Graded.Reduction.html#1405" class="Generalizable">Γ</a> <a id="7479" href="Definition.Typed.html#12652" class="Datatype Operator">⊢</a> <a id="7481" href="Graded.Reduction.html#1443" class="Generalizable">A</a> <a id="7483" href="Definition.Typed.html#12652" class="Datatype Operator">⇒*</a> <a id="7486" href="Graded.Reduction.html#1445" class="Generalizable">B</a> <a id="7488" class="Symbol">→</a> <a id="7490" href="Graded.Reduction.html#1424" class="Generalizable">γ</a> <a id="7492" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="7495" href="Graded.Reduction.html#1460" class="Generalizable">m</a> <a id="7497" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="7499" href="Graded.Reduction.html#1445" class="Generalizable">B</a>
<a id="7501" href="Graded.Reduction.html#7451" class="Function">usagePres*</a> <a id="7512" href="Graded.Reduction.html#7512" class="Bound">γ▸A</a> <a id="7516" class="Symbol">(</a><a id="7517" href="Definition.Typed.html#12710" class="InductiveConstructor">id</a> <a id="7520" href="Graded.Reduction.html#7520" class="Bound">x</a><a id="7521" class="Symbol">)</a> <a id="7523" class="Symbol">=</a> <a id="7525" href="Graded.Reduction.html#7512" class="Bound">γ▸A</a>
<a id="7529" href="Graded.Reduction.html#7451" class="Function">usagePres*</a> <a id="7540" href="Graded.Reduction.html#7540" class="Bound">γ▸A</a> <a id="7544" class="Symbol">(</a><a id="7545" href="Graded.Reduction.html#7545" class="Bound">x</a> <a id="7547" href="Definition.Typed.html#12743" class="InductiveConstructor Operator">⇨</a> <a id="7549" href="Graded.Reduction.html#7549" class="Bound">A⇒B</a><a id="7552" class="Symbol">)</a> <a id="7554" class="Symbol">=</a> <a id="7556" href="Graded.Reduction.html#7451" class="Function">usagePres*</a> <a id="7567" class="Symbol">(</a><a id="7568" href="Graded.Reduction.html#7096" class="Function">usagePres</a> <a id="7578" href="Graded.Reduction.html#7540" class="Bound">γ▸A</a> <a id="7582" href="Graded.Reduction.html#7545" class="Bound">x</a><a id="7583" class="Symbol">)</a> <a id="7585" href="Graded.Reduction.html#7549" class="Bound">A⇒B</a>

<a id="7590" class="Comment">-- Note that reduction does not include η-expansion (for WHNFs, see</a>
<a id="7658" class="Comment">-- no-η-expansion-Unit and no-η-expansion-Σₚ in</a>
<a id="7706" class="Comment">-- Definition.Typed.Properties). In Graded.FullReduction it is proved</a>
<a id="7776" class="Comment">-- that a well-resourced term has a well-resourced η-long normal form,</a>
<a id="7847" class="Comment">-- *given certain assumptions*. Here it is proved that, given certain</a>
<a id="7917" class="Comment">-- assumptions, the type</a>
<a id="7942" class="Comment">-- Well-resourced-normal-form-without-η-long-normal-form is inhabited:</a>
<a id="8013" class="Comment">-- there is a type A and a closed term t such that t is a</a>
<a id="8071" class="Comment">-- well-resourced normal form of type A, but t does not have any</a>
<a id="8136" class="Comment">-- (closed) well-resourced η-long normal form.</a>

<a id="Well-resourced-normal-form-without-η-long-normal-form"></a><a id="8184" href="Graded.Reduction.html#8184" class="Function">Well-resourced-normal-form-without-η-long-normal-form</a> <a id="8238" class="Symbol">:</a> <a id="8240" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="8244" href="Graded.Reduction.html#374" class="Bound">a</a>
<a id="8246" href="Graded.Reduction.html#8184" class="Function">Well-resourced-normal-form-without-η-long-normal-form</a> <a id="8300" class="Symbol">=</a>
  <a id="8304" href="Data.Product.html#1483" class="Function">∃₂</a> <a id="8307" class="Symbol">λ</a> <a id="8309" href="Graded.Reduction.html#8309" class="Bound">A</a> <a id="8311" href="Graded.Reduction.html#8311" class="Bound">t</a> <a id="8313" class="Symbol">→</a>
    <a id="8319" href="Definition.Untyped.NotParametrised.html#835" class="InductiveConstructor">ε</a> <a id="8321" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="8323" href="Graded.Reduction.html#8311" class="Bound">t</a> <a id="8325" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="8327" href="Graded.Reduction.html#8309" class="Bound">A</a> <a id="8329" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8331" href="Definition.Untyped.Normal-form.html#475" class="Datatype">Nf</a> <a id="8334" href="Graded.Reduction.html#8311" class="Bound">t</a> <a id="8336" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8338" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="8340" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="8343" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="8346" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="8348" href="Graded.Reduction.html#8311" class="Bound">t</a> <a id="8350" href="Data.Product.html#1167" class="Function Operator">×</a>
    <a id="8356" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="8358" href="Data.Product.html#1369" class="Function">∃</a> <a id="8360" class="Symbol">λ</a> <a id="8362" href="Graded.Reduction.html#8362" class="Bound">u</a> <a id="8364" class="Symbol">→</a> <a id="8366" href="Definition.Untyped.NotParametrised.html#835" class="InductiveConstructor">ε</a> <a id="8368" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">⊢nf</a> <a id="8372" href="Graded.Reduction.html#8362" class="Bound">u</a> <a id="8374" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">∷</a> <a id="8376" href="Graded.Reduction.html#8309" class="Bound">A</a> <a id="8378" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8380" href="Definition.Untyped.NotParametrised.html#835" class="InductiveConstructor">ε</a> <a id="8382" href="Definition.Typed.html#3898" class="Datatype Operator">⊢</a> <a id="8384" href="Graded.Reduction.html#8311" class="Bound">t</a> <a id="8386" href="Definition.Typed.html#3898" class="Datatype Operator">≡</a> <a id="8388" href="Graded.Reduction.html#8362" class="Bound">u</a> <a id="8390" href="Definition.Typed.html#3898" class="Datatype Operator">∷</a> <a id="8392" href="Graded.Reduction.html#8309" class="Bound">A</a> <a id="8394" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8396" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="8398" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="8401" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="8404" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="8406" href="Graded.Reduction.html#8362" class="Bound">u</a>

<a id="8409" class="Comment">-- If &quot;Unit&quot; is allowed, then variable 0 is well-typed and</a>
<a id="8468" class="Comment">-- well-resourced (with respect to the usage context ε ∙ 𝟙), and is</a>
<a id="8536" class="Comment">-- definitionally equal to the η-long normal form star. However, this</a>
<a id="8606" class="Comment">-- η-long normal form is well-resourced with respect to the usage</a>
<a id="8672" class="Comment">-- context ε ∙ 𝟙 if and only if 𝟙 ≤ 𝟘.</a>

<a id="η-long-nf-for-0⇔𝟙≤𝟘"></a><a id="8712" href="Graded.Reduction.html#8712" class="Function">η-long-nf-for-0⇔𝟙≤𝟘</a> <a id="8732" class="Symbol">:</a>
  <a id="8736" href="Definition.Typed.Restrictions.html#565" class="Function">Unit-allowed</a> <a id="8749" class="Symbol">→</a>
  <a id="8753" class="Keyword">let</a> <a id="8757" href="Graded.Reduction.html#8757" class="Bound">Γ</a> <a id="8759" class="Symbol">=</a> <a id="8761" class="InductiveConstructor">ε</a> <a id="8763" class="InductiveConstructor Operator">∙</a> <a id="8765" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a>
      <a id="8776" href="Graded.Reduction.html#8776" class="Bound">γ</a> <a id="8778" class="Symbol">=</a> <a id="8780" class="InductiveConstructor">ε</a> <a id="8782" class="InductiveConstructor Operator">∙</a> <a id="8784" href="Graded.Modality.html#819" class="Function">𝟙</a>
      <a id="8792" href="Graded.Reduction.html#8792" class="Bound">A</a> <a id="8794" class="Symbol">=</a> <a id="8796" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a>
      <a id="8807" href="Graded.Reduction.html#8807" class="Bound">t</a> <a id="8809" class="Symbol">=</a> <a id="8811" class="InductiveConstructor">var</a> <a id="8815" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>
      <a id="8824" href="Graded.Reduction.html#8824" class="Bound">u</a> <a id="8826" class="Symbol">=</a> <a id="8828" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>
  <a id="8835" class="Keyword">in</a>
  <a id="8840" href="Graded.Reduction.html#8757" class="Bound">Γ</a> <a id="8842" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="8844" href="Graded.Reduction.html#8807" class="Bound">t</a> <a id="8846" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="8848" href="Graded.Reduction.html#8792" class="Bound">A</a> <a id="8850" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="8854" href="Graded.Reduction.html#8776" class="Bound">γ</a> <a id="8856" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="8859" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="8862" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="8864" href="Graded.Reduction.html#8807" class="Bound">t</a> <a id="8866" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="8870" href="Graded.Reduction.html#8757" class="Bound">Γ</a> <a id="8872" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">⊢nf</a> <a id="8876" href="Graded.Reduction.html#8824" class="Bound">u</a> <a id="8878" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">∷</a> <a id="8880" href="Graded.Reduction.html#8792" class="Bound">A</a> <a id="8882" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="8886" href="Graded.Reduction.html#8757" class="Bound">Γ</a> <a id="8888" href="Definition.Typed.html#3898" class="Datatype Operator">⊢</a> <a id="8890" href="Graded.Reduction.html#8807" class="Bound">t</a> <a id="8892" href="Definition.Typed.html#3898" class="Datatype Operator">≡</a> <a id="8894" href="Graded.Reduction.html#8824" class="Bound">u</a> <a id="8896" href="Definition.Typed.html#3898" class="Datatype Operator">∷</a> <a id="8898" href="Graded.Reduction.html#8792" class="Bound">A</a> <a id="8900" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="8904" class="Symbol">(</a><a id="8905" href="Graded.Reduction.html#8776" class="Bound">γ</a> <a id="8907" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="8910" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="8913" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="8915" href="Graded.Reduction.html#8824" class="Bound">u</a> <a id="8917" href="Tools.Function.html#1013" class="Function Operator">⇔</a> <a id="8919" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="8921" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="8923" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="8924" class="Symbol">)</a>
<a id="8926" href="Graded.Reduction.html#8712" class="Function">η-long-nf-for-0⇔𝟙≤𝟘</a> <a id="8946" href="Graded.Reduction.html#8946" class="Bound">ok</a> <a id="8949" class="Symbol">=</a>
    <a id="8955" href="Graded.Reduction.html#9269" class="Function">⊢0</a>
  <a id="8960" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8962" href="Graded.Usage.html#1374" class="InductiveConstructor">var</a>
  <a id="8968" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8970" href="Definition.Typed.Eta-long-normal-form.html#3109" class="InductiveConstructor">starₙ</a> <a id="8976" class="Symbol">(</a><a id="8977" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="8979" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8981" href="Graded.Reduction.html#9248" class="Function">⊢Unit</a><a id="8986" class="Symbol">)</a> <a id="8988" href="Graded.Reduction.html#8946" class="Bound">ok</a>
  <a id="8993" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8995" href="Definition.Typed.html#4032" class="InductiveConstructor">sym</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Definition.Typed.Consequences.DerivedRules.html#6602" class="Function">Unit-η</a> <a id="9007" href="Graded.Reduction.html#9269" class="Function">⊢0</a><a id="9009" class="Symbol">)</a>
  <a id="9013" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9015" class="Symbol">(λ</a> <a id="9018" href="Graded.Reduction.html#9018" class="Bound">▸*</a> <a id="9021" class="Symbol">→</a>
       <a id="9030" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="9035" href="Graded.Usage.Inversion.html#8857" class="Function">inv-usage-star</a> <a id="9050" href="Graded.Reduction.html#9018" class="Bound">▸*</a> <a id="9053" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="9056" class="Symbol">λ</a> <a id="9058" class="Symbol">{</a>
         <a id="9069" class="Symbol">(_</a> <a id="9072" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="9074" href="Graded.Reduction.html#9074" class="Bound">𝟙≤𝟘</a><a id="9077" class="Symbol">)</a> <a id="9079" class="Symbol">→</a>
       <a id="9088" href="Graded.Reduction.html#9074" class="Bound">𝟙≤𝟘</a> <a id="9092" class="Symbol">})</a>
  <a id="9097" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9099" class="Symbol">(λ</a> <a id="9102" href="Graded.Reduction.html#9102" class="Bound">𝟙≤𝟘</a> <a id="9106" class="Symbol">→</a>
       <a id="9115" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="9119" href="Graded.Usage.html#2654" class="InductiveConstructor">starₘ</a> <a id="9125" href="Function.Base.html#1919" class="Function Operator">$</a>
       <a id="9134" class="Keyword">let</a> <a id="9138" class="Keyword">open</a> <a id="9143" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="9172" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a> <a id="9181" class="Keyword">in</a> <a id="9184" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
         <a id="9199" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="9201" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="9203" href="Graded.Modality.html#819" class="Function">𝟙</a>  <a id="9206" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="9209" href="Graded.Context.html#790" class="InductiveConstructor">ε</a> <a id="9211" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="9213" href="Graded.Reduction.html#9102" class="Bound">𝟙≤𝟘</a> <a id="9217" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
         <a id="9228" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="9230" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="9232" href="Graded.Modality.html#809" class="Function">𝟘</a>  <a id="9235" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="9236" class="Symbol">)</a>
  <a id="9240" class="Keyword">where</a>
  <a id="9248" href="Graded.Reduction.html#9248" class="Function">⊢Unit</a> <a id="9254" class="Symbol">=</a> <a id="9256" href="Definition.Typed.html#1213" class="InductiveConstructor">Unitⱼ</a> <a id="9262" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="9264" href="Graded.Reduction.html#8946" class="Bound">ok</a>
  <a id="9269" href="Graded.Reduction.html#9269" class="Function">⊢0</a>    <a id="9275" class="Symbol">=</a> <a id="9277" href="Definition.Typed.html#1853" class="InductiveConstructor">var</a> <a id="9281" class="Symbol">(</a><a id="9282" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="9284" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="9286" href="Graded.Reduction.html#9248" class="Function">⊢Unit</a><a id="9291" class="Symbol">)</a> <a id="9293" href="Definition.Typed.html#835" class="InductiveConstructor">here</a>

<a id="9299" class="Comment">-- If &quot;Π 𝟙 , p&quot; and &quot;Unit&quot; are allowed, then the identity function</a>
<a id="9366" class="Comment">-- lam 𝟙 (var x0) has type Π 𝟙 , p ▷ Unit ▹ Unit, is well-resourced in</a>
<a id="9437" class="Comment">-- the empty context, and is definitionally equal to the η-long normal</a>
<a id="9508" class="Comment">-- form lam 𝟙 star, however, this η-long normal form is well-resourced</a>
<a id="9579" class="Comment">-- in the empty context if and only if 𝟙 ≤ 𝟘.</a>

<a id="η-long-nf-for-id⇔𝟙≤𝟘"></a><a id="9626" href="Graded.Reduction.html#9626" class="Function">η-long-nf-for-id⇔𝟙≤𝟘</a> <a id="9647" class="Symbol">:</a>
  <a id="9651" href="Definition.Typed.Restrictions.html#728" class="Function">Π-allowed</a> <a id="9661" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="9663" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="9665" class="Symbol">→</a>
  <a id="9669" href="Definition.Typed.Restrictions.html#565" class="Function">Unit-allowed</a> <a id="9682" class="Symbol">→</a>
  <a id="9686" class="Keyword">let</a> <a id="9690" href="Graded.Reduction.html#9690" class="Bound">A</a> <a id="9692" class="Symbol">=</a> <a id="9694" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">Π</a> <a id="9696" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="9698" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">,</a> <a id="9700" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="9702" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">▷</a> <a id="9704" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a> <a id="9709" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">▹</a> <a id="9711" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a>
      <a id="9722" href="Graded.Reduction.html#9722" class="Bound">t</a> <a id="9724" class="Symbol">=</a> <a id="9726" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="9730" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="9732" class="Symbol">(</a><a id="9733" class="InductiveConstructor">var</a> <a id="9737" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="9739" class="Symbol">)</a>
      <a id="9747" href="Graded.Reduction.html#9747" class="Bound">u</a> <a id="9749" class="Symbol">=</a> <a id="9751" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="9755" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="9757" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>
  <a id="9764" class="Keyword">in</a>
  <a id="9769" class="InductiveConstructor">ε</a> <a id="9771" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="9773" href="Graded.Reduction.html#9722" class="Bound">t</a> <a id="9775" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="9777" href="Graded.Reduction.html#9690" class="Bound">A</a> <a id="9779" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="9783" class="InductiveConstructor">ε</a> <a id="9785" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="9788" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="9791" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="9793" href="Graded.Reduction.html#9722" class="Bound">t</a> <a id="9795" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="9799" class="InductiveConstructor">ε</a> <a id="9801" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">⊢nf</a> <a id="9805" href="Graded.Reduction.html#9747" class="Bound">u</a> <a id="9807" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">∷</a> <a id="9809" href="Graded.Reduction.html#9690" class="Bound">A</a> <a id="9811" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="9815" class="InductiveConstructor">ε</a> <a id="9817" href="Definition.Typed.html#3898" class="Datatype Operator">⊢</a> <a id="9819" href="Graded.Reduction.html#9722" class="Bound">t</a> <a id="9821" href="Definition.Typed.html#3898" class="Datatype Operator">≡</a> <a id="9823" href="Graded.Reduction.html#9747" class="Bound">u</a> <a id="9825" href="Definition.Typed.html#3898" class="Datatype Operator">∷</a> <a id="9827" href="Graded.Reduction.html#9690" class="Bound">A</a> <a id="9829" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="9833" class="Symbol">(</a><a id="9834" class="InductiveConstructor">ε</a> <a id="9836" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="9839" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="9842" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="9844" href="Graded.Reduction.html#9747" class="Bound">u</a> <a id="9846" href="Tools.Function.html#1013" class="Function Operator">⇔</a> <a id="9848" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="9850" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="9852" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="9853" class="Symbol">)</a>
<a id="9855" href="Graded.Reduction.html#9626" class="Function">η-long-nf-for-id⇔𝟙≤𝟘</a> <a id="9876" href="Graded.Reduction.html#9876" class="Bound">ok₁</a> <a id="9880" href="Graded.Reduction.html#9880" class="Bound">ok₂</a> <a id="9884" class="Symbol">=</a>
  <a id="9888" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="9893" href="Graded.Reduction.html#8712" class="Function">η-long-nf-for-0⇔𝟙≤𝟘</a> <a id="9913" href="Graded.Reduction.html#9880" class="Bound">ok₂</a> <a id="9917" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="9920" class="Symbol">λ</a> <a id="9922" class="Symbol">{</a>
    <a id="9928" class="Symbol">(</a><a id="9929" href="Graded.Reduction.html#9929" class="Bound">⊢t</a> <a id="9932" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9934" href="Graded.Reduction.html#9934" class="Bound">▸t</a> <a id="9937" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9939" href="Graded.Reduction.html#9939" class="Bound">⊢u</a> <a id="9942" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9944" href="Graded.Reduction.html#9944" class="Bound">t≡u</a> <a id="9948" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9950" href="Graded.Reduction.html#9950" class="Bound">▸u⇔</a><a id="9953" class="Symbol">)</a> <a id="9955" class="Symbol">→</a>
    <a id="9961" href="Definition.Typed.html#1930" class="InductiveConstructor">lamⱼ</a> <a id="9966" href="Graded.Reduction.html#10564" class="Function">⊢Unit</a> <a id="9972" href="Graded.Reduction.html#9929" class="Bound">⊢t</a> <a id="9975" href="Graded.Reduction.html#9876" class="Bound">ok₁</a>
  <a id="9981" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9983" href="Graded.Usage.html#1419" class="InductiveConstructor">lamₘ</a> <a id="9988" class="Symbol">(</a><a id="9989" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="9993" href="Graded.Reduction.html#9934" class="Bound">▸t</a> <a id="9996" href="Function.Base.html#1919" class="Function Operator">$</a>
          <a id="10008" class="Keyword">let</a> <a id="10012" class="Keyword">open</a> <a id="10017" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="10046" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a> <a id="10055" class="Keyword">in</a> <a id="10058" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
            <a id="10076" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="10079" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="10081" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10083" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="10085" href="Graded.Modality.html#819" class="Function">𝟙</a>  <a id="10088" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="10091" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="10099" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="10101" href="Graded.Modality.html#2323" class="Function">·-identityˡ</a> <a id="10113" class="Symbol">_</a> <a id="10115" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
            <a id="10129" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="10132" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="10134" href="Graded.Modality.html#819" class="Function">𝟙</a>      <a id="10141" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="10142" class="Symbol">)</a>
  <a id="10146" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10148" href="Definition.Typed.Eta-long-normal-form.html#2667" class="InductiveConstructor">lamₙ</a> <a id="10153" href="Graded.Reduction.html#10564" class="Function">⊢Unit</a> <a id="10159" href="Graded.Reduction.html#9939" class="Bound">⊢u</a> <a id="10162" href="Graded.Reduction.html#9876" class="Bound">ok₁</a>
  <a id="10168" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10170" href="Definition.Typed.Consequences.DerivedRules.html#1188" class="Function">lam-cong</a> <a id="10179" href="Graded.Reduction.html#9944" class="Bound">t≡u</a> <a id="10183" href="Graded.Reduction.html#9876" class="Bound">ok₁</a>
  <a id="10189" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10191" class="Symbol">(</a><a id="10192" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="10194" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="10197" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="10200" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="10202" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="10206" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10208" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>    <a id="10216" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="10219" class="Symbol">(λ</a> <a id="10222" href="Graded.Reduction.html#10222" class="Bound">▸λ*</a> <a id="10226" class="Symbol">→</a> <a id="10228" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="10233" href="Graded.Usage.Inversion.html#2613" class="Function">inv-usage-lam</a> <a id="10247" href="Graded.Reduction.html#10222" class="Bound">▸λ*</a> <a id="10251" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="10254" class="Symbol">λ</a> <a id="10256" class="Keyword">where</a>
                                   <a id="10297" class="Symbol">(</a><a id="10298" href="Graded.Usage.Inversion.html#2461" class="InductiveConstructor">invUsageLam</a> <a id="10310" class="Symbol">{</a><a id="10311" class="Argument">δ</a> <a id="10313" class="Symbol">=</a> <a id="10315" href="Graded.Context.html#637" class="InductiveConstructor">ε</a><a id="10316" class="Symbol">}</a> <a id="10318" href="Graded.Reduction.html#10318" class="Bound">▸*</a> <a id="10321" class="Symbol">_)</a> <a id="10324" class="Symbol">→</a> <a id="10326" href="Graded.Reduction.html#10318" class="Bound">▸*</a><a id="10328" class="Symbol">)</a>
                              <a id="10360" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10362" href="Graded.Usage.html#1419" class="InductiveConstructor">lamₘ</a>
                              <a id="10397" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="10404" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="10406" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="10408" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10410" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="10412" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10414" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="10417" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="10420" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="10422" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>  <a id="10428" href="Tools.Function.html#1490" class="Function">≡⟨</a> <a id="10431" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">PE.cong</a> <a id="10439" class="Symbol">(λ</a> <a id="10442" href="Graded.Reduction.html#10442" class="Bound">p</a> <a id="10444" class="Symbol">→</a> <a id="10446" class="Symbol">_</a> <a id="10448" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="10450" href="Graded.Reduction.html#10442" class="Bound">p</a> <a id="10452" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="10455" class="Symbol">_</a> <a id="10457" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="10459" class="Symbol">_)</a> <a id="10462" class="Symbol">(</a><a id="10463" href="Graded.Modality.html#2323" class="Function">·-identityˡ</a> <a id="10475" class="Symbol">_)</a> <a id="10478" href="Tools.Function.html#1490" class="Function">⟩⇔</a>
     <a id="10486" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="10488" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="10490" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10492" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="10495" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="10498" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="10500" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>      <a id="10510" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="10513" href="Graded.Reduction.html#9950" class="Bound">▸u⇔</a> <a id="10517" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="10524" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10526" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="10528" href="Graded.Modality.html#809" class="Function">𝟘</a>                   <a id="10548" href="Tools.Function.html#1604" class="Function Operator">□⇔</a><a id="10550" class="Symbol">)</a> <a id="10552" class="Symbol">}</a>
  <a id="10556" class="Keyword">where</a>
  <a id="10564" href="Graded.Reduction.html#10564" class="Function">⊢Unit</a> <a id="10570" class="Symbol">=</a> <a id="10572" href="Definition.Typed.html#1213" class="InductiveConstructor">Unitⱼ</a> <a id="10578" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="10580" href="Graded.Reduction.html#9880" class="Bound">ok₂</a>

<a id="10585" class="Comment">-- The type</a>
<a id="10597" class="Comment">-- Well-resourced-normal-form-without-η-long-normal-form is</a>
<a id="10657" class="Comment">-- inhabited if the Unit type with η-equality is allowed, 𝟙 is not</a>
<a id="10724" class="Comment">-- bounded by 𝟘, and Π-allowed 𝟙 q holds for some q.</a>

<a id="well-resourced-normal-form-without-η-long-normal-form-Unit"></a><a id="10778" href="Graded.Reduction.html#10778" class="Function">well-resourced-normal-form-without-η-long-normal-form-Unit</a> <a id="10837" class="Symbol">:</a>
  <a id="10841" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="10843" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10845" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="10847" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="10849" class="Symbol">→</a>
  <a id="10853" href="Definition.Typed.Restrictions.html#565" class="Function">Unit-allowed</a> <a id="10866" class="Symbol">→</a>
  <a id="10870" href="Definition.Typed.Restrictions.html#728" class="Function">Π-allowed</a> <a id="10880" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="10882" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="10884" class="Symbol">→</a>
  <a id="10888" href="Graded.Reduction.html#8184" class="Function">Well-resourced-normal-form-without-η-long-normal-form</a>
<a id="10942" href="Graded.Reduction.html#10778" class="Function">well-resourced-normal-form-without-η-long-normal-form-Unit</a> <a id="11001" href="Graded.Reduction.html#11001" class="Bound">𝟙≰𝟘</a> <a id="11005" href="Graded.Reduction.html#11005" class="Bound">ok₁</a> <a id="11009" href="Graded.Reduction.html#11009" class="Bound">ok₂</a> <a id="11013" class="Symbol">=</a>
  <a id="11017" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="11022" href="Graded.Reduction.html#9626" class="Function">η-long-nf-for-id⇔𝟙≤𝟘</a> <a id="11043" href="Graded.Reduction.html#11009" class="Bound">ok₂</a> <a id="11047" href="Graded.Reduction.html#11005" class="Bound">ok₁</a> <a id="11051" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="11054" class="Symbol">λ</a> <a id="11056" class="Symbol">{</a>
    <a id="11062" class="Symbol">(</a><a id="11063" href="Graded.Reduction.html#11063" class="Bound">⊢t</a> <a id="11066" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11068" href="Graded.Reduction.html#11068" class="Bound">▸t</a> <a id="11071" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11073" href="Graded.Reduction.html#11073" class="Bound">⊢u</a> <a id="11076" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11078" href="Graded.Reduction.html#11078" class="Bound">t≡u</a> <a id="11082" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11084" href="Graded.Reduction.html#11084" class="Bound">▸u→</a> <a id="11088" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11090" class="Symbol">_)</a> <a id="11093" class="Symbol">→</a>
    <a id="11099" class="Symbol">_</a> <a id="11101" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11103" class="Symbol">_</a>
  <a id="11107" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11109" href="Graded.Reduction.html#11063" class="Bound">⊢t</a>
  <a id="11114" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11116" href="Definition.Untyped.Normal-form.html#649" class="InductiveConstructor">lamₙ</a> <a id="11121" class="Symbol">(</a><a id="11122" href="Definition.Untyped.Normal-form.html#801" class="InductiveConstructor">ne</a> <a id="11125" class="Symbol">(</a><a id="11126" href="Definition.Untyped.Normal-form.html#963" class="InductiveConstructor">var</a> <a id="11130" class="Symbol">_))</a>
  <a id="11136" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11138" href="Graded.Reduction.html#11068" class="Bound">▸t</a>
  <a id="11143" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11145" class="Symbol">λ</a> <a id="11147" class="Symbol">(</a><a id="11148" href="Graded.Reduction.html#11148" class="Bound">v</a> <a id="11150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11152" href="Graded.Reduction.html#11152" class="Bound">⊢v</a> <a id="11155" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11157" href="Graded.Reduction.html#11157" class="Bound">t≡v</a> <a id="11161" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11163" href="Graded.Reduction.html#11163" class="Bound">▸v</a><a id="11165" class="Symbol">)</a> <a id="11167" class="Symbol">→</a>
                            <a id="11197" href="Tools.Function.html#935" class="Function Operator">$⟨</a> <a id="11200" href="Graded.Reduction.html#11163" class="Bound">▸v</a> <a id="11203" href="Tools.Function.html#935" class="Function Operator">⟩</a>
      <a id="11211" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="11213" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="11216" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="11219" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="11221" href="Graded.Reduction.html#11148" class="Bound">v</a>           <a id="11233" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="11236" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">PE.subst</a> <a id="11245" class="Symbol">(_</a> <a id="11248" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="11251" class="Symbol">_</a> <a id="11253" href="Graded.Usage.html#1080" class="Datatype Operator">]_</a><a id="11255" class="Symbol">)</a> <a id="11257" class="Symbol">(</a><a id="11258" href="Definition.Typed.Eta-long-normal-form.html#34028" class="Function">normal-terms-unique</a> <a id="11278" href="Graded.Reduction.html#11152" class="Bound">⊢v</a> <a id="11281" href="Graded.Reduction.html#11073" class="Bound">⊢u</a> <a id="11284" class="Symbol">(</a><a id="11285" href="Definition.Typed.html#4100" class="InductiveConstructor">trans</a> <a id="11291" class="Symbol">(</a><a id="11292" href="Definition.Typed.html#4032" class="InductiveConstructor">sym</a> <a id="11296" href="Graded.Reduction.html#11157" class="Bound">t≡v</a><a id="11299" class="Symbol">)</a> <a id="11301" href="Graded.Reduction.html#11078" class="Bound">t≡u</a><a id="11304" class="Symbol">))</a> <a id="11307" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="11315" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="11317" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="11320" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="11323" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="11325" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="11329" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="11331" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a>  <a id="11337" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="11340" href="Graded.Reduction.html#11084" class="Bound">▸u→</a> <a id="11344" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="11352" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="11354" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="11356" href="Graded.Modality.html#809" class="Function">𝟘</a>                 <a id="11374" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="11377" href="Graded.Reduction.html#11001" class="Bound">𝟙≰𝟘</a> <a id="11381" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="11389" href="Data.Empty.html#526" class="Datatype">⊥</a>                     <a id="11411" href="Tools.Function.html#899" class="Function Operator">□</a> <a id="11413" class="Symbol">}</a>

<a id="11416" class="Comment">-- If &quot;Σₚ p , q&quot; is allowed, then variable 0 is well-typed and</a>
<a id="11479" class="Comment">-- well-resourced (with respect to the usage context ε ∙ 𝟙), and is</a>
<a id="11547" class="Comment">-- definitionally equal to the η-long normal form</a>
<a id="11597" class="Comment">-- prodₚ p (fst p (var x0)) (snd p (var x0)). However, this η-long</a>
<a id="11664" class="Comment">-- normal form is well-resourced with respect to the usage context</a>
<a id="11731" class="Comment">-- ε ∙ 𝟙 if and only if either p is 𝟙, or p is 𝟘, 𝟘ᵐ is allowed, and</a>
<a id="11800" class="Comment">-- 𝟙 ≤ 𝟘.</a>

<a id="η-long-nf-for-0⇔≡𝟙⊎≡𝟘"></a><a id="11811" href="Graded.Reduction.html#11811" class="Function">η-long-nf-for-0⇔≡𝟙⊎≡𝟘</a> <a id="11833" class="Symbol">:</a>
  <a id="11837" href="Definition.Typed.Restrictions.html#957" class="Function">Σₚ-allowed</a> <a id="11848" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11850" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="11852" class="Symbol">→</a>
  <a id="11856" class="Keyword">let</a> <a id="11860" href="Graded.Reduction.html#11860" class="Bound">Γ</a> <a id="11862" class="Symbol">=</a> <a id="11864" class="InductiveConstructor">ε</a> <a id="11866" class="InductiveConstructor Operator">∙</a> <a id="11868" class="Symbol">(</a><a id="11869" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">Σₚ</a> <a id="11872" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11874" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">,</a> <a id="11876" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="11878" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▷</a> <a id="11880" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="11882" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▹</a> <a id="11884" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a><a id="11885" class="Symbol">)</a>
      <a id="11893" href="Graded.Reduction.html#11893" class="Bound">γ</a> <a id="11895" class="Symbol">=</a> <a id="11897" class="InductiveConstructor">ε</a> <a id="11899" class="InductiveConstructor Operator">∙</a> <a id="11901" href="Graded.Modality.html#819" class="Function">𝟙</a>
      <a id="11909" href="Graded.Reduction.html#11909" class="Bound">A</a> <a id="11911" class="Symbol">=</a> <a id="11913" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">Σₚ</a> <a id="11916" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11918" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">,</a> <a id="11920" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="11922" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▷</a> <a id="11924" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="11926" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▹</a> <a id="11928" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a>
      <a id="11936" href="Graded.Reduction.html#11936" class="Bound">t</a> <a id="11938" class="Symbol">=</a> <a id="11940" class="InductiveConstructor">var</a> <a id="11944" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>
      <a id="11953" href="Graded.Reduction.html#11953" class="Bound">u</a> <a id="11955" class="Symbol">=</a> <a id="11957" href="Definition.Untyped.html#3284" class="InductiveConstructor">prodₚ</a> <a id="11963" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11965" class="Symbol">(</a><a id="11966" href="Definition.Untyped.html#3501" class="InductiveConstructor">fst</a> <a id="11970" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11972" class="Symbol">(</a><a id="11973" class="InductiveConstructor">var</a> <a id="11977" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="11979" class="Symbol">))</a> <a id="11982" class="Symbol">(</a><a id="11983" href="Definition.Untyped.html#3544" class="InductiveConstructor">snd</a> <a id="11987" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="11989" class="Symbol">(</a><a id="11990" class="InductiveConstructor">var</a> <a id="11994" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="11996" class="Symbol">))</a>
  <a id="12001" class="Keyword">in</a>
  <a id="12006" href="Graded.Reduction.html#11860" class="Bound">Γ</a> <a id="12008" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="12010" href="Graded.Reduction.html#11936" class="Bound">t</a> <a id="12012" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="12014" href="Graded.Reduction.html#11909" class="Bound">A</a> <a id="12016" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="12020" href="Graded.Reduction.html#11893" class="Bound">γ</a> <a id="12022" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="12025" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12028" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="12030" href="Graded.Reduction.html#11936" class="Bound">t</a> <a id="12032" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="12036" href="Graded.Reduction.html#11860" class="Bound">Γ</a> <a id="12038" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">⊢nf</a> <a id="12042" href="Graded.Reduction.html#11953" class="Bound">u</a> <a id="12044" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">∷</a> <a id="12046" href="Graded.Reduction.html#11909" class="Bound">A</a> <a id="12048" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="12052" href="Graded.Reduction.html#11860" class="Bound">Γ</a> <a id="12054" href="Definition.Typed.html#3898" class="Datatype Operator">⊢</a> <a id="12056" href="Graded.Reduction.html#11936" class="Bound">t</a> <a id="12058" href="Definition.Typed.html#3898" class="Datatype Operator">≡</a> <a id="12060" href="Graded.Reduction.html#11953" class="Bound">u</a> <a id="12062" href="Definition.Typed.html#3898" class="Datatype Operator">∷</a> <a id="12064" href="Graded.Reduction.html#11909" class="Bound">A</a> <a id="12066" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="12070" class="Symbol">(</a><a id="12071" href="Graded.Reduction.html#11893" class="Bound">γ</a> <a id="12073" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="12076" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12079" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="12081" href="Graded.Reduction.html#11953" class="Bound">u</a> <a id="12083" href="Tools.Function.html#1013" class="Function Operator">⇔</a> <a id="12085" class="Symbol">(</a><a id="12086" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="12088" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12093" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12095" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="12097" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="12099" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12104" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="12106" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12108" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="12110" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="12121" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12123" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12125" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12127" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="12128" class="Symbol">))</a>
<a id="12131" href="Graded.Reduction.html#11811" class="Function">η-long-nf-for-0⇔≡𝟙⊎≡𝟘</a> <a id="12153" class="Symbol">{</a><a id="12154" class="Argument">p</a> <a id="12156" class="Symbol">=</a> <a id="12158" href="Graded.Reduction.html#12158" class="Bound">p</a><a id="12159" class="Symbol">}</a> <a id="12161" href="Graded.Reduction.html#12161" class="Bound">ok</a> <a id="12164" class="Symbol">=</a>
    <a id="12170" href="Graded.Reduction.html#12814" class="Function">⊢0</a>
  <a id="12175" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12177" href="Graded.Usage.html#1374" class="InductiveConstructor">var</a>
  <a id="12183" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12185" href="Definition.Typed.Eta-long-normal-form.html#2793" class="InductiveConstructor">prodₙ</a> <a id="12191" href="Graded.Reduction.html#12736" class="Function">Σℕℕ⊢ℕ</a> <a id="12197" class="Symbol">(</a><a id="12198" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12201" href="Graded.Reduction.html#12762" class="Function">ε∙Σℕℕ∙ℕ</a><a id="12208" class="Symbol">)</a>
      <a id="12216" class="Symbol">(</a><a id="12217" href="Definition.Typed.Eta-long-normal-form.html#3334" class="InductiveConstructor">neₙ</a> <a id="12221" href="Definition.Untyped.html#10054" class="InductiveConstructor">ℕₙ</a> <a id="12224" class="Symbol">(</a><a id="12225" href="Definition.Typed.Eta-long-normal-form.html#3952" class="InductiveConstructor">fstₙ</a> <a id="12230" href="Graded.Reduction.html#12736" class="Function">Σℕℕ⊢ℕ</a> <a id="12236" href="Graded.Reduction.html#12791" class="Function">Σℕℕ∙ℕ⊢ℕ</a> <a id="12244" class="Symbol">(</a><a id="12245" href="Definition.Typed.Eta-long-normal-form.html#3752" class="InductiveConstructor">varₙ</a> <a id="12250" class="Symbol">(</a><a id="12251" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12253" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12255" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a><a id="12259" class="Symbol">)</a> <a id="12261" href="Definition.Typed.html#835" class="InductiveConstructor">here</a><a id="12265" class="Symbol">)))</a>
      <a id="12275" class="Symbol">(</a><a id="12276" href="Definition.Typed.Eta-long-normal-form.html#3334" class="InductiveConstructor">neₙ</a> <a id="12280" href="Definition.Untyped.html#10054" class="InductiveConstructor">ℕₙ</a> <a id="12283" class="Symbol">(</a><a id="12284" href="Definition.Typed.Eta-long-normal-form.html#4083" class="InductiveConstructor">sndₙ</a> <a id="12289" href="Graded.Reduction.html#12736" class="Function">Σℕℕ⊢ℕ</a> <a id="12295" href="Graded.Reduction.html#12791" class="Function">Σℕℕ∙ℕ⊢ℕ</a> <a id="12303" class="Symbol">(</a><a id="12304" href="Definition.Typed.Eta-long-normal-form.html#3752" class="InductiveConstructor">varₙ</a> <a id="12309" class="Symbol">(</a><a id="12310" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12312" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12314" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a><a id="12318" class="Symbol">)</a> <a id="12320" href="Definition.Typed.html#835" class="InductiveConstructor">here</a><a id="12324" class="Symbol">)))</a>
      <a id="12334" href="Graded.Reduction.html#12161" class="Bound">ok</a>
  <a id="12339" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12341" href="Definition.Typed.html#4032" class="InductiveConstructor">sym</a> <a id="12345" class="Symbol">(</a><a id="12346" href="Definition.Typed.Consequences.DerivedRules.Sigma.html#1828" class="Function">Σ-η-prod-fst-snd</a> <a id="12363" href="Graded.Reduction.html#12814" class="Function">⊢0</a><a id="12365" class="Symbol">)</a>
  <a id="12369" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12371" class="Symbol">(</a><a id="12372" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="12374" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="12376" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12378" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="12381" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12384" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="12386" href="Graded.Reduction.html#12640" class="Function">u′</a>                              <a id="12418" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="12421" href="Graded.Reduction.html#12847" class="Function">lemma₁</a> <a id="12428" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="12435" class="Symbol">(</a><a id="12436" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12438" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12440" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12442" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12444" class="Symbol">(</a><a id="12445" href="Graded.Mode.html#3863" class="Function Operator">⌞</a> <a id="12447" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12449" href="Graded.Mode.html#3863" class="Function Operator">⌟</a> <a id="12451" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12456" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12459" class="Symbol">→</a> <a id="12461" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12463" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12465" href="Graded.Modality.html#819" class="Function">𝟙</a><a id="12466" class="Symbol">))</a>             <a id="12481" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="12484" href="Tools.Function.html#1112" class="Function">id⇔</a> <a id="12488" href="Tools.Function.html#1716" class="Function Operator">×-cong-⇔</a> <a id="12497" href="Graded.Mode.html#16726" class="Function">⌞⌟≡𝟙→⇔⊎𝟘ᵐ×≡𝟘</a> <a id="12510" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="12517" class="Symbol">(</a><a id="12518" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12520" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12522" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12524" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12526" class="Symbol">(</a><a id="12527" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12529" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12531" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12533" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="12535" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="12537" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="12548" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12550" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12552" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12557" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="12558" class="Symbol">))</a>   <a id="12563" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="12566" href="Graded.Reduction.html#13960" class="Function">lemma₂</a> <a id="12573" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="12580" class="Symbol">(</a><a id="12581" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12583" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12588" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12590" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="12592" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12594" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12599" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="12601" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12603" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="12605" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="12616" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12618" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12620" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12622" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="12623" class="Symbol">)</a>  <a id="12626" href="Tools.Function.html#1604" class="Function Operator">□⇔</a><a id="12628" class="Symbol">)</a>
  <a id="12632" class="Keyword">where</a>
  <a id="12640" href="Graded.Reduction.html#12640" class="Function">u′</a>      <a id="12648" class="Symbol">=</a> <a id="12650" href="Definition.Untyped.html#3284" class="InductiveConstructor">prodₚ</a> <a id="12656" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12658" class="Symbol">(</a><a id="12659" href="Definition.Untyped.html#3501" class="InductiveConstructor">fst</a> <a id="12663" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12665" class="Symbol">(</a><a id="12666" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="12670" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="12672" class="Symbol">))</a> <a id="12675" class="Symbol">(</a><a id="12676" href="Definition.Untyped.html#3544" class="InductiveConstructor">snd</a> <a id="12680" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12682" class="Symbol">(</a><a id="12683" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="12687" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="12689" class="Symbol">))</a>
  <a id="12694" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a>    <a id="12702" class="Symbol">=</a> <a id="12704" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="12708" class="Symbol">(</a><a id="12709" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12712" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="12713" class="Symbol">)</a> <a id="12715" class="Symbol">(</a><a id="12716" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12722" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12724" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12727" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="12728" class="Symbol">))</a> <a id="12731" href="Graded.Reduction.html#12161" class="Bound">ok</a>
  <a id="12736" href="Graded.Reduction.html#12736" class="Function">Σℕℕ⊢ℕ</a>   <a id="12744" class="Symbol">=</a> <a id="12746" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12749" class="Symbol">(</a><a id="12750" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12752" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12754" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a><a id="12758" class="Symbol">)</a>
  <a id="12762" href="Graded.Reduction.html#12762" class="Function">ε∙Σℕℕ∙ℕ</a> <a id="12770" class="Symbol">=</a> <a id="12772" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12774" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12776" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a> <a id="12781" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12783" href="Graded.Reduction.html#12736" class="Function">Σℕℕ⊢ℕ</a>
  <a id="12791" href="Graded.Reduction.html#12791" class="Function">Σℕℕ∙ℕ⊢ℕ</a> <a id="12799" class="Symbol">=</a> <a id="12801" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="12804" href="Graded.Reduction.html#12762" class="Function">ε∙Σℕℕ∙ℕ</a>
  <a id="12814" href="Graded.Reduction.html#12814" class="Function">⊢0</a>      <a id="12822" class="Symbol">=</a> <a id="12824" href="Definition.Typed.html#1853" class="InductiveConstructor">var</a> <a id="12828" class="Symbol">(</a><a id="12829" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="12831" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="12833" href="Graded.Reduction.html#12694" class="Function">⊢Σℕℕ</a><a id="12837" class="Symbol">)</a> <a id="12839" href="Definition.Typed.html#835" class="InductiveConstructor">here</a>

  <a id="12847" href="Graded.Reduction.html#12847" class="Function">lemma₁</a> <a id="12854" class="Symbol">:</a> <a id="12856" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="12858" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="12860" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12862" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="12865" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12868" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="12870" href="Graded.Reduction.html#12640" class="Function">u′</a> <a id="12873" href="Tools.Function.html#1013" class="Function Operator">⇔</a> <a id="12875" class="Symbol">(</a><a id="12876" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="12878" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12880" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12882" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12884" class="Symbol">(</a><a id="12885" href="Graded.Mode.html#3863" class="Function Operator">⌞</a> <a id="12887" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12889" href="Graded.Mode.html#3863" class="Function Operator">⌟</a> <a id="12891" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="12896" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="12899" class="Symbol">→</a> <a id="12901" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="12903" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="12905" href="Graded.Modality.html#819" class="Function">𝟙</a><a id="12906" class="Symbol">))</a>
  <a id="12911" href="Graded.Reduction.html#12847" class="Function">lemma₁</a> <a id="12918" class="Symbol">=</a>
      <a id="12926" class="Symbol">(λ</a> <a id="12929" href="Graded.Reduction.html#12929" class="Bound">▸1,2</a> <a id="12934" class="Symbol">→</a>
         <a id="12945" class="Keyword">let</a> <a id="12949" class="Keyword">open</a> <a id="12954" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="12983" href="Graded.Modality.Properties.PartialOrder.html#1459" class="Function">≤-poset</a> <a id="12991" class="Keyword">in</a>
         <a id="13003" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="13008" href="Graded.Usage.Inversion.html#4364" class="Function">inv-usage-prodₚ</a> <a id="13024" href="Graded.Reduction.html#12929" class="Bound">▸1,2</a> <a id="13029" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="13032" class="Symbol">λ</a> <a id="13034" class="Symbol">{</a>
           <a id="13047" class="Symbol">(</a><a id="13048" href="Graded.Usage.Inversion.html#4153" class="InductiveConstructor">invUsageProdₚ</a> <a id="13062" class="Symbol">{</a><a id="13063" class="Argument">δ</a> <a id="13065" class="Symbol">=</a> <a id="13067" class="Symbol">_</a> <a id="13069" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13071" href="Graded.Reduction.html#13071" class="Bound">q₁</a><a id="13073" class="Symbol">}</a> <a id="13075" class="Symbol">{</a><a id="13076" class="Argument">η</a> <a id="13078" class="Symbol">=</a> <a id="13080" class="Symbol">_</a> <a id="13082" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13084" href="Graded.Reduction.html#13084" class="Bound">q₂</a><a id="13086" class="Symbol">}</a> <a id="13088" href="Graded.Reduction.html#13088" class="Bound">▸1</a> <a id="13091" class="Symbol">_</a> <a id="13093" class="Symbol">(_</a> <a id="13096" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="13098" href="Graded.Reduction.html#13098" class="Bound">𝟙≤pq₁∧q₂</a><a id="13106" class="Symbol">))</a> <a id="13109" class="Symbol">→</a>
         <a id="13120" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="13125" href="Graded.Usage.Inversion.html#5044" class="Function">inv-usage-fst</a> <a id="13139" href="Graded.Reduction.html#13088" class="Bound">▸1</a> <a id="13142" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="13145" class="Symbol">λ</a> <a id="13147" class="Symbol">{</a>
           <a id="13160" class="Symbol">(</a><a id="13161" href="Graded.Usage.Inversion.html#4746" class="InductiveConstructor">invUsageFst</a> <a id="13173" class="Symbol">{</a><a id="13174" class="Argument">δ</a> <a id="13176" class="Symbol">=</a> <a id="13178" class="Symbol">_</a> <a id="13180" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13182" href="Graded.Reduction.html#13182" class="Bound">q₃</a><a id="13184" class="Symbol">}</a> <a id="13186" class="Symbol">_</a> <a id="13188" class="Symbol">_</a> <a id="13190" href="Graded.Reduction.html#13190" class="Bound">▸0</a> <a id="13193" class="Symbol">(_</a> <a id="13196" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="13198" href="Graded.Reduction.html#13198" class="Bound">q₁≤q₃</a><a id="13203" class="Symbol">)</a> <a id="13205" href="Graded.Reduction.html#13205" class="Bound">⌞p⌟≡𝟙ᵐ→p≤𝟙</a><a id="13215" class="Symbol">)</a> <a id="13217" class="Symbol">→</a>
         <a id="13228" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="13233" href="Graded.Usage.Inversion.html#2138" class="Function">inv-usage-var</a> <a id="13247" href="Graded.Reduction.html#13190" class="Bound">▸0</a> <a id="13250" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="13253" class="Symbol">λ</a> <a id="13255" class="Symbol">{</a>
           <a id="13268" class="Symbol">(_</a> <a id="13271" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="13273" href="Graded.Reduction.html#13273" class="Bound">q₃≤⌜⌞p⌟⌝</a><a id="13281" class="Symbol">)</a> <a id="13283" class="Symbol">→</a>
           <a id="13296" class="Symbol">(</a><a id="13297" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
              <a id="13317" href="Graded.Modality.html#819" class="Function">𝟙</a>              <a id="13332" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="13335" href="Graded.Reduction.html#13098" class="Bound">𝟙≤pq₁∧q₂</a> <a id="13344" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
              <a id="13360" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13362" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="13364" href="Graded.Reduction.html#13071" class="Bound">q₁</a> <a id="13367" href="Graded.Modality.html#748" class="Function Operator">∧</a> <a id="13369" href="Graded.Reduction.html#13084" class="Bound">q₂</a>    <a id="13375" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="13378" href="Graded.Modality.Properties.Meet.html#1843" class="Function">∧-decreasingˡ</a> <a id="13392" class="Symbol">_</a> <a id="13394" class="Symbol">_</a> <a id="13396" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
              <a id="13412" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13414" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="13416" href="Graded.Reduction.html#13071" class="Bound">q₁</a>         <a id="13427" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="13430" href="Graded.Modality.Properties.Multiplication.html#894" class="Function">·-monotoneʳ</a> <a id="13442" href="Graded.Reduction.html#13198" class="Bound">q₁≤q₃</a> <a id="13448" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
              <a id="13464" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13466" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="13468" href="Graded.Reduction.html#13182" class="Bound">q₃</a>         <a id="13479" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="13482" href="Graded.Modality.Properties.Multiplication.html#894" class="Function">·-monotoneʳ</a> <a id="13494" href="Graded.Reduction.html#13273" class="Bound">q₃≤⌜⌞p⌟⌝</a> <a id="13503" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
              <a id="13519" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13521" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="13523" href="Graded.Mode.html#3577" class="Function Operator">⌜</a> <a id="13525" href="Graded.Mode.html#3863" class="Function Operator">⌞</a> <a id="13527" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13529" href="Graded.Mode.html#3863" class="Function Operator">⌟</a> <a id="13531" href="Graded.Mode.html#3577" class="Function Operator">⌝</a>  <a id="13534" href="Relation.Binary.Reasoning.Base.Triple.html#4518" class="Function">≡⟨</a> <a id="13537" href="Graded.Mode.html#15724" class="Function">·⌜⌞⌟⌝</a> <a id="13543" href="Relation.Binary.Reasoning.Base.Triple.html#4518" class="Function">⟩</a>
              <a id="13559" href="Graded.Reduction.html#12158" class="Bound">p</a>              <a id="13574" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="13575" class="Symbol">)</a>
         <a id="13586" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13588" href="Graded.Reduction.html#13205" class="Bound">⌞p⌟≡𝟙ᵐ→p≤𝟙</a> <a id="13599" class="Symbol">}}})</a>
    <a id="13608" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13610" class="Symbol">(λ</a> <a id="13613" class="Symbol">(</a><a id="13614" href="Graded.Reduction.html#13614" class="Bound">𝟙≤p</a> <a id="13618" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13620" href="Graded.Reduction.html#13620" class="Bound">⌞p⌟≡𝟙→≤𝟙</a><a id="13628" class="Symbol">)</a> <a id="13630" class="Symbol">→</a>
         <a id="13641" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a>
           <a id="13656" class="Symbol">(</a><a id="13657" href="Graded.Usage.html#1689" class="InductiveConstructor">prodₚₘ</a> <a id="13664" class="Symbol">(</a><a id="13665" href="Graded.Usage.html#1826" class="InductiveConstructor">fstₘ</a> <a id="13670" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="13673" href="Graded.Usage.html#1374" class="InductiveConstructor">var</a> <a id="13677" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="13685" href="Graded.Reduction.html#13620" class="Bound">⌞p⌟≡𝟙→≤𝟙</a><a id="13693" class="Symbol">)</a> <a id="13695" class="Symbol">(</a><a id="13696" href="Graded.Usage.html#1965" class="InductiveConstructor">sndₘ</a> <a id="13701" href="Graded.Usage.html#1374" class="InductiveConstructor">var</a><a id="13704" class="Symbol">))</a>
           <a id="13718" class="Symbol">(</a><a id="13719" class="Keyword">let</a> <a id="13723" class="Keyword">open</a> <a id="13728" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="13757" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a> <a id="13766" class="Keyword">in</a> <a id="13769" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
              <a id="13789" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="13791" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13793" href="Graded.Modality.html#819" class="Function">𝟙</a>                  <a id="13812" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="13815" href="Graded.Context.html#790" class="InductiveConstructor">ε</a> <a id="13817" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="13819" href="Graded.Modality.Properties.Meet.html#2436" class="Function">∧-greatest-lower-bound</a> <a id="13842" href="Graded.Reduction.html#13614" class="Bound">𝟙≤p</a> <a id="13846" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a> <a id="13853" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
              <a id="13869" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="13871" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13873" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13875" href="Graded.Modality.html#748" class="Function Operator">∧</a> <a id="13877" href="Graded.Modality.html#819" class="Function">𝟙</a>              <a id="13892" href="Relation.Binary.Reasoning.Base.Triple.html#4358" class="Function">≈˘⟨</a> <a id="13896" href="Graded.Context.html#790" class="InductiveConstructor">ε</a> <a id="13898" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="13900" href="Algebra.Structures.html#2585" class="Function">∧-congʳ</a> <a id="13908" href="Graded.Mode.html#15724" class="Function">·⌜⌞⌟⌝</a> <a id="13914" href="Relation.Binary.Reasoning.Base.Triple.html#4358" class="Function">⟩</a>
              <a id="13930" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="13932" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="13934" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13936" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="13938" href="Graded.Mode.html#3577" class="Function Operator">⌜</a> <a id="13940" href="Graded.Mode.html#3863" class="Function Operator">⌞</a> <a id="13942" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13944" href="Graded.Mode.html#3863" class="Function Operator">⌟</a> <a id="13946" href="Graded.Mode.html#3577" class="Function Operator">⌝</a> <a id="13948" href="Graded.Modality.html#748" class="Function Operator">∧</a> <a id="13950" href="Graded.Modality.html#819" class="Function">𝟙</a>  <a id="13953" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="13954" class="Symbol">))</a>

  <a id="13960" href="Graded.Reduction.html#13960" class="Function">lemma₂</a> <a id="13967" class="Symbol">:</a>
    <a id="13973" class="Symbol">(</a><a id="13974" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="13976" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="13978" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13980" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="13982" class="Symbol">(</a><a id="13983" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="13985" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="13987" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="13989" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="13991" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="13993" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="14004" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="14006" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="14008" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="14013" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="14014" class="Symbol">))</a> <a id="14017" href="Tools.Function.html#1013" class="Function Operator">⇔</a>
    <a id="14023" class="Symbol">(</a><a id="14024" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="14026" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="14031" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14033" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="14035" href="Graded.Reduction.html#12158" class="Bound">p</a> <a id="14037" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="14042" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="14044" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="14046" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="14048" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="14059" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="14061" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14063" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="14065" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="14066" class="Symbol">)</a>
  <a id="14070" href="Graded.Reduction.html#13960" class="Function">lemma₂</a> <a id="14077" class="Symbol">=</a>
      <a id="14085" class="Symbol">(λ</a> <a id="14088" class="Keyword">where</a>
         <a id="14103" class="Symbol">(</a><a id="14104" href="Graded.Reduction.html#14104" class="Bound">𝟙≤p</a> <a id="14108" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14110" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="14115" href="Graded.Reduction.html#14115" class="Bound">p≤𝟙</a><a id="14118" class="Symbol">)</a> <a id="14120" class="Symbol">→</a>
           <a id="14133" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="14138" class="Symbol">(</a><a id="14139" href="Graded.Modality.Properties.PartialOrder.html#855" class="Function">≤-antisym</a> <a id="14149" href="Graded.Reduction.html#14115" class="Bound">p≤𝟙</a> <a id="14153" href="Graded.Reduction.html#14104" class="Bound">𝟙≤p</a><a id="14156" class="Symbol">)</a>
         <a id="14167" class="Symbol">(</a><a id="14168" href="Graded.Reduction.html#14168" class="Bound">𝟙≤𝟘</a> <a id="14172" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14174" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="14179" class="Symbol">(</a><a id="14180" href="Graded.Reduction.html#14180" class="Bound">ok</a> <a id="14183" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14185" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a><a id="14192" class="Symbol">))</a> <a id="14195" class="Symbol">→</a>
           <a id="14208" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="14213" class="Symbol">(</a><a id="14214" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="14222" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14224" href="Graded.Reduction.html#14180" class="Bound">ok</a> <a id="14227" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14229" href="Graded.Reduction.html#14168" class="Bound">𝟙≤𝟘</a><a id="14232" class="Symbol">))</a>
    <a id="14239" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14241" class="Symbol">(λ</a> <a id="14244" class="Keyword">where</a>
         <a id="14259" class="Symbol">(</a><a id="14260" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="14265" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a><a id="14272" class="Symbol">)</a> <a id="14274" class="Symbol">→</a>
           <a id="14287" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a> <a id="14294" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14296" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="14301" href="Graded.Modality.Properties.PartialOrder.html#573" class="Function">≤-refl</a>
         <a id="14317" class="Symbol">(</a><a id="14318" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="14323" class="Symbol">(</a><a id="14324" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="14332" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14334" href="Graded.Reduction.html#14334" class="Bound">ok</a> <a id="14337" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14339" href="Graded.Reduction.html#14339" class="Bound">𝟙≤𝟘</a><a id="14342" class="Symbol">))</a> <a id="14345" class="Symbol">→</a>
           <a id="14358" href="Graded.Reduction.html#14339" class="Bound">𝟙≤𝟘</a> <a id="14362" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14364" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="14369" class="Symbol">(</a><a id="14370" href="Graded.Reduction.html#14334" class="Bound">ok</a> <a id="14373" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14375" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a><a id="14382" class="Symbol">))</a>

<a id="14386" class="Comment">-- If &quot;Π 𝟙 , r&quot; and &quot;Σₚ p , q&quot; are allowed, then the identity function</a>
<a id="14457" class="Comment">-- lam 𝟙 (var x0) has type</a>
<a id="14484" class="Comment">-- Π 𝟙 , r ▷ Σₚ p , q ▷ ℕ ▹ ℕ ▹ Σₚ p , q ▷ ℕ ▹ ℕ, is well-resourced in</a>
<a id="14555" class="Comment">-- the empty context, and is definitionally equal to the η-long normal</a>
<a id="14626" class="Comment">-- form lam 𝟙 (prodₚ p (fst p (var x0)) (snd p (var x0))), however,</a>
<a id="14694" class="Comment">-- this η-long normal form is well-resourced in the empty context if</a>
<a id="14763" class="Comment">-- and only if either p is 𝟙, or p is 𝟘, 𝟘ᵐ is allowed, and 𝟙 ≤ 𝟘.</a>

<a id="η-long-nf-for-id⇔≡𝟙⊎≡𝟘"></a><a id="14831" href="Graded.Reduction.html#14831" class="Function">η-long-nf-for-id⇔≡𝟙⊎≡𝟘</a> <a id="14854" class="Symbol">:</a>
  <a id="14858" href="Definition.Typed.Restrictions.html#728" class="Function">Π-allowed</a> <a id="14868" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14870" href="Graded.Reduction.html#1477" class="Generalizable">r</a> <a id="14872" class="Symbol">→</a>
  <a id="14876" href="Definition.Typed.Restrictions.html#957" class="Function">Σₚ-allowed</a> <a id="14887" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="14889" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="14891" class="Symbol">→</a>
  <a id="14895" class="Keyword">let</a> <a id="14899" href="Graded.Reduction.html#14899" class="Bound">A</a> <a id="14901" class="Symbol">=</a> <a id="14903" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">Π</a> <a id="14905" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14907" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">,</a> <a id="14909" href="Graded.Reduction.html#1477" class="Generalizable">r</a> <a id="14911" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">▷</a> <a id="14913" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">Σₚ</a> <a id="14916" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="14918" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">,</a> <a id="14920" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="14922" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▷</a> <a id="14924" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="14926" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▹</a> <a id="14928" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="14930" href="Definition.Untyped.html#2788" class="InductiveConstructor Operator">▹</a> <a id="14932" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">Σₚ</a> <a id="14935" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="14937" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">,</a> <a id="14939" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="14941" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▷</a> <a id="14943" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="14945" href="Definition.Untyped.html#2853" class="InductiveConstructor Operator">▹</a> <a id="14947" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a>
      <a id="14955" href="Graded.Reduction.html#14955" class="Bound">t</a> <a id="14957" class="Symbol">=</a> <a id="14959" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="14963" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14965" class="Symbol">(</a><a id="14966" class="InductiveConstructor">var</a> <a id="14970" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="14972" class="Symbol">)</a>
      <a id="14980" href="Graded.Reduction.html#14980" class="Bound">u</a> <a id="14982" class="Symbol">=</a> <a id="14984" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="14988" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="14990" class="Symbol">(</a><a id="14991" href="Definition.Untyped.html#3284" class="InductiveConstructor">prodₚ</a> <a id="14997" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="14999" class="Symbol">(</a><a id="15000" href="Definition.Untyped.html#3501" class="InductiveConstructor">fst</a> <a id="15004" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="15006" class="Symbol">(</a><a id="15007" class="InductiveConstructor">var</a> <a id="15011" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="15013" class="Symbol">))</a> <a id="15016" class="Symbol">(</a><a id="15017" href="Definition.Untyped.html#3544" class="InductiveConstructor">snd</a> <a id="15021" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="15023" class="Symbol">(</a><a id="15024" class="InductiveConstructor">var</a> <a id="15028" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="15030" class="Symbol">)))</a>
  <a id="15036" class="Keyword">in</a>
  <a id="15041" class="InductiveConstructor">ε</a> <a id="15043" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="15045" href="Graded.Reduction.html#14955" class="Bound">t</a> <a id="15047" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="15049" href="Graded.Reduction.html#14899" class="Bound">A</a> <a id="15051" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="15055" class="InductiveConstructor">ε</a> <a id="15057" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15060" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="15063" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15065" href="Graded.Reduction.html#14955" class="Bound">t</a> <a id="15067" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="15071" class="InductiveConstructor">ε</a> <a id="15073" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">⊢nf</a> <a id="15077" href="Graded.Reduction.html#14980" class="Bound">u</a> <a id="15079" href="Definition.Typed.Eta-long-normal-form.html#2394" class="Datatype Operator">∷</a> <a id="15081" href="Graded.Reduction.html#14899" class="Bound">A</a> <a id="15083" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="15087" class="InductiveConstructor">ε</a> <a id="15089" href="Definition.Typed.html#3898" class="Datatype Operator">⊢</a> <a id="15091" href="Graded.Reduction.html#14955" class="Bound">t</a> <a id="15093" href="Definition.Typed.html#3898" class="Datatype Operator">≡</a> <a id="15095" href="Graded.Reduction.html#14980" class="Bound">u</a> <a id="15097" href="Definition.Typed.html#3898" class="Datatype Operator">∷</a> <a id="15099" href="Graded.Reduction.html#14899" class="Bound">A</a> <a id="15101" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="15105" class="Symbol">(</a><a id="15106" class="InductiveConstructor">ε</a> <a id="15108" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15111" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="15114" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15116" href="Graded.Reduction.html#14980" class="Bound">u</a> <a id="15118" href="Tools.Function.html#1013" class="Function Operator">⇔</a> <a id="15120" class="Symbol">(</a><a id="15121" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="15123" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="15128" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15130" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="15132" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="15134" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="15139" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="15141" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="15143" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="15145" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="15156" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="15158" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15160" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="15162" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="15163" class="Symbol">))</a>
<a id="15166" href="Graded.Reduction.html#14831" class="Function">η-long-nf-for-id⇔≡𝟙⊎≡𝟘</a> <a id="15189" class="Symbol">{</a><a id="15190" class="Argument">r</a> <a id="15192" class="Symbol">=</a> <a id="15194" href="Graded.Reduction.html#15194" class="Bound">r</a><a id="15195" class="Symbol">}</a> <a id="15197" class="Symbol">{</a><a id="15198" class="Argument">p</a> <a id="15200" class="Symbol">=</a> <a id="15202" href="Graded.Reduction.html#15202" class="Bound">p</a><a id="15203" class="Symbol">}</a> <a id="15205" class="Symbol">{</a><a id="15206" class="Argument">q</a> <a id="15208" class="Symbol">=</a> <a id="15210" href="Graded.Reduction.html#15210" class="Bound">q</a><a id="15211" class="Symbol">}</a> <a id="15213" href="Graded.Reduction.html#15213" class="Bound">ok₁</a> <a id="15217" href="Graded.Reduction.html#15217" class="Bound">ok₂</a> <a id="15221" class="Symbol">=</a>
  <a id="15225" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="15230" href="Graded.Reduction.html#11811" class="Function">η-long-nf-for-0⇔≡𝟙⊎≡𝟘</a> <a id="15252" href="Graded.Reduction.html#15217" class="Bound">ok₂</a> <a id="15256" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="15259" class="Symbol">λ</a> <a id="15261" class="Symbol">{</a>
    <a id="15267" class="Symbol">(</a><a id="15268" href="Graded.Reduction.html#15268" class="Bound">⊢t</a> <a id="15271" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15273" href="Graded.Reduction.html#15273" class="Bound">▸t</a> <a id="15276" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15278" href="Graded.Reduction.html#15278" class="Bound">⊢u</a> <a id="15281" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15283" href="Graded.Reduction.html#15283" class="Bound">t≡u</a> <a id="15287" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15289" href="Graded.Reduction.html#15289" class="Bound">▸u⇔</a><a id="15292" class="Symbol">)</a> <a id="15294" class="Symbol">→</a>
    <a id="15300" href="Definition.Typed.html#1930" class="InductiveConstructor">lamⱼ</a> <a id="15305" href="Graded.Reduction.html#16114" class="Function">⊢Σℕℕ</a> <a id="15310" href="Graded.Reduction.html#15268" class="Bound">⊢t</a> <a id="15313" href="Graded.Reduction.html#15213" class="Bound">ok₁</a>
  <a id="15319" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15321" href="Graded.Usage.html#1419" class="InductiveConstructor">lamₘ</a> <a id="15326" class="Symbol">(</a><a id="15327" href="Graded.Usage.html#2684" class="InductiveConstructor">sub</a> <a id="15331" href="Graded.Reduction.html#15273" class="Bound">▸t</a>
            <a id="15346" class="Symbol">(</a><a id="15347" class="Keyword">let</a> <a id="15351" class="Keyword">open</a> <a id="15356" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="15385" href="Graded.Context.Properties.PartialOrder.html#1716" class="Function">≤ᶜ-poset</a> <a id="15394" class="Keyword">in</a> <a id="15397" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
               <a id="15418" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="15421" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="15423" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15425" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="15427" href="Graded.Modality.html#819" class="Function">𝟙</a>  <a id="15430" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">≈⟨</a> <a id="15433" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="15441" href="Graded.Context.html#803" class="InductiveConstructor Operator">∙</a> <a id="15443" href="Graded.Modality.html#2323" class="Function">·-identityˡ</a> <a id="15455" class="Symbol">_</a> <a id="15457" href="Relation.Binary.Reasoning.Base.Triple.html#4035" class="Function">⟩</a>
               <a id="15474" href="Graded.Context.html#1994" class="Function">𝟘ᶜ</a> <a id="15477" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="15479" href="Graded.Modality.html#819" class="Function">𝟙</a>      <a id="15486" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a><a id="15487" class="Symbol">))</a>
  <a id="15492" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15494" href="Definition.Typed.Eta-long-normal-form.html#2667" class="InductiveConstructor">lamₙ</a> <a id="15499" href="Graded.Reduction.html#16114" class="Function">⊢Σℕℕ</a> <a id="15504" href="Graded.Reduction.html#15278" class="Bound">⊢u</a> <a id="15507" href="Graded.Reduction.html#15213" class="Bound">ok₁</a>
  <a id="15513" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15515" href="Definition.Typed.Consequences.DerivedRules.html#1188" class="Function">lam-cong</a> <a id="15524" href="Graded.Reduction.html#15283" class="Bound">t≡u</a> <a id="15528" href="Graded.Reduction.html#15213" class="Bound">ok₁</a>
  <a id="15534" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15536" class="Symbol">(</a><a id="15537" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="15539" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15542" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="15545" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15547" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="15551" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15553" href="Graded.Reduction.html#16063" class="Function">u′</a>                            <a id="15583" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="15586" class="Symbol">(λ</a> <a id="15589" href="Graded.Reduction.html#15589" class="Bound">▸λ*</a> <a id="15593" class="Symbol">→</a> <a id="15595" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="15600" href="Graded.Usage.Inversion.html#2613" class="Function">inv-usage-lam</a> <a id="15614" href="Graded.Reduction.html#15589" class="Bound">▸λ*</a> <a id="15618" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="15621" class="Symbol">λ</a> <a id="15623" class="Keyword">where</a>
                                                         <a id="15686" class="Symbol">(</a><a id="15687" href="Graded.Usage.Inversion.html#2461" class="InductiveConstructor">invUsageLam</a> <a id="15699" class="Symbol">{</a><a id="15700" class="Argument">δ</a> <a id="15702" class="Symbol">=</a> <a id="15704" href="Graded.Context.html#637" class="InductiveConstructor">ε</a><a id="15705" class="Symbol">}</a> <a id="15707" href="Graded.Reduction.html#15707" class="Bound">▸*</a> <a id="15710" class="Symbol">_)</a> <a id="15713" class="Symbol">→</a> <a id="15715" href="Graded.Reduction.html#15707" class="Bound">▸*</a><a id="15717" class="Symbol">)</a>
                                                    <a id="15771" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15773" href="Graded.Usage.html#1419" class="InductiveConstructor">lamₘ</a>
                                                    <a id="15830" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="15837" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="15839" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="15841" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15843" href="Graded.Modality.html#714" class="Function Operator">·</a> <a id="15845" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15847" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15850" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="15853" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15855" href="Graded.Reduction.html#16063" class="Function">u′</a>                          <a id="15883" href="Tools.Function.html#1490" class="Function">≡⟨</a> <a id="15886" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">PE.cong</a> <a id="15894" class="Symbol">(λ</a> <a id="15897" href="Graded.Reduction.html#15897" class="Bound">p</a> <a id="15899" class="Symbol">→</a> <a id="15901" class="Symbol">_</a> <a id="15903" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="15905" href="Graded.Reduction.html#15897" class="Bound">p</a> <a id="15907" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15910" class="Symbol">_</a> <a id="15912" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15914" class="Symbol">_)</a> <a id="15917" class="Symbol">(</a><a id="15918" href="Graded.Modality.html#2323" class="Function">·-identityˡ</a> <a id="15930" class="Symbol">_)</a> <a id="15933" href="Tools.Function.html#1490" class="Function">⟩⇔</a>
     <a id="15941" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="15943" href="Graded.Context.html#652" class="InductiveConstructor Operator">∙</a> <a id="15945" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="15947" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="15950" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="15953" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="15955" href="Graded.Reduction.html#16063" class="Function">u′</a>                              <a id="15987" href="Tools.Function.html#1376" class="Function">⇔⟨</a> <a id="15990" href="Graded.Reduction.html#15289" class="Bound">▸u⇔</a> <a id="15994" href="Tools.Function.html#1376" class="Function">⟩</a>
     <a id="16001" class="Symbol">(</a><a id="16002" href="Graded.Reduction.html#15202" class="Bound">p</a> <a id="16004" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="16009" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="16011" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="16013" href="Graded.Reduction.html#15202" class="Bound">p</a> <a id="16015" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="16020" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="16022" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="16024" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="16026" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="16037" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="16039" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="16041" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="16043" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="16044" class="Symbol">)</a>  <a id="16047" href="Tools.Function.html#1604" class="Function Operator">□⇔</a><a id="16049" class="Symbol">)</a> <a id="16051" class="Symbol">}</a>
  <a id="16055" class="Keyword">where</a>
  <a id="16063" href="Graded.Reduction.html#16063" class="Function">u′</a>   <a id="16068" class="Symbol">=</a> <a id="16070" href="Definition.Untyped.html#3284" class="InductiveConstructor">prodₚ</a> <a id="16076" href="Graded.Reduction.html#15202" class="Bound">p</a> <a id="16078" class="Symbol">(</a><a id="16079" href="Definition.Untyped.html#3501" class="InductiveConstructor">fst</a> <a id="16083" href="Graded.Reduction.html#15202" class="Bound">p</a> <a id="16085" class="Symbol">(</a><a id="16086" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="16090" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="16092" class="Symbol">))</a> <a id="16095" class="Symbol">(</a><a id="16096" href="Definition.Untyped.html#3544" class="InductiveConstructor">snd</a> <a id="16100" href="Graded.Reduction.html#15202" class="Bound">p</a> <a id="16102" class="Symbol">(</a><a id="16103" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="16107" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="16109" class="Symbol">))</a>
  <a id="16114" href="Graded.Reduction.html#16114" class="Function">⊢Σℕℕ</a> <a id="16119" class="Symbol">=</a> <a id="16121" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="16125" class="Symbol">(</a><a id="16126" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="16129" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="16130" class="Symbol">)</a> <a id="16132" class="Symbol">(</a><a id="16133" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="16136" class="Symbol">(</a><a id="16137" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="16139" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="16141" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="16144" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="16145" class="Symbol">))</a> <a id="16148" href="Graded.Reduction.html#15217" class="Bound">ok₂</a>

<a id="16153" class="Comment">-- The type</a>
<a id="16165" class="Comment">-- Well-resourced-normal-form-without-η-long-normal-form is</a>
<a id="16225" class="Comment">-- inhabited if there are quantities p, q and r such that</a>
<a id="16283" class="Comment">-- * p is distinct from 𝟙,</a>
<a id="16310" class="Comment">-- * &quot;p is 𝟘 and 𝟘ᵐ is allowed and 𝟙 ≤ 𝟘&quot; does not hold,</a>
<a id="16367" class="Comment">-- * Σₚ-allowed p q holds, and</a>
<a id="16398" class="Comment">-- * Π-allowed 𝟙 r holds.</a>

<a id="well-resourced-normal-form-without-η-long-normal-form-Σₚ"></a><a id="16425" href="Graded.Reduction.html#16425" class="Function">well-resourced-normal-form-without-η-long-normal-form-Σₚ</a> <a id="16482" class="Symbol">:</a>
  <a id="16486" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="16488" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="16490" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="16492" class="Symbol">→</a>
  <a id="16496" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="16498" class="Symbol">(</a><a id="16499" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="16501" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="16506" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="16508" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="16510" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="16512" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="16523" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="16525" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="16527" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="16529" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="16530" class="Symbol">)</a> <a id="16532" class="Symbol">→</a>
  <a id="16536" href="Definition.Typed.Restrictions.html#957" class="Function">Σₚ-allowed</a> <a id="16547" href="Graded.Reduction.html#1473" class="Generalizable">p</a> <a id="16549" href="Graded.Reduction.html#1475" class="Generalizable">q</a> <a id="16551" class="Symbol">→</a>
  <a id="16555" href="Definition.Typed.Restrictions.html#728" class="Function">Π-allowed</a> <a id="16565" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="16567" href="Graded.Reduction.html#1477" class="Generalizable">r</a> <a id="16569" class="Symbol">→</a>
  <a id="16573" href="Graded.Reduction.html#8184" class="Function">Well-resourced-normal-form-without-η-long-normal-form</a>
<a id="16627" href="Graded.Reduction.html#16425" class="Function">well-resourced-normal-form-without-η-long-normal-form-Σₚ</a>
  <a id="16686" class="Symbol">{</a><a id="16687" class="Argument">p</a> <a id="16689" class="Symbol">=</a> <a id="16691" href="Graded.Reduction.html#16691" class="Bound">p</a><a id="16692" class="Symbol">}</a> <a id="16694" href="Graded.Reduction.html#16694" class="Bound">p≢𝟙</a> <a id="16698" href="Graded.Reduction.html#16698" class="Bound">¬[p≡𝟘×𝟘ᵐ×𝟙≤𝟘]</a> <a id="16712" href="Graded.Reduction.html#16712" class="Bound">ok₁</a> <a id="16716" href="Graded.Reduction.html#16716" class="Bound">ok₂</a> <a id="16720" class="Symbol">=</a>
  <a id="16724" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="16729" href="Graded.Reduction.html#14831" class="Function">η-long-nf-for-id⇔≡𝟙⊎≡𝟘</a> <a id="16752" href="Graded.Reduction.html#16716" class="Bound">ok₂</a> <a id="16756" href="Graded.Reduction.html#16712" class="Bound">ok₁</a> <a id="16760" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="16763" class="Symbol">λ</a> <a id="16765" class="Symbol">{</a>
    <a id="16771" class="Symbol">(</a><a id="16772" href="Graded.Reduction.html#16772" class="Bound">⊢t</a> <a id="16775" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16777" href="Graded.Reduction.html#16777" class="Bound">▸t</a> <a id="16780" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16782" href="Graded.Reduction.html#16782" class="Bound">⊢u</a> <a id="16785" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16787" href="Graded.Reduction.html#16787" class="Bound">t≡u</a> <a id="16791" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16793" href="Graded.Reduction.html#16793" class="Bound">▸u→</a> <a id="16797" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16799" class="Symbol">_)</a> <a id="16802" class="Symbol">→</a>
    <a id="16808" class="Symbol">_</a> <a id="16810" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16812" class="Symbol">_</a>
  <a id="16816" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16818" href="Graded.Reduction.html#16772" class="Bound">⊢t</a>
  <a id="16823" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16825" href="Definition.Untyped.Normal-form.html#649" class="InductiveConstructor">lamₙ</a> <a id="16830" class="Symbol">(</a><a id="16831" href="Definition.Untyped.Normal-form.html#801" class="InductiveConstructor">ne</a> <a id="16834" class="Symbol">(</a><a id="16835" href="Definition.Untyped.Normal-form.html#963" class="InductiveConstructor">var</a> <a id="16839" class="Symbol">_))</a>
  <a id="16845" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16847" href="Graded.Reduction.html#16777" class="Bound">▸t</a>
  <a id="16852" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16854" class="Symbol">λ</a> <a id="16856" class="Symbol">(</a><a id="16857" href="Graded.Reduction.html#16857" class="Bound">v</a> <a id="16859" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16861" href="Graded.Reduction.html#16861" class="Bound">⊢v</a> <a id="16864" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16866" href="Graded.Reduction.html#16866" class="Bound">t≡v</a> <a id="16870" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16872" href="Graded.Reduction.html#16872" class="Bound">▸v</a><a id="16874" class="Symbol">)</a> <a id="16876" class="Symbol">→</a>                                        <a id="16917" href="Tools.Function.html#935" class="Function Operator">$⟨</a> <a id="16920" href="Graded.Reduction.html#16872" class="Bound">▸v</a> <a id="16923" href="Tools.Function.html#935" class="Function Operator">⟩</a>
      <a id="16931" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="16933" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="16936" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="16939" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="16941" href="Graded.Reduction.html#16857" class="Bound">v</a>                                                  <a id="16992" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="16995" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">PE.subst</a> <a id="17004" class="Symbol">(_</a> <a id="17007" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="17010" class="Symbol">_</a> <a id="17012" href="Graded.Usage.html#1080" class="Datatype Operator">]_</a><a id="17014" class="Symbol">)</a> <a id="17016" class="Symbol">(</a><a id="17017" href="Definition.Typed.Eta-long-normal-form.html#34028" class="Function">normal-terms-unique</a> <a id="17037" href="Graded.Reduction.html#16861" class="Bound">⊢v</a> <a id="17040" href="Graded.Reduction.html#16782" class="Bound">⊢u</a> <a id="17043" class="Symbol">(</a><a id="17044" href="Definition.Typed.html#4100" class="InductiveConstructor">trans</a> <a id="17050" class="Symbol">(</a><a id="17051" href="Definition.Typed.html#4032" class="InductiveConstructor">sym</a> <a id="17055" href="Graded.Reduction.html#16866" class="Bound">t≡v</a><a id="17058" class="Symbol">)</a> <a id="17060" href="Graded.Reduction.html#16787" class="Bound">t≡u</a><a id="17063" class="Symbol">))</a> <a id="17066" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="17074" href="Graded.Context.html#637" class="InductiveConstructor">ε</a> <a id="17076" href="Graded.Usage.html#1080" class="Datatype Operator">▸[</a> <a id="17079" href="Graded.Mode.html#1027" class="InductiveConstructor">𝟙ᵐ</a> <a id="17082" href="Graded.Usage.html#1080" class="Datatype Operator">]</a> <a id="17084" href="Definition.Untyped.html#3141" class="InductiveConstructor">lam</a> <a id="17088" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="17090" class="Symbol">(</a><a id="17091" href="Definition.Untyped.html#3284" class="InductiveConstructor">prodₚ</a> <a id="17097" href="Graded.Reduction.html#16691" class="Bound">p</a> <a id="17099" class="Symbol">(</a><a id="17100" href="Definition.Untyped.html#3501" class="InductiveConstructor">fst</a> <a id="17104" href="Graded.Reduction.html#16691" class="Bound">p</a> <a id="17106" class="Symbol">(</a><a id="17107" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="17111" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="17113" class="Symbol">))</a> <a id="17116" class="Symbol">(</a><a id="17117" href="Definition.Untyped.html#3544" class="InductiveConstructor">snd</a> <a id="17121" href="Graded.Reduction.html#16691" class="Bound">p</a> <a id="17123" class="Symbol">(</a><a id="17124" href="Definition.Untyped.html#2152" class="InductiveConstructor">var</a> <a id="17128" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a><a id="17130" class="Symbol">)))</a>  <a id="17135" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="17138" href="Graded.Reduction.html#16793" class="Bound">▸u→</a> <a id="17142" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="17150" href="Graded.Reduction.html#16691" class="Bound">p</a> <a id="17152" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="17157" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="17159" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="17161" href="Graded.Reduction.html#16691" class="Bound">p</a> <a id="17163" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">PE.≡</a> <a id="17168" href="Graded.Modality.html#809" class="Function">𝟘</a> <a id="17170" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="17172" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="17174" href="Graded.Mode.Restrictions.html#371" class="Function">𝟘ᵐ-allowed</a> <a id="17185" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="17187" href="Graded.Modality.html#819" class="Function">𝟙</a> <a id="17189" href="Graded.Modality.html#1244" class="Function Operator">≤</a> <a id="17191" href="Graded.Modality.html#809" class="Function">𝟘</a>                   <a id="17211" href="Tools.Function.html#671" class="Function">→⟨</a> <a id="17214" class="Symbol">(λ</a> <a id="17217" class="Symbol">{</a> <a id="17219" class="Symbol">(</a><a id="17220" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="17225" href="Graded.Reduction.html#17225" class="Bound">p≡𝟙</a><a id="17228" class="Symbol">)</a> <a id="17230" class="Symbol">→</a> <a id="17232" href="Graded.Reduction.html#16694" class="Bound">p≢𝟙</a> <a id="17236" href="Graded.Reduction.html#17225" class="Bound">p≡𝟙</a><a id="17239" class="Symbol">;</a> <a id="17241" class="Symbol">(</a><a id="17242" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="17247" href="Graded.Reduction.html#17247" class="Bound">hyp</a><a id="17250" class="Symbol">)</a> <a id="17252" class="Symbol">→</a> <a id="17254" href="Graded.Reduction.html#16698" class="Bound">¬[p≡𝟘×𝟘ᵐ×𝟙≤𝟘]</a> <a id="17268" href="Graded.Reduction.html#17247" class="Bound">hyp</a> <a id="17272" class="Symbol">})</a> <a id="17275" href="Tools.Function.html#671" class="Function">⟩</a>
      <a id="17283" href="Data.Empty.html#526" class="Datatype">⊥</a>                                                            <a id="17344" href="Tools.Function.html#899" class="Function Operator">□</a> <a id="17346" class="Symbol">}</a>
</pre></body></html>