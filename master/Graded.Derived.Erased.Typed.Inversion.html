<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Derived.Erased.Typed.Inversion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Some inversion lemmas related to typing and Erased</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="244" class="Keyword">import</a> <a id="251" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a> <a id="314" class="Keyword">using</a> <a id="320" class="Symbol">(</a><a id="321" href="Definition.Untyped.NotParametrised.html#1526" class="Datatype">Strength</a><a id="329" class="Symbol">)</a>

<a id="332" class="Keyword">module</a> <a id="339" href="Graded.Derived.Erased.Typed.Inversion.html" class="Module">Graded.Derived.Erased.Typed.Inversion</a>
  <a id="379" class="Symbol">{</a><a id="380" href="Graded.Derived.Erased.Typed.Inversion.html#380" class="Bound">a</a><a id="381" class="Symbol">}</a> <a id="383" class="Symbol">{</a><a id="384" href="Graded.Derived.Erased.Typed.Inversion.html#384" class="Bound">M</a> <a id="386" class="Symbol">:</a> <a id="388" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="392" href="Graded.Derived.Erased.Typed.Inversion.html#380" class="Bound">a</a><a id="393" class="Symbol">}</a>
  <a id="397" class="Symbol">(</a><a id="398" class="Keyword">open</a> <a id="403" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="419" href="Graded.Derived.Erased.Typed.Inversion.html#384" class="Bound">M</a><a id="420" class="Symbol">)</a>
  <a id="424" class="Symbol">{</a><a id="425" href="Graded.Derived.Erased.Typed.Inversion.html#425" class="Bound">𝕄</a> <a id="427" class="Symbol">:</a> <a id="429" href="Graded.Modality.html#7187" class="Record">Modality</a><a id="437" class="Symbol">}</a>
  <a id="441" class="Symbol">(</a><a id="442" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a> <a id="444" class="Symbol">:</a> <a id="446" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="464" href="Graded.Derived.Erased.Typed.Inversion.html#425" class="Bound">𝕄</a><a id="465" class="Symbol">)</a>
  <a id="469" class="Symbol">(</a><a id="470" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="472" class="Symbol">:</a> <a id="474" href="Definition.Untyped.NotParametrised.html#1526" class="Datatype">Strength</a><a id="482" class="Symbol">)</a>
  <a id="486" class="Keyword">where</a>

<a id="493" class="Keyword">open</a> <a id="498" href="Graded.Modality.html#7187" class="Module">Modality</a> <a id="507" href="Graded.Derived.Erased.Typed.Inversion.html#425" class="Bound">𝕄</a>
<a id="509" class="Keyword">open</a> <a id="514" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="532" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>

<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="564" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Definition.Typed.Consequences.Inequality.html" class="Module">Definition.Typed.Consequences.Inequality</a> <a id="619" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>
<a id="621" class="Keyword">open</a> <a id="626" class="Keyword">import</a> <a id="633" href="Definition.Typed.Consequences.Injectivity.html" class="Module">Definition.Typed.Consequences.Injectivity</a> <a id="675" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="Definition.Typed.Consequences.Inversion.html" class="Module">Definition.Typed.Consequences.Inversion</a> <a id="729" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>
<a id="731" class="Keyword">open</a> <a id="736" class="Keyword">import</a> <a id="743" href="Definition.Typed.Consequences.Substitution.html" class="Module">Definition.Typed.Consequences.Substitution</a> <a id="786" href="Graded.Derived.Erased.Typed.Inversion.html#442" class="Bound">R</a>

<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="820" href="Graded.Derived.Erased.Typed.Inversion.html#384" class="Bound">M</a> as <a id="U"></a><a id="825" href="Graded.Derived.Erased.Typed.Inversion.html#825" class="Module">U</a>

<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Graded.Derived.Erased.Untyped.html" class="Module">Graded.Derived.Erased.Untyped</a> <a id="870" href="Graded.Derived.Erased.Typed.Inversion.html#425" class="Bound">𝕄</a> <a id="872" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a>

<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="899" class="Keyword">open</a> <a id="904" class="Keyword">import</a> <a id="911" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="921" class="Keyword">open</a> <a id="926" class="Keyword">import</a> <a id="933" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="948" class="Keyword">open</a> <a id="953" class="Keyword">import</a> <a id="960" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="974" class="Keyword">import</a> <a id="981" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="1009" class="Symbol">as</a> <a id="1012" class="Module">PE</a>
<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="1043" class="Keyword">private</a> <a id="1051" class="Keyword">variable</a>
  <a id="1062" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a>     <a id="1068" class="Symbol">:</a> <a id="1070" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="1074" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="1079" class="Symbol">_</a>
  <a id="1083" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1085" href="Graded.Derived.Erased.Typed.Inversion.html#1085" class="Generalizable">B</a> <a id="1087" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="1089" class="Symbol">:</a> <a id="1091" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="1096" class="Symbol">_</a>

<a id="1099" class="Keyword">opaque</a>

  <a id="1109" class="Comment">-- An inversion lemma for Erased.</a>

  <a id="inversion-Erased-∷"></a><a id="1146" href="Graded.Derived.Erased.Typed.Inversion.html#1146" class="Function">inversion-Erased-∷</a> <a id="1165" class="Symbol">:</a>
    <a id="1171" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1173" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="1175" href="Graded.Derived.Erased.Untyped.html#1032" class="Function">Erased</a> <a id="1182" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1184" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="1186" href="Graded.Derived.Erased.Typed.Inversion.html#1085" class="Generalizable">B</a> <a id="1188" class="Symbol">→</a>
    <a id="1194" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1196" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="1198" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1200" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="1202" href="Definition.Untyped.html#2853" class="InductiveConstructor">U</a> <a id="1204" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1206" href="Definition.Typed.Restrictions.html#2036" class="Function">Erased-allowed</a> <a id="1221" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="1223" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1225" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1227" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="1229" href="Graded.Derived.Erased.Typed.Inversion.html#1085" class="Generalizable">B</a> <a id="1231" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="1233" href="Definition.Untyped.html#2853" class="InductiveConstructor">U</a>
  <a id="1237" href="Graded.Derived.Erased.Typed.Inversion.html#1146" class="Function">inversion-Erased-∷</a> <a id="1256" href="Graded.Derived.Erased.Typed.Inversion.html#1256" class="Bound">⊢Erased</a> <a id="1264" class="Symbol">=</a>
    <a id="1270" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1275" href="Definition.Typed.Consequences.Inversion.html#2444" class="Function">inversion-ΠΣ-U</a> <a id="1290" href="Graded.Derived.Erased.Typed.Inversion.html#1256" class="Bound">⊢Erased</a> <a id="1298" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1301" class="Symbol">λ</a> <a id="1303" class="Symbol">{</a>
      <a id="1311" class="Symbol">(</a><a id="1312" href="Graded.Derived.Erased.Typed.Inversion.html#1312" class="Bound">⊢A</a> <a id="1315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1317" href="Graded.Derived.Erased.Typed.Inversion.html#1317" class="Bound">⊢Unit</a> <a id="1323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1325" href="Graded.Derived.Erased.Typed.Inversion.html#1325" class="Bound">B≡</a> <a id="1328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1330" href="Graded.Derived.Erased.Typed.Inversion.html#1330" class="Bound">Σˢ-ok</a><a id="1335" class="Symbol">)</a> <a id="1337" class="Symbol">→</a>
    <a id="1343" href="Graded.Derived.Erased.Typed.Inversion.html#1312" class="Bound">⊢A</a> <a id="1346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Definition.Typed.Consequences.Inversion.html#1983" class="Function">inversion-Unit</a> <a id="1364" class="Symbol">(</a><a id="1365" href="Definition.Typed.html#1665" class="InductiveConstructor">univ</a> <a id="1370" href="Graded.Derived.Erased.Typed.Inversion.html#1317" class="Bound">⊢Unit</a><a id="1375" class="Symbol">)</a> <a id="1377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1379" href="Graded.Derived.Erased.Typed.Inversion.html#1330" class="Bound">Σˢ-ok</a><a id="1384" class="Symbol">)</a> <a id="1386" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1388" href="Graded.Derived.Erased.Typed.Inversion.html#1325" class="Bound">B≡</a> <a id="1391" class="Symbol">}</a>

<a id="1394" class="Keyword">opaque</a>

  <a id="1404" class="Comment">-- Another inversion lemma for Erased.</a>

  <a id="inversion-Erased"></a><a id="1446" href="Graded.Derived.Erased.Typed.Inversion.html#1446" class="Function">inversion-Erased</a> <a id="1463" class="Symbol">:</a> <a id="1465" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1467" href="Definition.Typed.html#1300" class="Datatype Operator">⊢</a> <a id="1469" href="Graded.Derived.Erased.Untyped.html#1032" class="Function">Erased</a> <a id="1476" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1478" class="Symbol">→</a> <a id="1480" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1482" href="Definition.Typed.html#1300" class="Datatype Operator">⊢</a> <a id="1484" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1486" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1488" href="Definition.Typed.Restrictions.html#2036" class="Function">Erased-allowed</a> <a id="1503" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a>
  <a id="1507" href="Graded.Derived.Erased.Typed.Inversion.html#1446" class="Function">inversion-Erased</a> <a id="1524" href="Graded.Derived.Erased.Typed.Inversion.html#1524" class="Bound">⊢Erased</a> <a id="1532" class="Symbol">=</a>
    <a id="1538" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1543" href="Definition.Typed.Consequences.Inversion.html#2774" class="Function">inversion-ΠΣ</a> <a id="1556" href="Graded.Derived.Erased.Typed.Inversion.html#1524" class="Bound">⊢Erased</a> <a id="1564" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1567" class="Symbol">λ</a> <a id="1569" class="Symbol">{</a>
      <a id="1577" class="Symbol">(</a><a id="1578" href="Graded.Derived.Erased.Typed.Inversion.html#1578" class="Bound">⊢A</a> <a id="1581" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1583" href="Graded.Derived.Erased.Typed.Inversion.html#1583" class="Bound">⊢Unit</a> <a id="1589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1591" href="Graded.Derived.Erased.Typed.Inversion.html#1591" class="Bound">Σˢ-ok</a><a id="1596" class="Symbol">)</a> <a id="1598" class="Symbol">→</a>
    <a id="1604" href="Graded.Derived.Erased.Typed.Inversion.html#1578" class="Bound">⊢A</a> <a id="1607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1609" href="Definition.Typed.Consequences.Inversion.html#1983" class="Function">inversion-Unit</a> <a id="1624" href="Graded.Derived.Erased.Typed.Inversion.html#1583" class="Bound">⊢Unit</a> <a id="1630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1632" href="Graded.Derived.Erased.Typed.Inversion.html#1591" class="Bound">Σˢ-ok</a> <a id="1638" class="Symbol">}</a>

<a id="1641" class="Keyword">opaque</a>

  <a id="1651" class="Comment">-- An inversion lemma for [_].</a>
  <a id="1684" class="Comment">--</a>
  <a id="1689" class="Comment">-- TODO: Make it possible to replace the conclusion with</a>
  <a id="1748" class="Comment">--</a>
  <a id="1753" class="Comment">--   ∃ λ B → Γ ⊢ t ∷ B × Erased-allowed × Γ ⊢ A ≡ Erased B?</a>

  <a id="inversion-[]"></a><a id="1816" href="Graded.Derived.Erased.Typed.Inversion.html#1816" class="Function">inversion-[]</a> <a id="1829" class="Symbol">:</a>
    <a id="1835" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1837" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="1839" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">[</a> <a id="1841" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="1843" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">]</a> <a id="1845" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="1847" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1849" class="Symbol">→</a>
    <a id="1855" href="Tools.Product.html#506" class="Function">∃₃</a> <a id="1858" class="Symbol">λ</a> <a id="1860" href="Graded.Derived.Erased.Typed.Inversion.html#1860" class="Bound">B</a> <a id="1862" href="Graded.Derived.Erased.Typed.Inversion.html#1862" class="Bound">q</a> <a id="1864" href="Graded.Derived.Erased.Typed.Inversion.html#1864" class="Bound">C</a> <a id="1866" class="Symbol">→</a>
       <a id="1875" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1877" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="1879" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="1881" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="1883" href="Graded.Derived.Erased.Typed.Inversion.html#1860" class="Bound">B</a> <a id="1885" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
       <a id="1894" class="Symbol">(</a><a id="1895" href="Definition.Typed.Restrictions.html#1048" class="Function">Unit-allowed</a> <a id="1908" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="1910" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1912" href="Definition.Typed.Restrictions.html#1599" class="Function">Σ-allowed</a> <a id="1922" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="1924" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="1926" href="Graded.Derived.Erased.Typed.Inversion.html#1862" class="Bound">q</a><a id="1927" class="Symbol">)</a> <a id="1929" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
       <a id="1938" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1940" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="1942" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="1944" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="1946" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">Σ⟨</a> <a id="1949" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="1951" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">⟩</a> <a id="1953" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="1955" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">,</a> <a id="1957" href="Graded.Derived.Erased.Typed.Inversion.html#1862" class="Bound">q</a> <a id="1959" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">▷</a> <a id="1961" href="Graded.Derived.Erased.Typed.Inversion.html#1860" class="Bound">B</a> <a id="1963" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">▹</a> <a id="1965" href="Graded.Derived.Erased.Typed.Inversion.html#1864" class="Bound">C</a> <a id="1967" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
       <a id="1976" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="1978" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="1980" href="Graded.Derived.Erased.Typed.Inversion.html#1864" class="Bound">C</a> <a id="1982" href="Definition.Untyped.html#11253" class="Function Operator">U.[</a> <a id="1986" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="1988" href="Definition.Untyped.html#11253" class="Function Operator">]₀</a> <a id="1991" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="1993" href="Definition.Untyped.html#2974" class="InductiveConstructor">Unit</a> <a id="1998" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a>
  <a id="2002" href="Graded.Derived.Erased.Typed.Inversion.html#1816" class="Function">inversion-[]</a> <a id="2015" href="Graded.Derived.Erased.Typed.Inversion.html#2015" class="Bound">⊢[]</a> <a id="2019" class="Symbol">=</a>
    <a id="2025" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2030" href="Definition.Typed.Consequences.Inversion.html#5738" class="Function">inversion-prod</a> <a id="2045" href="Graded.Derived.Erased.Typed.Inversion.html#2015" class="Bound">⊢[]</a> <a id="2049" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2052" class="Symbol">λ</a> <a id="2054" class="Symbol">{</a>
      <a id="2062" class="Symbol">(</a><a id="2063" href="Graded.Derived.Erased.Typed.Inversion.html#2063" class="Bound">B</a> <a id="2065" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2067" href="Graded.Derived.Erased.Typed.Inversion.html#2067" class="Bound">C</a> <a id="2069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2071" href="Graded.Derived.Erased.Typed.Inversion.html#2071" class="Bound">q</a> <a id="2073" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2075" href="Graded.Derived.Erased.Typed.Inversion.html#2075" class="Bound">⊢B</a> <a id="2078" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2080" class="Symbol">_</a> <a id="2082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2084" href="Graded.Derived.Erased.Typed.Inversion.html#2084" class="Bound">⊢t</a> <a id="2087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2089" href="Graded.Derived.Erased.Typed.Inversion.html#2089" class="Bound">⊢star</a> <a id="2095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2097" href="Graded.Derived.Erased.Typed.Inversion.html#2097" class="Bound">A≡</a> <a id="2100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2102" href="Graded.Derived.Erased.Typed.Inversion.html#2102" class="Bound">Σˢ-ok</a><a id="2107" class="Symbol">)</a> <a id="2109" class="Symbol">→</a>
    <a id="2115" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2120" href="Definition.Typed.Consequences.Inversion.html#8083" class="Function">inversion-star</a> <a id="2135" href="Graded.Derived.Erased.Typed.Inversion.html#2089" class="Bound">⊢star</a> <a id="2141" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2144" class="Symbol">λ</a> <a id="2146" class="Symbol">{</a>
      <a id="2154" class="Symbol">(</a><a id="2155" href="Graded.Derived.Erased.Typed.Inversion.html#2155" class="Bound">≡Unit</a> <a id="2161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2163" href="Graded.Derived.Erased.Typed.Inversion.html#2163" class="Bound">Unit-ok</a><a id="2170" class="Symbol">)</a> <a id="2172" class="Symbol">→</a>
    <a id="2178" href="Graded.Derived.Erased.Typed.Inversion.html#2063" class="Bound">B</a> <a id="2180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2182" href="Graded.Derived.Erased.Typed.Inversion.html#2071" class="Bound">q</a> <a id="2184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2186" href="Graded.Derived.Erased.Typed.Inversion.html#2067" class="Bound">C</a> <a id="2188" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2190" href="Graded.Derived.Erased.Typed.Inversion.html#2084" class="Bound">⊢t</a> <a id="2193" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2195" class="Symbol">(</a><a id="2196" href="Graded.Derived.Erased.Typed.Inversion.html#2163" class="Bound">Unit-ok</a> <a id="2204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2206" href="Graded.Derived.Erased.Typed.Inversion.html#2102" class="Bound">Σˢ-ok</a><a id="2211" class="Symbol">)</a> <a id="2213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2215" href="Graded.Derived.Erased.Typed.Inversion.html#2097" class="Bound">A≡</a> <a id="2218" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2220" href="Graded.Derived.Erased.Typed.Inversion.html#2155" class="Bound">≡Unit</a> <a id="2226" class="Symbol">}}</a>

<a id="2230" class="Keyword">opaque</a>

  <a id="2240" class="Comment">-- Another inversion lemma for [_].</a>

  <a id="inversion-[]′"></a><a id="2279" href="Graded.Derived.Erased.Typed.Inversion.html#2279" class="Function">inversion-[]′</a> <a id="2293" class="Symbol">:</a>
    <a id="2299" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="2301" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="2303" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">[</a> <a id="2305" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="2307" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">]</a> <a id="2309" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="2311" href="Graded.Derived.Erased.Untyped.html#1032" class="Function">Erased</a> <a id="2318" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="2320" class="Symbol">→</a>
    <a id="2326" href="Graded.Derived.Erased.Typed.Inversion.html#1062" class="Generalizable">Γ</a> <a id="2328" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="2330" href="Graded.Derived.Erased.Typed.Inversion.html#1087" class="Generalizable">t</a> <a id="2332" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="2334" href="Graded.Derived.Erased.Typed.Inversion.html#1083" class="Generalizable">A</a> <a id="2336" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2338" href="Definition.Typed.Restrictions.html#2036" class="Function">Erased-allowed</a> <a id="2353" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a>
  <a id="2357" href="Graded.Derived.Erased.Typed.Inversion.html#2279" class="Function">inversion-[]′</a> <a id="2371" href="Graded.Derived.Erased.Typed.Inversion.html#2371" class="Bound">⊢[]</a> <a id="2375" class="Symbol">=</a>
    <a id="2381" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2386" href="Graded.Derived.Erased.Typed.Inversion.html#1816" class="Function">inversion-[]</a> <a id="2399" href="Graded.Derived.Erased.Typed.Inversion.html#2371" class="Bound">⊢[]</a> <a id="2403" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2406" class="Symbol">λ</a> <a id="2408" class="Symbol">{</a>
      <a id="2416" class="Symbol">(_</a> <a id="2419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2421" class="Symbol">_</a> <a id="2423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2425" class="Symbol">_</a> <a id="2427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2429" href="Graded.Derived.Erased.Typed.Inversion.html#2429" class="Bound">⊢t</a> <a id="2432" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2434" href="Graded.Derived.Erased.Typed.Inversion.html#2434" class="Bound">Erased-ok</a> <a id="2444" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2446" href="Graded.Derived.Erased.Typed.Inversion.html#2446" class="Bound">Erased-A≡</a> <a id="2456" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2458" class="Symbol">_)</a> <a id="2461" class="Symbol">→</a>
    <a id="2467" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2472" href="Definition.Typed.Consequences.Injectivity.html#1867" class="Function">Σ-injectivity</a> <a id="2486" href="Graded.Derived.Erased.Typed.Inversion.html#2446" class="Bound">Erased-A≡</a> <a id="2496" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2499" class="Symbol">λ</a> <a id="2501" class="Symbol">{</a>
      <a id="2509" class="Symbol">(</a><a id="2510" href="Graded.Derived.Erased.Typed.Inversion.html#2510" class="Bound">A≡</a> <a id="2513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2515" class="Symbol">_</a> <a id="2517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2519" class="Symbol">_</a> <a id="2521" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2523" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="2531" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2533" class="Symbol">_)</a> <a id="2536" class="Symbol">→</a>
    <a id="2542" href="Definition.Typed.html#2068" class="InductiveConstructor">conv</a> <a id="2547" href="Graded.Derived.Erased.Typed.Inversion.html#2429" class="Bound">⊢t</a> <a id="2550" class="Symbol">(</a><a id="2551" href="Definition.Typed.html#4922" class="InductiveConstructor">_⊢_≡_.sym</a> <a id="2561" href="Graded.Derived.Erased.Typed.Inversion.html#2510" class="Bound">A≡</a><a id="2563" class="Symbol">)</a> <a id="2565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2567" href="Graded.Derived.Erased.Typed.Inversion.html#2434" class="Bound">Erased-ok</a> <a id="2577" class="Symbol">}}</a>

<a id="2581" class="Keyword">opaque</a>

  <a id="2591" class="Comment">-- If Erased is allowed, then a certain form of inversion for [_]</a>
  <a id="2659" class="Comment">-- does not hold.</a>

  <a id="¬-inversion-[]′"></a><a id="2680" href="Graded.Derived.Erased.Typed.Inversion.html#2680" class="Function">¬-inversion-[]′</a> <a id="2696" class="Symbol">:</a>
    <a id="2702" href="Definition.Typed.Restrictions.html#2036" class="Function">Erased-allowed</a> <a id="2717" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="2719" class="Symbol">→</a>
    <a id="2725" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="2727" class="Symbol">(∀</a> <a id="2730" class="Symbol">{</a><a id="2731" href="Graded.Derived.Erased.Typed.Inversion.html#2731" class="Bound">n</a><a id="2732" class="Symbol">}</a> <a id="2734" class="Symbol">{</a><a id="2735" href="Graded.Derived.Erased.Typed.Inversion.html#2735" class="Bound">Γ</a> <a id="2737" class="Symbol">:</a> <a id="2739" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="2743" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="2748" href="Graded.Derived.Erased.Typed.Inversion.html#2731" class="Bound">n</a><a id="2749" class="Symbol">}</a> <a id="2751" class="Symbol">{</a><a id="2752" href="Graded.Derived.Erased.Typed.Inversion.html#2752" class="Bound">t</a> <a id="2754" href="Graded.Derived.Erased.Typed.Inversion.html#2754" class="Bound">A</a> <a id="2756" class="Symbol">:</a> <a id="2758" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="2763" href="Graded.Derived.Erased.Typed.Inversion.html#2731" class="Bound">n</a><a id="2764" class="Symbol">}</a> <a id="2766" class="Symbol">→</a>
       <a id="2775" href="Graded.Derived.Erased.Typed.Inversion.html#2735" class="Bound">Γ</a> <a id="2777" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="2779" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">[</a> <a id="2781" href="Graded.Derived.Erased.Typed.Inversion.html#2752" class="Bound">t</a> <a id="2783" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">]</a> <a id="2785" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="2787" href="Graded.Derived.Erased.Typed.Inversion.html#2754" class="Bound">A</a> <a id="2789" class="Symbol">→</a>
       <a id="2798" href="Data.Product.Base.html#907" class="Function">∃₂</a> <a id="2801" class="Symbol">λ</a> <a id="2803" href="Graded.Derived.Erased.Typed.Inversion.html#2803" class="Bound">B</a> <a id="2805" href="Graded.Derived.Erased.Typed.Inversion.html#2805" class="Bound">q</a> <a id="2807" class="Symbol">→</a> <a id="2809" href="Graded.Derived.Erased.Typed.Inversion.html#2735" class="Bound">Γ</a> <a id="2811" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="2813" href="Graded.Derived.Erased.Typed.Inversion.html#2752" class="Bound">t</a> <a id="2815" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="2817" href="Graded.Derived.Erased.Typed.Inversion.html#2803" class="Bound">B</a> <a id="2819" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2821" href="Graded.Derived.Erased.Typed.Inversion.html#2735" class="Bound">Γ</a> <a id="2823" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="2825" href="Graded.Derived.Erased.Typed.Inversion.html#2754" class="Bound">A</a> <a id="2827" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="2829" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">Σ⟨</a> <a id="2832" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="2834" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">⟩</a> <a id="2836" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="2838" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">,</a> <a id="2840" href="Graded.Derived.Erased.Typed.Inversion.html#2805" class="Bound">q</a> <a id="2842" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">▷</a> <a id="2844" href="Graded.Derived.Erased.Typed.Inversion.html#2803" class="Bound">B</a> <a id="2846" href="Definition.Untyped.html#3437" class="InductiveConstructor Operator">▹</a> <a id="2848" href="Definition.Untyped.html#2974" class="InductiveConstructor">Unit</a> <a id="2853" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a><a id="2854" class="Symbol">)</a>
  <a id="2858" href="Graded.Derived.Erased.Typed.Inversion.html#2680" class="Function">¬-inversion-[]′</a> <a id="2874" class="Symbol">(</a><a id="2875" href="Graded.Derived.Erased.Typed.Inversion.html#2875" class="Bound">Unit-ok</a> <a id="2883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2885" href="Graded.Derived.Erased.Typed.Inversion.html#2885" class="Bound">Σ-ok</a><a id="2889" class="Symbol">)</a> <a id="2891" href="Graded.Derived.Erased.Typed.Inversion.html#2891" class="Bound">inversion-[]</a> <a id="2904" class="Symbol">=</a> <a id="2906" href="Graded.Derived.Erased.Typed.Inversion.html#3941" class="Function">bad</a>
    <a id="2914" class="Keyword">where</a>
    <a id="2924" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="2927" class="Symbol">:</a> <a id="2929" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="2933" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="2938" class="Number">0</a>
    <a id="2944" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="2947" class="Symbol">=</a> <a id="2949" href="Definition.Untyped.NotParametrised.html#835" class="InductiveConstructor">ε</a>

    <a id="2956" href="Graded.Derived.Erased.Typed.Inversion.html#2956" class="Function">t′</a> <a id="2959" class="Symbol">:</a> <a id="2961" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="2966" class="Number">0</a>
    <a id="2972" href="Graded.Derived.Erased.Typed.Inversion.html#2956" class="Function">t′</a> <a id="2975" class="Symbol">=</a> <a id="2977" href="Definition.Untyped.html#4052" class="InductiveConstructor">zero</a>

    <a id="2987" href="Graded.Derived.Erased.Typed.Inversion.html#2987" class="Function">A′</a> <a id="2990" class="Symbol">:</a> <a id="2992" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="2997" class="Number">0</a>
    <a id="3003" href="Graded.Derived.Erased.Typed.Inversion.html#2987" class="Function">A′</a> <a id="3006" class="Symbol">=</a> <a id="3008" href="Definition.Untyped.html#3366" class="InductiveConstructor Operator">Σ</a> <a id="3010" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="3012" href="Definition.Untyped.html#3366" class="InductiveConstructor Operator">,</a> <a id="3014" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="3016" href="Definition.Untyped.html#3366" class="InductiveConstructor Operator">▷</a> <a id="3018" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a> <a id="3020" href="Definition.Untyped.html#3366" class="InductiveConstructor Operator">▹</a> <a id="3022" href="Definition.Untyped.html#4121" class="InductiveConstructor">natrec</a> <a id="3029" href="Graded.Modality.html#849" class="Function">𝟙</a> <a id="3031" href="Graded.Modality.html#849" class="Function">𝟙</a> <a id="3033" href="Graded.Modality.html#849" class="Function">𝟙</a> <a id="3035" href="Definition.Untyped.html#2853" class="InductiveConstructor">U</a> <a id="3037" href="Definition.Untyped.html#2938" class="InductiveConstructor">Unit!</a> <a id="3043" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a> <a id="3045" class="Symbol">(</a><a id="3046" href="Definition.Untyped.html#2423" class="InductiveConstructor">var</a> <a id="3050" href="Data.Fin.Base.html#1176" class="InductiveConstructor">x0</a><a id="3052" class="Symbol">)</a>

    <a id="3059" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3065" class="Symbol">:</a> <a id="3067" href="Definition.Typed.html#1178" class="Datatype Operator">⊢</a> <a id="3069" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="3072" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="3074" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a>
    <a id="3080" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3086" class="Symbol">=</a> <a id="3088" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a> <a id="3090" href="Definition.Typed.html#1226" class="InductiveConstructor Operator">∙</a> <a id="3092" href="Definition.Typed.html#1373" class="InductiveConstructor">ℕⱼ</a> <a id="3095" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a>

    <a id="3102" href="Graded.Derived.Erased.Typed.Inversion.html#3102" class="Function">⊢Γ′∙ℕ∙ℕ</a> <a id="3110" class="Symbol">:</a> <a id="3112" href="Definition.Typed.html#1178" class="Datatype Operator">⊢</a> <a id="3114" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="3117" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="3119" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a> <a id="3121" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="3123" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a>
    <a id="3129" href="Graded.Derived.Erased.Typed.Inversion.html#3102" class="Function">⊢Γ′∙ℕ∙ℕ</a> <a id="3137" class="Symbol">=</a> <a id="3139" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3145" href="Definition.Typed.html#1226" class="InductiveConstructor Operator">∙</a> <a id="3147" href="Definition.Typed.html#1373" class="InductiveConstructor">ℕⱼ</a> <a id="3150" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a>

    <a id="3161" href="Graded.Derived.Erased.Typed.Inversion.html#3161" class="Function">⊢Γ′∙ℕ∙U</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Definition.Typed.html#1178" class="Datatype Operator">⊢</a> <a id="3173" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="3176" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="3178" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a> <a id="3180" href="Definition.Untyped.NotParametrised.html#904" class="InductiveConstructor Operator">∙</a> <a id="3182" href="Definition.Untyped.html#2853" class="InductiveConstructor">U</a>
    <a id="3188" href="Graded.Derived.Erased.Typed.Inversion.html#3161" class="Function">⊢Γ′∙ℕ∙U</a> <a id="3196" class="Symbol">=</a> <a id="3198" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3204" href="Definition.Typed.html#1226" class="InductiveConstructor Operator">∙</a> <a id="3206" href="Definition.Typed.html#1348" class="InductiveConstructor">Uⱼ</a> <a id="3209" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a>

    <a id="3220" href="Graded.Derived.Erased.Typed.Inversion.html#3220" class="Function">⊢[t′]</a> <a id="3226" class="Symbol">:</a> <a id="3228" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="3231" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="3233" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">[</a> <a id="3235" href="Graded.Derived.Erased.Typed.Inversion.html#2956" class="Function">t′</a> <a id="3238" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">]</a> <a id="3240" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="3242" href="Graded.Derived.Erased.Typed.Inversion.html#2987" class="Function">A′</a>
    <a id="3249" href="Graded.Derived.Erased.Typed.Inversion.html#3220" class="Function">⊢[t′]</a> <a id="3255" class="Symbol">=</a> <a id="3257" href="Definition.Typed.html#2469" class="InductiveConstructor">prodⱼ</a>
      <a id="3269" class="Symbol">(</a><a id="3270" href="Definition.Typed.html#1373" class="InductiveConstructor">ℕⱼ</a> <a id="3273" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a><a id="3274" class="Symbol">)</a>
      <a id="3282" class="Symbol">(</a><a id="3283" href="Definition.Typed.html#1665" class="InductiveConstructor">univ</a> <a id="3288" class="Symbol">(</a><a id="3289" href="Definition.Typed.html#3333" class="InductiveConstructor">natrecⱼ</a>
               <a id="3312" class="Symbol">(</a><a id="3313" href="Definition.Typed.html#1348" class="InductiveConstructor">Uⱼ</a> <a id="3316" href="Graded.Derived.Erased.Typed.Inversion.html#3102" class="Function">⊢Γ′∙ℕ∙ℕ</a><a id="3323" class="Symbol">)</a>
               <a id="3340" class="Symbol">(</a><a id="3341" href="Definition.Typed.html#2013" class="InductiveConstructor">Unitⱼ</a> <a id="3347" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3353" href="Graded.Derived.Erased.Typed.Inversion.html#2875" class="Bound">Unit-ok</a><a id="3360" class="Symbol">)</a>
               <a id="3377" class="Symbol">(</a><a id="3378" href="Definition.Typed.html#1945" class="InductiveConstructor">ℕⱼ</a> <a id="3381" class="Symbol">(</a><a id="3382" href="Graded.Derived.Erased.Typed.Inversion.html#3102" class="Function">⊢Γ′∙ℕ∙ℕ</a> <a id="3390" href="Definition.Typed.html#1226" class="InductiveConstructor Operator">∙</a> <a id="3392" href="Definition.Typed.html#1348" class="InductiveConstructor">Uⱼ</a> <a id="3395" href="Graded.Derived.Erased.Typed.Inversion.html#3102" class="Function">⊢Γ′∙ℕ∙ℕ</a><a id="3402" class="Symbol">))</a>
               <a id="3420" class="Symbol">(</a><a id="3421" href="Definition.Typed.html#2147" class="InductiveConstructor">var</a> <a id="3425" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a> <a id="3431" href="Definition.Typed.html#1049" class="InductiveConstructor">here</a><a id="3435" class="Symbol">)))</a>
      <a id="3445" class="Symbol">(</a><a id="3446" href="Definition.Typed.html#3202" class="InductiveConstructor">zeroⱼ</a> <a id="3452" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a><a id="3453" class="Symbol">)</a>
      <a id="3461" class="Symbol">(</a><a id="3462" href="Definition.Typed.html#2068" class="InductiveConstructor">conv</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Definition.Typed.html#3641" class="InductiveConstructor">starⱼ</a> <a id="3474" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a> <a id="3476" href="Graded.Derived.Erased.Typed.Inversion.html#2875" class="Bound">Unit-ok</a><a id="3483" class="Symbol">)</a>
         <a id="3494" class="Symbol">(</a><a id="3495" href="Definition.Typed.html#4922" class="InductiveConstructor">_⊢_≡_.sym</a> <a id="3505" href="Function.Base.html#1974" class="Function Operator">$</a>
          <a id="3517" href="Definition.Typed.html#4830" class="InductiveConstructor">univ</a> <a id="3522" class="Symbol">(</a><a id="3523" href="Definition.Typed.html#9568" class="InductiveConstructor">natrec-zero</a> <a id="3535" class="Symbol">(</a><a id="3536" href="Definition.Typed.html#1348" class="InductiveConstructor">Uⱼ</a> <a id="3539" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a><a id="3544" class="Symbol">)</a> <a id="3546" class="Symbol">(</a><a id="3547" href="Definition.Typed.html#2013" class="InductiveConstructor">Unitⱼ</a> <a id="3553" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a> <a id="3555" href="Graded.Derived.Erased.Typed.Inversion.html#2875" class="Bound">Unit-ok</a><a id="3562" class="Symbol">)</a> <a id="3564" class="Symbol">(</a><a id="3565" href="Definition.Typed.html#1945" class="InductiveConstructor">ℕⱼ</a> <a id="3568" href="Graded.Derived.Erased.Typed.Inversion.html#3161" class="Function">⊢Γ′∙ℕ∙U</a><a id="3575" class="Symbol">))))</a>
      <a id="3586" href="Graded.Derived.Erased.Typed.Inversion.html#2885" class="Bound">Σ-ok</a>

    <a id="3596" href="Graded.Derived.Erased.Typed.Inversion.html#3596" class="Function">ℕ≡Unit</a> <a id="3603" class="Symbol">:</a> <a id="3605" href="Graded.Derived.Erased.Typed.Inversion.html#2924" class="Function">Γ′</a> <a id="3608" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="3610" href="Definition.Untyped.html#2878" class="InductiveConstructor">ℕ</a> <a id="3612" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="3614" href="Definition.Untyped.html#2974" class="InductiveConstructor">Unit</a> <a id="3619" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a>
    <a id="3625" href="Graded.Derived.Erased.Typed.Inversion.html#3596" class="Function">ℕ≡Unit</a> <a id="3632" class="Symbol">=</a>
      <a id="3640" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3645" href="Graded.Derived.Erased.Typed.Inversion.html#2891" class="Bound">inversion-[]</a> <a id="3658" href="Graded.Derived.Erased.Typed.Inversion.html#3220" class="Function">⊢[t′]</a> <a id="3664" href="Function.Base.html#4042" class="Function Operator">of</a>
        <a id="3675" class="Symbol">λ</a> <a id="3677" class="Symbol">(_</a> <a id="3680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3682" class="Symbol">_</a> <a id="3684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3686" class="Symbol">_</a> <a id="3688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3690" href="Graded.Derived.Erased.Typed.Inversion.html#3690" class="Bound">A′≡</a><a id="3693" class="Symbol">)</a> <a id="3695" class="Symbol">→</a>
      <a id="3703" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3708" href="Definition.Typed.Consequences.Injectivity.html#1867" class="Function">Σ-injectivity</a> <a id="3722" href="Graded.Derived.Erased.Typed.Inversion.html#3690" class="Bound">A′≡</a> <a id="3726" href="Function.Base.html#4042" class="Function Operator">of</a>
        <a id="3737" class="Symbol">λ</a> <a id="3739" class="Symbol">(_</a> <a id="3742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3744" href="Graded.Derived.Erased.Typed.Inversion.html#3744" class="Bound">≡Unit</a> <a id="3750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3752" class="Symbol">_</a> <a id="3754" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3756" class="Symbol">_</a> <a id="3758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3760" class="Symbol">_)</a> <a id="3763" class="Symbol">→</a>
      <a id="3771" href="Definition.Typed.html#4968" class="InductiveConstructor">trans</a>
        <a id="3785" class="Symbol">(</a><a id="3786" href="Definition.Typed.html#4922" class="InductiveConstructor">_⊢_≡_.sym</a> <a id="3796" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3798" href="Definition.Typed.html#4830" class="InductiveConstructor">_⊢_≡_.univ</a> <a id="3809" href="Function.Base.html#1974" class="Function Operator">$</a>
         <a id="3820" href="Definition.Typed.html#9781" class="InductiveConstructor">natrec-suc</a> <a id="3831" class="Symbol">(</a><a id="3832" href="Definition.Typed.html#1348" class="InductiveConstructor">Uⱼ</a> <a id="3835" href="Graded.Derived.Erased.Typed.Inversion.html#3059" class="Function">⊢Γ′∙ℕ</a><a id="3840" class="Symbol">)</a> <a id="3842" class="Symbol">(</a><a id="3843" href="Definition.Typed.html#2013" class="InductiveConstructor">Unitⱼ</a> <a id="3849" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a> <a id="3851" href="Graded.Derived.Erased.Typed.Inversion.html#2875" class="Bound">Unit-ok</a><a id="3858" class="Symbol">)</a> <a id="3860" class="Symbol">(</a><a id="3861" href="Definition.Typed.html#1945" class="InductiveConstructor">ℕⱼ</a> <a id="3864" href="Graded.Derived.Erased.Typed.Inversion.html#3161" class="Function">⊢Γ′∙ℕ∙U</a><a id="3871" class="Symbol">)</a> <a id="3873" class="Symbol">(</a><a id="3874" href="Definition.Typed.html#3202" class="InductiveConstructor">zeroⱼ</a> <a id="3880" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a><a id="3881" class="Symbol">))</a>
        <a id="3892" class="Symbol">(</a><a id="3893" href="Definition.Typed.Consequences.Substitution.html#5494" class="Function">substTypeEq</a> <a id="3905" href="Graded.Derived.Erased.Typed.Inversion.html#3744" class="Bound">≡Unit</a> <a id="3911" class="Symbol">(</a><a id="3912" href="Definition.Typed.html#5456" class="InductiveConstructor">refl</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Definition.Typed.html#3251" class="InductiveConstructor">sucⱼ</a> <a id="3923" class="Symbol">(</a><a id="3924" href="Definition.Typed.html#3202" class="InductiveConstructor">zeroⱼ</a> <a id="3930" href="Definition.Typed.html#1212" class="InductiveConstructor">ε</a><a id="3931" class="Symbol">))))</a>

    <a id="3941" href="Graded.Derived.Erased.Typed.Inversion.html#3941" class="Function">bad</a> <a id="3945" class="Symbol">:</a> <a id="3947" href="Data.Empty.html#895" class="Function">⊥</a>
    <a id="3953" href="Graded.Derived.Erased.Typed.Inversion.html#3941" class="Function">bad</a> <a id="3957" class="Symbol">=</a> <a id="3959" href="Definition.Typed.Consequences.Inequality.html#4688" class="Function">ℕ≢Unitⱼ</a> <a id="3967" href="Graded.Derived.Erased.Typed.Inversion.html#3596" class="Function">ℕ≡Unit</a>

<a id="3975" class="Keyword">opaque</a>

  <a id="3985" class="Comment">-- If Erased is allowed, then another form of inversion for [] also</a>
  <a id="4055" class="Comment">-- does not hold.</a>

  <a id="¬-inversion-[]"></a><a id="4076" href="Graded.Derived.Erased.Typed.Inversion.html#4076" class="Function">¬-inversion-[]</a> <a id="4091" class="Symbol">:</a>
    <a id="4097" href="Definition.Typed.Restrictions.html#2036" class="Function">Erased-allowed</a> <a id="4112" href="Graded.Derived.Erased.Typed.Inversion.html#470" class="Bound">s</a> <a id="4114" class="Symbol">→</a>
    <a id="4120" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="4122" class="Symbol">(∀</a> <a id="4125" class="Symbol">{</a><a id="4126" href="Graded.Derived.Erased.Typed.Inversion.html#4126" class="Bound">n</a><a id="4127" class="Symbol">}</a> <a id="4129" class="Symbol">{</a><a id="4130" href="Graded.Derived.Erased.Typed.Inversion.html#4130" class="Bound">Γ</a> <a id="4132" class="Symbol">:</a> <a id="4134" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="4138" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="4143" href="Graded.Derived.Erased.Typed.Inversion.html#4126" class="Bound">n</a><a id="4144" class="Symbol">}</a> <a id="4146" class="Symbol">{</a><a id="4147" href="Graded.Derived.Erased.Typed.Inversion.html#4147" class="Bound">t</a> <a id="4149" href="Graded.Derived.Erased.Typed.Inversion.html#4149" class="Bound">A</a> <a id="4151" class="Symbol">:</a> <a id="4153" href="Definition.Untyped.html#2392" class="Datatype">Term</a> <a id="4158" href="Graded.Derived.Erased.Typed.Inversion.html#4126" class="Bound">n</a><a id="4159" class="Symbol">}</a> <a id="4161" class="Symbol">→</a>
       <a id="4170" href="Graded.Derived.Erased.Typed.Inversion.html#4130" class="Bound">Γ</a> <a id="4172" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="4174" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">[</a> <a id="4176" href="Graded.Derived.Erased.Typed.Inversion.html#4147" class="Bound">t</a> <a id="4178" href="Graded.Derived.Erased.Untyped.html#1120" class="Function Operator">]</a> <a id="4180" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="4182" href="Graded.Derived.Erased.Typed.Inversion.html#4149" class="Bound">A</a> <a id="4184" class="Symbol">→</a>
       <a id="4193" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="4195" class="Symbol">λ</a> <a id="4197" href="Graded.Derived.Erased.Typed.Inversion.html#4197" class="Bound">B</a> <a id="4199" class="Symbol">→</a> <a id="4201" href="Graded.Derived.Erased.Typed.Inversion.html#4130" class="Bound">Γ</a> <a id="4203" href="Definition.Typed.html#1743" class="Datatype Operator">⊢</a> <a id="4205" href="Graded.Derived.Erased.Typed.Inversion.html#4147" class="Bound">t</a> <a id="4207" href="Definition.Typed.html#1743" class="Datatype Operator">∷</a> <a id="4209" href="Graded.Derived.Erased.Typed.Inversion.html#4197" class="Bound">B</a> <a id="4211" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4213" href="Graded.Derived.Erased.Typed.Inversion.html#4130" class="Bound">Γ</a> <a id="4215" href="Definition.Typed.html#4771" class="Datatype Operator">⊢</a> <a id="4217" href="Graded.Derived.Erased.Typed.Inversion.html#4149" class="Bound">A</a> <a id="4219" href="Definition.Typed.html#4771" class="Datatype Operator">≡</a> <a id="4221" href="Graded.Derived.Erased.Untyped.html#1032" class="Function">Erased</a> <a id="4228" href="Graded.Derived.Erased.Typed.Inversion.html#4197" class="Bound">B</a><a id="4229" class="Symbol">)</a>
  <a id="4233" href="Graded.Derived.Erased.Typed.Inversion.html#4076" class="Function">¬-inversion-[]</a> <a id="4248" href="Graded.Derived.Erased.Typed.Inversion.html#4248" class="Bound">Erased-ok</a> <a id="4258" href="Graded.Derived.Erased.Typed.Inversion.html#4258" class="Bound">inversion-[]</a> <a id="4271" class="Symbol">=</a>
    <a id="4277" href="Graded.Derived.Erased.Typed.Inversion.html#2680" class="Function">¬-inversion-[]′</a> <a id="4293" href="Graded.Derived.Erased.Typed.Inversion.html#4248" class="Bound">Erased-ok</a> <a id="4303" class="Symbol">λ</a> <a id="4305" href="Graded.Derived.Erased.Typed.Inversion.html#4305" class="Bound">⊢[]</a> <a id="4309" class="Symbol">→</a>
    <a id="4315" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4320" href="Graded.Derived.Erased.Typed.Inversion.html#4258" class="Bound">inversion-[]</a> <a id="4333" href="Graded.Derived.Erased.Typed.Inversion.html#4305" class="Bound">⊢[]</a> <a id="4337" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4340" class="Symbol">λ</a> <a id="4342" class="Symbol">{</a>
      <a id="4350" class="Symbol">(</a><a id="4351" href="Graded.Derived.Erased.Typed.Inversion.html#4351" class="Bound">B</a> <a id="4353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4355" href="Graded.Derived.Erased.Typed.Inversion.html#4355" class="Bound">⊢t</a> <a id="4358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4360" href="Graded.Derived.Erased.Typed.Inversion.html#4360" class="Bound">A≡</a><a id="4362" class="Symbol">)</a> <a id="4364" class="Symbol">→</a>
    <a id="4370" href="Graded.Derived.Erased.Typed.Inversion.html#4351" class="Bound">B</a> <a id="4372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4374" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="4376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4378" href="Graded.Derived.Erased.Typed.Inversion.html#4355" class="Bound">⊢t</a> <a id="4381" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4383" href="Graded.Derived.Erased.Typed.Inversion.html#4360" class="Bound">A≡</a> <a id="4386" class="Symbol">}</a>
</pre></body></html>