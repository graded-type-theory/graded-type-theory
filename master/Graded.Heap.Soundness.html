<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Resource correctness of the heap semantics.</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Graded.Heap.Assumptions.html" class="Module">Graded.Heap.Assumptions</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="362" class="Keyword">module</a> <a id="369" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a>
  <a id="393" class="Symbol">{</a><a id="394" href="Graded.Heap.Soundness.html#394" class="Bound">a</a><a id="395" class="Symbol">}</a> <a id="397" class="Symbol">{</a><a id="398" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="400" class="Symbol">:</a> <a id="402" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="406" href="Graded.Heap.Soundness.html#394" class="Bound">a</a><a id="407" class="Symbol">}</a> <a id="409" class="Symbol">{</a><a id="410" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a> <a id="412" class="Symbol">:</a> <a id="414" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="423" href="Graded.Heap.Soundness.html#398" class="Bound">M</a><a id="424" class="Symbol">}</a>
  <a id="428" class="Symbol">(</a><a id="429" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="432" class="Symbol">:</a> <a id="434" href="Graded.Usage.Restrictions.html#835" class="Record">Usage-restrictions</a> <a id="453" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a><a id="454" class="Symbol">)</a>
  <a id="458" class="Symbol">(</a><a id="459" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="462" class="Symbol">:</a> <a id="464" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="482" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a><a id="483" class="Symbol">)</a>
  <a id="487" class="Symbol">(</a><a id="488" href="Graded.Heap.Soundness.html#488" class="Bound">As</a> <a id="491" class="Symbol">:</a> <a id="493" href="Graded.Heap.Assumptions.html#1044" class="Record">Assumptions</a> <a id="505" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="508" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a><a id="510" class="Symbol">)</a>
  <a id="514" class="Keyword">where</a>

<a id="521" class="Keyword">open</a> <a id="526" href="Graded.Heap.Assumptions.html#1044" class="Module">Assumptions</a> <a id="538" href="Graded.Heap.Soundness.html#488" class="Bound">As</a>
<a id="541" class="Keyword">open</a> <a id="546" href="Graded.Modality.html#9574" class="Module">Modality</a> <a id="555" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="557" class="Keyword">open</a> <a id="562" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="580" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="583" class="Keyword">open</a> <a id="588" href="Graded.Usage.Restrictions.html#835" class="Module">Usage-restrictions</a> <a id="607" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a>

<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="635" class="Keyword">open</a> <a id="640" class="Keyword">import</a> <a id="647" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="657" class="Keyword">open</a> <a id="662" class="Keyword">import</a> <a id="669" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="706" class="Keyword">open</a> <a id="711" class="Keyword">import</a> <a id="718" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="732" class="Keyword">import</a> <a id="739" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="767" class="Symbol">as</a> <a id="770" class="Module">PE</a>
<a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="800" class="Keyword">import</a> <a id="807" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="836" class="Symbol">as</a> <a id="839" class="Module">RPo</a>

<a id="844" class="Keyword">open</a> <a id="849" class="Keyword">import</a> <a id="856" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="875" href="Graded.Heap.Soundness.html#398" class="Bound">M</a>
<a id="877" class="Keyword">open</a> <a id="882" class="Keyword">import</a> <a id="889" href="Definition.Untyped.Neutral.html" class="Module">Definition.Untyped.Neutral</a> <a id="916" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="918" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="Definition.Untyped.Inversion.html" class="Module">Definition.Untyped.Inversion</a> <a id="972" href="Graded.Heap.Soundness.html#398" class="Bound">M</a>
<a id="974" class="Keyword">open</a> <a id="979" class="Keyword">import</a> <a id="986" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a> <a id="1016" href="Graded.Heap.Soundness.html#398" class="Bound">M</a>
<a id="1018" class="Keyword">open</a> <a id="1023" class="Keyword">import</a> <a id="1030" href="Definition.Untyped.Whnf.html" class="Module">Definition.Untyped.Whnf</a> <a id="1054" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="1056" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a>
<a id="1069" class="Keyword">open</a> <a id="1074" class="Keyword">import</a> <a id="1081" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1098" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1101" class="Keyword">open</a> <a id="1106" class="Keyword">import</a> <a id="1113" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="1154" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1157" class="Keyword">open</a> <a id="1162" class="Keyword">import</a> <a id="1169" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="1200" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1203" class="Keyword">open</a> <a id="1208" class="Keyword">import</a> <a id="1215" href="Definition.Typed.Inversion.html" class="Module">Definition.Typed.Inversion</a> <a id="1242" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1245" class="Keyword">open</a> <a id="1250" class="Keyword">import</a> <a id="1257" href="Definition.Typed.Names-below.html" class="Module">Definition.Typed.Names-below</a> <a id="1286" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1289" class="Keyword">open</a> <a id="1294" class="Keyword">import</a> <a id="1301" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="1329" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1332" class="Keyword">open</a> <a id="1337" class="Keyword">import</a> <a id="1344" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="1371" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1374" class="Keyword">open</a> <a id="1379" class="Keyword">import</a> <a id="1386" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a> <a id="1438" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1441" class="Keyword">open</a> <a id="1446" class="Keyword">import</a> <a id="1453" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html" class="Module">Definition.LogicalRelation.Substitution.Introductions.Nat</a> <a id="1511" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>
<a id="1514" class="Keyword">open</a> <a id="1519" class="Keyword">import</a> <a id="1526" href="Definition.LogicalRelation.Unary.html" class="Module">Definition.LogicalRelation.Unary</a> <a id="1559" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a>

<a id="1563" class="Keyword">open</a> <a id="1568" class="Keyword">import</a> <a id="1575" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="1590" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="1592" class="Keyword">open</a> <a id="1597" class="Keyword">import</a> <a id="1604" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1630" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="1632" class="Keyword">open</a> <a id="1637" class="Keyword">import</a> <a id="1644" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="1669" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="1671" class="Keyword">open</a> <a id="1676" class="Keyword">import</a> <a id="1683" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1695" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="1697" class="Keyword">open</a> <a id="1702" class="Keyword">import</a> <a id="1709" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="1729" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a>
<a id="1731" class="Keyword">open</a> <a id="1736" class="Keyword">import</a> <a id="1743" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1756" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a> <a id="1758" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a>
<a id="1761" class="Keyword">open</a> <a id="1766" class="Keyword">import</a> <a id="1773" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1796" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a> <a id="1798" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a>
<a id="1801" class="Keyword">open</a> <a id="1806" class="Keyword">import</a> <a id="1813" href="Graded.Usage.Properties.html" class="Module">Graded.Usage.Properties</a> <a id="1837" href="Graded.Heap.Soundness.html#410" class="Bound">ğ•„</a> <a id="1839" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a>

<a id="1843" class="Keyword">open</a> <a id="1848" class="Keyword">import</a> <a id="1855" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1875" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="1888" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="1891" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1904" class="Keyword">open</a> <a id="1909" class="Keyword">import</a> <a id="1916" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1947" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="1960" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="1963" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="1976" class="Keyword">open</a> <a id="1981" class="Keyword">import</a> <a id="1988" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="2006" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2019" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2022" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2035" class="Keyword">open</a> <a id="2040" class="Keyword">import</a> <a id="2047" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="2075" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2088" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2091" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2104" class="Keyword">open</a> <a id="2109" class="Keyword">import</a> <a id="2116" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="2145" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2158" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2161" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2174" class="Keyword">open</a> <a id="2179" class="Keyword">import</a> <a id="2186" href="Graded.Heap.Usage.Reduction.html" class="Module">Graded.Heap.Usage.Reduction</a>
  <a id="2216" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2229" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2232" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a> <a id="2245" href="Graded.Heap.Assumptions.html#1252" class="Field">UnitÊ·-Î·â†’</a> <a id="2254" href="Graded.Heap.Assumptions.html#1748" class="Function">Â¬Nr-not-available</a>
<a id="2272" class="Keyword">open</a> <a id="2277" class="Keyword">import</a> <a id="2284" href="Graded.Heap.Termination.html" class="Module">Graded.Heap.Termination</a> <a id="2308" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2311" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="2314" href="Graded.Heap.Soundness.html#488" class="Bound">As</a>
<a id="2317" class="Keyword">open</a> <a id="2322" class="Keyword">import</a> <a id="2329" href="Graded.Heap.Typed.html" class="Module">Graded.Heap.Typed</a> <a id="2347" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2350" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="2353" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2366" class="Keyword">open</a> <a id="2371" class="Keyword">import</a> <a id="2378" href="Graded.Heap.Typed.Inversion.html" class="Module">Graded.Heap.Typed.Inversion</a> <a id="2406" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2409" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="2412" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2425" class="Keyword">open</a> <a id="2430" class="Keyword">import</a> <a id="2437" href="Graded.Heap.Typed.Reduction.html" class="Module">Graded.Heap.Typed.Reduction</a> <a id="2465" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2468" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="2471" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2484" class="Keyword">open</a> <a id="2489" class="Keyword">import</a> <a id="2496" href="Graded.Heap.Typed.Properties.html" class="Module">Graded.Heap.Typed.Properties</a> <a id="2525" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2528" href="Graded.Heap.Soundness.html#459" class="Bound">TR</a> <a id="2531" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2544" class="Keyword">open</a> <a id="2549" class="Keyword">import</a> <a id="2556" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="2578" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2591" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2594" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>
<a id="2607" class="Keyword">open</a> <a id="2612" class="Keyword">import</a> <a id="2619" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="2652" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="2665" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="2668" href="Graded.Heap.Assumptions.html#2055" class="Function">factoring-nr</a>

<a id="2682" class="Keyword">private</a> <a id="2690" class="Keyword">variable</a>
  <a id="2701" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="2703" class="Symbol">:</a> <a id="2705" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="2711" href="Graded.Heap.Soundness.html#2711" class="Generalizable">n</a> <a id="2713" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="2715" href="Graded.Heap.Soundness.html#2715" class="Generalizable">A</a> <a id="2717" class="Symbol">:</a> <a id="2719" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="2724" class="Symbol">_</a>
  <a id="2728" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="2730" class="Symbol">:</a> <a id="2732" href="Graded.Heap.Untyped.html#11591" class="Record">State</a> <a id="2738" class="Symbol">_</a> <a id="2740" class="Symbol">_</a> <a id="2742" class="Symbol">_</a>
  <a id="2746" href="Graded.Heap.Soundness.html#2746" class="Generalizable">Î³</a> <a id="2748" href="Graded.Heap.Soundness.html#2748" class="Generalizable">Î´</a> <a id="2750" href="Graded.Heap.Soundness.html#2750" class="Generalizable">Î·</a> <a id="2752" class="Symbol">:</a> <a id="2754" href="Graded.Context.html#729" class="Datatype">Conâ‚˜</a> <a id="2759" class="Symbol">_</a>
  <a id="2763" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="2765" class="Symbol">:</a> <a id="2767" href="Definition.Untyped.NotParametrised.html#6357" class="Datatype">DCon</a> <a id="2772" class="Symbol">(</a><a id="2773" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="2778" class="Number">0</a><a id="2779" class="Symbol">)</a> <a id="2781" class="Symbol">_</a>
  <a id="2785" href="Graded.Heap.Soundness.html#2785" class="Generalizable">Î“</a> <a id="2787" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="2789" class="Symbol">:</a> <a id="2791" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="2795" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="2800" class="Symbol">_</a>
  <a id="2804" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="2806" class="Symbol">:</a> <a id="2808" href="Graded.Heap.Untyped.html#8467" class="Datatype">Heap</a> <a id="2813" class="Symbol">_</a> <a id="2815" class="Symbol">_</a>
  <a id="2819" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="2821" class="Symbol">:</a> <a id="2823" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="2826" class="Symbol">_</a> <a id="2828" class="Symbol">_</a>
  <a id="2832" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="2834" class="Symbol">:</a> <a id="2836" href="Graded.Heap.Untyped.html#5810" class="Datatype">Stack</a> <a id="2842" class="Symbol">_</a>
  <a id="2846" href="Graded.Heap.Soundness.html#2846" class="Generalizable">m</a> <a id="2848" class="Symbol">:</a> <a id="2850" href="Graded.Mode.html#1039" class="Datatype">Mode</a>
  <a id="2857" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="2859" class="Symbol">:</a> <a id="2861" href="Data.Fin.Base.html#1132" class="Datatype">Fin</a> <a id="2865" class="Symbol">_</a>
  <a id="2869" href="Graded.Heap.Soundness.html#2869" class="Generalizable">p</a> <a id="2871" class="Symbol">:</a> <a id="2873" href="Graded.Heap.Soundness.html#398" class="Bound">M</a>

<a id="2876" class="Keyword">opaque</a>

  <a id="2886" class="Comment">-- Heap lookups always succeed for well-resourced and well-typed</a>
  <a id="2953" class="Comment">-- states (given some assumptions)</a>

  <a id="lookup-succeeds"></a><a id="2991" href="Graded.Heap.Soundness.html#2991" class="Function">lookup-succeeds</a> <a id="3007" class="Symbol">:</a>
    <a id="3013" class="Symbol">{</a><a id="3014" href="Graded.Heap.Soundness.html#3014" class="Bound">Î”</a> <a id="3016" class="Symbol">:</a> <a id="3018" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="3022" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="3027" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="3028" class="Symbol">}</a>
    <a id="3034" class="Symbol">â¦ƒ</a> <a id="3036" href="Graded.Heap.Soundness.html#3036" class="Bound">ok</a> <a id="3039" class="Symbol">:</a> <a id="3041" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="3064" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="3073" href="Graded.Heap.Soundness.html#3014" class="Bound">Î”</a> <a id="3075" class="Symbol">â¦„</a> <a id="3077" class="Symbol">â†’</a>
    <a id="3083" class="Symbol">(</a><a id="3084" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="3101" class="InductiveConstructor">ğŸ™áµ</a> <a id="3104" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="3106" class="Symbol">â†’</a> <a id="3108" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="3119" class="Symbol">(</a><a id="3120" class="InductiveConstructor">Îµ</a> <a id="3122" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="3124" href="Graded.Heap.Soundness.html#3014" class="Bound">Î”</a><a id="3125" class="Symbol">))</a> <a id="3128" class="Symbol">â†’</a>
    <a id="3134" class="Symbol">(</a><a id="3135" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="3137" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">PE.â‰¢</a> <a id="3142" class="Number">0</a> <a id="3144" class="Symbol">â†’</a> <a id="3146" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="3165" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="3178" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="3181" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a> <a id="3183" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="3205" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="3207" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a><a id="3225" class="Symbol">)</a> <a id="3227" class="Symbol">â†’</a>
    <a id="3233" href="Graded.Heap.Untyped.html#6034" class="Datatype Operator">âˆ£</a> <a id="3235" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="3237" href="Graded.Heap.Untyped.html#6034" class="Datatype Operator">âˆ£â‰¡</a> <a id="3240" href="Graded.Heap.Soundness.html#2869" class="Generalizable">p</a> <a id="3242" class="Symbol">â†’</a>
    <a id="3248" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="3250" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="3252" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="3254" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3256" class="InductiveConstructor">var</a> <a id="3260" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="3262" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3264" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="3266" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3268" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="3270" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="3272" class="Symbol">â†’</a> <a id="3274" href="Graded.Heap.Soundness.html#3014" class="Bound">Î”</a> <a id="3276" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âŠ¢â‚›</a> <a id="3279" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="3281" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="3283" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3285" class="InductiveConstructor">var</a> <a id="3289" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="3291" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3293" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="3295" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="3297" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="3299" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="3301" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âˆ·</a> <a id="3303" href="Graded.Heap.Soundness.html#2715" class="Generalizable">A</a> <a id="3305" class="Symbol">â†’</a>
    <a id="3311" href="Tools.Product.html#664" class="Function">âˆƒâ‚ƒ</a> <a id="3314" class="Symbol">Î»</a> <a id="3316" href="Graded.Heap.Soundness.html#3316" class="Bound">n</a> <a id="3318" href="Graded.Heap.Soundness.html#3318" class="Bound">Hâ€²</a> <a id="3321" class="Symbol">(</a><a id="3322" href="Graded.Heap.Soundness.html#3322" class="Bound">câ€²</a> <a id="3325" class="Symbol">:</a> <a id="3327" href="Graded.Heap.Untyped.html#2095" class="Function">Entry</a> <a id="3333" class="Symbol">_</a> <a id="3335" href="Graded.Heap.Soundness.html#3316" class="Bound">n</a><a id="3336" class="Symbol">)</a> <a id="3338" class="Symbol">â†’</a> <a id="3340" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="3342" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">âŠ¢</a> <a id="3344" href="Definition.Untyped.NotParametrised.html#4518" class="Function">wkVar</a> <a id="3350" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="3352" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="3354" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">â†¦[</a> <a id="3357" href="Graded.Heap.Soundness.html#2869" class="Generalizable">p</a> <a id="3359" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">]</a> <a id="3361" href="Graded.Heap.Soundness.html#3322" class="Bound">câ€²</a> <a id="3364" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">â¨¾</a> <a id="3366" href="Graded.Heap.Soundness.html#3318" class="Bound">Hâ€²</a>
  <a id="3371" href="Graded.Heap.Soundness.html#2991" class="Function">lookup-succeeds</a> <a id="3387" class="Symbol">{</a><a id="3388" class="Argument">k</a> <a id="3390" class="Symbol">=</a> <a id="3392" class="Number">0</a><a id="3393" class="Symbol">}</a> <a id="3395" class="Symbol">_</a> <a id="3397" class="Symbol">_</a> <a id="3399" href="Graded.Heap.Soundness.html#3399" class="Bound">âˆ£Sâˆ£â‰¡</a> <a id="3404" href="Graded.Heap.Soundness.html#3404" class="Bound">â–¸s</a> <a id="3407" class="Symbol">_</a> <a id="3409" class="Symbol">=</a>
    <a id="3415" href="Graded.Heap.Usage.Properties.html#15644" class="Function">â–¸â†¦[]-closed</a> <a id="3427" href="Graded.Heap.Assumptions.html#1124" class="Field">subtraction-ok</a> <a id="3442" href="Graded.Heap.Soundness.html#3399" class="Bound">âˆ£Sâˆ£â‰¡</a> <a id="3447" href="Graded.Heap.Soundness.html#3404" class="Bound">â–¸s</a>
  <a id="3452" href="Graded.Heap.Soundness.html#2991" class="Function">lookup-succeeds</a> <a id="3468" class="Symbol">{</a><a id="3469" class="Argument">k</a> <a id="3471" class="Symbol">=</a> <a id="3473" href="Tools.Nat.html#2215" class="InductiveConstructor">1+</a> <a id="3476" class="Symbol">_}</a> <a id="3479" class="Symbol">{</a><a id="3480" href="Graded.Heap.Soundness.html#3480" class="Bound">H</a><a id="3481" class="Symbol">}</a> <a id="3483" class="Symbol">{</a><a id="3484" href="Graded.Heap.Soundness.html#3484" class="Bound">x</a><a id="3485" class="Symbol">}</a> <a id="3487" class="Symbol">{</a><a id="3488" href="Graded.Heap.Soundness.html#3488" class="Bound">Ï</a><a id="3489" class="Symbol">}</a> <a id="3491" href="Graded.Heap.Soundness.html#3491" class="Bound">consistent</a> <a id="3502" href="Graded.Heap.Soundness.html#3502" class="Bound">prop</a> <a id="3507" href="Graded.Heap.Soundness.html#3507" class="Bound">âˆ£Sâˆ£â‰¡</a> <a id="3512" href="Graded.Heap.Soundness.html#3512" class="Bound">â–¸s</a> <a id="3515" href="Graded.Heap.Soundness.html#3515" class="Bound">âŠ¢s</a> <a id="3518" class="Symbol">=</a>
    <a id="3524" class="Keyword">let</a> <a id="3528" class="Symbol">_</a> <a id="3530" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3532" class="Symbol">_</a> <a id="3534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3536" class="Symbol">_</a> <a id="3538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3540" class="Symbol">_</a> <a id="3542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3544" class="Symbol">_</a> <a id="3546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3548" class="Symbol">_</a> <a id="3550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3552" class="Symbol">_</a> <a id="3554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3556" href="Graded.Heap.Soundness.html#3556" class="Bound">â–¸S</a> <a id="3559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3561" class="Symbol">_</a> <a id="3563" class="Symbol">=</a> <a id="3565" href="Graded.Heap.Usage.Inversion.html#2699" class="Function">â–¸â‚›-inv</a> <a id="3572" href="Graded.Heap.Soundness.html#3512" class="Bound">â–¸s</a> <a id="3575" class="Keyword">in</a>
    <a id="3582" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3587" href="Graded.Heap.Untyped.Properties.html#5645" class="Function">â†¦âŠâ†¦â—</a> <a id="3592" class="Symbol">{</a><a id="3593" class="Argument">H</a> <a id="3595" class="Symbol">=</a> <a id="3597" href="Graded.Heap.Soundness.html#3480" class="Bound">H</a><a id="3598" class="Symbol">}</a> <a id="3600" class="Symbol">(</a><a id="3601" href="Definition.Untyped.NotParametrised.html#4518" class="Function">wkVar</a> <a id="3607" href="Graded.Heap.Soundness.html#3488" class="Bound">Ï</a> <a id="3609" href="Graded.Heap.Soundness.html#3484" class="Bound">x</a><a id="3610" class="Symbol">)</a> <a id="3612" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3615" class="Symbol">Î»</a> <a id="3617" class="Keyword">where</a>
      <a id="3629" class="Symbol">(</a><a id="3630" href="Data.Sum.Base.html#675" class="InductiveConstructor">injâ‚</a> <a id="3635" class="Symbol">(_</a> <a id="3638" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3640" class="Symbol">_</a> <a id="3642" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3644" href="Graded.Heap.Soundness.html#3644" class="Bound">d</a><a id="3645" class="Symbol">))</a> <a id="3648" class="Symbol">â†’</a>
        <a id="3658" class="Keyword">let</a> <a id="3662" href="Graded.Heap.Soundness.html#3662" class="Bound">Hâ€²</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" href="Graded.Heap.Soundness.html#3667" class="Bound">d</a> <a id="3669" class="Symbol">=</a> <a id="3671" href="Graded.Heap.Usage.Properties.html#15073" class="Function">â–¸â†¦â†’â†¦[]</a> <a id="3678" href="Graded.Heap.Assumptions.html#1124" class="Field">subtraction-ok</a> <a id="3693" href="Graded.Heap.Soundness.html#3507" class="Bound">âˆ£Sâˆ£â‰¡</a> <a id="3698" href="Graded.Heap.Soundness.html#3644" class="Bound">d</a> <a id="3700" href="Graded.Heap.Soundness.html#3512" class="Bound">â–¸s</a>
        <a id="3711" class="Keyword">in</a>  <a id="3715" class="Symbol">_</a> <a id="3717" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3719" class="Symbol">_</a> <a id="3721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3723" class="Symbol">_</a> <a id="3725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3727" href="Graded.Heap.Soundness.html#3667" class="Bound">d</a>
      <a id="3735" class="Symbol">(</a><a id="3736" href="Data.Sum.Base.html#700" class="InductiveConstructor">injâ‚‚</a> <a id="3741" href="Graded.Heap.Soundness.html#3741" class="Bound">d</a><a id="3742" class="Symbol">)</a> <a id="3744" class="Symbol">â†’</a>
        <a id="3754" class="Keyword">let</a> <a id="3758" href="Graded.Heap.Soundness.html#3758" class="Bound">nem</a> <a id="3762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3764" href="Graded.Heap.Soundness.html#3764" class="Bound">ğŸ˜-wb</a> <a id="3769" class="Symbol">=</a> <a id="3771" href="Graded.Heap.Soundness.html#3502" class="Bound">prop</a> <a id="3776" class="Symbol">Î»</a> <a id="3778" class="Symbol">()</a>
        <a id="3789" class="Keyword">in</a>  <a id="3793" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3798" href="Graded.Heap.Usage.Properties.html#12658" class="Function">â–¸âˆ£âˆ£â‰¢ğŸ˜</a> <a id="3804" href="Graded.Heap.Soundness.html#3758" class="Bound">nem</a> <a id="3808" class="Symbol">â¦ƒ</a> <a id="3810" href="Graded.Heap.Soundness.html#3764" class="Bound">ğŸ˜-wb</a> <a id="3815" class="Symbol">â¦„</a> <a id="3817" href="Graded.Heap.Soundness.html#3556" class="Bound">â–¸S</a> <a id="3820" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3823" class="Symbol">Î»</a> <a id="3825" class="Keyword">where</a>
          <a id="3841" class="Symbol">(</a><a id="3842" href="Data.Sum.Base.html#675" class="InductiveConstructor">injâ‚</a> <a id="3847" href="Graded.Heap.Soundness.html#3847" class="Bound">âˆ£Sâˆ£â‰¢ğŸ˜</a><a id="3852" class="Symbol">)</a> <a id="3854" class="Symbol">â†’</a> <a id="3856" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Graded.Heap.Soundness.html#3847" class="Bound">âˆ£Sâˆ£â‰¢ğŸ˜</a> <a id="3870" class="Symbol">(</a><a id="3871" href="Graded.Heap.Usage.Properties.html#16947" class="Function">â–¸sâ—</a> <a id="3875" href="Graded.Heap.Assumptions.html#1124" class="Field">subtraction-ok</a> <a id="3890" class="Symbol">â¦ƒ</a> <a id="3892" href="Graded.Heap.Soundness.html#3764" class="Bound">ğŸ˜-wb</a> <a id="3897" class="Symbol">â¦„</a> <a id="3899" href="Graded.Heap.Soundness.html#3741" class="Bound">d</a> <a id="3901" href="Graded.Heap.Soundness.html#3512" class="Bound">â–¸s</a><a id="3903" class="Symbol">))</a>
          <a id="3916" class="Symbol">(</a><a id="3917" href="Data.Sum.Base.html#700" class="InductiveConstructor">injâ‚‚</a> <a id="3922" class="Symbol">(</a><a id="3923" href="Graded.Heap.Soundness.html#3923" class="Bound">erâˆˆ</a> <a id="3927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3929" href="Graded.Heap.Soundness.html#3929" class="Bound">ok</a><a id="3931" class="Symbol">))</a> <a id="3934" class="Symbol">â†’</a>
            <a id="3948" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="3955" class="Symbol">(</a><a id="3956" href="Graded.Heap.Typed.Properties.html#11174" class="Function">âŠ¢emptyrecâ‚€âˆ‰S</a> <a id="3969" class="Symbol">(</a><a id="3970" href="Graded.Heap.Soundness.html#3491" class="Bound">consistent</a> <a id="3981" href="Graded.Heap.Soundness.html#3929" class="Bound">ok</a><a id="3983" class="Symbol">)</a> <a id="3985" href="Graded.Heap.Soundness.html#3515" class="Bound">âŠ¢s</a> <a id="3988" href="Graded.Heap.Soundness.html#3923" class="Bound">erâˆˆ</a><a id="3991" class="Symbol">)</a>

<a id="3994" class="Keyword">opaque</a>

  <a id="4004" class="Comment">-- Heap lookups always succeed for well-resourced and well-typed</a>
  <a id="4071" class="Comment">-- states (given some assumptions)</a>

  <a id="lookup-succeedsâ€²"></a><a id="4109" href="Graded.Heap.Soundness.html#4109" class="Function">lookup-succeedsâ€²</a> <a id="4126" class="Symbol">:</a>
    <a id="4132" class="Symbol">{</a><a id="4133" href="Graded.Heap.Soundness.html#4133" class="Bound">Î”</a> <a id="4135" class="Symbol">:</a> <a id="4137" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="4141" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="4146" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="4147" class="Symbol">}</a>
    <a id="4153" class="Symbol">â¦ƒ</a> <a id="4155" href="Graded.Heap.Soundness.html#4155" class="Bound">ok</a> <a id="4158" class="Symbol">:</a> <a id="4160" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="4183" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="4192" href="Graded.Heap.Soundness.html#4133" class="Bound">Î”</a> <a id="4194" class="Symbol">â¦„</a> <a id="4196" class="Symbol">â†’</a>
    <a id="4202" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="4213" class="Symbol">(</a><a id="4214" class="InductiveConstructor">Îµ</a> <a id="4216" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="4218" href="Graded.Heap.Soundness.html#4133" class="Bound">Î”</a><a id="4219" class="Symbol">)</a> <a id="4221" class="Symbol">â†’</a>
    <a id="4227" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="4246" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="4259" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="4262" class="Symbol">â†’</a>
    <a id="4268" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="4290" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="4292" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a> <a id="4311" class="Symbol">â†’</a>
    <a id="4317" href="Graded.Heap.Untyped.html#6034" class="Datatype Operator">âˆ£</a> <a id="4319" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="4321" href="Graded.Heap.Untyped.html#6034" class="Datatype Operator">âˆ£â‰¡</a> <a id="4324" href="Graded.Heap.Soundness.html#2869" class="Generalizable">p</a> <a id="4326" class="Symbol">â†’</a>
    <a id="4332" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="4334" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="4336" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="4338" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4340" class="InductiveConstructor">var</a> <a id="4344" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="4346" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4348" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="4350" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4352" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="4354" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="4356" class="Symbol">â†’</a> <a id="4358" href="Graded.Heap.Soundness.html#4133" class="Bound">Î”</a> <a id="4360" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âŠ¢â‚›</a> <a id="4363" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="4365" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="4367" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4369" class="InductiveConstructor">var</a> <a id="4373" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="4375" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4377" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="4379" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="4381" href="Graded.Heap.Soundness.html#2832" class="Generalizable">S</a> <a id="4383" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="4385" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âˆ·</a> <a id="4387" href="Graded.Heap.Soundness.html#2715" class="Generalizable">A</a> <a id="4389" class="Symbol">â†’</a>
    <a id="4395" href="Tools.Product.html#664" class="Function">âˆƒâ‚ƒ</a> <a id="4398" class="Symbol">Î»</a> <a id="4400" href="Graded.Heap.Soundness.html#4400" class="Bound">n</a> <a id="4402" href="Graded.Heap.Soundness.html#4402" class="Bound">Hâ€²</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Graded.Heap.Soundness.html#4406" class="Bound">câ€²</a> <a id="4409" class="Symbol">:</a> <a id="4411" href="Graded.Heap.Untyped.html#2095" class="Function">Entry</a> <a id="4417" class="Symbol">_</a> <a id="4419" href="Graded.Heap.Soundness.html#4400" class="Bound">n</a><a id="4420" class="Symbol">)</a> <a id="4422" class="Symbol">â†’</a> <a id="4424" href="Graded.Heap.Soundness.html#2804" class="Generalizable">H</a> <a id="4426" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">âŠ¢</a> <a id="4428" href="Definition.Untyped.NotParametrised.html#4518" class="Function">wkVar</a> <a id="4434" href="Graded.Heap.Soundness.html#2819" class="Generalizable">Ï</a> <a id="4436" href="Graded.Heap.Soundness.html#2857" class="Generalizable">x</a> <a id="4438" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">â†¦[</a> <a id="4441" href="Graded.Heap.Soundness.html#2869" class="Generalizable">p</a> <a id="4443" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">]</a> <a id="4445" href="Graded.Heap.Soundness.html#4406" class="Bound">câ€²</a> <a id="4448" href="Graded.Heap.Untyped.html#9062" class="Datatype Operator">â¨¾</a> <a id="4450" href="Graded.Heap.Soundness.html#4402" class="Bound">Hâ€²</a>
  <a id="4455" href="Graded.Heap.Soundness.html#4109" class="Function">lookup-succeedsâ€²</a> <a id="4472" href="Graded.Heap.Soundness.html#4472" class="Bound">consistent</a> <a id="4483" href="Graded.Heap.Soundness.html#4483" class="Bound">nem</a> <a id="4487" href="Graded.Heap.Soundness.html#4487" class="Bound">ğŸ˜-wb</a> <a id="4492" class="Symbol">=</a>
    <a id="4498" href="Graded.Heap.Soundness.html#2991" class="Function">lookup-succeeds</a> <a id="4514" class="Symbol">(Î»</a> <a id="4517" href="Graded.Heap.Soundness.html#4517" class="Bound">_</a> <a id="4519" class="Symbol">â†’</a> <a id="4521" href="Graded.Heap.Soundness.html#4472" class="Bound">consistent</a><a id="4531" class="Symbol">)</a> <a id="4533" class="Symbol">(Î»</a> <a id="4536" href="Graded.Heap.Soundness.html#4536" class="Bound">_</a> <a id="4538" class="Symbol">â†’</a> <a id="4540" href="Graded.Heap.Soundness.html#4483" class="Bound">nem</a> <a id="4544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4546" href="Graded.Heap.Soundness.html#4487" class="Bound">ğŸ˜-wb</a><a id="4550" class="Symbol">)</a>

<a id="4553" class="Keyword">opaque</a>

  <a id="4563" class="Comment">-- A lemma used to prove redNumeral.</a>

  <a id="redNumeralâ€²"></a><a id="4603" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a> <a id="4615" class="Symbol">:</a> <a id="4617" class="Symbol">{</a><a id="4618" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a> <a id="4620" class="Symbol">:</a> <a id="4622" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="4626" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="4631" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="4632" class="Symbol">}</a>
                <a id="4650" class="Symbol">â¦ƒ</a> <a id="4652" href="Graded.Heap.Soundness.html#4652" class="Bound">ok</a> <a id="4655" class="Symbol">:</a> <a id="4657" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="4680" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="4689" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a> <a id="4691" class="Symbol">â¦„</a>
             <a id="4706" class="Symbol">â†’</a> <a id="4708" class="Symbol">(</a><a id="4709" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="4726" class="InductiveConstructor">ğŸ™áµ</a> <a id="4729" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="4731" class="Symbol">â†’</a> <a id="4733" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="4744" class="Symbol">(</a><a id="4745" class="InductiveConstructor">Îµ</a> <a id="4747" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="4749" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a><a id="4750" class="Symbol">))</a>
             <a id="4766" class="Symbol">â†’</a> <a id="4768" class="Symbol">(</a><a id="4769" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="4771" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">PE.â‰¢</a> <a id="4776" class="Number">0</a> <a id="4778" class="Symbol">â†’</a>
                <a id="4796" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="4815" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="4828" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="4831" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
                <a id="4849" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="4871" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="4873" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a><a id="4891" class="Symbol">)</a>
             <a id="4906" class="Symbol">â†’</a> <a id="4908" href="Graded.Heap.Untyped.html#14619" class="Function">No-namesâ‚›</a> <a id="4918" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a>
             <a id="4933" class="Symbol">â†’</a> <a id="4935" class="InductiveConstructor">Îµ</a> <a id="4937" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="4939" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a> <a id="4941" href="Definition.LogicalRelation.Unary.html#13958" class="Record Operator">âŠ©â„•</a> <a id="4944" href="Graded.Heap.Soundness.html#2711" class="Generalizable">n</a> <a id="4946" href="Definition.LogicalRelation.Unary.html#13958" class="Record Operator">âˆ·â„•</a> <a id="4949" class="Symbol">â†’</a> <a id="4951" href="Graded.Heap.Soundness.html#2711" class="Generalizable">n</a> <a id="4953" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.â‰¡</a> <a id="4958" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦…</a> <a id="4960" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="4962" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦†</a> <a id="4964" class="Symbol">â†’</a> <a id="4966" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a> <a id="4968" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âŠ¢â‚›</a> <a id="4971" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="4973" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âˆ·</a> <a id="4975" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="4977" class="Symbol">â†’</a> <a id="4979" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="4981" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a>
             <a id="4996" class="Symbol">â†’</a> <a id="4998" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="5001" class="Symbol">Î»</a> <a id="5003" href="Graded.Heap.Soundness.html#5003" class="Bound">m</a> <a id="5005" href="Graded.Heap.Soundness.html#5005" class="Bound">n</a> <a id="5007" href="Graded.Heap.Soundness.html#5007" class="Bound">H</a> <a id="5009" class="Symbol">(</a><a id="5010" href="Graded.Heap.Soundness.html#5010" class="Bound">Ï</a> <a id="5012" class="Symbol">:</a> <a id="5014" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="5017" href="Graded.Heap.Soundness.html#5003" class="Bound">m</a> <a id="5019" href="Graded.Heap.Soundness.html#5005" class="Bound">n</a><a id="5020" class="Symbol">)</a> <a id="5022" href="Graded.Heap.Soundness.html#5022" class="Bound">t</a> <a id="5024" class="Symbol">â†’</a> <a id="5026" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="5028" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="5031" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="5033" href="Graded.Heap.Soundness.html#5007" class="Bound">H</a> <a id="5035" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5037" href="Graded.Heap.Soundness.html#5022" class="Bound">t</a> <a id="5039" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5041" href="Graded.Heap.Soundness.html#5010" class="Bound">Ï</a> <a id="5043" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5045" class="InductiveConstructor">Îµ</a> <a id="5047" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="5049" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
               <a id="5066" href="Definition.Untyped.html#4021" class="Datatype">Numeral</a> <a id="5074" href="Graded.Heap.Soundness.html#5022" class="Bound">t</a> <a id="5076" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a> <a id="5078" class="InductiveConstructor">Îµ</a> <a id="5080" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="5082" href="Graded.Heap.Soundness.html#4618" class="Bound">Î”</a> <a id="5084" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="5086" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦…</a> <a id="5088" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="5090" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦†</a> <a id="5092" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="5094" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="5097" href="Graded.Heap.Soundness.html#5010" class="Bound">Ï</a> <a id="5099" href="Graded.Heap.Soundness.html#5022" class="Bound">t</a> <a id="5101" href="Graded.Heap.Untyped.html#10748" class="Function Operator">[</a> <a id="5103" href="Graded.Heap.Soundness.html#5007" class="Bound">H</a> <a id="5105" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a> <a id="5108" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="5110" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="5112" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
               <a id="5129" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="5131" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="5133" href="Graded.Heap.Soundness.html#5007" class="Bound">H</a> <a id="5135" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5137" href="Graded.Heap.Soundness.html#5022" class="Bound">t</a> <a id="5139" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5141" href="Graded.Heap.Soundness.html#5010" class="Bound">Ï</a> <a id="5143" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="5145" class="InductiveConstructor">Îµ</a> <a id="5147" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a>
  <a id="5151" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a> <a id="5163" href="Graded.Heap.Soundness.html#5163" class="Bound">consistent</a> <a id="5174" href="Graded.Heap.Soundness.html#5174" class="Bound">prop</a> <a id="5179" href="Graded.Heap.Soundness.html#5179" class="Bound">s-nn</a> <a id="5184" class="Symbol">(</a><a id="5185" href="Definition.LogicalRelation.Unary.html#14069" class="InductiveConstructor">â„•â‚œ</a> <a id="5188" class="Symbol">_</a> <a id="5190" href="Graded.Heap.Soundness.html#5190" class="Bound">d</a> <a id="5192" href="Graded.Heap.Soundness.html#5192" class="Bound">nâ‰¡n</a> <a id="5196" class="Symbol">(</a><a id="5197" href="Definition.LogicalRelation.Unary.html#14298" class="InductiveConstructor">sucáµ£</a> <a id="5202" href="Graded.Heap.Soundness.html#5202" class="Bound">x</a><a id="5203" class="Symbol">))</a> <a id="5206" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5214" href="Graded.Heap.Soundness.html#5214" class="Bound">âŠ¢s</a> <a id="5217" href="Graded.Heap.Soundness.html#5217" class="Bound">â–¸s</a> <a id="5220" class="Symbol">=</a>
    <a id="5226" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5231" href="Graded.Heap.Termination.html#4939" class="Function">whBisim</a> <a id="5239" href="Graded.Heap.Soundness.html#5163" class="Bound">consistent</a> <a id="5250" href="Graded.Heap.Soundness.html#5174" class="Bound">prop</a> <a id="5255" href="Graded.Heap.Soundness.html#5179" class="Bound">s-nn</a> <a id="5260" href="Graded.Heap.Soundness.html#5214" class="Bound">âŠ¢s</a> <a id="5263" href="Graded.Heap.Soundness.html#5217" class="Bound">â–¸s</a> <a id="5266" class="Symbol">(</a><a id="5267" href="Graded.Heap.Soundness.html#5190" class="Bound">d</a> <a id="5269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5271" href="Definition.Untyped.Whnf.html#1467" class="InductiveConstructor">sucâ‚™</a><a id="5275" class="Symbol">)</a> <a id="5277" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5280" class="Symbol">Î»</a>
      <a id="5288" class="Symbol">(_</a> <a id="5291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5293" class="Symbol">_</a> <a id="5295" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5297" href="Graded.Heap.Soundness.html#5297" class="Bound">H</a> <a id="5299" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5301" href="Graded.Heap.Soundness.html#5301" class="Bound">t</a> <a id="5303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5305" href="Graded.Heap.Soundness.html#5305" class="Bound">Ï</a> <a id="5307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5309" class="Symbol">(</a><a id="5310" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" class="Symbol">_)</a> <a id="5318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5320" href="Graded.Heap.Soundness.html#5320" class="Bound">â‰¡u</a> <a id="5323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5325" href="Graded.Heap.Soundness.html#5325" class="Bound">v</a><a id="5326" class="Symbol">)</a> <a id="5328" class="Symbol">â†’</a>
    <a id="5334" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5339" href="Definition.Untyped.Inversion.html#38992" class="Function">subst-suc</a> <a id="5349" class="Symbol">{</a><a id="5350" class="Argument">t</a> <a id="5352" class="Symbol">=</a> <a id="5354" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="5357" href="Graded.Heap.Soundness.html#5305" class="Bound">Ï</a> <a id="5359" href="Graded.Heap.Soundness.html#5301" class="Bound">t</a><a id="5360" class="Symbol">}</a> <a id="5362" href="Graded.Heap.Soundness.html#5320" class="Bound">â‰¡u</a> <a id="5365" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5368" class="Symbol">Î»</a> <a id="5370" class="Symbol">{</a>
      <a id="5378" class="Symbol">(</a><a id="5379" href="Data.Sum.Base.html#675" class="InductiveConstructor">injâ‚</a> <a id="5384" class="Symbol">(</a><a id="5385" href="Graded.Heap.Soundness.html#5385" class="Bound">x</a> <a id="5387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5389" href="Graded.Heap.Soundness.html#5389" class="Bound">â‰¡x</a><a id="5391" class="Symbol">))</a> <a id="5394" class="Symbol">â†’</a>
    <a id="5400" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5405" href="Definition.Untyped.Inversion.html#697" class="Function">wk-var</a> <a id="5412" href="Graded.Heap.Soundness.html#5389" class="Bound">â‰¡x</a> <a id="5415" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5418" class="Symbol">Î»</a> <a id="5420" class="Symbol">{</a>
      <a id="5428" class="Symbol">(_</a> <a id="5431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5433" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5443" class="Symbol">_)</a> <a id="5446" class="Symbol">â†’</a>
    <a id="5452" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5457" href="Graded.Heap.Soundness.html#5325" class="Bound">v</a> <a id="5459" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5462" class="Symbol">Î»</a> <a id="5464" class="Symbol">()};</a>
      <a id="5475" class="Symbol">(</a><a id="5476" href="Data.Sum.Base.html#700" class="InductiveConstructor">injâ‚‚</a> <a id="5481" class="Symbol">(</a><a id="5482" href="Graded.Heap.Soundness.html#5482" class="Bound">nâ€²</a> <a id="5485" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5487" href="Graded.Heap.Soundness.html#5487" class="Bound">â‰¡suc</a> <a id="5492" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5494" href="Graded.Heap.Soundness.html#5494" class="Bound">â‰¡n</a><a id="5496" class="Symbol">))</a> <a id="5499" class="Symbol">â†’</a>
    <a id="5505" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5510" href="Definition.Untyped.Inversion.html#37995" class="Function">wk-suc</a> <a id="5517" href="Graded.Heap.Soundness.html#5487" class="Bound">â‰¡suc</a> <a id="5522" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5525" class="Symbol">Î»</a> <a id="5527" class="Symbol">{</a>
      <a id="5535" class="Symbol">(</a><a id="5536" href="Graded.Heap.Soundness.html#5536" class="Bound">nâ€³</a> <a id="5539" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5541" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5551" href="Graded.Heap.Soundness.html#5551" class="Bound">â‰¡nâ€²</a><a id="5554" class="Symbol">)</a> <a id="5556" class="Symbol">â†’</a>
    <a id="5562" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5567" href="Graded.Heap.Typed.Reduction.html#28699" class="Function">â‡¾*â†’â‰¡</a> <a id="5572" href="Graded.Heap.Soundness.html#5214" class="Bound">âŠ¢s</a> <a id="5575" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a> <a id="5578" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5581" class="Symbol">Î»</a>
      <a id="5589" href="Graded.Heap.Soundness.html#5589" class="Bound">sâ‰¡</a> <a id="5592" class="Symbol">â†’</a>
    <a id="5598" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5603" href="Definition.Untyped.Properties.html#84134" class="Function">isNumeral?</a> <a id="5614" href="Graded.Heap.Soundness.html#5536" class="Bound">nâ€³</a> <a id="5617" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5620" class="Symbol">Î»</a> <a id="5622" class="Symbol">{</a>
      <a id="5630" class="Symbol">(</a><a id="5631" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="5635" href="Graded.Heap.Soundness.html#5635" class="Bound">num</a><a id="5638" class="Symbol">)</a> <a id="5640" class="Symbol">â†’</a>
    <a id="5646" class="Symbol">_</a> <a id="5648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5650" class="Symbol">_</a> <a id="5652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5654" class="Symbol">_</a> <a id="5656" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5658" class="Symbol">_</a> <a id="5660" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5662" class="Symbol">_</a> <a id="5664" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5666" href="Graded.Heap.Reduction.Properties.html#20873" class="Function">â‡¾*â†’â† *</a> <a id="5672" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a> <a id="5675" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5677" href="Definition.Untyped.html#4087" class="InductiveConstructor">sucâ‚™</a> <a id="5682" href="Graded.Heap.Soundness.html#5635" class="Bound">num</a> <a id="5686" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5688" href="Graded.Heap.Soundness.html#5589" class="Bound">sâ‰¡</a> <a id="5691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5693" href="Graded.Heap.Usage.Reduction.html#46617" class="Function">â–¸-â‡¾*</a> <a id="5698" href="Graded.Heap.Soundness.html#5217" class="Bound">â–¸s</a> <a id="5701" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a> <a id="5704" class="Symbol">;</a>
      <a id="5712" class="Symbol">(</a><a id="5713" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5716" href="Graded.Heap.Soundness.html#5716" class="Bound">Â¬num</a><a id="5720" class="Symbol">)</a> <a id="5722" class="Symbol">â†’</a>
    <a id="5728" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5733" href="Graded.Heap.Typed.Inversion.html#7500" class="Function">âŠ¢â‚›-inv</a> <a id="5740" class="Symbol">(</a><a id="5741" href="Graded.Heap.Typed.Reduction.html#19591" class="Function">âŠ¢â‚›-â‡¾*</a> <a id="5747" href="Graded.Heap.Soundness.html#5214" class="Bound">âŠ¢s</a> <a id="5750" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a><a id="5752" class="Symbol">)</a> <a id="5754" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5757" class="Symbol">Î»</a>
      <a id="5765" class="Symbol">(_</a> <a id="5768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5770" class="Symbol">_</a> <a id="5772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5774" href="Graded.Heap.Soundness.html#5774" class="Bound">âŠ¢H</a> <a id="5777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5779" href="Graded.Heap.Soundness.html#5779" class="Bound">âŠ¢t</a> <a id="5782" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5784" href="Graded.Heap.Soundness.html#5784" class="Bound">âŠ¢S</a><a id="5786" class="Symbol">)</a> <a id="5788" class="Symbol">â†’</a>
    <a id="5794" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5799" href="Definition.Typed.Inversion.Primitive.html#3358" class="Function">inversion-suc</a> <a id="5813" href="Graded.Heap.Soundness.html#5779" class="Bound">âŠ¢t</a> <a id="5816" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5819" class="Symbol">Î»</a>
      <a id="5827" class="Symbol">(</a><a id="5828" href="Graded.Heap.Soundness.html#5828" class="Bound">âŠ¢nâ€³</a> <a id="5832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5834" href="Graded.Heap.Soundness.html#5834" class="Bound">â‰¡â„•</a><a id="5836" class="Symbol">)</a> <a id="5838" class="Symbol">â†’</a>
    <a id="5844" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5849" href="Graded.Heap.Usage.Inversion.html#2699" class="Function">â–¸â‚›-inv</a> <a id="5856" class="Symbol">(</a><a id="5857" href="Graded.Heap.Usage.Reduction.html#46617" class="Function">â–¸-â‡¾*</a> <a id="5862" href="Graded.Heap.Soundness.html#5217" class="Bound">â–¸s</a> <a id="5865" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a><a id="5867" class="Symbol">)</a> <a id="5869" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5872" class="Symbol">Î»</a>
      <a id="5880" class="Symbol">(_</a> <a id="5883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5885" class="Symbol">_</a> <a id="5887" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5889" class="Symbol">_</a> <a id="5891" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5893" class="Symbol">_</a> <a id="5895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5897" href="Graded.Heap.Soundness.html#5897" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="5902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5904" href="Graded.Heap.Soundness.html#5904" class="Bound">â–¸H</a> <a id="5907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5909" href="Graded.Heap.Soundness.html#5909" class="Bound">â–¸t</a> <a id="5912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5914" href="Graded.Heap.Soundness.html#5914" class="Bound">â–¸Îµ</a> <a id="5917" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5919" href="Graded.Heap.Soundness.html#5919" class="Bound">Î³â‰¤</a><a id="5921" class="Symbol">)</a> <a id="5923" class="Symbol">â†’</a>
    <a id="5929" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5934" href="Graded.Usage.Inversion.html#8631" class="Function">inv-usage-suc</a> <a id="5948" href="Graded.Heap.Soundness.html#5909" class="Bound">â–¸t</a> <a id="5951" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5954" class="Symbol">Î»</a>
      <a id="5962" class="Symbol">(</a><a id="5963" href="Graded.Usage.Inversion.html#8505" class="InductiveConstructor">invUsageSuc</a> <a id="5975" href="Graded.Heap.Soundness.html#5975" class="Bound">â–¸nâ€³</a> <a id="5979" href="Graded.Heap.Soundness.html#5979" class="Bound">Î´â‰¤</a><a id="5981" class="Symbol">)</a>  <a id="5984" class="Symbol">â†’</a>
    <a id="5990" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5995" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a> <a id="6007" class="Symbol">{</a><a id="6008" class="Argument">s</a> <a id="6010" class="Symbol">=</a> <a id="6012" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="6014" href="Graded.Heap.Soundness.html#5297" class="Bound">H</a> <a id="6016" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="6018" href="Graded.Heap.Soundness.html#5536" class="Bound">nâ€³</a> <a id="6021" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="6023" href="Graded.Heap.Soundness.html#5305" class="Bound">Ï</a> <a id="6025" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="6027" href="Graded.Heap.Untyped.html#5842" class="InductiveConstructor">Îµ</a> <a id="6029" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a><a id="6030" class="Symbol">}</a> <a id="6032" href="Graded.Heap.Soundness.html#5163" class="Bound">consistent</a> <a id="6043" href="Graded.Heap.Soundness.html#5174" class="Bound">prop</a>
           <a id="6059" class="Symbol">(</a><a id="6060" href="Graded.Heap.Typed.Properties.html#12588" class="Function">âŠ¢â‚›â†’No-namesâ‚›â€²</a> <a id="6074" class="Symbol">(</a><a id="6075" href="Graded.Heap.Typed.html#4115" class="InductiveConstructor">âŠ¢â‚›</a> <a id="6078" href="Graded.Heap.Soundness.html#5774" class="Bound">âŠ¢H</a> <a id="6081" href="Graded.Heap.Soundness.html#5828" class="Bound">âŠ¢nâ€³</a> <a id="6085" href="Graded.Heap.Typed.html#3850" class="InductiveConstructor">Îµ</a><a id="6086" class="Symbol">)</a> <a id="6088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6090" href="Graded.Heap.Untyped.html#14274" class="InductiveConstructor">Îµ</a><a id="6091" class="Symbol">)</a> <a id="6093" href="Graded.Heap.Soundness.html#5202" class="Bound">x</a>
          <a id="6105" class="Symbol">(</a><a id="6106" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">PE.sym</a> <a id="6113" class="Symbol">(</a><a id="6114" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="6123" class="Symbol">(</a><a id="6124" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">PE.cong</a> <a id="6132" class="Symbol">(</a><a id="6133" href="Graded.Heap.Untyped.html#10748" class="Function Operator">_[</a> <a id="6136" href="Graded.Heap.Soundness.html#5297" class="Bound">H</a> <a id="6138" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a><a id="6140" class="Symbol">)</a> <a id="6142" href="Graded.Heap.Soundness.html#5551" class="Bound">â‰¡nâ€²</a><a id="6145" class="Symbol">)</a> <a id="6147" href="Graded.Heap.Soundness.html#5494" class="Bound">â‰¡n</a><a id="6149" class="Symbol">))</a>
          <a id="6162" class="Symbol">(</a><a id="6163" href="Graded.Heap.Typed.html#4115" class="InductiveConstructor">âŠ¢â‚›</a> <a id="6166" href="Graded.Heap.Soundness.html#5774" class="Bound">âŠ¢H</a> <a id="6169" href="Graded.Heap.Soundness.html#5828" class="Bound">âŠ¢nâ€³</a> <a id="6173" href="Graded.Heap.Typed.html#3850" class="InductiveConstructor">Îµ</a><a id="6174" class="Symbol">)</a>
          <a id="6186" class="Symbol">(</a><a id="6187" href="Graded.Heap.Usage.html#3573" class="InductiveConstructor">â–¸â‚›</a> <a id="6190" href="Graded.Heap.Soundness.html#5897" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="6195" href="Graded.Heap.Soundness.html#5904" class="Bound">â–¸H</a> <a id="6198" href="Graded.Heap.Soundness.html#5975" class="Bound">â–¸nâ€³</a> <a id="6202" href="Graded.Heap.Soundness.html#5914" class="Bound">â–¸Îµ</a> <a id="6205" class="Symbol">(</a><a id="6206" href="Graded.Context.Properties.PartialOrder.html#790" class="Function">â‰¤á¶œ-trans</a> <a id="6215" href="Graded.Heap.Soundness.html#5919" class="Bound">Î³â‰¤</a> <a id="6218" class="Symbol">(</a><a id="6219" href="Graded.Context.Properties.Addition.html#2874" class="Function">+á¶œ-monotoneË¡</a> <a id="6232" class="Symbol">(</a><a id="6233" href="Graded.Context.Properties.Multiplication.html#3380" class="Function">Â·á¶œ-monotoneÊ³</a> <a id="6246" class="Symbol">(</a><a id="6247" href="Graded.Context.Weakening.html#3514" class="Function">wk-â‰¤á¶œ</a> <a id="6253" href="Graded.Heap.Soundness.html#5305" class="Bound">Ï</a> <a id="6255" href="Graded.Heap.Soundness.html#5979" class="Bound">Î´â‰¤</a><a id="6257" class="Symbol">)))))</a> <a id="6263" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6266" class="Symbol">Î»</a>
      <a id="6274" class="Symbol">(_</a> <a id="6277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6279" class="Symbol">_</a> <a id="6281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6283" href="Graded.Heap.Soundness.html#6283" class="Bound">Hâ€²</a> <a id="6286" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6288" href="Graded.Heap.Soundness.html#6288" class="Bound">Ïâ€²</a> <a id="6291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6293" href="Graded.Heap.Soundness.html#6293" class="Bound">tâ€²</a> <a id="6296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6298" href="Graded.Heap.Soundness.html#6298" class="Bound">dâ‚€</a> <a id="6301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6303" href="Graded.Heap.Soundness.html#6303" class="Bound">n</a> <a id="6305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6307" href="Graded.Heap.Soundness.html#6307" class="Bound">sâ€²â‰¡</a> <a id="6311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6313" href="Graded.Heap.Soundness.html#6313" class="Bound">â–¸sâ€²</a><a id="6316" class="Symbol">)</a> <a id="6318" class="Symbol">â†’</a>
    <a id="6324" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6329" href="Graded.Heap.Usage.Inversion.html#2699" class="Function">â–¸â‚›-inv</a> <a id="6336" href="Graded.Heap.Soundness.html#6313" class="Bound">â–¸sâ€²</a> <a id="6340" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6343" class="Symbol">Î»</a>
      <a id="6351" class="Symbol">(_</a> <a id="6354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6356" class="Symbol">_</a> <a id="6358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6360" class="Symbol">_</a> <a id="6362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6364" class="Symbol">_</a> <a id="6366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6368" href="Graded.Heap.Soundness.html#6368" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="6373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6375" href="Graded.Heap.Soundness.html#6375" class="Bound">â–¸H</a> <a id="6378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6380" href="Graded.Heap.Soundness.html#6380" class="Bound">â–¸t</a> <a id="6383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6385" href="Graded.Heap.Soundness.html#6385" class="Bound">â–¸S</a> <a id="6388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6390" href="Graded.Heap.Soundness.html#6390" class="Bound">Î³â‰¤</a><a id="6392" class="Symbol">)</a> <a id="6394" class="Symbol">â†’</a>
    <a id="6400" class="Symbol">_</a> <a id="6402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6404" class="Symbol">_</a> <a id="6406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6408" class="Symbol">_</a> <a id="6410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6412" class="Symbol">_</a> <a id="6414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6416" class="Symbol">_</a>
      <a id="6424" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6426" href="Graded.Heap.Reduction.Properties.html#1748" class="Function">â† *-concat</a> <a id="6436" class="Symbol">(</a><a id="6437" href="Graded.Heap.Reduction.Properties.html#20873" class="Function">â‡¾*â†’â† *</a> <a id="6443" href="Graded.Heap.Soundness.html#5310" class="Bound">dâ€²</a><a id="6445" class="Symbol">)</a>
          <a id="6457" class="Symbol">(</a><a id="6458" href="Graded.Heap.Reduction.html#6732" class="InductiveConstructor Operator">â‡’â‚™</a> <a id="6461" href="Graded.Heap.Reduction.html#6057" class="InductiveConstructor">sucâ‚•</a> <a id="6466" href="Graded.Heap.Soundness.html#5716" class="Bound">Â¬num</a> <a id="6471" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a> <a id="6473" href="Graded.Heap.Reduction.Properties.html#1748" class="Function">â† *-concat</a> <a id="6483" class="Symbol">(</a><a id="6484" href="Graded.Heap.Reduction.Properties.html#17208" class="Function">++sucâ‚›-â† *</a> <a id="6494" href="Graded.Heap.Soundness.html#6298" class="Bound">dâ‚€</a><a id="6496" class="Symbol">)</a> <a id="6498" class="Symbol">(</a><a id="6499" href="Graded.Heap.Reduction.html#6732" class="InductiveConstructor Operator">â‡’â‚™</a> <a id="6502" class="Symbol">(</a><a id="6503" href="Graded.Heap.Reduction.html#6149" class="InductiveConstructor">numâ‚•</a> <a id="6508" href="Graded.Heap.Soundness.html#6303" class="Bound">n</a><a id="6509" class="Symbol">)</a> <a id="6511" href="Graded.Heap.Reduction.html#7268" class="InductiveConstructor Operator">â‡¨</a> <a id="6513" href="Graded.Heap.Reduction.html#7251" class="InductiveConstructor">id</a><a id="6515" class="Symbol">))</a>
      <a id="6524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6526" href="Definition.Untyped.html#4087" class="InductiveConstructor">sucâ‚™</a> <a id="6531" href="Graded.Heap.Soundness.html#6303" class="Bound">n</a> <a id="6533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6535" href="Definition.Typed.html#6896" class="InductiveConstructor">trans</a> <a id="6541" href="Graded.Heap.Soundness.html#5589" class="Bound">sâ‰¡</a> <a id="6544" class="Symbol">(</a><a id="6545" href="Definition.Typed.html#11242" class="InductiveConstructor">suc-cong</a> <a id="6554" href="Graded.Heap.Soundness.html#6307" class="Bound">sâ€²â‰¡</a><a id="6557" class="Symbol">)</a>
      <a id="6565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6567" href="Graded.Heap.Usage.html#3573" class="InductiveConstructor">â–¸â‚›</a> <a id="6570" href="Graded.Heap.Soundness.html#6368" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="6575" href="Graded.Heap.Soundness.html#6375" class="Bound">â–¸H</a> <a id="6578" class="Symbol">(</a><a id="6579" href="Graded.Usage.html#10424" class="InductiveConstructor">sucâ‚˜</a> <a id="6584" href="Graded.Heap.Soundness.html#6380" class="Bound">â–¸t</a><a id="6586" class="Symbol">)</a> <a id="6588" href="Graded.Heap.Soundness.html#6385" class="Bound">â–¸S</a> <a id="6591" href="Graded.Heap.Soundness.html#6390" class="Bound">Î³â‰¤</a> <a id="6594" class="Symbol">}}}</a>

  <a id="6601" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a> <a id="6613" href="Graded.Heap.Soundness.html#6613" class="Bound">consistent</a> <a id="6624" href="Graded.Heap.Soundness.html#6624" class="Bound">prop</a> <a id="6629" href="Graded.Heap.Soundness.html#6629" class="Bound">s-nn</a> <a id="6634" class="Symbol">(</a><a id="6635" href="Definition.LogicalRelation.Unary.html#14069" class="InductiveConstructor">â„•â‚œ</a> <a id="6638" class="Symbol">_</a> <a id="6640" href="Graded.Heap.Soundness.html#6640" class="Bound">d</a> <a id="6642" href="Graded.Heap.Soundness.html#6642" class="Bound">nâ‰¡n</a> <a id="6646" href="Definition.LogicalRelation.Unary.html#14345" class="InductiveConstructor">zeroáµ£</a><a id="6651" class="Symbol">)</a> <a id="6653" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="6661" href="Graded.Heap.Soundness.html#6661" class="Bound">âŠ¢s</a> <a id="6664" href="Graded.Heap.Soundness.html#6664" class="Bound">â–¸s</a> <a id="6667" class="Symbol">=</a>
    <a id="6673" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6678" href="Graded.Heap.Termination.html#4939" class="Function">whBisim</a> <a id="6686" href="Graded.Heap.Soundness.html#6613" class="Bound">consistent</a> <a id="6697" href="Graded.Heap.Soundness.html#6624" class="Bound">prop</a> <a id="6702" href="Graded.Heap.Soundness.html#6629" class="Bound">s-nn</a> <a id="6707" href="Graded.Heap.Soundness.html#6661" class="Bound">âŠ¢s</a> <a id="6710" href="Graded.Heap.Soundness.html#6664" class="Bound">â–¸s</a> <a id="6713" class="Symbol">(</a><a id="6714" href="Graded.Heap.Soundness.html#6640" class="Bound">d</a> <a id="6716" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6718" href="Definition.Untyped.Whnf.html#1445" class="InductiveConstructor">zeroâ‚™</a><a id="6723" class="Symbol">)</a> <a id="6725" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6728" class="Symbol">Î»</a>
      <a id="6736" class="Symbol">(_</a> <a id="6739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6741" class="Symbol">_</a> <a id="6743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6745" href="Graded.Heap.Soundness.html#6745" class="Bound">H</a> <a id="6747" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6749" href="Graded.Heap.Soundness.html#6749" class="Bound">t</a> <a id="6751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6753" href="Graded.Heap.Soundness.html#6753" class="Bound">Ï</a> <a id="6755" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6757" class="Symbol">(</a><a id="6758" href="Graded.Heap.Soundness.html#6758" class="Bound">dâ€²</a> <a id="6761" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6763" class="Symbol">_)</a> <a id="6766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6768" href="Graded.Heap.Soundness.html#6768" class="Bound">â‰¡u</a> <a id="6771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6773" href="Graded.Heap.Soundness.html#6773" class="Bound">v</a><a id="6774" class="Symbol">)</a> <a id="6776" class="Symbol">â†’</a>
    <a id="6782" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6787" href="Definition.Untyped.Inversion.html#36868" class="Function">subst-zero</a> <a id="6798" class="Symbol">{</a><a id="6799" class="Argument">t</a> <a id="6801" class="Symbol">=</a> <a id="6803" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="6806" href="Graded.Heap.Soundness.html#6753" class="Bound">Ï</a> <a id="6808" href="Graded.Heap.Soundness.html#6749" class="Bound">t</a><a id="6809" class="Symbol">}</a> <a id="6811" href="Graded.Heap.Soundness.html#6768" class="Bound">â‰¡u</a> <a id="6814" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6817" class="Symbol">Î»</a> <a id="6819" class="Symbol">{</a>
      <a id="6827" class="Symbol">(</a><a id="6828" href="Data.Sum.Base.html#675" class="InductiveConstructor">injâ‚</a> <a id="6833" class="Symbol">(</a><a id="6834" href="Graded.Heap.Soundness.html#6834" class="Bound">x</a> <a id="6836" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6838" href="Graded.Heap.Soundness.html#6838" class="Bound">â‰¡x</a><a id="6840" class="Symbol">))</a> <a id="6843" class="Symbol">â†’</a>
    <a id="6849" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6854" href="Definition.Untyped.Inversion.html#697" class="Function">wk-var</a> <a id="6861" href="Graded.Heap.Soundness.html#6838" class="Bound">â‰¡x</a> <a id="6864" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6867" class="Symbol">Î»</a> <a id="6869" class="Symbol">{</a>
      <a id="6877" class="Symbol">(_</a> <a id="6880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6882" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="6890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6892" href="Graded.Heap.Soundness.html#6892" class="Bound">w</a><a id="6893" class="Symbol">)</a> <a id="6895" class="Symbol">â†’</a>
    <a id="6901" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6906" href="Graded.Heap.Soundness.html#6773" class="Bound">v</a> <a id="6908" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6911" class="Symbol">Î»</a> <a id="6913" class="Symbol">()}</a> <a id="6917" class="Symbol">;</a>
      <a id="6925" class="Symbol">(</a><a id="6926" href="Data.Sum.Base.html#700" class="InductiveConstructor">injâ‚‚</a> <a id="6931" href="Graded.Heap.Soundness.html#6931" class="Bound">â‰¡zero</a><a id="6936" class="Symbol">)</a> <a id="6938" class="Symbol">â†’</a>
    <a id="6944" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="6949" href="Definition.Untyped.Inversion.html#35887" class="Function">wk-zero</a> <a id="6957" href="Graded.Heap.Soundness.html#6931" class="Bound">â‰¡zero</a> <a id="6963" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="6966" class="Symbol">Î»</a> <a id="6968" class="Symbol">{</a>
      <a id="6976" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="6984" class="Symbol">â†’</a>
    <a id="6990" class="Symbol">_</a> <a id="6992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6994" class="Symbol">_</a> <a id="6996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6998" class="Symbol">_</a> <a id="7000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7002" class="Symbol">_</a> <a id="7004" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7006" class="Symbol">_</a> <a id="7008" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7010" href="Graded.Heap.Reduction.Properties.html#20873" class="Function">â‡¾*â†’â† *</a> <a id="7016" href="Graded.Heap.Soundness.html#6758" class="Bound">dâ€²</a> <a id="7019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7021" href="Definition.Untyped.html#4064" class="InductiveConstructor">zeroâ‚™</a> <a id="7027" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7029" href="Graded.Heap.Typed.Reduction.html#28699" class="Function">â‡¾*â†’â‰¡</a> <a id="7034" href="Graded.Heap.Soundness.html#6661" class="Bound">âŠ¢s</a> <a id="7037" href="Graded.Heap.Soundness.html#6758" class="Bound">dâ€²</a> <a id="7040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7042" href="Graded.Heap.Usage.Reduction.html#46617" class="Function">â–¸-â‡¾*</a> <a id="7047" href="Graded.Heap.Soundness.html#6664" class="Bound">â–¸s</a> <a id="7050" href="Graded.Heap.Soundness.html#6758" class="Bound">dâ€²</a> <a id="7053" class="Symbol">}}</a>

  <a id="7059" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a>
    <a id="7075" href="Graded.Heap.Soundness.html#7075" class="Bound">consistent</a> <a id="7086" href="Graded.Heap.Soundness.html#7086" class="Bound">prop</a> <a id="7091" href="Graded.Heap.Soundness.html#7091" class="Bound">s-nn</a> <a id="7096" class="Symbol">(</a><a id="7097" href="Definition.LogicalRelation.Unary.html#14069" class="InductiveConstructor">â„•â‚œ</a> <a id="7100" class="Symbol">_</a> <a id="7102" href="Graded.Heap.Soundness.html#7102" class="Bound">d</a> <a id="7104" class="Symbol">_</a> <a id="7106" class="Symbol">(</a><a id="7107" href="Definition.LogicalRelation.Unary.html#14377" class="InductiveConstructor">ne</a> <a id="7110" class="Symbol">(</a><a id="7111" href="Definition.LogicalRelation.Unary.html#1783" class="InductiveConstructor">neNfâ‚œ</a> <a id="7117" href="Graded.Heap.Soundness.html#7117" class="Bound">neK</a> <a id="7121" class="Symbol">_)))</a> <a id="7126" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="7134" href="Graded.Heap.Soundness.html#7134" class="Bound">âŠ¢s</a> <a id="7137" href="Graded.Heap.Soundness.html#7137" class="Bound">â–¸s</a> <a id="7140" class="Symbol">=</a>
    <a id="7146" class="Keyword">let</a> <a id="7150" href="Graded.Heap.Soundness.html#7150" class="Bound">neK</a> <a id="7154" class="Symbol">=</a> <a id="7156" href="Definition.Untyped.Neutral.html#1815" class="Function">neâ†’</a> <a id="7160" class="Symbol">_</a> <a id="7162" href="Graded.Heap.Soundness.html#7117" class="Bound">neK</a> <a id="7166" class="Keyword">in</a>
    <a id="7173" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="7178" href="Graded.Heap.Termination.html#4939" class="Function">whBisim</a> <a id="7186" href="Graded.Heap.Soundness.html#7075" class="Bound">consistent</a> <a id="7197" href="Graded.Heap.Soundness.html#7086" class="Bound">prop</a> <a id="7202" href="Graded.Heap.Soundness.html#7091" class="Bound">s-nn</a> <a id="7207" href="Graded.Heap.Soundness.html#7134" class="Bound">âŠ¢s</a> <a id="7210" href="Graded.Heap.Soundness.html#7137" class="Bound">â–¸s</a> <a id="7213" class="Symbol">(</a><a id="7214" href="Graded.Heap.Soundness.html#7102" class="Bound">d</a> <a id="7216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7218" href="Definition.Untyped.Whnf.html#1604" class="InductiveConstructor">ne</a> <a id="7221" href="Graded.Heap.Soundness.html#7150" class="Bound">neK</a><a id="7224" class="Symbol">)</a> <a id="7226" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="7229" class="Symbol">Î»</a> <a id="7231" class="Symbol">{</a>
      <a id="7239" class="Symbol">(_</a> <a id="7242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7244" class="Symbol">_</a> <a id="7246" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7248" href="Graded.Heap.Soundness.html#7248" class="Bound">H</a> <a id="7250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7252" href="Graded.Heap.Soundness.html#7252" class="Bound">t</a> <a id="7254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7256" href="Graded.Heap.Soundness.html#7256" class="Bound">Ï</a> <a id="7258" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7260" href="Graded.Heap.Soundness.html#7260" class="Bound">dâ€²</a> <a id="7263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7265" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="7273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7275" href="Graded.Heap.Soundness.html#7275" class="Bound">v</a><a id="7276" class="Symbol">)</a> <a id="7278" class="Symbol">â†’</a>
    <a id="7284" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="7291" class="Symbol">(</a><a id="7292" href="Graded.Heap.Untyped.Properties.html#3132" class="Function">Valueâ†’Â¬Neutral</a> <a id="7307" class="Symbol">(</a><a id="7308" href="Graded.Heap.Untyped.Properties.html#2665" class="Function">substValue</a> <a id="7319" class="Symbol">(</a><a id="7320" href="Graded.Heap.Untyped.html#10521" class="Function">toSubstâ‚•</a> <a id="7329" href="Graded.Heap.Soundness.html#7248" class="Bound">H</a><a id="7330" class="Symbol">)</a> <a id="7332" class="Symbol">(</a><a id="7333" href="Graded.Heap.Untyped.Properties.html#2225" class="Function">wkValue</a> <a id="7341" href="Graded.Heap.Soundness.html#7256" class="Bound">Ï</a> <a id="7343" href="Graded.Heap.Soundness.html#7275" class="Bound">v</a><a id="7344" class="Symbol">))</a> <a id="7347" href="Graded.Heap.Soundness.html#7150" class="Bound">neK</a><a id="7350" class="Symbol">)</a> <a id="7352" class="Symbol">}</a>

<a id="7355" class="Keyword">opaque</a>

  <a id="7365" class="Comment">-- If the definition context is empty, then a well-resourced state</a>
  <a id="7434" class="Comment">-- of type â„• that does not contain any names reduces to a numeral</a>
  <a id="7502" class="Comment">-- (given certain assumptions).</a>

  <a id="redNumeral"></a><a id="7537" href="Graded.Heap.Soundness.html#7537" class="Function">redNumeral</a> <a id="7548" class="Symbol">:</a> <a id="7550" class="Symbol">{</a><a id="7551" href="Graded.Heap.Soundness.html#7551" class="Bound">Î”</a> <a id="7553" class="Symbol">:</a> <a id="7555" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="7559" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="7564" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="7565" class="Symbol">}</a>
               <a id="7582" class="Symbol">â¦ƒ</a> <a id="7584" href="Graded.Heap.Soundness.html#7584" class="Bound">ok</a> <a id="7587" class="Symbol">:</a> <a id="7589" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="7612" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="7621" href="Graded.Heap.Soundness.html#7551" class="Bound">Î”</a> <a id="7623" class="Symbol">â¦„</a>
             <a id="7638" class="Symbol">â†’</a> <a id="7640" class="Symbol">(</a><a id="7641" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="7658" class="InductiveConstructor">ğŸ™áµ</a> <a id="7661" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="7663" class="Symbol">â†’</a> <a id="7665" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="7676" class="Symbol">(</a><a id="7677" class="InductiveConstructor">Îµ</a> <a id="7679" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="7681" href="Graded.Heap.Soundness.html#7551" class="Bound">Î”</a><a id="7682" class="Symbol">))</a>
             <a id="7698" class="Symbol">â†’</a> <a id="7700" class="Symbol">(</a><a id="7701" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="7703" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">PE.â‰¢</a> <a id="7708" class="Number">0</a> <a id="7710" class="Symbol">â†’</a>
                <a id="7728" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="7747" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="7760" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="7763" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
                <a id="7781" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="7803" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="7805" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a><a id="7823" class="Symbol">)</a>
             <a id="7838" class="Symbol">â†’</a> <a id="7840" href="Graded.Heap.Untyped.html#14619" class="Function">No-namesâ‚›</a> <a id="7850" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a>
             <a id="7865" class="Symbol">â†’</a> <a id="7867" href="Graded.Heap.Soundness.html#7551" class="Bound">Î”</a> <a id="7869" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âŠ¢â‚›</a> <a id="7872" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="7874" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âˆ·</a> <a id="7876" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a>
             <a id="7891" class="Symbol">â†’</a> <a id="7893" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="7895" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a>
             <a id="7910" class="Symbol">â†’</a> <a id="7912" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="7915" class="Symbol">Î»</a> <a id="7917" href="Graded.Heap.Soundness.html#7917" class="Bound">m</a> <a id="7919" href="Graded.Heap.Soundness.html#7919" class="Bound">n</a> <a id="7921" href="Graded.Heap.Soundness.html#7921" class="Bound">H</a> <a id="7923" class="Symbol">(</a><a id="7924" href="Graded.Heap.Soundness.html#7924" class="Bound">Ï</a> <a id="7926" class="Symbol">:</a> <a id="7928" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="7931" href="Graded.Heap.Soundness.html#7917" class="Bound">m</a> <a id="7933" href="Graded.Heap.Soundness.html#7919" class="Bound">n</a><a id="7934" class="Symbol">)</a> <a id="7936" href="Graded.Heap.Soundness.html#7936" class="Bound">t</a> <a id="7938" class="Symbol">â†’</a> <a id="7940" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="7942" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="7945" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="7947" href="Graded.Heap.Soundness.html#7921" class="Bound">H</a> <a id="7949" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="7951" href="Graded.Heap.Soundness.html#7936" class="Bound">t</a> <a id="7953" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="7955" href="Graded.Heap.Soundness.html#7924" class="Bound">Ï</a> <a id="7957" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="7959" class="InductiveConstructor">Îµ</a> <a id="7961" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="7963" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
               <a id="7980" href="Definition.Untyped.html#4021" class="Datatype">Numeral</a> <a id="7988" href="Graded.Heap.Soundness.html#7936" class="Bound">t</a> <a id="7990" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a> <a id="7992" class="InductiveConstructor">Îµ</a> <a id="7994" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="7996" href="Graded.Heap.Soundness.html#7551" class="Bound">Î”</a> <a id="7998" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="8000" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦…</a> <a id="8002" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8004" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦†</a> <a id="8006" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="8008" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="8011" href="Graded.Heap.Soundness.html#7924" class="Bound">Ï</a> <a id="8013" href="Graded.Heap.Soundness.html#7936" class="Bound">t</a> <a id="8015" href="Graded.Heap.Untyped.html#10748" class="Function Operator">[</a> <a id="8017" href="Graded.Heap.Soundness.html#7921" class="Bound">H</a> <a id="8019" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a> <a id="8022" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="8024" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="8026" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
               <a id="8043" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="8045" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="8047" href="Graded.Heap.Soundness.html#7921" class="Bound">H</a> <a id="8049" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8051" href="Graded.Heap.Soundness.html#7936" class="Bound">t</a> <a id="8053" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8055" href="Graded.Heap.Soundness.html#7924" class="Bound">Ï</a> <a id="8057" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8059" class="InductiveConstructor">Îµ</a> <a id="8061" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a>
  <a id="8065" href="Graded.Heap.Soundness.html#7537" class="Function">redNumeral</a> <a id="8076" class="Symbol">{</a><a id="8077" href="Graded.Heap.Soundness.html#8077" class="Bound">s</a><a id="8078" class="Symbol">}</a> <a id="8080" href="Graded.Heap.Soundness.html#8080" class="Bound">consistent</a> <a id="8091" href="Graded.Heap.Soundness.html#8091" class="Bound">prop</a> <a id="8096" href="Graded.Heap.Soundness.html#8096" class="Bound">s-nn</a> <a id="8101" href="Graded.Heap.Soundness.html#8101" class="Bound">âŠ¢s</a> <a id="8104" href="Graded.Heap.Soundness.html#8104" class="Bound">â–¸s</a> <a id="8107" class="Symbol">=</a>
    <a id="8113" href="Graded.Heap.Soundness.html#4603" class="Function">redNumeralâ€²</a> <a id="8125" href="Graded.Heap.Soundness.html#8080" class="Bound">consistent</a> <a id="8136" href="Graded.Heap.Soundness.html#8091" class="Bound">prop</a> <a id="8141" href="Graded.Heap.Soundness.html#8096" class="Bound">s-nn</a>
      <a id="8152" class="Symbol">(</a><a id="8153" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html#3885" class="Function">âŠ©âˆ·â„•â‡”</a> <a id="8158" class="Symbol">.</a><a id="8159" href="Data.Product.Base.html#636" class="Field">projâ‚</a> <a id="8165" class="Symbol">(</a><a id="8166" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1460" class="Function">reducible-âŠ©âˆ·</a> <a id="8179" class="Symbol">(</a><a id="8180" href="Graded.Heap.Typed.Properties.html#3606" class="Function">âŠ¢â¦…â¦†</a> <a id="8184" class="Symbol">{</a><a id="8185" class="Argument">s</a> <a id="8187" class="Symbol">=</a> <a id="8189" href="Graded.Heap.Soundness.html#8077" class="Bound">s</a><a id="8190" class="Symbol">}</a> <a id="8192" href="Graded.Heap.Soundness.html#8101" class="Bound">âŠ¢s</a><a id="8194" class="Symbol">)</a> <a id="8196" class="Symbol">.</a><a id="8197" href="Data.Product.Base.html#650" class="Field">projâ‚‚</a><a id="8202" class="Symbol">))</a>
      <a id="8211" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="8219" href="Graded.Heap.Soundness.html#8101" class="Bound">âŠ¢s</a> <a id="8222" href="Graded.Heap.Soundness.html#8104" class="Bound">â–¸s</a>

<a id="8226" class="Keyword">opaque</a>

  <a id="8236" class="Comment">-- All closed, well-resourced, well-typed states of type â„• that do</a>
  <a id="8305" class="Comment">-- not contain names reduce to numerals.</a>

  <a id="redNumeral-closed"></a><a id="8349" href="Graded.Heap.Soundness.html#8349" class="Function">redNumeral-closed</a> <a id="8367" class="Symbol">:</a>
    <a id="8373" href="Graded.Heap.Untyped.html#14619" class="Function">No-namesâ‚›</a> <a id="8383" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8385" class="Symbol">â†’</a> <a id="8387" class="InductiveConstructor">Îµ</a> <a id="8389" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âŠ¢â‚›</a> <a id="8392" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8394" href="Graded.Heap.Typed.html#4036" class="Datatype Operator">âˆ·</a> <a id="8396" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="8398" class="Symbol">â†’</a> <a id="8400" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="8402" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8404" class="Symbol">â†’</a>
    <a id="8410" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="8413" class="Symbol">Î»</a> <a id="8415" href="Graded.Heap.Soundness.html#8415" class="Bound">m</a> <a id="8417" href="Graded.Heap.Soundness.html#8417" class="Bound">n</a> <a id="8419" href="Graded.Heap.Soundness.html#8419" class="Bound">H</a> <a id="8421" class="Symbol">(</a><a id="8422" href="Graded.Heap.Soundness.html#8422" class="Bound">Ï</a> <a id="8424" class="Symbol">:</a> <a id="8426" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="8429" href="Graded.Heap.Soundness.html#8415" class="Bound">m</a> <a id="8431" href="Graded.Heap.Soundness.html#8417" class="Bound">n</a><a id="8432" class="Symbol">)</a> <a id="8434" href="Graded.Heap.Soundness.html#8434" class="Bound">t</a> <a id="8436" class="Symbol">â†’</a> <a id="8438" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8440" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="8443" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="8445" href="Graded.Heap.Soundness.html#8419" class="Bound">H</a> <a id="8447" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8449" href="Graded.Heap.Soundness.html#8434" class="Bound">t</a> <a id="8451" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8453" href="Graded.Heap.Soundness.html#8422" class="Bound">Ï</a> <a id="8455" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8457" class="InductiveConstructor">Îµ</a> <a id="8459" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="8461" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="8467" href="Definition.Untyped.html#4021" class="Datatype">Numeral</a> <a id="8475" href="Graded.Heap.Soundness.html#8434" class="Bound">t</a> <a id="8477" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a> <a id="8479" class="InductiveConstructor">Îµ</a> <a id="8481" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="8483" class="InductiveConstructor">Îµ</a> <a id="8485" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="8487" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦…</a> <a id="8489" href="Graded.Heap.Soundness.html#2728" class="Generalizable">s</a> <a id="8491" href="Graded.Heap.Untyped.html#12678" class="Function Operator">â¦†</a> <a id="8493" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="8495" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="8498" href="Graded.Heap.Soundness.html#8422" class="Bound">Ï</a> <a id="8500" href="Graded.Heap.Soundness.html#8434" class="Bound">t</a> <a id="8502" href="Graded.Heap.Untyped.html#10748" class="Function Operator">[</a> <a id="8504" href="Graded.Heap.Soundness.html#8419" class="Bound">H</a> <a id="8506" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a> <a id="8509" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="8511" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="8513" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="8519" href="Graded.Heap.Usage.html#3526" class="Datatype Operator">â–¸</a> <a id="8521" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="8523" href="Graded.Heap.Soundness.html#8419" class="Bound">H</a> <a id="8525" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8527" href="Graded.Heap.Soundness.html#8434" class="Bound">t</a> <a id="8529" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8531" href="Graded.Heap.Soundness.html#8422" class="Bound">Ï</a> <a id="8533" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="8535" class="InductiveConstructor">Îµ</a> <a id="8537" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a>
  <a id="8541" href="Graded.Heap.Soundness.html#8349" class="Function">redNumeral-closed</a> <a id="8559" class="Symbol">=</a>
    <a id="8565" href="Graded.Heap.Soundness.html#7537" class="Function">redNumeral</a> <a id="8576" class="Symbol">â¦ƒ</a> <a id="8578" href="Definition.Untyped.NotParametrised.html#1455" class="InductiveConstructor">Îµ</a> <a id="8580" class="Symbol">â¦„</a> <a id="8582" class="Symbol">(Î»</a> <a id="8585" href="Graded.Heap.Soundness.html#8585" class="Bound">_</a> <a id="8587" href="Graded.Heap.Soundness.html#8587" class="Bound">_</a> <a id="8589" class="Symbol">â†’</a> <a id="8591" href="Definition.Typed.Consequences.Canonicity.html#2744" class="Function">Â¬Empty</a><a id="8597" class="Symbol">)</a>
      <a id="8605" class="Symbol">(Î»</a> <a id="8608" href="Graded.Heap.Soundness.html#8608" class="Bound">0â‰¡0</a> <a id="8612" class="Symbol">â†’</a> <a id="8614" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="8621" class="Symbol">(</a><a id="8622" href="Graded.Heap.Soundness.html#8608" class="Bound">0â‰¡0</a> <a id="8626" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="8633" class="Symbol">))</a>

<a id="8637" class="Keyword">opaque</a>

  <a id="8647" class="Comment">-- Given some assumptions, all well-typed and erased terms of type â„• reduce to some</a>
  <a id="8733" class="Comment">-- numeral and the resulting heap has all grades less than or equal to ğŸ˜.</a>

  <a id="8810" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-Îµ"></a><a id="8892" href="Graded.Heap.Soundness.html#8892" class="Function">soundness-Îµ</a> <a id="8904" class="Symbol">:</a>
    <a id="8910" class="Symbol">{</a><a id="8911" href="Graded.Heap.Soundness.html#8911" class="Bound">Î”</a> <a id="8913" class="Symbol">:</a> <a id="8915" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="8919" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="8924" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="8925" class="Symbol">}</a>
    <a id="8931" class="Symbol">â¦ƒ</a> <a id="8933" href="Graded.Heap.Soundness.html#8933" class="Bound">ok</a> <a id="8936" class="Symbol">:</a> <a id="8938" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="8961" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="8970" href="Graded.Heap.Soundness.html#8911" class="Bound">Î”</a> <a id="8972" class="Symbol">â¦„</a> <a id="8974" class="Symbol">â†’</a>
    <a id="8980" class="Symbol">(</a><a id="8981" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="8998" class="InductiveConstructor">ğŸ™áµ</a> <a id="9001" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="9003" class="Symbol">â†’</a> <a id="9005" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="9016" class="Symbol">(</a><a id="9017" class="InductiveConstructor">Îµ</a> <a id="9019" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="9021" href="Graded.Heap.Soundness.html#8911" class="Bound">Î”</a><a id="9022" class="Symbol">))</a> <a id="9025" class="Symbol">â†’</a>
    <a id="9031" class="Symbol">(</a><a id="9032" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="9034" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">PE.â‰¢</a> <a id="9039" class="Number">0</a> <a id="9041" class="Symbol">â†’</a>
     <a id="9048" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="9067" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="9080" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="9083" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
     <a id="9090" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="9112" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="9114" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a><a id="9132" class="Symbol">)</a> <a id="9134" class="Symbol">â†’</a>
    <a id="9140" class="InductiveConstructor">Îµ</a> <a id="9142" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="9144" href="Graded.Heap.Soundness.html#8911" class="Bound">Î”</a> <a id="9146" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="9148" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="9150" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="9152" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="9154" class="Symbol">â†’</a>
    <a id="9160" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a> <a id="9163" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="9165" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="9167" class="Symbol">â†’</a>
    <a id="9173" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="9176" class="Symbol">Î»</a> <a id="9178" href="Graded.Heap.Soundness.html#9178" class="Bound">m</a> <a id="9180" href="Graded.Heap.Soundness.html#9180" class="Bound">n</a> <a id="9182" href="Graded.Heap.Soundness.html#9182" class="Bound">H</a> <a id="9184" href="Graded.Heap.Soundness.html#9184" class="Bound">k</a> <a id="9186" class="Symbol">(</a><a id="9187" href="Graded.Heap.Soundness.html#9187" class="Bound">Ï</a> <a id="9189" class="Symbol">:</a> <a id="9191" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="9194" href="Graded.Heap.Soundness.html#9178" class="Bound">m</a> <a id="9196" href="Graded.Heap.Soundness.html#9180" class="Bound">n</a><a id="9197" class="Symbol">)</a> <a id="9199" class="Symbol">â†’</a>
    <a id="9205" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="9213" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="9215" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="9218" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="9220" href="Graded.Heap.Soundness.html#9182" class="Bound">H</a> <a id="9222" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9224" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="9229" href="Graded.Heap.Soundness.html#9184" class="Bound">k</a> <a id="9231" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9233" href="Graded.Heap.Soundness.html#9187" class="Bound">Ï</a> <a id="9235" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9237" class="InductiveConstructor">Îµ</a> <a id="9239" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="9241" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="9247" class="Symbol">(</a><a id="9248" class="InductiveConstructor">Îµ</a> <a id="9250" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="9252" href="Graded.Heap.Soundness.html#8911" class="Bound">Î”</a> <a id="9254" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="9256" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="9258" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="9260" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="9265" href="Graded.Heap.Soundness.html#9184" class="Bound">k</a> <a id="9267" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="9269" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="9270" class="Symbol">)</a> <a id="9272" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="9278" href="Graded.Heap.Soundness.html#9182" class="Bound">H</a> <a id="9280" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="9283" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="9287" href="Graded.Heap.Soundness.html#8892" class="Function">soundness-Îµ</a> <a id="9299" class="Symbol">{</a><a id="9300" href="Graded.Heap.Soundness.html#9300" class="Bound">k</a><a id="9301" class="Symbol">}</a> <a id="9303" class="Symbol">{</a><a id="9304" href="Graded.Heap.Soundness.html#9304" class="Bound">t</a><a id="9305" class="Symbol">}</a> <a id="9307" class="Symbol">{</a><a id="9308" href="Graded.Heap.Soundness.html#9308" class="Bound">Î”</a><a id="9309" class="Symbol">}</a> <a id="9311" href="Graded.Heap.Soundness.html#9311" class="Bound">consistent</a> <a id="9322" href="Graded.Heap.Soundness.html#9322" class="Bound">prop</a> <a id="9327" href="Graded.Heap.Soundness.html#9327" class="Bound">âŠ¢t</a> <a id="9330" href="Graded.Heap.Soundness.html#9330" class="Bound">â–¸t</a> <a id="9333" class="Symbol">=</a>
    <a id="9339" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9344" href="Graded.Heap.Usage.Properties.html#2080" class="Function">â–¸initial</a> <a id="9353" href="Graded.Heap.Soundness.html#9330" class="Bound">â–¸t</a> <a id="9356" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9359" class="Symbol">Î»</a>
      <a id="9367" href="Graded.Heap.Soundness.html#9367" class="Bound">â–¸s</a> <a id="9370" class="Symbol">â†’</a>
    <a id="9376" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9381" href="Graded.Heap.Soundness.html#7537" class="Function">redNumeral</a> <a id="9392" href="Graded.Heap.Soundness.html#9311" class="Bound">consistent</a> <a id="9403" href="Graded.Heap.Soundness.html#9322" class="Bound">prop</a> <a id="9408" class="Symbol">(</a><a id="9409" href="Graded.Heap.Untyped.Properties.html#35872" class="Function">No-namesâ‚›-initial</a> <a id="9427" class="Symbol">(</a><a id="9428" href="Definition.Typed.Names-below.html#1507" class="Function">âŠ¢âˆ·â†’Names&lt;</a> <a id="9438" href="Graded.Heap.Soundness.html#9327" class="Bound">âŠ¢t</a><a id="9440" class="Symbol">))</a>
           <a id="9454" class="Symbol">(</a><a id="9455" href="Graded.Heap.Typed.Properties.html#2238" class="Function">âŠ¢initial</a> <a id="9464" href="Graded.Heap.Soundness.html#9327" class="Bound">âŠ¢t</a><a id="9466" class="Symbol">)</a> <a id="9468" href="Graded.Heap.Soundness.html#9367" class="Bound">â–¸s</a> <a id="9471" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9474" class="Symbol">Î»</a>
      <a id="9482" class="Symbol">(_</a> <a id="9485" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9487" class="Symbol">_</a> <a id="9489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9491" href="Graded.Heap.Soundness.html#9491" class="Bound">H</a> <a id="9493" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9495" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="9497" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9499" href="Graded.Heap.Soundness.html#9499" class="Bound">t</a> <a id="9501" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9503" href="Graded.Heap.Soundness.html#9503" class="Bound">d</a> <a id="9505" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9507" href="Graded.Heap.Soundness.html#9507" class="Bound">num</a> <a id="9511" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9513" href="Graded.Heap.Soundness.html#9513" class="Bound">sâ‰¡</a> <a id="9516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9518" href="Graded.Heap.Soundness.html#9518" class="Bound">â–¸sâ€²</a><a id="9521" class="Symbol">)</a> <a id="9523" class="Symbol">â†’</a>
    <a id="9529" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9534" href="Graded.Heap.Usage.Inversion.html#2699" class="Function">â–¸â‚›-inv</a> <a id="9541" href="Graded.Heap.Soundness.html#9518" class="Bound">â–¸sâ€²</a> <a id="9545" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9548" class="Symbol">Î»</a>
      <a id="9556" class="Symbol">(</a><a id="9557" href="Graded.Heap.Soundness.html#9557" class="Bound">p</a> <a id="9559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9561" href="Graded.Heap.Soundness.html#9561" class="Bound">Î³</a> <a id="9563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9565" href="Graded.Heap.Soundness.html#9565" class="Bound">Î´</a> <a id="9567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9569" href="Graded.Heap.Soundness.html#9569" class="Bound">Î·</a> <a id="9571" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9573" href="Graded.Heap.Soundness.html#9573" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="9578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9580" href="Graded.Heap.Soundness.html#9580" class="Bound">â–¸H</a> <a id="9583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9585" href="Graded.Heap.Soundness.html#9585" class="Bound">â–¸n</a> <a id="9588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9590" href="Graded.Heap.Soundness.html#9590" class="Bound">â–¸Îµ</a> <a id="9593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9595" href="Graded.Heap.Soundness.html#9595" class="Bound">Î³â‰¤</a><a id="9597" class="Symbol">)</a> <a id="9599" class="Symbol">â†’</a>
    <a id="9605" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9610" href="Definition.Untyped.Properties.html#85715" class="Function">Numeralâ†’sucáµ</a> <a id="9623" href="Graded.Heap.Soundness.html#9507" class="Bound">num</a> <a id="9627" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9630" class="Symbol">Î»</a>
      <a id="9638" class="Symbol">(</a><a id="9639" href="Graded.Heap.Soundness.html#9639" class="Bound">k</a> <a id="9641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9643" href="Graded.Heap.Soundness.html#9643" class="Bound">â‰¡sucáµ</a><a id="9648" class="Symbol">)</a> <a id="9650" class="Symbol">â†’</a>
    <a id="9656" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9661" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">PE.subst</a> <a id="9670" class="Symbol">(Î»</a> <a id="9673" href="Graded.Heap.Soundness.html#9673" class="Bound">x</a> <a id="9675" class="Symbol">â†’</a> <a id="9677" class="Symbol">_</a> <a id="9679" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="9682" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="9684" class="Symbol">_</a> <a id="9686" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9688" href="Graded.Heap.Soundness.html#9673" class="Bound">x</a> <a id="9690" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9692" class="Symbol">_</a> <a id="9694" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="9696" class="Symbol">_</a> <a id="9698" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a><a id="9699" class="Symbol">)</a> <a id="9701" href="Graded.Heap.Soundness.html#9643" class="Bound">â‰¡sucáµ</a> <a id="9707" href="Graded.Heap.Soundness.html#9503" class="Bound">d</a> <a id="9709" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="9712" class="Symbol">Î»</a>
      <a id="9720" href="Graded.Heap.Soundness.html#9720" class="Bound">dâ€²</a> <a id="9723" class="Symbol">â†’</a>
    <a id="9729" class="Keyword">let</a> <a id="9733" class="Keyword">open</a> <a id="9738" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="9742" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">â‰¤á¶œ-poset</a> <a id="9751" class="Keyword">in</a>
    <a id="9758" class="Symbol">_</a> <a id="9760" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9762" class="Symbol">_</a> <a id="9764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9766" class="Symbol">_</a> <a id="9768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9770" class="Symbol">_</a> <a id="9772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9774" class="Symbol">_</a>
      <a id="9782" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9784" href="Graded.Heap.Soundness.html#9720" class="Bound">dâ€²</a>
      <a id="9793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9795" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">PE.substâ‚‚</a> <a id="9805" class="Symbol">(_</a> <a id="9808" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢_â‰¡_âˆ·</a> <a id="9814" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="9815" class="Symbol">)</a>
          <a id="9827" class="Symbol">(</a><a id="9828" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="9837" class="Symbol">(</a><a id="9838" href="Graded.Heap.Untyped.Properties.html#31885" class="Function">erasedHeap-subst</a> <a id="9855" class="Symbol">(</a><a id="9856" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="9859" href="Definition.Untyped.NotParametrised.html#3196" class="InductiveConstructor">id</a> <a id="9862" class="Symbol">_))</a> <a id="9866" class="Symbol">(</a><a id="9867" href="Definition.Untyped.Properties.html#16770" class="Function">wk-id</a> <a id="9873" class="Symbol">_))</a>
          <a id="9887" class="Symbol">(</a><a id="9888" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="9897" class="Symbol">(</a><a id="9898" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">PE.cong</a> <a id="9906" class="Symbol">(Î»</a> <a id="9909" href="Graded.Heap.Soundness.html#9909" class="Bound">x</a> <a id="9911" class="Symbol">â†’</a> <a id="9913" href="Definition.Untyped.html#9904" class="Function">wk</a> <a id="9916" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="9918" href="Graded.Heap.Soundness.html#9909" class="Bound">x</a> <a id="9920" href="Graded.Heap.Untyped.html#10748" class="Function Operator">[</a> <a id="9922" href="Graded.Heap.Soundness.html#9491" class="Bound">H</a> <a id="9924" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a><a id="9926" class="Symbol">)</a> <a id="9928" href="Graded.Heap.Soundness.html#9643" class="Bound">â‰¡sucáµ</a><a id="9933" class="Symbol">)</a>
            <a id="9947" class="Symbol">(</a><a id="9948" href="Relation.Binary.PropositionalEquality.Core.html#2080" class="Function">PE.trans</a> <a id="9957" class="Symbol">(</a><a id="9958" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">PE.cong</a> <a id="9966" class="Symbol">(</a><a id="9967" href="Graded.Heap.Untyped.html#10748" class="Function Operator">_[</a> <a id="9970" href="Graded.Heap.Soundness.html#9491" class="Bound">H</a> <a id="9972" href="Graded.Heap.Untyped.html#10748" class="Function Operator">]â‚•</a><a id="9974" class="Symbol">)</a> <a id="9976" class="Symbol">(</a><a id="9977" href="Definition.Untyped.Properties.html#86126" class="Function">wk-sucáµ</a> <a id="9985" href="Graded.Heap.Soundness.html#9639" class="Bound">k</a><a id="9986" class="Symbol">))</a> <a id="9989" class="Symbol">(</a><a id="9990" href="Definition.Untyped.Properties.html#85955" class="Function">subst-sucáµ</a> <a id="10001" href="Graded.Heap.Soundness.html#9639" class="Bound">k</a><a id="10002" class="Symbol">)))</a>
          <a id="10016" href="Graded.Heap.Soundness.html#9513" class="Bound">sâ‰¡</a>
      <a id="10025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10027" href="Graded.Heap.Usage.Properties.html#2339" class="Function">ğŸ˜â–¸Hâ†’Hâ‰¤ğŸ˜</a> <a id="10035" class="Symbol">(</a><a id="10036" href="Graded.Heap.Usage.html#1895" class="InductiveConstructor">sub</a> <a id="10040" href="Graded.Heap.Soundness.html#9580" class="Bound">â–¸H</a> <a id="10043" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="10045" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
          <a id="10061" href="Graded.Heap.Soundness.html#9561" class="Bound">Î³</a>                      <a id="10084" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">â‰¤âŸ¨</a> <a id="10087" href="Graded.Heap.Soundness.html#9595" class="Bound">Î³â‰¤</a> <a id="10090" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">âŸ©</a>
          <a id="10102" href="Graded.Heap.Soundness.html#9557" class="Bound">p</a> <a id="10104" href="Graded.Context.html#1806" class="Function Operator">Â·á¶œ</a> <a id="10107" href="Graded.Context.Weakening.html#967" class="Function">wkConâ‚˜</a> <a id="10114" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10116" href="Graded.Heap.Soundness.html#9565" class="Bound">Î´</a> <a id="10118" href="Graded.Context.html#1574" class="Function Operator">+á¶œ</a> <a id="10121" href="Graded.Heap.Soundness.html#9569" class="Bound">Î·</a>   <a id="10125" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">â‰ˆâŸ¨</a> <a id="10128" href="Graded.Context.Properties.Addition.html#2435" class="Function">+á¶œ-cong</a> <a id="10136" class="Symbol">(</a><a id="10137" href="Graded.Context.Properties.Multiplication.html#3002" class="Function">Â·á¶œ-congÊ³</a> <a id="10146" class="Symbol">(</a><a id="10147" href="Graded.Heap.Untyped.Properties.html#17503" class="Function">âˆ£âˆ£-functional</a> <a id="10161" href="Graded.Heap.Soundness.html#9573" class="Bound">âˆ£Îµâˆ£â‰¡</a> <a id="10166" href="Graded.Heap.Untyped.html#6074" class="InductiveConstructor">Îµ</a><a id="10167" class="Symbol">))</a>
                                           <a id="10213" class="Symbol">(</a><a id="10214" href="Graded.Heap.Usage.Inversion.html#2605" class="Function">â–¸Ë¢-Îµ-inv</a> <a id="10223" href="Graded.Heap.Soundness.html#9590" class="Bound">â–¸Îµ</a><a id="10225" class="Symbol">)</a> <a id="10227" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">âŸ©</a>
          <a id="10239" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="10241" href="Graded.Context.html#1806" class="Function Operator">Â·á¶œ</a> <a id="10244" href="Graded.Context.Weakening.html#967" class="Function">wkConâ‚˜</a> <a id="10251" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10253" href="Graded.Heap.Soundness.html#9565" class="Bound">Î´</a> <a id="10255" href="Graded.Context.html#1574" class="Function Operator">+á¶œ</a> <a id="10258" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a>  <a id="10262" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">â‰ˆâŸ¨</a> <a id="10265" href="Graded.Context.Properties.Addition.html#903" class="Function">+á¶œ-identityÊ³</a> <a id="10278" class="Symbol">_</a> <a id="10280" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">âŸ©</a>
          <a id="10292" href="Graded.Modality.html#947" class="Function">ğŸ™</a> <a id="10294" href="Graded.Context.html#1806" class="Function Operator">Â·á¶œ</a> <a id="10297" href="Graded.Context.Weakening.html#967" class="Function">wkConâ‚˜</a> <a id="10304" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10306" href="Graded.Heap.Soundness.html#9565" class="Bound">Î´</a>        <a id="10315" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">â‰ˆâŸ¨</a> <a id="10318" href="Graded.Context.Properties.Multiplication.html#701" class="Function">Â·á¶œ-identityË¡</a> <a id="10331" class="Symbol">_</a> <a id="10333" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">âŸ©</a>
          <a id="10345" href="Graded.Context.Weakening.html#967" class="Function">wkConâ‚˜</a> <a id="10352" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10354" href="Graded.Heap.Soundness.html#9565" class="Bound">Î´</a>             <a id="10368" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">â‰¤âŸ¨</a> <a id="10371" href="Graded.Context.Weakening.html#3514" class="Function">wk-â‰¤á¶œ</a> <a id="10377" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10379" class="Symbol">(</a><a id="10380" href="Graded.Usage.Inversion.html#8902" class="Function">inv-usage-numeral</a> <a id="10398" href="Graded.Heap.Soundness.html#9585" class="Bound">â–¸n</a> <a id="10401" href="Graded.Heap.Soundness.html#9507" class="Bound">num</a><a id="10404" class="Symbol">)</a> <a id="10406" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">âŸ©</a>
          <a id="10418" href="Graded.Context.Weakening.html#967" class="Function">wkConâ‚˜</a> <a id="10425" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10427" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a>            <a id="10441" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">â‰¡âŸ¨</a> <a id="10444" href="Graded.Context.Weakening.html#1167" class="Function">wk-ğŸ˜á¶œ</a> <a id="10450" href="Graded.Heap.Soundness.html#9495" class="Bound">Ï</a> <a id="10452" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">âŸ©</a>
          <a id="10464" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a>                     <a id="10487" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">âˆ</a> <a id="10489" class="Symbol">)</a>

<a id="10492" class="Keyword">opaque</a>
  <a id="10501" class="Keyword">unfolding</a> <a id="10511" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a>

  <a id="10522" class="Comment">-- A variant of soundness-Îµ without the restriction that the</a>
  <a id="10585" class="Comment">-- definition context must be empty.</a>
  <a id="10624" class="Comment">--</a>
  <a id="10629" class="Comment">-- Note that the module telescope contains an assumption of type</a>
  <a id="10696" class="Comment">-- Assumptions.</a>

  <a id="soundness"></a><a id="10715" href="Graded.Heap.Soundness.html#10715" class="Function">soundness</a> <a id="10725" class="Symbol">:</a>
    <a id="10731" class="Symbol">{</a><a id="10732" href="Graded.Heap.Soundness.html#10732" class="Bound">Î”</a> <a id="10734" class="Symbol">:</a> <a id="10736" href="Definition.Untyped.NotParametrised.html#957" class="Datatype">Con</a> <a id="10740" href="Definition.Untyped.html#1590" class="Datatype">Term</a> <a id="10745" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a><a id="10746" class="Symbol">}</a>
    <a id="10752" class="Symbol">â¦ƒ</a> <a id="10754" href="Graded.Heap.Soundness.html#10754" class="Bound">ok</a> <a id="10757" class="Symbol">:</a> <a id="10759" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="10782" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="10791" href="Graded.Heap.Soundness.html#10732" class="Bound">Î”</a> <a id="10793" class="Symbol">â¦„</a> <a id="10795" class="Symbol">â†’</a>
    <a id="10801" class="Symbol">(</a><a id="10802" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="10819" class="InductiveConstructor">ğŸ™áµ</a> <a id="10822" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="10824" class="Symbol">â†’</a> <a id="10826" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="10837" class="Symbol">(</a><a id="10838" class="InductiveConstructor">Îµ</a> <a id="10840" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="10842" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="10854" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="10856" href="Graded.Heap.Soundness.html#10732" class="Bound">Î”</a><a id="10857" class="Symbol">))</a> <a id="10860" class="Symbol">â†’</a>
    <a id="10866" class="Symbol">(</a><a id="10867" href="Graded.Heap.Soundness.html#2701" class="Generalizable">k</a> <a id="10869" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">PE.â‰¢</a> <a id="10874" class="Number">0</a> <a id="10876" class="Symbol">â†’</a>
     <a id="10883" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="10902" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="10915" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="10918" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
     <a id="10925" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="10947" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="10949" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a><a id="10967" class="Symbol">)</a> <a id="10969" class="Symbol">â†’</a>
    <a id="10975" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="10984" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="10986" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="10988" href="Graded.Heap.Soundness.html#10732" class="Bound">Î”</a> <a id="10990" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="10992" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="10994" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="10996" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="10998" class="Symbol">â†’</a>
    <a id="11004" href="Graded.Usage.html#16925" class="Function Operator">â–¸[</a> <a id="11007" class="InductiveConstructor">ğŸ™áµ</a> <a id="11010" href="Graded.Usage.html#16925" class="Function Operator">]</a> <a id="11012" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="11021" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11023" class="Symbol">â†’</a>
    <a id="11029" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a> <a id="11032" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="11034" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="11036" class="Symbol">â†’</a>
    <a id="11042" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="11045" class="Symbol">Î»</a> <a id="11047" href="Graded.Heap.Soundness.html#11047" class="Bound">m</a> <a id="11049" href="Graded.Heap.Soundness.html#11049" class="Bound">n</a> <a id="11051" href="Graded.Heap.Soundness.html#11051" class="Bound">H</a> <a id="11053" href="Graded.Heap.Soundness.html#11053" class="Bound">k</a> <a id="11055" class="Symbol">(</a><a id="11056" href="Graded.Heap.Soundness.html#11056" class="Bound">Ï</a> <a id="11058" class="Symbol">:</a> <a id="11060" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="11063" href="Graded.Heap.Soundness.html#11047" class="Bound">m</a> <a id="11065" href="Graded.Heap.Soundness.html#11049" class="Bound">n</a><a id="11066" class="Symbol">)</a> <a id="11068" class="Symbol">â†’</a>
    <a id="11074" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="11082" class="Symbol">(</a><a id="11083" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="11091" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11093" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a><a id="11094" class="Symbol">)</a> <a id="11096" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="11099" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="11101" href="Graded.Heap.Soundness.html#11051" class="Bound">H</a> <a id="11103" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11105" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="11110" href="Graded.Heap.Soundness.html#11053" class="Bound">k</a> <a id="11112" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11114" href="Graded.Heap.Soundness.html#11056" class="Bound">Ï</a> <a id="11116" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11118" class="InductiveConstructor">Îµ</a> <a id="11120" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="11122" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="11128" class="Symbol">(</a><a id="11129" class="InductiveConstructor">Îµ</a> <a id="11131" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="11133" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="11145" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11147" href="Graded.Heap.Soundness.html#10732" class="Bound">Î”</a> <a id="11149" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="11151" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="11159" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11161" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="11163" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="11165" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="11170" href="Graded.Heap.Soundness.html#11053" class="Bound">k</a> <a id="11172" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="11174" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="11175" class="Symbol">)</a> <a id="11177" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="11183" href="Graded.Heap.Soundness.html#11051" class="Bound">H</a> <a id="11185" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="11188" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="11192" href="Graded.Heap.Soundness.html#10715" class="Function">soundness</a> <a id="11202" class="Symbol">{</a><a id="11203" href="Graded.Heap.Soundness.html#11203" class="Bound">t</a><a id="11204" class="Symbol">}</a> <a id="11206" href="Graded.Heap.Soundness.html#11206" class="Bound">consistent</a> <a id="11217" href="Graded.Heap.Soundness.html#11217" class="Bound">prop</a> <a id="11222" href="Graded.Heap.Soundness.html#11222" class="Bound">âŠ¢t</a> <a id="11225" href="Graded.Heap.Soundness.html#11225" class="Bound">â–¸âˆ‡</a> <a id="11228" href="Graded.Heap.Soundness.html#11228" class="Bound">â–¸t</a> <a id="11231" class="Symbol">=</a>
    <a id="11237" href="Graded.Heap.Soundness.html#8892" class="Function">soundness-Îµ</a> <a id="11249" class="Symbol">â¦ƒ</a> <a id="11251" class="Argument">ok</a> <a id="11254" class="Symbol">=</a> <a id="11256" href="Definition.Untyped.Properties.html#91069" class="Function">or-empty-inline-Conáµˆ</a> <a id="11277" class="Symbol">â¦„</a> <a id="11279" href="Graded.Heap.Soundness.html#11206" class="Bound">consistent</a> <a id="11290" href="Graded.Heap.Soundness.html#11217" class="Bound">prop</a>
      <a id="11301" class="Symbol">(</a><a id="11302" href="Tools.PropositionalEquality.html#1556" class="Function">PE.substâ‚ƒ</a> <a id="11312" href="Definition.Typed.html#2903" class="Datatype Operator">_âŠ¢_âˆ·_</a>
         <a id="11327" class="Symbol">(</a><a id="11328" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">PE.cong</a> <a id="11336" class="Symbol">(</a><a id="11337" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">_Â»_</a> <a id="11341" class="Symbol">_)</a> <a id="11344" href="Definition.Untyped.Properties.html#106663" class="Function">inline-Conáµˆ-glassify</a><a id="11364" class="Symbol">)</a>
         <a id="11375" class="Symbol">(</a><a id="11376" href="Definition.Untyped.Properties.html#105996" class="Function">inlineáµˆ-glassify</a> <a id="11393" class="Symbol">{</a><a id="11394" class="Argument">t</a> <a id="11396" class="Symbol">=</a> <a id="11398" href="Graded.Heap.Soundness.html#11203" class="Bound">t</a><a id="11399" class="Symbol">})</a> <a id="11402" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="11410" href="Function.Base.html#1993" class="Function Operator">$</a>
       <a id="11419" href="Definition.Typed.Properties.Definition.html#38567" class="Function">âŠ¢inlineáµˆâˆ·</a> <a id="11429" href="Graded.Heap.Soundness.html#11222" class="Bound">âŠ¢t</a><a id="11431" class="Symbol">)</a>
      <a id="11439" class="Symbol">(</a><a id="11440" href="Graded.Usage.Properties.html#86321" class="Function">â–¸inlineáµˆ</a> <a id="11449" href="Graded.Heap.Soundness.html#11225" class="Bound">â–¸âˆ‡</a> <a id="11452" href="Graded.Heap.Soundness.html#11228" class="Bound">â–¸t</a><a id="11454" class="Symbol">)</a>

<a id="11457" class="Keyword">opaque</a>
  <a id="11466" class="Keyword">unfolding</a> <a id="11476" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a>

  <a id="11491" class="Comment">-- The soundness property above specialised to closed terms.</a>

  <a id="11555" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-closed"></a><a id="11637" href="Graded.Heap.Soundness.html#11637" class="Function">soundness-closed</a> <a id="11654" class="Symbol">:</a>
    <a id="11660" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="11669" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11671" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="11673" class="InductiveConstructor">Îµ</a> <a id="11675" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="11677" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="11679" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="11681" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="11683" class="Symbol">â†’</a> <a id="11685" href="Graded.Usage.html#16925" class="Function Operator">â–¸[</a> <a id="11688" class="InductiveConstructor">ğŸ™áµ</a> <a id="11691" href="Graded.Usage.html#16925" class="Function Operator">]</a> <a id="11693" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="11702" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11704" class="Symbol">â†’</a> <a id="11706" class="InductiveConstructor">Îµ</a> <a id="11708" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="11710" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="11712" class="Symbol">â†’</a>
    <a id="11718" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="11721" class="Symbol">Î»</a> <a id="11723" href="Graded.Heap.Soundness.html#11723" class="Bound">m</a> <a id="11725" href="Graded.Heap.Soundness.html#11725" class="Bound">n</a> <a id="11727" href="Graded.Heap.Soundness.html#11727" class="Bound">H</a> <a id="11729" href="Graded.Heap.Soundness.html#11729" class="Bound">k</a> <a id="11731" class="Symbol">(</a><a id="11732" href="Graded.Heap.Soundness.html#11732" class="Bound">Ï</a> <a id="11734" class="Symbol">:</a> <a id="11736" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="11739" href="Graded.Heap.Soundness.html#11723" class="Bound">m</a> <a id="11741" href="Graded.Heap.Soundness.html#11725" class="Bound">n</a><a id="11742" class="Symbol">)</a> <a id="11744" class="Symbol">â†’</a>
    <a id="11750" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="11758" class="Symbol">(</a><a id="11759" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="11767" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11769" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a><a id="11770" class="Symbol">)</a> <a id="11772" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="11775" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="11777" href="Graded.Heap.Soundness.html#11727" class="Bound">H</a> <a id="11779" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11781" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="11786" href="Graded.Heap.Soundness.html#11729" class="Bound">k</a> <a id="11788" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11790" href="Graded.Heap.Soundness.html#11732" class="Bound">Ï</a> <a id="11792" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="11794" class="InductiveConstructor">Îµ</a> <a id="11796" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="11798" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="11804" class="Symbol">(</a><a id="11805" class="InductiveConstructor">Îµ</a> <a id="11807" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="11809" class="InductiveConstructor">Îµ</a> <a id="11811" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="11813" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="11821" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="11823" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="11825" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="11827" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="11832" href="Graded.Heap.Soundness.html#11729" class="Bound">k</a> <a id="11834" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="11836" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="11837" class="Symbol">)</a> <a id="11839" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="11845" href="Graded.Heap.Soundness.html#11727" class="Bound">H</a> <a id="11847" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="11850" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="11854" href="Graded.Heap.Soundness.html#11637" class="Function">soundness-closed</a> <a id="11871" class="Symbol">=</a>
    <a id="11877" href="Graded.Heap.Soundness.html#10715" class="Function">soundness</a> <a id="11887" class="Symbol">â¦ƒ</a> <a id="11889" class="Argument">ok</a> <a id="11892" class="Symbol">=</a> <a id="11894" href="Definition.Untyped.NotParametrised.html#1455" class="InductiveConstructor">Îµ</a> <a id="11896" class="Symbol">â¦„</a> <a id="11898" class="Symbol">(Î»</a> <a id="11901" href="Graded.Heap.Soundness.html#11901" class="Bound">_</a> <a id="11903" href="Graded.Heap.Soundness.html#11903" class="Bound">_</a> <a id="11905" class="Symbol">â†’</a> <a id="11907" href="Definition.Typed.Consequences.Canonicity.html#2744" class="Function">Â¬Empty</a><a id="11913" class="Symbol">)</a> <a id="11915" class="Symbol">(Î»</a> <a id="11918" href="Graded.Heap.Soundness.html#11918" class="Bound">0â‰¢0</a> <a id="11922" class="Symbol">â†’</a> <a id="11924" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="11931" class="Symbol">(</a><a id="11932" href="Graded.Heap.Soundness.html#11918" class="Bound">0â‰¢0</a> <a id="11936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="11943" class="Symbol">))</a>

<a id="11947" class="Keyword">opaque</a>

  <a id="11957" class="Comment">-- The soundness property above specialised to open terms.</a>

  <a id="12019" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-open"></a><a id="12101" href="Graded.Heap.Soundness.html#12101" class="Function">soundness-open</a> <a id="12116" class="Symbol">:</a>
    <a id="12122" class="Symbol">â¦ƒ</a> <a id="12124" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="12147" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="12156" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="12158" class="Symbol">â¦„</a> <a id="12160" class="Symbol">â†’</a>
    <a id="12166" class="Symbol">(</a><a id="12167" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="12184" class="InductiveConstructor">ğŸ™áµ</a> <a id="12187" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="12189" class="Symbol">â†’</a> <a id="12191" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="12202" class="Symbol">(</a><a id="12203" class="InductiveConstructor">Îµ</a> <a id="12205" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="12207" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="12219" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12221" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a><a id="12222" class="Symbol">))</a> <a id="12225" class="Symbol">â†’</a>
    <a id="12231" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="12250" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="12263" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="12266" class="Symbol">â†’</a>
    <a id="12272" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="12294" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="12296" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a> <a id="12315" class="Symbol">â†’</a>
    <a id="12321" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="12330" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12332" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="12334" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="12336" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="12338" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="12340" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="12342" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="12344" class="Symbol">â†’</a> <a id="12346" href="Graded.Usage.html#16925" class="Function Operator">â–¸[</a> <a id="12349" class="InductiveConstructor">ğŸ™áµ</a> <a id="12352" href="Graded.Usage.html#16925" class="Function Operator">]</a> <a id="12354" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="12363" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12365" class="Symbol">â†’</a> <a id="12367" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a> <a id="12370" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="12372" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="12374" class="Symbol">â†’</a>
    <a id="12380" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="12383" class="Symbol">Î»</a> <a id="12385" href="Graded.Heap.Soundness.html#12385" class="Bound">m</a> <a id="12387" href="Graded.Heap.Soundness.html#12387" class="Bound">n</a> <a id="12389" href="Graded.Heap.Soundness.html#12389" class="Bound">H</a> <a id="12391" href="Graded.Heap.Soundness.html#12391" class="Bound">k</a> <a id="12393" class="Symbol">(</a><a id="12394" href="Graded.Heap.Soundness.html#12394" class="Bound">Ï</a> <a id="12396" class="Symbol">:</a> <a id="12398" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="12401" href="Graded.Heap.Soundness.html#12385" class="Bound">m</a> <a id="12403" href="Graded.Heap.Soundness.html#12387" class="Bound">n</a><a id="12404" class="Symbol">)</a> <a id="12406" class="Symbol">â†’</a>
    <a id="12412" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="12420" class="Symbol">(</a><a id="12421" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="12429" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12431" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a><a id="12432" class="Symbol">)</a> <a id="12434" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="12437" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="12439" href="Graded.Heap.Soundness.html#12389" class="Bound">H</a> <a id="12441" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12443" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="12448" href="Graded.Heap.Soundness.html#12391" class="Bound">k</a> <a id="12450" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12452" href="Graded.Heap.Soundness.html#12394" class="Bound">Ï</a> <a id="12454" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12456" class="InductiveConstructor">Îµ</a> <a id="12458" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="12460" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="12466" class="Symbol">(</a><a id="12467" class="InductiveConstructor">Îµ</a> <a id="12469" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="12471" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="12483" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12485" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="12487" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="12489" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="12497" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12499" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="12501" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="12503" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="12508" href="Graded.Heap.Soundness.html#12391" class="Bound">k</a> <a id="12510" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="12512" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="12513" class="Symbol">)</a> <a id="12515" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="12521" href="Graded.Heap.Soundness.html#12389" class="Bound">H</a> <a id="12523" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="12526" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="12530" href="Graded.Heap.Soundness.html#12101" class="Function">soundness-open</a> <a id="12545" href="Graded.Heap.Soundness.html#12545" class="Bound">consistent</a> <a id="12556" href="Graded.Heap.Soundness.html#12556" class="Bound">erased</a> <a id="12563" href="Graded.Heap.Soundness.html#12563" class="Bound">ğŸ˜-wb</a> <a id="12568" class="Symbol">=</a> <a id="12570" href="Graded.Heap.Soundness.html#10715" class="Function">soundness</a> <a id="12580" href="Graded.Heap.Soundness.html#12545" class="Bound">consistent</a> <a id="12591" class="Symbol">Î»</a> <a id="12593" href="Graded.Heap.Soundness.html#12593" class="Bound">_</a> <a id="12595" class="Symbol">â†’</a> <a id="12597" href="Graded.Heap.Soundness.html#12556" class="Bound">erased</a> <a id="12604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12606" href="Graded.Heap.Soundness.html#12563" class="Bound">ğŸ˜-wb</a>

<a id="12612" class="Keyword">opaque</a>

  <a id="12622" class="Comment">-- A version of soundness-open</a>

  <a id="soundness-open-consistent"></a><a id="12656" href="Graded.Heap.Soundness.html#12656" class="Function">soundness-open-consistent</a> <a id="12682" class="Symbol">:</a>
    <a id="12688" class="Symbol">â¦ƒ</a> <a id="12690" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="12713" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="12722" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="12724" class="Symbol">â¦„</a> <a id="12726" class="Symbol">â†’</a>
    <a id="12732" href="Definition.Typed.html#20621" class="Function">Consistent</a> <a id="12743" class="Symbol">(</a><a id="12744" class="InductiveConstructor">Îµ</a> <a id="12746" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="12748" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="12760" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12762" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a><a id="12763" class="Symbol">)</a> <a id="12765" class="Symbol">â†’</a>
    <a id="12771" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="12790" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="12803" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="12806" class="Symbol">â†’</a>
    <a id="12812" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="12834" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="12836" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a> <a id="12855" class="Symbol">â†’</a>
    <a id="12861" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="12870" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12872" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="12874" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="12876" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="12878" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="12880" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="12882" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="12884" class="Symbol">â†’</a> <a id="12886" href="Graded.Usage.html#16925" class="Function Operator">â–¸[</a> <a id="12889" class="InductiveConstructor">ğŸ™áµ</a> <a id="12892" href="Graded.Usage.html#16925" class="Function Operator">]</a> <a id="12894" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="12903" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12905" class="Symbol">â†’</a> <a id="12907" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a> <a id="12910" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="12912" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="12914" class="Symbol">â†’</a>
    <a id="12920" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="12923" class="Symbol">Î»</a> <a id="12925" href="Graded.Heap.Soundness.html#12925" class="Bound">m</a> <a id="12927" href="Graded.Heap.Soundness.html#12927" class="Bound">n</a> <a id="12929" href="Graded.Heap.Soundness.html#12929" class="Bound">H</a> <a id="12931" href="Graded.Heap.Soundness.html#12931" class="Bound">k</a> <a id="12933" class="Symbol">(</a><a id="12934" href="Graded.Heap.Soundness.html#12934" class="Bound">Ï</a> <a id="12936" class="Symbol">:</a> <a id="12938" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="12941" href="Graded.Heap.Soundness.html#12925" class="Bound">m</a> <a id="12943" href="Graded.Heap.Soundness.html#12927" class="Bound">n</a><a id="12944" class="Symbol">)</a> <a id="12946" class="Symbol">â†’</a>
    <a id="12952" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="12960" class="Symbol">(</a><a id="12961" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="12969" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="12971" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a><a id="12972" class="Symbol">)</a> <a id="12974" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="12977" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="12979" href="Graded.Heap.Soundness.html#12929" class="Bound">H</a> <a id="12981" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12983" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="12988" href="Graded.Heap.Soundness.html#12931" class="Bound">k</a> <a id="12990" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12992" href="Graded.Heap.Soundness.html#12934" class="Bound">Ï</a> <a id="12994" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="12996" class="InductiveConstructor">Îµ</a> <a id="12998" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="13000" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="13006" class="Symbol">(</a><a id="13007" class="InductiveConstructor">Îµ</a> <a id="13009" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="13011" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="13023" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13025" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="13027" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="13029" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="13037" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13039" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="13041" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="13043" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="13048" href="Graded.Heap.Soundness.html#12931" class="Bound">k</a> <a id="13050" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="13052" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="13053" class="Symbol">)</a> <a id="13055" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="13061" href="Graded.Heap.Soundness.html#12929" class="Bound">H</a> <a id="13063" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="13066" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="13070" href="Graded.Heap.Soundness.html#12656" class="Function">soundness-open-consistent</a> <a id="13096" href="Graded.Heap.Soundness.html#13096" class="Bound">consistent</a> <a id="13107" class="Symbol">=</a> <a id="13109" href="Graded.Heap.Soundness.html#12101" class="Function">soundness-open</a> <a id="13124" class="Symbol">(Î»</a> <a id="13127" href="Graded.Heap.Soundness.html#13127" class="Bound">_</a> <a id="13129" class="Symbol">â†’</a> <a id="13131" href="Graded.Heap.Soundness.html#13096" class="Bound">consistent</a><a id="13141" class="Symbol">)</a>

<a id="13144" class="Keyword">opaque</a>

  <a id="13154" class="Comment">-- A version of soundness-open</a>

  <a id="soundness-open-Â¬emptyrecâ‚€"></a><a id="13188" href="Graded.Heap.Soundness.html#13188" class="Function">soundness-open-Â¬emptyrecâ‚€</a> <a id="13214" class="Symbol">:</a>
    <a id="13220" class="Symbol">â¦ƒ</a> <a id="13222" href="Definition.Typed.Restrictions.html#3543" class="Datatype">No-equality-reflection</a> <a id="13245" href="Definition.Untyped.NotParametrised.html#1340" class="Datatype Operator">or-empty</a> <a id="13254" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="13256" class="Symbol">â¦„</a> <a id="13258" class="Symbol">â†’</a>
    <a id="13264" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">Â¬</a> <a id="13266" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="13283" class="InductiveConstructor">ğŸ™áµ</a> <a id="13286" href="Graded.Modality.html#945" class="Function">ğŸ˜</a> <a id="13288" class="Symbol">â†’</a>
    <a id="13294" href="Graded.Restrictions.html#16483" class="Function">No-erased-matchesâ€²</a> <a id="13313" href="Definition.Typed.Restrictions.html#932" class="Function">type-variant</a> <a id="13326" href="Graded.Heap.Soundness.html#429" class="Bound">UR</a> <a id="13329" class="Symbol">â†’</a>
    <a id="13335" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="13357" href="Graded.Heap.Soundness.html#398" class="Bound">M</a> <a id="13359" href="Graded.Modality.html#9715" class="Function">semiring-with-meet</a> <a id="13378" class="Symbol">â†’</a>
    <a id="13384" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="13393" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13395" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="13397" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="13399" href="Definition.Typed.html#2903" class="Datatype Operator">âŠ¢</a> <a id="13401" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="13403" href="Definition.Typed.html#2903" class="Datatype Operator">âˆ·</a> <a id="13405" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a> <a id="13407" class="Symbol">â†’</a> <a id="13409" href="Graded.Usage.html#16925" class="Function Operator">â–¸[</a> <a id="13412" class="InductiveConstructor">ğŸ™áµ</a> <a id="13415" href="Graded.Usage.html#16925" class="Function Operator">]</a> <a id="13417" href="Definition.Untyped.NotParametrised.html#7451" class="Function">glassify</a> <a id="13426" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13428" class="Symbol">â†’</a> <a id="13430" href="Graded.Context.html#2571" class="Function">ğŸ˜á¶œ</a> <a id="13433" href="Graded.Usage.html#16745" class="Function Operator">â–¸</a> <a id="13435" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="13437" class="Symbol">â†’</a>
    <a id="13443" href="Tools.Product.html#1030" class="Function">âˆƒâ‚…</a> <a id="13446" class="Symbol">Î»</a> <a id="13448" href="Graded.Heap.Soundness.html#13448" class="Bound">m</a> <a id="13450" href="Graded.Heap.Soundness.html#13450" class="Bound">n</a> <a id="13452" href="Graded.Heap.Soundness.html#13452" class="Bound">H</a> <a id="13454" href="Graded.Heap.Soundness.html#13454" class="Bound">k</a> <a id="13456" class="Symbol">(</a><a id="13457" href="Graded.Heap.Soundness.html#13457" class="Bound">Ï</a> <a id="13459" class="Symbol">:</a> <a id="13461" href="Definition.Untyped.NotParametrised.html#3167" class="Datatype">Wk</a> <a id="13464" href="Graded.Heap.Soundness.html#13448" class="Bound">m</a> <a id="13466" href="Graded.Heap.Soundness.html#13450" class="Bound">n</a><a id="13467" class="Symbol">)</a> <a id="13469" class="Symbol">â†’</a>
    <a id="13475" href="Graded.Heap.Untyped.html#12850" class="Function">initial</a> <a id="13483" class="Symbol">(</a><a id="13484" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="13492" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13494" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a><a id="13495" class="Symbol">)</a> <a id="13497" href="Graded.Heap.Reduction.html#7195" class="Datatype Operator">â† *</a> <a id="13500" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ¨</a> <a id="13502" href="Graded.Heap.Soundness.html#13452" class="Bound">H</a> <a id="13504" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="13506" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="13511" href="Graded.Heap.Soundness.html#13454" class="Bound">k</a> <a id="13513" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="13515" href="Graded.Heap.Soundness.html#13457" class="Bound">Ï</a> <a id="13517" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">,</a> <a id="13519" class="InductiveConstructor">Îµ</a> <a id="13521" href="Graded.Heap.Untyped.html#11667" class="InductiveConstructor Operator">âŸ©</a> <a id="13523" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="13529" class="Symbol">(</a><a id="13530" class="InductiveConstructor">Îµ</a> <a id="13532" href="Definition.Untyped.NotParametrised.html#9227" class="InductiveConstructor Operator">Â»</a> <a id="13534" href="Definition.Untyped.html#22229" class="Function">inline-Conáµˆ</a> <a id="13546" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13548" href="Graded.Heap.Soundness.html#2787" class="Generalizable">Î”</a> <a id="13550" href="Definition.Typed.html#6571" class="Datatype Operator">âŠ¢</a> <a id="13552" href="Definition.Untyped.html#22112" class="Function">inlineáµˆ</a> <a id="13560" href="Graded.Heap.Soundness.html#2763" class="Generalizable">âˆ‡</a> <a id="13562" href="Graded.Heap.Soundness.html#2713" class="Generalizable">t</a> <a id="13564" href="Definition.Typed.html#6571" class="Datatype Operator">â‰¡</a> <a id="13566" href="Definition.Untyped.html#4189" class="Function">sucáµ</a> <a id="13571" href="Graded.Heap.Soundness.html#13454" class="Bound">k</a> <a id="13573" href="Definition.Typed.html#6571" class="Datatype Operator">âˆ·</a> <a id="13575" href="Definition.Untyped.html#2369" class="InductiveConstructor">â„•</a><a id="13576" class="Symbol">)</a> <a id="13578" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a>
    <a id="13584" href="Graded.Heap.Soundness.html#13452" class="Bound">H</a> <a id="13586" href="Graded.Heap.Usage.html#1479" class="Datatype Operator">â‰¤Ê°</a> <a id="13589" href="Graded.Modality.html#945" class="Function">ğŸ˜</a>
  <a id="13593" href="Graded.Heap.Soundness.html#13188" class="Function">soundness-open-Â¬emptyrecâ‚€</a> <a id="13619" href="Graded.Heap.Soundness.html#13619" class="Bound">Â¬ok</a> <a id="13623" class="Symbol">=</a>
    <a id="13629" href="Graded.Heap.Soundness.html#12101" class="Function">soundness-open</a> <a id="13644" class="Symbol">(</a><a id="13645" href="Data.Empty.html#1069" class="Function">âŠ¥-elim</a> <a id="13652" href="Function.Base.html#1134" class="Function Operator">âˆ˜â†’</a> <a id="13655" href="Graded.Heap.Soundness.html#13619" class="Bound">Â¬ok</a><a id="13658" class="Symbol">)</a>
</pre></body></html>