<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Properties.Natrec</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Properties of nr</a>
<a id="94" class="Comment">------------------------------------------------------------------------</a>

<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="197" class="Keyword">module</a> <a id="204" href="Graded.Modality.Properties.Natrec.html" class="Module">Graded.Modality.Properties.Natrec</a>
  <a id="240" class="Symbol">{</a><a id="241" href="Graded.Modality.Properties.Natrec.html#241" class="Bound">a</a><a id="242" class="Symbol">}</a> <a id="244" class="Symbol">{</a><a id="245" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a> <a id="247" class="Symbol">:</a> <a id="249" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="253" href="Graded.Modality.Properties.Natrec.html#241" class="Bound">a</a><a id="254" class="Symbol">}</a> <a id="256" class="Symbol">(</a><a id="257" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a> <a id="259" class="Symbol">:</a> <a id="261" href="Graded.Modality.html#601" class="Record">Semiring-with-meet</a> <a id="280" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a><a id="281" class="Symbol">)</a>
  <a id="285" class="Keyword">where</a>

<a id="292" class="Keyword">open</a> <a id="297" href="Graded.Modality.html#601" class="Module">Semiring-with-meet</a> <a id="316" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a>

<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="Graded.Modality.Properties.PartialOrder.html" class="Module">Graded.Modality.Properties.PartialOrder</a> <a id="371" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Graded.Modality.Properties.Multiplication.html" class="Module">Graded.Modality.Properties.Multiplication</a> <a id="427" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a>

<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="494" class="Keyword">import</a> <a id="501" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="530" href="Graded.Modality.Properties.PartialOrder.html#1457" class="Function">≤-poset</a> <a id="538" class="Symbol">as</a> <a id="RPo"></a><a id="541" href="Graded.Modality.Properties.Natrec.html#541" class="Module">RPo</a>

<a id="546" class="Keyword">private</a> <a id="554" class="Keyword">variable</a>
  <a id="565" href="Graded.Modality.Properties.Natrec.html#565" class="Generalizable">p</a> <a id="567" href="Graded.Modality.Properties.Natrec.html#567" class="Generalizable">r</a> <a id="569" class="Symbol">:</a> <a id="571" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a>

<a id="574" class="Comment">------------------------------------------------------------------------</a>
<a id="647" class="Comment">-- Properties of nr functions</a>

<a id="678" class="Keyword">module</a> <a id="685" href="Graded.Modality.Properties.Natrec.html#685" class="Module">_</a> <a id="687" class="Symbol">⦃</a> <a id="689" href="Graded.Modality.Properties.Natrec.html#689" class="Bound">has-nr</a> <a id="696" class="Symbol">:</a> <a id="698" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="705" class="Symbol">_</a> <a id="707" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a> <a id="709" class="Symbol">⦄</a> <a id="711" class="Keyword">where</a>

  <a id="720" class="Keyword">open</a> <a id="725" href="Graded.Modality.html#4940" class="Module">Has-nr</a> <a id="732" href="Graded.Modality.Properties.Natrec.html#689" class="Bound">has-nr</a>

  <a id="742" class="Keyword">opaque</a>

    <a id="754" href="Graded.Modality.Properties.Natrec.html#754" class="Function">nr-𝟘</a> <a id="759" class="Symbol">:</a> <a id="761" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="764" href="Graded.Modality.Properties.Natrec.html#565" class="Generalizable">p</a> <a id="766" href="Graded.Modality.Properties.Natrec.html#567" class="Generalizable">r</a> <a id="768" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="770" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="772" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="774" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="776" href="Graded.Modality.html#926" class="Field">𝟘</a>
    <a id="782" href="Graded.Modality.Properties.Natrec.html#754" class="Function">nr-𝟘</a> <a id="787" class="Symbol">{</a><a id="788" href="Graded.Modality.Properties.Natrec.html#788" class="Bound">p</a><a id="789" class="Symbol">}</a> <a id="791" class="Symbol">{</a><a id="792" href="Graded.Modality.Properties.Natrec.html#792" class="Bound">r</a><a id="793" class="Symbol">}</a> <a id="795" class="Symbol">=</a> <a id="797" href="Graded.Modality.Properties.PartialOrder.html#853" class="Function">≤-antisym</a> <a id="807" class="Symbol">(</a><a id="808" href="Graded.Modality.html#5907" class="Field">nr-zero</a> <a id="816" href="Graded.Modality.Properties.PartialOrder.html#571" class="Function">≤-refl</a><a id="822" class="Symbol">)</a> <a id="824" class="Symbol">(</a><a id="825" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="837" href="Graded.Modality.html#926" class="Field">𝟘</a>                               <a id="869" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="873" href="Graded.Modality.html#3432" class="Function">·-zeroʳ</a> <a id="881" class="Symbol">_</a> <a id="883" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="891" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="894" href="Graded.Modality.Properties.Natrec.html#788" class="Bound">p</a> <a id="896" href="Graded.Modality.Properties.Natrec.html#792" class="Bound">r</a> <a id="898" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="900" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="902" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="904" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="906" href="Graded.Modality.html#926" class="Field">𝟘</a>               <a id="922" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="925" href="Graded.Modality.html#5334" class="Field">nr-·</a> <a id="930" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
      <a id="938" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="941" href="Graded.Modality.Properties.Natrec.html#788" class="Bound">p</a> <a id="943" href="Graded.Modality.Properties.Natrec.html#792" class="Bound">r</a> <a id="945" class="Symbol">(</a><a id="946" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="948" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="950" href="Graded.Modality.html#926" class="Field">𝟘</a><a id="951" class="Symbol">)</a> <a id="953" class="Symbol">(</a><a id="954" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="956" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="958" href="Graded.Modality.html#926" class="Field">𝟘</a><a id="959" class="Symbol">)</a> <a id="961" class="Symbol">(</a><a id="962" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="964" href="Graded.Modality.html#906" class="Field Operator">·</a> <a id="966" href="Graded.Modality.html#926" class="Field">𝟘</a><a id="967" class="Symbol">)</a> <a id="969" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="972" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="977" class="Symbol">(λ</a> <a id="980" href="Graded.Modality.Properties.Natrec.html#980" class="Bound">x</a> <a id="982" class="Symbol">→</a> <a id="984" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="987" href="Graded.Modality.Properties.Natrec.html#788" class="Bound">p</a> <a id="989" href="Graded.Modality.Properties.Natrec.html#792" class="Bound">r</a> <a id="991" href="Graded.Modality.Properties.Natrec.html#980" class="Bound">x</a> <a id="993" href="Graded.Modality.Properties.Natrec.html#980" class="Bound">x</a> <a id="995" href="Graded.Modality.Properties.Natrec.html#980" class="Bound">x</a><a id="996" class="Symbol">)</a> <a id="998" class="Symbol">(</a><a id="999" href="Graded.Modality.html#3400" class="Function">·-zeroˡ</a> <a id="1007" class="Symbol">_)</a> <a id="1010" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="1018" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="1021" href="Graded.Modality.Properties.Natrec.html#788" class="Bound">p</a> <a id="1023" href="Graded.Modality.Properties.Natrec.html#792" class="Bound">r</a> <a id="1025" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="1027" href="Graded.Modality.html#926" class="Field">𝟘</a> <a id="1029" href="Graded.Modality.html#926" class="Field">𝟘</a>                    <a id="1050" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a><a id="1051" class="Symbol">)</a>
      <a id="1059" class="Keyword">where</a>
      <a id="1071" class="Keyword">open</a> <a id="1076" href="Graded.Modality.Properties.Natrec.html#541" class="Module">RPo</a>

<a id="1081" class="Comment">------------------------------------------------------------------------</a>
<a id="1154" class="Comment">-- &quot;Optimal&quot; nr functions</a>

<a id="1181" class="Comment">-- A type used to express that there isn&#39;t a greatest factoring nr function.</a>

<a id="1259" class="Keyword">record</a> <a id="No-greatest-factoring-nr"></a><a id="1266" href="Graded.Modality.Properties.Natrec.html#1266" class="Record">No-greatest-factoring-nr</a> <a id="1291" class="Symbol">:</a> <a id="1293" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1297" href="Graded.Modality.Properties.Natrec.html#241" class="Bound">a</a> <a id="1299" class="Keyword">where</a>
  <a id="1307" class="Keyword">no-eta-equality</a>

  <a id="1326" class="Keyword">field</a>
    <a id="1336" class="Comment">-- There are two nr functions</a>
    <a id="No-greatest-factoring-nr.has-nr₁"></a><a id="1370" href="Graded.Modality.Properties.Natrec.html#1370" class="Field">has-nr₁</a> <a id="1378" class="Symbol">:</a> <a id="1380" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="1387" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a> <a id="1389" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a>
    <a id="No-greatest-factoring-nr.has-nr₂"></a><a id="1395" href="Graded.Modality.Properties.Natrec.html#1395" class="Field">has-nr₂</a> <a id="1403" class="Symbol">:</a> <a id="1405" href="Graded.Modality.html#4940" class="Record">Has-nr</a> <a id="1412" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a> <a id="1414" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a>
    <a id="1420" class="Comment">-- Both nr functions are factoring</a>
    <a id="No-greatest-factoring-nr.factoring₁"></a><a id="1459" href="Graded.Modality.Properties.Natrec.html#1459" class="Field">factoring₁</a> <a id="1470" class="Symbol">:</a> <a id="1472" href="Graded.Modality.html#6605" class="Record">Has-factoring-nr</a> <a id="1489" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a> <a id="1491" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a> <a id="1493" class="Symbol">⦃</a> <a id="1495" href="Graded.Modality.Properties.Natrec.html#1370" class="Field">has-nr₁</a> <a id="1503" class="Symbol">⦄</a>
    <a id="No-greatest-factoring-nr.factoring₂"></a><a id="1509" href="Graded.Modality.Properties.Natrec.html#1509" class="Field">factoring₂</a> <a id="1520" class="Symbol">:</a> <a id="1522" href="Graded.Modality.html#6605" class="Record">Has-factoring-nr</a> <a id="1539" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a> <a id="1541" href="Graded.Modality.Properties.Natrec.html#257" class="Bound">𝕄</a> <a id="1543" class="Symbol">⦃</a> <a id="1545" href="Graded.Modality.Properties.Natrec.html#1395" class="Field">has-nr₂</a> <a id="1553" class="Symbol">⦄</a>

  <a id="1558" class="Keyword">open</a> <a id="1563" href="Graded.Modality.html#4940" class="Module">Has-nr</a> <a id="1570" href="Graded.Modality.Properties.Natrec.html#1370" class="Field">has-nr₁</a> <a id="1578" class="Keyword">renaming</a> <a id="1587" class="Symbol">(</a><a id="1588" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="1591" class="Symbol">to</a> <a id="1594" class="Field">nr₁</a><a id="1597" class="Symbol">)</a>
  <a id="1601" class="Keyword">open</a> <a id="1606" href="Graded.Modality.html#4940" class="Module">Has-nr</a> <a id="1613" href="Graded.Modality.Properties.Natrec.html#1395" class="Field">has-nr₂</a> <a id="1621" class="Keyword">renaming</a> <a id="1630" class="Symbol">(</a><a id="1631" href="Graded.Modality.html#5080" class="Field">nr</a> <a id="1634" class="Symbol">to</a> <a id="1637" class="Field">nr₂</a><a id="1640" class="Symbol">)</a>

  <a id="1645" class="Keyword">field</a>
    <a id="1655" class="Comment">-- There is some input to the nr functions...</a>
    <a id="No-greatest-factoring-nr.p₀"></a><a id="1705" href="Graded.Modality.Properties.Natrec.html#1705" class="Field">p₀</a> <a id="No-greatest-factoring-nr.r₀"></a><a id="1708" href="Graded.Modality.Properties.Natrec.html#1708" class="Field">r₀</a> <a id="No-greatest-factoring-nr.z₀"></a><a id="1711" href="Graded.Modality.Properties.Natrec.html#1711" class="Field">z₀</a> <a id="No-greatest-factoring-nr.s₀"></a><a id="1714" href="Graded.Modality.Properties.Natrec.html#1714" class="Field">s₀</a> <a id="No-greatest-factoring-nr.n₀"></a><a id="1717" href="Graded.Modality.Properties.Natrec.html#1717" class="Field">n₀</a> <a id="1720" class="Symbol">:</a> <a id="1722" href="Graded.Modality.Properties.Natrec.html#245" class="Bound">M</a>

    <a id="1729" class="Comment">-- ...such that their outputs are not equal...</a>
    <a id="No-greatest-factoring-nr.nr₁≢nr₂"></a><a id="1780" href="Graded.Modality.Properties.Natrec.html#1780" class="Field">nr₁≢nr₂</a> <a id="1788" class="Symbol">:</a> <a id="1790" href="Graded.Modality.Properties.Natrec.html#1594" class="Function">nr₁</a> <a id="1794" href="Graded.Modality.Properties.Natrec.html#1705" class="Field">p₀</a> <a id="1797" href="Graded.Modality.Properties.Natrec.html#1708" class="Field">r₀</a> <a id="1800" href="Graded.Modality.Properties.Natrec.html#1711" class="Field">z₀</a> <a id="1803" href="Graded.Modality.Properties.Natrec.html#1714" class="Field">s₀</a> <a id="1806" href="Graded.Modality.Properties.Natrec.html#1717" class="Field">n₀</a> <a id="1809" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="1811" href="Graded.Modality.Properties.Natrec.html#1637" class="Function">nr₂</a> <a id="1815" href="Graded.Modality.Properties.Natrec.html#1705" class="Field">p₀</a> <a id="1818" href="Graded.Modality.Properties.Natrec.html#1708" class="Field">r₀</a> <a id="1821" href="Graded.Modality.Properties.Natrec.html#1711" class="Field">z₀</a> <a id="1824" href="Graded.Modality.Properties.Natrec.html#1714" class="Field">s₀</a> <a id="1827" href="Graded.Modality.Properties.Natrec.html#1717" class="Field">n₀</a>

    <a id="1835" class="Comment">-- ...and there is no other possible output that is greater than both</a>
    <a id="1909" class="Comment">-- i.e. no other nr function could be greater than both of them.</a>
    <a id="No-greatest-factoring-nr.nr≰"></a><a id="1978" href="Graded.Modality.Properties.Natrec.html#1978" class="Field">nr≰</a> <a id="1982" class="Symbol">:</a> <a id="1984" class="Symbol">∀</a> <a id="1986" href="Graded.Modality.Properties.Natrec.html#1986" class="Bound">q</a> <a id="1988" class="Symbol">→</a> <a id="1990" href="Graded.Modality.Properties.Natrec.html#1594" class="Function">nr₁</a> <a id="1994" href="Graded.Modality.Properties.Natrec.html#1705" class="Field">p₀</a> <a id="1997" href="Graded.Modality.Properties.Natrec.html#1708" class="Field">r₀</a> <a id="2000" href="Graded.Modality.Properties.Natrec.html#1711" class="Field">z₀</a> <a id="2003" href="Graded.Modality.Properties.Natrec.html#1714" class="Field">s₀</a> <a id="2006" href="Graded.Modality.Properties.Natrec.html#1717" class="Field">n₀</a> <a id="2009" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="2011" href="Graded.Modality.Properties.Natrec.html#1986" class="Bound">q</a> <a id="2013" class="Symbol">→</a> <a id="2015" href="Graded.Modality.Properties.Natrec.html#1637" class="Function">nr₂</a> <a id="2019" href="Graded.Modality.Properties.Natrec.html#1705" class="Field">p₀</a> <a id="2022" href="Graded.Modality.Properties.Natrec.html#1708" class="Field">r₀</a> <a id="2025" href="Graded.Modality.Properties.Natrec.html#1711" class="Field">z₀</a> <a id="2028" href="Graded.Modality.Properties.Natrec.html#1714" class="Field">s₀</a> <a id="2031" href="Graded.Modality.Properties.Natrec.html#1717" class="Field">n₀</a> <a id="2034" href="Graded.Modality.html#1365" class="Function Operator">≤</a> <a id="2036" href="Graded.Modality.Properties.Natrec.html#1986" class="Bound">q</a> <a id="2038" class="Symbol">→</a> <a id="2040" href="Data.Empty.html#914" class="Function">⊥</a>
</pre></body></html>