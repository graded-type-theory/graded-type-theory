<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Consequences.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Soundness of the extraction function.</a>
<a id="115" class="Comment">------------------------------------------------------------------------</a>

<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>

<a id="298" class="Keyword">module</a> <a id="305" href="Graded.Erasure.Consequences.Soundness.html" class="Module">Graded.Erasure.Consequences.Soundness</a>
  <a id="345" class="Symbol">{</a><a id="346" href="Graded.Erasure.Consequences.Soundness.html#346" class="Bound">a</a><a id="347" class="Symbol">}</a> <a id="349" class="Symbol">{</a><a id="350" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="352" class="Symbol">:</a> <a id="354" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="358" href="Graded.Erasure.Consequences.Soundness.html#346" class="Bound">a</a><a id="359" class="Symbol">}</a>
  <a id="363" class="Symbol">(</a><a id="364" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="366" class="Symbol">:</a> <a id="368" href="Graded.Modality.html#6709" class="Record">Modality</a> <a id="377" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="378" class="Symbol">)</a>
  <a id="382" class="Symbol">(</a><a id="383" class="Keyword">open</a> <a id="388" href="Graded.Modality.html#6709" class="Module">Modality</a> <a id="397" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a><a id="398" class="Symbol">)</a>
  <a id="402" class="Symbol">(</a><a id="403" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="406" class="Symbol">:</a> <a id="408" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="426" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="427" class="Symbol">)</a>
  <a id="431" class="Symbol">(</a><a id="432" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a> <a id="435" class="Symbol">:</a> <a id="437" href="Graded.Usage.Restrictions.html#316" class="Record">Usage-restrictions</a> <a id="456" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a><a id="457" class="Symbol">)</a>
  <a id="461" class="Symbol">(</a><a id="462" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a> <a id="477" class="Symbol">:</a> <a id="479" href="Graded.Modality.html#2901" class="Record">Has-well-behaved-zero</a> <a id="501" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="503" href="Graded.Modality.html#6822" class="Field">semiring-with-meet</a><a id="521" class="Symbol">)</a>
  <a id="525" class="Keyword">where</a>

<a id="532" class="Keyword">open</a> <a id="537" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="555" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="558" class="Keyword">open</a> <a id="563" href="Graded.Usage.Restrictions.html#316" class="Module">Usage-restrictions</a> <a id="582" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>

<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="617" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a> <a id="619" class="Keyword">hiding</a> <a id="626" class="Symbol">(</a><a id="627" href="Definition.Untyped.NotParametrised.html#1148" class="InductiveConstructor Operator">_∷_</a><a id="630" class="Symbol">)</a>

<a id="633" class="Keyword">open</a> <a id="638" class="Keyword">import</a> <a id="645" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="662" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="665" class="Keyword">open</a> <a id="670" class="Keyword">import</a> <a id="677" href="Definition.Typed.Consequences.Inversion.html" class="Module">Definition.Typed.Consequences.Inversion</a> <a id="717" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Definition.Typed.Consequences.Substitution.html" class="Module">Definition.Typed.Consequences.Substitution</a> <a id="775" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="778" class="Keyword">import</a> <a id="785" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="826" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> as <a id="TC"></a><a id="832" href="Graded.Erasure.Consequences.Soundness.html#832" class="Module">TC</a>
<a id="835" class="Keyword">open</a> <a id="840" class="Keyword">import</a> <a id="847" href="Definition.Typed.EqualityRelation.html" class="Module">Definition.Typed.EqualityRelation</a>
<a id="881" class="Keyword">open</a> <a id="886" class="Keyword">import</a> <a id="893" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="921" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="924" class="Keyword">open</a> <a id="929" class="Keyword">import</a> <a id="936" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="963" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>

<a id="967" class="Keyword">open</a> <a id="972" class="Keyword">import</a> <a id="979" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="994" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1021" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1023" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>
<a id="1026" class="Keyword">open</a> <a id="1031" class="Keyword">import</a> <a id="1038" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1064" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>
<a id="1066" class="Keyword">open</a> <a id="1071" class="Keyword">import</a> <a id="1078" href="Graded.Modality.Properties.Has-well-behaved-zero.html" class="Module">Graded.Modality.Properties.Has-well-behaved-zero</a>
  <a id="1129" href="Graded.Modality.html#6822" class="Field">semiring-with-meet</a> <a id="1148" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a>
<a id="1163" class="Keyword">open</a> <a id="1168" class="Keyword">import</a> <a id="1175" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1187" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a>

<a id="1190" class="Keyword">import</a> <a id="1197" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a> <a id="1219" class="Symbol">as</a> <a id="1222" class="Module">T</a>
<a id="1224" class="Keyword">open</a> <a id="1229" class="Keyword">import</a> <a id="1236" href="Graded.Erasure.Extraction.html" class="Module">Graded.Erasure.Extraction</a> <a id="1262" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1264" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a>
<a id="1270" class="Keyword">open</a> <a id="1275" class="Keyword">import</a> <a id="1282" href="Graded.Erasure.SucRed.html" class="Module">Graded.Erasure.SucRed</a> <a id="1304" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a>
<a id="1307" class="Keyword">import</a> <a id="1314" href="Graded.Erasure.LogicalRelation.html" class="Module">Graded.Erasure.LogicalRelation</a> <a id="1345" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1347" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1350" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a> as <a id="LR"></a><a id="1359" href="Graded.Erasure.Consequences.Soundness.html#1359" class="Module">LR</a>
<a id="1362" class="Keyword">open</a> <a id="1367" class="Keyword">import</a> <a id="1374" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html" class="Module">Graded.Erasure.LogicalRelation.Fundamental.Assumptions</a> <a id="1429" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1431" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1434" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a>
<a id="1437" class="Keyword">import</a> <a id="1444" href="Graded.Erasure.LogicalRelation.Fundamental.html" class="Module">Graded.Erasure.LogicalRelation.Fundamental</a>
  <a id="1489" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1491" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1494" href="Graded.Erasure.Consequences.Soundness.html#432" class="Bound">UR</a> <a id="1497" href="Graded.Erasure.Consequences.Soundness.html#462" class="Bound">𝟘-well-behaved</a> as <a id="LRF"></a><a id="1515" href="Graded.Erasure.Consequences.Soundness.html#1515" class="Module">LRF</a>
<a id="1519" class="Keyword">import</a> <a id="1526" href="Graded.Erasure.LogicalRelation.Irrelevance.html" class="Module">Graded.Erasure.LogicalRelation.Irrelevance</a> <a id="1569" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1571" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1574" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a> as <a id="LRI"></a><a id="1583" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a>
<a id="1587" class="Keyword">import</a> <a id="1594" href="Graded.Erasure.LogicalRelation.Subsumption.html" class="Module">Graded.Erasure.LogicalRelation.Subsumption</a> <a id="1637" href="Graded.Erasure.Consequences.Soundness.html#364" class="Bound">𝕄</a> <a id="1639" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="1642" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a> as <a id="LRS"></a><a id="1651" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a>

<a id="1656" class="Keyword">open</a> <a id="1661" class="Keyword">import</a> <a id="1668" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="1680" class="Keyword">open</a> <a id="1685" class="Keyword">import</a> <a id="1692" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="1702" class="Keyword">open</a> <a id="1707" class="Keyword">import</a> <a id="1714" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="1729" class="Keyword">open</a> <a id="1734" class="Keyword">import</a> <a id="1741" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="1751" class="Keyword">open</a> <a id="1756" class="Keyword">import</a> <a id="1763" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="1777" class="Keyword">import</a> <a id="1784" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="1813" class="Keyword">open</a> <a id="1818" class="Keyword">import</a> <a id="1825" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="1840" class="Keyword">open</a> <a id="1845" class="Keyword">import</a> <a id="1852" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="1880" class="Symbol">as</a> <a id="1883" class="Module">PE</a> <a id="1886" class="Keyword">hiding</a> <a id="1893" class="Symbol">(</a><a id="1894" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a><a id="1899" class="Symbol">)</a>
<a id="1901" class="Keyword">open</a> <a id="1906" class="Keyword">import</a> <a id="1913" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="1924" class="Keyword">private</a>
  <a id="1934" class="Keyword">variable</a>
    <a id="1947" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a> <a id="1949" class="Symbol">:</a> <a id="1951" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="1959" href="Graded.Erasure.Consequences.Soundness.html#1959" class="Generalizable">Δ</a> <a id="1961" class="Symbol">:</a> <a id="1963" href="Definition.Untyped.NotParametrised.html#791" class="Datatype">Con</a> <a id="1967" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1972" class="Symbol">_</a>
    <a id="1978" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="1980" href="Graded.Erasure.Consequences.Soundness.html#1980" class="Generalizable">t′</a> <a id="1983" href="Graded.Erasure.Consequences.Soundness.html#1983" class="Generalizable">u</a> <a id="1985" href="Graded.Erasure.Consequences.Soundness.html#1985" class="Generalizable">F</a> <a id="1987" class="Symbol">:</a> <a id="1989" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="1994" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a>
    <a id="2000" href="Graded.Erasure.Consequences.Soundness.html#2000" class="Generalizable">G</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="2009" class="Symbol">(</a><a id="2010" href="Tools.Nat.html#1095" class="InductiveConstructor">1+</a> <a id="2013" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a><a id="2014" class="Symbol">)</a>
    <a id="2020" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="2022" href="Graded.Erasure.Consequences.Soundness.html#2022" class="Generalizable">v′</a> <a id="2025" href="Graded.Erasure.Consequences.Soundness.html#2025" class="Generalizable">w</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="Graded.Erasure.Target.html#547" class="Datatype">T.Term</a> <a id="2036" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a>
    <a id="2042" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="2044" class="Symbol">:</a> <a id="2046" href="Graded.Erasure.Consequences.Soundness.html#350" class="Bound">M</a>

<a id="2049" class="Comment">-- WH reduction soundness of natural numbers</a>

<a id="2095" class="Comment">-- Canonical representation of natural numbers</a>

<a id="sucᵏ"></a><a id="2143" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="2148" class="Symbol">:</a> <a id="2150" class="Symbol">(</a><a id="2151" href="Graded.Erasure.Consequences.Soundness.html#2151" class="Bound">k</a> <a id="2153" class="Symbol">:</a> <a id="2155" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="2158" class="Symbol">)</a> <a id="2160" class="Symbol">→</a> <a id="2162" href="Definition.Untyped.html#2121" class="Datatype">Term</a> <a id="2167" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a>
<a id="2169" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="2174" class="Number">0</a>      <a id="2181" class="Symbol">=</a> <a id="2183" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
<a id="2188" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="2193" class="Symbol">(</a><a id="2194" href="Tools.Nat.html#1095" class="InductiveConstructor">1+</a> <a id="2197" href="Graded.Erasure.Consequences.Soundness.html#2197" class="Bound">n</a><a id="2198" class="Symbol">)</a> <a id="2200" class="Symbol">=</a> <a id="2202" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="2206" class="Symbol">(</a><a id="2207" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="2212" href="Graded.Erasure.Consequences.Soundness.html#2197" class="Bound">n</a><a id="2213" class="Symbol">)</a>

<a id="sucᵏ′"></a><a id="2216" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="2222" class="Symbol">:</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Graded.Erasure.Consequences.Soundness.html#2225" class="Bound">k</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a><a id="2232" class="Symbol">)</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Graded.Erasure.Target.html#547" class="Datatype">T.Term</a> <a id="2243" href="Graded.Erasure.Consequences.Soundness.html#1947" class="Generalizable">n</a>
<a id="2245" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="2251" class="Number">0</a>      <a id="2258" class="Symbol">=</a> <a id="2260" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
<a id="2267" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="2273" class="Symbol">(</a><a id="2274" href="Tools.Nat.html#1095" class="InductiveConstructor">1+</a> <a id="2277" href="Graded.Erasure.Consequences.Soundness.html#2277" class="Bound">n</a><a id="2278" class="Symbol">)</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="2288" class="Symbol">(</a><a id="2289" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="2295" href="Graded.Erasure.Consequences.Soundness.html#2277" class="Bound">n</a><a id="2296" class="Symbol">)</a>

<a id="2299" class="Comment">-- The following results make use of some assumptions.</a>

<a id="2355" class="Keyword">module</a> <a id="Soundness′"></a><a id="2362" href="Graded.Erasure.Consequences.Soundness.html#2362" class="Module">Soundness′</a>
  <a id="2375" class="Symbol">(</a><a id="2376" href="Graded.Erasure.Consequences.Soundness.html#2376" class="Bound">FA</a> <a id="2379" class="Symbol">:</a> <a id="2381" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1382" class="Record">Fundamental-assumptions</a> <a id="2405" href="Graded.Erasure.Consequences.Soundness.html#1959" class="Generalizable">Δ</a><a id="2406" class="Symbol">)</a>
  <a id="2410" class="Symbol">{{</a><a id="2412" href="Graded.Erasure.Consequences.Soundness.html#2412" class="Bound">eqrel</a> <a id="2418" class="Symbol">:</a> <a id="2420" href="Definition.Typed.EqualityRelation.html#900" class="Record">EqRelSet</a> <a id="2429" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a><a id="2431" class="Symbol">}}</a>
  <a id="2436" class="Keyword">where</a>

  <a id="2445" class="Keyword">open</a> <a id="2450" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1382" class="Module">Fundamental-assumptions</a> <a id="2474" href="Graded.Erasure.Consequences.Soundness.html#2376" class="Bound">FA</a>

  <a id="2480" class="Keyword">open</a> <a id="2485" href="Graded.Erasure.Consequences.Soundness.html#1359" class="Module">LR</a> <a id="2488" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Function">well-formed</a>
  <a id="2502" class="Keyword">open</a> <a id="2507" href="Graded.Erasure.LogicalRelation.Fundamental.html#6880" class="Module">LRF.Fundamental</a> <a id="2523" href="Graded.Erasure.Consequences.Soundness.html#2376" class="Bound">FA</a>
  <a id="2528" class="Keyword">open</a> <a id="2533" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a> <a id="2537" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Function">well-formed</a>
  <a id="2551" class="Keyword">open</a> <a id="2556" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a> <a id="2560" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Function">well-formed</a>

  <a id="2575" class="Comment">-- Helper lemma for WH reduction soundness of zero</a>
  <a id="2628" class="Comment">-- If t ® v ∷ℕ  and t ⇒* zero then v ⇒* zero</a>

  <a id="Soundness′.soundness-zero′"></a><a id="2676" href="Graded.Erasure.Consequences.Soundness.html#2676" class="Function">soundness-zero′</a> <a id="2692" class="Symbol">:</a> <a id="2694" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="2696" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">®</a> <a id="2698" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="2700" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">∷ℕ</a> <a id="2703" class="Symbol">→</a> <a id="2705" href="Graded.Erasure.Consequences.Soundness.html#2405" class="Bound">Δ</a> <a id="2707" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="2709" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="2711" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="2714" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a> <a id="2719" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="2721" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="2723" class="Symbol">→</a> <a id="2725" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="2727" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="2732" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
  <a id="2741" href="Graded.Erasure.Consequences.Soundness.html#2676" class="Function">soundness-zero′</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Graded.Erasure.LogicalRelation.html#1752" class="InductiveConstructor">zeroᵣ</a> <a id="2764" href="Graded.Erasure.Consequences.Soundness.html#2764" class="Bound">t⇒zero′</a> <a id="2772" href="Graded.Erasure.Consequences.Soundness.html#2772" class="Bound">v⇒zero</a><a id="2778" class="Symbol">)</a> <a id="2780" href="Graded.Erasure.Consequences.Soundness.html#2780" class="Bound">t⇒zero</a> <a id="2787" class="Symbol">=</a> <a id="2789" href="Graded.Erasure.Consequences.Soundness.html#2772" class="Bound">v⇒zero</a>
  <a id="2798" href="Graded.Erasure.Consequences.Soundness.html#2676" class="Function">soundness-zero′</a> <a id="2814" class="Symbol">(</a><a id="2815" href="Graded.Erasure.LogicalRelation.html#1809" class="InductiveConstructor">sucᵣ</a> <a id="2820" href="Graded.Erasure.Consequences.Soundness.html#2820" class="Bound">t⇒suc</a> <a id="2826" href="Graded.Erasure.Consequences.Soundness.html#2826" class="Bound">v⇒suc</a> <a id="2832" href="Graded.Erasure.Consequences.Soundness.html#2832" class="Bound">t®v</a><a id="2835" class="Symbol">)</a> <a id="2837" href="Graded.Erasure.Consequences.Soundness.html#2837" class="Bound">t⇒zero</a>
    <a id="2848" class="Keyword">with</a> <a id="2853" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="2865" class="Symbol">(</a><a id="2866" href="Graded.Erasure.Consequences.Soundness.html#2837" class="Bound">t⇒zero</a> <a id="2873" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2875" href="Definition.Untyped.html#6178" class="InductiveConstructor">zeroₙ</a><a id="2880" class="Symbol">)</a> <a id="2882" class="Symbol">(</a><a id="2883" href="Graded.Erasure.Consequences.Soundness.html#2820" class="Bound">t⇒suc</a> <a id="2889" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2891" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="2895" class="Symbol">)</a>
  <a id="2899" class="Symbol">...</a> <a id="2903" class="Symbol">|</a> <a id="2905" class="Symbol">()</a>

  <a id="2911" class="Comment">-- WH reduction soundness of zero</a>
  <a id="2947" class="Comment">-- If t ⇒* zero and 𝟘ᶜ ▸ t then erase t ⇒* zero</a>

  <a id="Soundness′.soundness-zero"></a><a id="2998" href="Graded.Erasure.Consequences.Soundness.html#2998" class="Function">soundness-zero</a> <a id="3013" class="Symbol">:</a>
    <a id="3019" href="Graded.Erasure.Consequences.Soundness.html#2405" class="Bound">Δ</a> <a id="3021" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="3023" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3025" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3028" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a> <a id="3033" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3035" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="3037" class="Symbol">→</a> <a id="3039" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="3042" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="3045" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="3048" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="3050" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3052" class="Symbol">→</a> <a id="3054" href="Graded.Erasure.Extraction.html#995" class="Function">erase</a> <a id="3060" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3062" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="3067" href="Graded.Erasure.Target.html#841" class="InductiveConstructor">T.zero</a>
  <a id="3076" href="Graded.Erasure.Consequences.Soundness.html#2998" class="Function">soundness-zero</a> <a id="3091" href="Graded.Erasure.Consequences.Soundness.html#3091" class="Bound">t⇒zero</a> <a id="3098" href="Graded.Erasure.Consequences.Soundness.html#3098" class="Bound">𝟘▸t</a> <a id="3102" class="Symbol">=</a>
    <a id="3108" class="Keyword">let</a> <a id="3112" href="Graded.Erasure.Consequences.Soundness.html#3112" class="Bound">⊢t</a> <a id="3115" class="Symbol">=</a> <a id="3117" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="3131" href="Graded.Erasure.Consequences.Soundness.html#3091" class="Bound">t⇒zero</a>
        <a id="3146" href="Graded.Erasure.Consequences.Soundness.html#3146" class="Bound">[ℕ]</a> <a id="3150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3152" href="Graded.Erasure.Consequences.Soundness.html#3152" class="Bound">t®t′</a> <a id="3157" class="Symbol">=</a> <a id="3159" href="Graded.Erasure.LogicalRelation.Fundamental.html#19835" class="Function">fundamentalErased</a> <a id="3177" href="Graded.Erasure.Consequences.Soundness.html#3112" class="Bound">⊢t</a> <a id="3180" href="Graded.Erasure.Consequences.Soundness.html#3098" class="Bound">𝟘▸t</a>
        <a id="3192" href="Graded.Erasure.Consequences.Soundness.html#3192" class="Bound">t®t″</a> <a id="3197" class="Symbol">=</a> <a id="3199" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3963" class="Function">irrelevanceTerm</a> <a id="3215" class="Symbol">{</a><a id="3216" class="Argument">l′</a> <a id="3219" class="Symbol">=</a> <a id="3221" href="Definition.LogicalRelation.html#5987" class="InductiveConstructor">¹</a><a id="3222" class="Symbol">}</a> <a id="3224" href="Graded.Erasure.Consequences.Soundness.html#3146" class="Bound">[ℕ]</a>
                 <a id="3245" class="Symbol">(</a><a id="3246" href="Definition.LogicalRelation.html#14829" class="InductiveConstructor">ℕᵣ</a> <a id="3249" class="Symbol">(</a><a id="3250" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="3259" class="Symbol">(</a><a id="3260" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="3263" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Function">well-formed</a><a id="3274" class="Symbol">)))</a> <a id="3278" class="Symbol">(</a><a id="3279" href="Graded.Erasure.Consequences.Soundness.html#3152" class="Bound">t®t′</a> <a id="3284" href="Graded.Erasure.LogicalRelation.Subsumption.html#2050" class="Function Operator">◀≢𝟘</a> <a id="3288" href="Graded.Modality.html#3030" class="Field">𝟙≢𝟘</a><a id="3291" class="Symbol">)</a>
    <a id="3297" class="Keyword">in</a>  <a id="3301" href="Graded.Erasure.Consequences.Soundness.html#2676" class="Function">soundness-zero′</a> <a id="3317" href="Graded.Erasure.Consequences.Soundness.html#3192" class="Bound">t®t″</a> <a id="3322" href="Graded.Erasure.Consequences.Soundness.html#3091" class="Bound">t⇒zero</a>

  <a id="3332" class="Comment">-- Helper lemma for WH reduction soundness of suc</a>
  <a id="3384" class="Comment">-- If t ® v ∷ℕ  and t ⇒* suc t′ then v ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

  <a id="Soundness′.soundness-suc′"></a><a id="3463" href="Graded.Erasure.Consequences.Soundness.html#3463" class="Function">soundness-suc′</a> <a id="3478" class="Symbol">:</a> <a id="3480" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3482" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">®</a> <a id="3484" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="3486" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">∷ℕ</a> <a id="3489" class="Symbol">→</a> <a id="3491" href="Graded.Erasure.Consequences.Soundness.html#2405" class="Bound">Δ</a> <a id="3493" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="3495" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3497" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3500" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="3504" href="Graded.Erasure.Consequences.Soundness.html#1980" class="Generalizable">t′</a> <a id="3507" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3509" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a>
                 <a id="3528" class="Symbol">→</a> <a id="3530" href="Data.Product.html#1378" class="Function">∃</a> <a id="3532" class="Symbol">λ</a> <a id="3534" href="Graded.Erasure.Consequences.Soundness.html#3534" class="Bound">v′</a> <a id="3537" class="Symbol">→</a> <a id="3539" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="3541" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="3546" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="3552" href="Graded.Erasure.Consequences.Soundness.html#3534" class="Bound">v′</a> <a id="3555" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3557" href="Graded.Erasure.Consequences.Soundness.html#1980" class="Generalizable">t′</a> <a id="3560" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">®</a> <a id="3562" href="Graded.Erasure.Consequences.Soundness.html#3534" class="Bound">v′</a> <a id="3565" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">∷ℕ</a>
  <a id="3570" href="Graded.Erasure.Consequences.Soundness.html#3463" class="Function">soundness-suc′</a> <a id="3585" class="Symbol">(</a><a id="3586" href="Graded.Erasure.LogicalRelation.html#1752" class="InductiveConstructor">zeroᵣ</a> <a id="3592" href="Graded.Erasure.Consequences.Soundness.html#3592" class="Bound">t⇒zero</a> <a id="3599" href="Graded.Erasure.Consequences.Soundness.html#3599" class="Bound">v⇒zero</a><a id="3605" class="Symbol">)</a> <a id="3607" href="Graded.Erasure.Consequences.Soundness.html#3607" class="Bound">t⇒suc</a>
    <a id="3617" class="Keyword">with</a> <a id="3622" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="3634" class="Symbol">(</a><a id="3635" href="Graded.Erasure.Consequences.Soundness.html#3592" class="Bound">t⇒zero</a> <a id="3642" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3644" href="Definition.Untyped.html#6178" class="InductiveConstructor">zeroₙ</a><a id="3649" class="Symbol">)</a> <a id="3651" class="Symbol">(</a><a id="3652" href="Graded.Erasure.Consequences.Soundness.html#3607" class="Bound">t⇒suc</a> <a id="3658" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3660" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3664" class="Symbol">)</a>
  <a id="3668" class="Symbol">...</a> <a id="3672" class="Symbol">|</a> <a id="3674" class="Symbol">()</a>
  <a id="3679" href="Graded.Erasure.Consequences.Soundness.html#3463" class="Function">soundness-suc′</a> <a id="3694" class="Symbol">(</a><a id="3695" href="Graded.Erasure.LogicalRelation.html#1809" class="InductiveConstructor">sucᵣ</a> <a id="3700" class="Symbol">{</a><a id="3701" class="Argument">v′</a> <a id="3704" class="Symbol">=</a> <a id="3706" href="Graded.Erasure.Consequences.Soundness.html#3706" class="Bound">v′</a><a id="3708" class="Symbol">}</a> <a id="3710" href="Graded.Erasure.Consequences.Soundness.html#3710" class="Bound">t⇒suc′</a> <a id="3717" href="Graded.Erasure.Consequences.Soundness.html#3717" class="Bound">v⇒suc</a> <a id="3723" href="Graded.Erasure.Consequences.Soundness.html#3723" class="Bound">t®v</a><a id="3726" class="Symbol">)</a> <a id="3728" href="Graded.Erasure.Consequences.Soundness.html#3728" class="Bound">t⇒suc</a>
    <a id="3738" class="Keyword">with</a> <a id="3743" href="Definition.Typed.Properties.html#10386" class="Function">whrDet*Term</a> <a id="3755" class="Symbol">(</a><a id="3756" href="Graded.Erasure.Consequences.Soundness.html#3728" class="Bound">t⇒suc</a> <a id="3762" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3764" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3768" class="Symbol">)</a> <a id="3770" class="Symbol">(</a><a id="3771" href="Graded.Erasure.Consequences.Soundness.html#3710" class="Bound">t⇒suc′</a> <a id="3778" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3780" href="Definition.Untyped.html#6198" class="InductiveConstructor">sucₙ</a><a id="3784" class="Symbol">)</a>
  <a id="3788" class="Symbol">...</a> <a id="3792" class="Symbol">|</a> <a id="3794" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3799" class="Symbol">=</a> <a id="3801" class="Bound">v′</a> <a id="3804" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3806" class="Symbol">(</a><a id="3807" class="Bound">v⇒suc</a> <a id="3813" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3815" class="Bound">t®v</a><a id="3818" class="Symbol">)</a>

  <a id="3823" class="Comment">-- WH reduction soundness of suc</a>
  <a id="3858" class="Comment">-- If t ⇒* suc t′ and 𝟘ᶜ ▸ t then erase t ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

  <a id="Soundness′.soundness-suc"></a><a id="3940" href="Graded.Erasure.Consequences.Soundness.html#3940" class="Function">soundness-suc</a> <a id="3954" class="Symbol">:</a> <a id="3956" href="Graded.Erasure.Consequences.Soundness.html#2405" class="Bound">Δ</a> <a id="3958" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="3960" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="3962" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="3965" href="Definition.Untyped.html#3690" class="InductiveConstructor">suc</a> <a id="3969" href="Graded.Erasure.Consequences.Soundness.html#1980" class="Generalizable">t′</a> <a id="3972" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="3974" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="3976" class="Symbol">→</a> <a id="3978" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="3981" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="3984" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="3987" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="3989" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a>
                <a id="4007" class="Symbol">→</a> <a id="4009" href="Data.Product.html#1378" class="Function">∃</a> <a id="4011" class="Symbol">λ</a> <a id="4013" href="Graded.Erasure.Consequences.Soundness.html#4013" class="Bound">v′</a> <a id="4016" class="Symbol">→</a> <a id="4018" href="Graded.Erasure.Extraction.html#995" class="Function">erase</a> <a id="4024" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="4026" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="4031" href="Graded.Erasure.Target.html#860" class="InductiveConstructor">T.suc</a> <a id="4037" href="Graded.Erasure.Consequences.Soundness.html#4013" class="Bound">v′</a> <a id="4040" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4042" href="Graded.Erasure.Consequences.Soundness.html#1980" class="Generalizable">t′</a> <a id="4045" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">®</a> <a id="4047" href="Graded.Erasure.Consequences.Soundness.html#4013" class="Bound">v′</a> <a id="4050" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">∷ℕ</a>
  <a id="4055" href="Graded.Erasure.Consequences.Soundness.html#3940" class="Function">soundness-suc</a> <a id="4069" href="Graded.Erasure.Consequences.Soundness.html#4069" class="Bound">t⇒suc</a> <a id="4075" href="Graded.Erasure.Consequences.Soundness.html#4075" class="Bound">𝟘▸t</a> <a id="4079" class="Symbol">=</a>
    <a id="4085" class="Keyword">let</a> <a id="4089" href="Graded.Erasure.Consequences.Soundness.html#4089" class="Bound">⊢t</a> <a id="4092" class="Symbol">=</a> <a id="4094" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="4108" href="Graded.Erasure.Consequences.Soundness.html#4069" class="Bound">t⇒suc</a>
        <a id="4122" href="Graded.Erasure.Consequences.Soundness.html#4122" class="Bound">[ℕ]</a> <a id="4126" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4128" href="Graded.Erasure.Consequences.Soundness.html#4128" class="Bound">t®t′</a> <a id="4133" class="Symbol">=</a> <a id="4135" href="Graded.Erasure.LogicalRelation.Fundamental.html#19835" class="Function">fundamentalErased</a> <a id="4153" href="Graded.Erasure.Consequences.Soundness.html#4089" class="Bound">⊢t</a> <a id="4156" href="Graded.Erasure.Consequences.Soundness.html#4075" class="Bound">𝟘▸t</a>
        <a id="4168" href="Graded.Erasure.Consequences.Soundness.html#4168" class="Bound">t®t″</a> <a id="4173" class="Symbol">=</a> <a id="4175" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3963" class="Function">irrelevanceTerm</a> <a id="4191" class="Symbol">{</a><a id="4192" class="Argument">l′</a> <a id="4195" class="Symbol">=</a> <a id="4197" href="Definition.LogicalRelation.html#5987" class="InductiveConstructor">¹</a><a id="4198" class="Symbol">}</a> <a id="4200" href="Graded.Erasure.Consequences.Soundness.html#4122" class="Bound">[ℕ]</a>
                 <a id="4221" class="Symbol">(</a><a id="4222" href="Definition.LogicalRelation.html#14829" class="InductiveConstructor">ℕᵣ</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="4235" class="Symbol">(</a><a id="4236" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="4239" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Function">well-formed</a><a id="4250" class="Symbol">)))</a> <a id="4254" class="Symbol">(</a><a id="4255" href="Graded.Erasure.Consequences.Soundness.html#4128" class="Bound">t®t′</a> <a id="4260" href="Graded.Erasure.LogicalRelation.Subsumption.html#2050" class="Function Operator">◀≢𝟘</a> <a id="4264" href="Graded.Modality.html#3030" class="Field">𝟙≢𝟘</a><a id="4267" class="Symbol">)</a>
    <a id="4273" class="Keyword">in</a>  <a id="4277" href="Graded.Erasure.Consequences.Soundness.html#3463" class="Function">soundness-suc′</a> <a id="4292" href="Graded.Erasure.Consequences.Soundness.html#4168" class="Bound">t®t″</a> <a id="4297" href="Graded.Erasure.Consequences.Soundness.html#4069" class="Bound">t⇒suc</a>

  <a id="4306" class="Comment">-- Helper lemma for soundness of natural numbers</a>

  <a id="Soundness′.soundness-ℕ′"></a><a id="4358" href="Graded.Erasure.Consequences.Soundness.html#4358" class="Function">soundness-ℕ′</a> <a id="4371" class="Symbol">:</a> <a id="4373" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="4375" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">®</a> <a id="4377" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="4379" href="Graded.Erasure.LogicalRelation.html#1700" class="Datatype Operator">∷ℕ</a> <a id="4382" class="Symbol">→</a> <a id="4384" href="Data.Product.html#1378" class="Function">∃</a> <a id="4386" class="Symbol">λ</a> <a id="4388" href="Graded.Erasure.Consequences.Soundness.html#4388" class="Bound">n</a> <a id="4390" class="Symbol">→</a> <a id="4392" href="Graded.Erasure.Consequences.Soundness.html#2405" class="Bound">Δ</a> <a id="4394" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⊢</a> <a id="4396" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="4398" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⇒ˢ*</a> <a id="4402" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="4407" href="Graded.Erasure.Consequences.Soundness.html#4388" class="Bound">n</a> <a id="4409" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">∷ℕ</a> <a id="4412" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4414" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="4416" href="Graded.Erasure.SucRed.html#3281" class="Datatype Operator">⇒ˢ*</a> <a id="4420" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="4426" href="Graded.Erasure.Consequences.Soundness.html#4388" class="Bound">n</a>
  <a id="4430" href="Graded.Erasure.Consequences.Soundness.html#4358" class="Function">soundness-ℕ′</a> <a id="4443" class="Symbol">(</a><a id="4444" href="Graded.Erasure.LogicalRelation.html#1752" class="InductiveConstructor">zeroᵣ</a> <a id="4450" href="Graded.Erasure.Consequences.Soundness.html#4450" class="Bound">x</a> <a id="4452" href="Graded.Erasure.Consequences.Soundness.html#4452" class="Bound">x₁</a><a id="4454" class="Symbol">)</a> <a id="4456" class="Symbol">=</a> <a id="4458" class="Number">0</a> <a id="4460" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4462" href="Graded.Erasure.SucRed.html#1460" class="Function">whred*</a> <a id="4469" href="Graded.Erasure.Consequences.Soundness.html#4450" class="Bound">x</a> <a id="4471" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4473" href="Graded.Erasure.SucRed.html#3495" class="Function">whred*′</a> <a id="4481" href="Graded.Erasure.Consequences.Soundness.html#4452" class="Bound">x₁</a>
  <a id="4486" href="Graded.Erasure.Consequences.Soundness.html#4358" class="Function">soundness-ℕ′</a> <a id="4499" class="Symbol">(</a><a id="4500" href="Graded.Erasure.LogicalRelation.html#1809" class="InductiveConstructor">sucᵣ</a> <a id="4505" href="Graded.Erasure.Consequences.Soundness.html#4505" class="Bound">x</a> <a id="4507" href="Graded.Erasure.Consequences.Soundness.html#4507" class="Bound">x₁</a> <a id="4510" href="Graded.Erasure.Consequences.Soundness.html#4510" class="Bound">t®v</a><a id="4513" class="Symbol">)</a> <a id="4515" class="Symbol">=</a>
    <a id="4521" class="Keyword">let</a> <a id="4525" href="Graded.Erasure.Consequences.Soundness.html#4525" class="Bound">n</a> <a id="4527" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4529" href="Graded.Erasure.Consequences.Soundness.html#4529" class="Bound">d</a> <a id="4531" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4533" href="Graded.Erasure.Consequences.Soundness.html#4533" class="Bound">d′</a> <a id="4536" class="Symbol">=</a> <a id="4538" href="Graded.Erasure.Consequences.Soundness.html#4358" class="Function">soundness-ℕ′</a> <a id="4551" href="Graded.Erasure.Consequences.Soundness.html#4510" class="Bound">t®v</a>
    <a id="4559" class="Keyword">in</a>  <a id="4563" href="Tools.Nat.html#1095" class="InductiveConstructor">1+</a> <a id="4566" href="Graded.Erasure.Consequences.Soundness.html#4525" class="Bound">n</a> <a id="4568" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4570" href="Graded.Erasure.SucRed.html#1319" class="Function">⇒ˢ*∷ℕ-trans</a> <a id="4582" class="Symbol">(</a><a id="4583" href="Graded.Erasure.SucRed.html#1460" class="Function">whred*</a> <a id="4590" href="Graded.Erasure.Consequences.Soundness.html#4505" class="Bound">x</a><a id="4591" class="Symbol">)</a> <a id="4593" class="Symbol">(</a><a id="4594" href="Graded.Erasure.SucRed.html#1560" class="Function">sucred*</a> <a id="4602" href="Graded.Erasure.Consequences.Soundness.html#4529" class="Bound">d</a><a id="4603" class="Symbol">)</a>
             <a id="4618" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4620" href="Graded.Erasure.SucRed.html#3375" class="Function">⇒ˢ*-trans</a> <a id="4630" class="Symbol">(</a><a id="4631" href="Graded.Erasure.SucRed.html#3495" class="Function">whred*′</a> <a id="4639" href="Graded.Erasure.Consequences.Soundness.html#4507" class="Bound">x₁</a><a id="4641" class="Symbol">)</a> <a id="4643" class="Symbol">(</a><a id="4644" href="Graded.Erasure.SucRed.html#3599" class="Function">sucred*′</a> <a id="4653" href="Graded.Erasure.Consequences.Soundness.html#4533" class="Bound">d′</a><a id="4655" class="Symbol">)</a>

  <a id="4660" class="Comment">-- Helper lemma for WH reduction soundness of unit</a>

  <a id="Soundness′.soundness-star′"></a><a id="4714" href="Graded.Erasure.Consequences.Soundness.html#4714" class="Function">soundness-star′</a> <a id="4730" class="Symbol">:</a> <a id="4732" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="4734" href="Graded.Erasure.LogicalRelation.html#2182" class="Datatype Operator">®</a> <a id="4736" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="4738" href="Graded.Erasure.LogicalRelation.html#2182" class="Datatype Operator">∷Unit</a> <a id="4744" class="Symbol">→</a> <a id="4746" href="Graded.Erasure.Consequences.Soundness.html#2020" class="Generalizable">v</a> <a id="4748" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="4753" href="Graded.Erasure.Target.html#964" class="InductiveConstructor">T.star</a>
  <a id="4762" href="Graded.Erasure.Consequences.Soundness.html#4714" class="Function">soundness-star′</a> <a id="4778" class="Symbol">(</a><a id="4779" href="Graded.Erasure.LogicalRelation.html#2237" class="InductiveConstructor">starᵣ</a> <a id="4785" class="Symbol">_</a> <a id="4787" href="Graded.Erasure.Consequences.Soundness.html#4787" class="Bound">v⇒star</a><a id="4793" class="Symbol">)</a> <a id="4795" class="Symbol">=</a> <a id="4797" href="Graded.Erasure.Consequences.Soundness.html#4787" class="Bound">v⇒star</a>

<a id="4805" class="Comment">-- The following results make use of some assumptions.</a>

<a id="4861" class="Keyword">module</a> <a id="Soundness"></a><a id="4868" href="Graded.Erasure.Consequences.Soundness.html#4868" class="Module">Soundness</a> <a id="4878" class="Symbol">(</a><a id="4879" href="Graded.Erasure.Consequences.Soundness.html#4879" class="Bound">FA⁻</a> <a id="4883" class="Symbol">:</a> <a id="4885" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#963" class="Record">Fundamental-assumptions⁻</a> <a id="4910" href="Graded.Erasure.Consequences.Soundness.html#1959" class="Generalizable">Δ</a><a id="4911" class="Symbol">)</a> <a id="4913" class="Keyword">where</a>

  <a id="4922" class="Keyword">private</a> <a id="4930" class="Keyword">module</a> <a id="Soundness.L"></a><a id="4937" href="Graded.Erasure.Consequences.Soundness.html#4937" class="Module">L</a> <a id="4939" class="Symbol">(</a><a id="4940" href="Graded.Erasure.Consequences.Soundness.html#4940" class="Bound">⊢Δ</a> <a id="4943" class="Symbol">:</a> <a id="4945" href="Definition.Typed.html#964" class="Datatype Operator">⊢</a> <a id="4947" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a><a id="4948" class="Symbol">)</a> <a id="4950" class="Keyword">where</a>

    <a id="4961" class="Keyword">open</a> <a id="4966" class="Keyword">import</a> <a id="4973" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="5004" href="Graded.Erasure.Consequences.Soundness.html#403" class="Bound">TR</a> <a id="5007" class="Keyword">public</a>

    <a id="Soundness.L.FA"></a><a id="5019" href="Graded.Erasure.Consequences.Soundness.html#5019" class="Function">FA</a> <a id="5022" class="Symbol">:</a> <a id="5024" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1382" class="Record">Fundamental-assumptions</a> <a id="5048" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a>
    <a id="5054" href="Graded.Erasure.Consequences.Soundness.html#5019" class="Function">FA</a> <a id="5057" class="Symbol">=</a> <a id="5059" class="Keyword">record</a>
      <a id="5072" class="Symbol">{</a> <a id="5074" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1502" class="Field">well-formed</a>       <a id="5092" class="Symbol">=</a> <a id="5094" href="Graded.Erasure.Consequences.Soundness.html#4940" class="Bound">⊢Δ</a>
      <a id="5103" class="Symbol">;</a> <a id="5105" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1550" class="Field">other-assumptions</a> <a id="5123" class="Symbol">=</a> <a id="5125" href="Graded.Erasure.Consequences.Soundness.html#4879" class="Bound">FA⁻</a>
      <a id="5135" class="Symbol">}</a>

    <a id="5142" class="Keyword">open</a> <a id="5147" href="Graded.Erasure.Consequences.Soundness.html#2362" class="Module">Soundness′</a> <a id="5158" href="Graded.Erasure.Consequences.Soundness.html#5019" class="Function">FA</a> <a id="5161" class="Keyword">public</a>

    <a id="5173" class="Keyword">open</a> <a id="5178" href="Graded.Erasure.LogicalRelation.Fundamental.html#6880" class="Module">LRF.Fundamental</a> <a id="5194" href="Graded.Erasure.Consequences.Soundness.html#5019" class="Function">FA</a> <a id="5197" class="Keyword">public</a>
    <a id="5208" class="Keyword">open</a> <a id="5213" href="Graded.Erasure.Consequences.Soundness.html#1583" class="Module">LRI</a> <a id="5217" href="Graded.Erasure.Consequences.Soundness.html#4940" class="Bound">⊢Δ</a> <a id="5220" class="Keyword">public</a>
    <a id="5231" class="Keyword">open</a> <a id="5236" href="Graded.Erasure.Consequences.Soundness.html#1651" class="Module">LRS</a> <a id="5240" href="Graded.Erasure.Consequences.Soundness.html#4940" class="Bound">⊢Δ</a> <a id="5243" class="Keyword">public</a>

  <a id="5253" class="Comment">-- Soundness for erasure of natural numbers</a>
  <a id="5299" class="Comment">-- Well-typed terms of the natural number type reduce to numerals</a>
  <a id="5367" class="Comment">-- if erased matches are disallowed or the term is closed.</a>
  <a id="5428" class="Comment">--</a>
  <a id="5433" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-ℕ"></a><a id="5491" href="Graded.Erasure.Consequences.Soundness.html#5491" class="Function">soundness-ℕ</a> <a id="5503" class="Symbol">:</a> <a id="5505" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a> <a id="5507" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="5509" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="5511" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="5513" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="5515" class="Symbol">→</a> <a id="5517" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="5520" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="5523" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="5526" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="5528" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a>
              <a id="5544" class="Symbol">→</a> <a id="5546" href="Data.Product.html#1378" class="Function">∃</a> <a id="5548" class="Symbol">λ</a> <a id="5550" href="Graded.Erasure.Consequences.Soundness.html#5550" class="Bound">n</a> <a id="5552" class="Symbol">→</a> <a id="5554" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a> <a id="5556" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⊢</a> <a id="5558" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="5560" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⇒ˢ*</a> <a id="5564" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="5569" href="Graded.Erasure.Consequences.Soundness.html#5550" class="Bound">n</a> <a id="5571" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">∷ℕ</a> <a id="5574" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5576" href="Graded.Erasure.Extraction.html#995" class="Function">erase</a> <a id="5582" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="5584" href="Graded.Erasure.SucRed.html#3281" class="Datatype Operator">⇒ˢ*</a> <a id="5588" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="5594" href="Graded.Erasure.Consequences.Soundness.html#5550" class="Bound">n</a>
  <a id="5598" href="Graded.Erasure.Consequences.Soundness.html#5491" class="Function">soundness-ℕ</a> <a id="5610" href="Graded.Erasure.Consequences.Soundness.html#5610" class="Bound">⊢t</a> <a id="5613" href="Graded.Erasure.Consequences.Soundness.html#5613" class="Bound">𝟘▸t</a> <a id="5617" class="Symbol">=</a>
    <a id="5623" class="Keyword">let</a> <a id="5627" href="Graded.Erasure.Consequences.Soundness.html#5627" class="Bound">[ℕ]</a> <a id="5631" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5633" href="Graded.Erasure.Consequences.Soundness.html#5633" class="Bound">t®v</a> <a id="5637" class="Symbol">=</a> <a id="5639" href="Graded.Erasure.LogicalRelation.Fundamental.html#19835" class="Function">fundamentalErased</a> <a id="5657" href="Graded.Erasure.Consequences.Soundness.html#5610" class="Bound">⊢t</a> <a id="5660" href="Graded.Erasure.Consequences.Soundness.html#5613" class="Bound">𝟘▸t</a>
    <a id="5668" class="Keyword">in</a>  <a id="5672" href="Graded.Erasure.Consequences.Soundness.html#4358" class="Function">soundness-ℕ′</a> <a id="5685" href="Function.Base.html#1928" class="Function Operator">$</a>
        <a id="5695" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3963" class="Function">irrelevanceTerm</a> <a id="5711" class="Symbol">{</a><a id="5712" class="Argument">l′</a> <a id="5715" class="Symbol">=</a> <a id="5717" href="Definition.LogicalRelation.html#5987" class="InductiveConstructor">¹</a><a id="5718" class="Symbol">}</a> <a id="5720" href="Graded.Erasure.Consequences.Soundness.html#5627" class="Bound">[ℕ]</a> <a id="5724" class="Symbol">(</a><a id="5725" href="Definition.LogicalRelation.html#14829" class="InductiveConstructor">ℕᵣ</a> <a id="5728" class="Symbol">(</a><a id="5729" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="5738" class="Symbol">(</a><a id="5739" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="5742" href="Graded.Erasure.Consequences.Soundness.html#5786" class="Function">⊢Δ</a><a id="5744" class="Symbol">)))</a>
          <a id="5758" class="Symbol">(</a><a id="5759" href="Graded.Erasure.Consequences.Soundness.html#5633" class="Bound">t®v</a> <a id="5763" href="Graded.Erasure.LogicalRelation.Subsumption.html#2050" class="Function Operator">◀≢𝟘</a> <a id="5767" href="Graded.Modality.html#3030" class="Field">𝟙≢𝟘</a><a id="5770" class="Symbol">)</a>
    <a id="5776" class="Keyword">where</a>
    <a id="5786" href="Graded.Erasure.Consequences.Soundness.html#5786" class="Function">⊢Δ</a> <a id="5789" class="Symbol">=</a> <a id="5791" href="Definition.Typed.Properties.html#720" class="Function">wfTerm</a> <a id="5798" href="Graded.Erasure.Consequences.Soundness.html#5610" class="Bound">⊢t</a>

    <a id="5806" class="Keyword">open</a> <a id="5811" href="Graded.Erasure.Consequences.Soundness.html#4937" class="Module">L</a> <a id="5813" href="Graded.Erasure.Consequences.Soundness.html#5786" class="Function">⊢Δ</a>

  <a id="5819" class="Comment">-- A variant of soundness-ℕ which only considers the source</a>
  <a id="5881" class="Comment">-- language.</a>
  <a id="5896" class="Comment">--</a>
  <a id="5901" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-ℕ-only-source"></a><a id="5959" href="Graded.Erasure.Consequences.Soundness.html#5959" class="Function">soundness-ℕ-only-source</a> <a id="5983" class="Symbol">:</a>
    <a id="5989" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a> <a id="5991" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="5993" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="5995" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="5997" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="5999" class="Symbol">→</a> <a id="6001" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="6004" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="6007" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="6010" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="6012" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="6014" class="Symbol">→</a>
    <a id="6020" href="Data.Product.html#1378" class="Function">∃</a> <a id="6022" class="Symbol">λ</a> <a id="6024" href="Graded.Erasure.Consequences.Soundness.html#6024" class="Bound">n</a> <a id="6026" class="Symbol">→</a> <a id="6028" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a> <a id="6030" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⊢</a> <a id="6032" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="6034" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⇒ˢ*</a> <a id="6038" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="6043" href="Graded.Erasure.Consequences.Soundness.html#6024" class="Bound">n</a> <a id="6045" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">∷ℕ</a>
  <a id="6050" href="Graded.Erasure.Consequences.Soundness.html#5959" class="Function">soundness-ℕ-only-source</a> <a id="6074" href="Graded.Erasure.Consequences.Soundness.html#6074" class="Bound">⊢t</a> <a id="6077" href="Graded.Erasure.Consequences.Soundness.html#6077" class="Bound">▸t</a> <a id="6080" class="Symbol">=</a>
    <a id="6086" href="Function.Base.html#4130" class="Function Operator">case</a> <a id="6091" href="Graded.Erasure.Consequences.Soundness.html#5491" class="Function">soundness-ℕ</a> <a id="6103" href="Graded.Erasure.Consequences.Soundness.html#6074" class="Bound">⊢t</a> <a id="6106" href="Graded.Erasure.Consequences.Soundness.html#6077" class="Bound">▸t</a> <a id="6109" href="Function.Base.html#4130" class="Function Operator">of</a> <a id="6112" class="Symbol">λ</a> <a id="6114" class="Symbol">{</a>
      <a id="6122" class="Symbol">(</a><a id="6123" href="Graded.Erasure.Consequences.Soundness.html#6123" class="Bound">n</a> <a id="6125" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6127" href="Graded.Erasure.Consequences.Soundness.html#6127" class="Bound">t⇒ˢ*n</a> <a id="6133" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6135" class="Symbol">_)</a> <a id="6138" class="Symbol">→</a>
        <a id="6148" href="Graded.Erasure.Consequences.Soundness.html#6123" class="Bound">n</a> <a id="6150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6152" href="Graded.Erasure.Consequences.Soundness.html#6127" class="Bound">t⇒ˢ*n</a> <a id="6158" class="Symbol">}</a>

  <a id="6163" class="Comment">-- WH reduction soundness of unit</a>
  <a id="6199" class="Comment">--</a>
  <a id="6204" class="Comment">-- Note the assumptions of the local module Soundness.</a>

  <a id="Soundness.soundness-star"></a><a id="6262" href="Graded.Erasure.Consequences.Soundness.html#6262" class="Function">soundness-star</a> <a id="6277" class="Symbol">:</a>
    <a id="6283" href="Graded.Erasure.Consequences.Soundness.html#4910" class="Bound">Δ</a> <a id="6285" href="Definition.Typed.html#12437" class="Datatype Operator">⊢</a> <a id="6287" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="6289" href="Definition.Typed.html#12437" class="Datatype Operator">⇒*</a> <a id="6292" href="Definition.Untyped.html#3803" class="InductiveConstructor">star</a> <a id="6297" href="Definition.Typed.html#12437" class="Datatype Operator">∷</a> <a id="6299" href="Definition.Untyped.html#2687" class="InductiveConstructor">Unit</a> <a id="6304" class="Symbol">→</a> <a id="6306" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="6309" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="6312" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="6315" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="6317" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="6319" class="Symbol">→</a> <a id="6321" href="Graded.Erasure.Extraction.html#995" class="Function">erase</a> <a id="6327" href="Graded.Erasure.Consequences.Soundness.html#1978" class="Generalizable">t</a> <a id="6329" href="Graded.Erasure.Target.html#5967" class="Datatype Operator">T.⇒*</a> <a id="6334" href="Graded.Erasure.Target.html#964" class="InductiveConstructor">T.star</a>
  <a id="6343" href="Graded.Erasure.Consequences.Soundness.html#6262" class="Function">soundness-star</a> <a id="6358" href="Graded.Erasure.Consequences.Soundness.html#6358" class="Bound">t⇒star</a> <a id="6365" href="Graded.Erasure.Consequences.Soundness.html#6365" class="Bound">γ▸t</a> <a id="6369" class="Symbol">=</a>
    <a id="6375" class="Keyword">let</a> <a id="6379" href="Graded.Erasure.Consequences.Soundness.html#6379" class="Bound">⊢t</a> <a id="6382" class="Symbol">=</a> <a id="6384" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="6398" href="Graded.Erasure.Consequences.Soundness.html#6358" class="Bound">t⇒star</a>
        <a id="6413" href="Graded.Erasure.Consequences.Soundness.html#6413" class="Bound">[⊤]</a> <a id="6417" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6419" href="Graded.Erasure.Consequences.Soundness.html#6419" class="Bound">t®t′</a> <a id="6424" class="Symbol">=</a> <a id="6426" href="Graded.Erasure.LogicalRelation.Fundamental.html#19835" class="Function">fundamentalErased</a> <a id="6444" href="Graded.Erasure.Consequences.Soundness.html#6379" class="Bound">⊢t</a> <a id="6447" href="Graded.Erasure.Consequences.Soundness.html#6365" class="Bound">γ▸t</a>
        <a id="6459" href="Graded.Erasure.Consequences.Soundness.html#6459" class="Bound">ok</a> <a id="6462" class="Symbol">=</a> <a id="6464" href="Definition.Typed.Consequences.Inversion.html#1878" class="Function">⊢∷Unit→Unit-allowed</a> <a id="6484" href="Graded.Erasure.Consequences.Soundness.html#6379" class="Bound">⊢t</a>
        <a id="6495" href="Graded.Erasure.Consequences.Soundness.html#6495" class="Bound">t®t″</a> <a id="6500" class="Symbol">=</a> <a id="6502" href="Graded.Erasure.LogicalRelation.Irrelevance.html#3963" class="Function">irrelevanceTerm</a> <a id="6518" class="Symbol">{</a><a id="6519" class="Argument">l′</a> <a id="6522" class="Symbol">=</a> <a id="6524" href="Definition.LogicalRelation.html#5987" class="InductiveConstructor">¹</a><a id="6525" class="Symbol">}</a>
                 <a id="6544" href="Graded.Erasure.Consequences.Soundness.html#6413" class="Bound">[⊤]</a>
                 <a id="6565" class="Symbol">(</a><a id="6566" href="Definition.LogicalRelation.html#14908" class="InductiveConstructor">Unitᵣ</a> <a id="6572" class="Symbol">(</a><a id="6573" href="Definition.LogicalRelation.html#5419" class="InductiveConstructor">Unitₜ</a> <a id="6579" class="Symbol">(</a><a id="6580" href="Definition.Typed.Properties.html#11961" class="Function">idRed:*:</a> <a id="6589" class="Symbol">(</a><a id="6590" href="Definition.Typed.html#1213" class="InductiveConstructor">Unitⱼ</a> <a id="6596" href="Graded.Erasure.Consequences.Soundness.html#6684" class="Function">⊢Δ</a> <a id="6599" href="Graded.Erasure.Consequences.Soundness.html#6459" class="Bound">ok</a><a id="6601" class="Symbol">))</a> <a id="6604" href="Graded.Erasure.Consequences.Soundness.html#6459" class="Bound">ok</a><a id="6606" class="Symbol">))</a>
                 <a id="6626" class="Symbol">(</a><a id="6627" href="Graded.Erasure.Consequences.Soundness.html#6419" class="Bound">t®t′</a> <a id="6632" href="Graded.Erasure.LogicalRelation.Subsumption.html#2050" class="Function Operator">◀≢𝟘</a> <a id="6636" href="Graded.Modality.html#3030" class="Field">𝟙≢𝟘</a><a id="6639" class="Symbol">)</a>
    <a id="6645" class="Keyword">in</a>  <a id="6649" href="Graded.Erasure.Consequences.Soundness.html#4714" class="Function">soundness-star′</a> <a id="6665" href="Graded.Erasure.Consequences.Soundness.html#6495" class="Bound">t®t″</a>
    <a id="6674" class="Keyword">where</a>
    <a id="6684" href="Graded.Erasure.Consequences.Soundness.html#6684" class="Function">⊢Δ</a> <a id="6687" class="Symbol">=</a> <a id="6689" href="Definition.Typed.Properties.html#720" class="Function">wfTerm</a> <a id="6696" class="Symbol">(</a><a id="6697" href="Definition.Typed.Properties.html#5061" class="Function">redFirst*Term</a> <a id="6711" href="Graded.Erasure.Consequences.Soundness.html#6358" class="Bound">t⇒star</a><a id="6717" class="Symbol">)</a>

    <a id="6724" class="Keyword">open</a> <a id="6729" href="Graded.Erasure.Consequences.Soundness.html#4937" class="Module">L</a> <a id="6731" href="Graded.Erasure.Consequences.Soundness.html#6684" class="Function">⊢Δ</a>

<a id="6735" class="Comment">-- If the context is empty, then the results in Soundness hold without</a>
<a id="6806" class="Comment">-- any further assumptions.</a>

<a id="6835" class="Keyword">module</a> <a id="Soundness₀"></a><a id="6842" href="Graded.Erasure.Consequences.Soundness.html#6842" class="Module">Soundness₀</a> <a id="6853" class="Keyword">where</a>

  <a id="6862" class="Keyword">open</a> <a id="6867" href="Graded.Erasure.Consequences.Soundness.html#4868" class="Module">Soundness</a> <a id="6877" href="Graded.Erasure.LogicalRelation.Fundamental.Assumptions.html#1727" class="Function">fundamental-assumptions⁻₀</a> <a id="6903" class="Keyword">public</a>

<a id="6911" class="Comment">-- If Prodrec-allowed 𝟘 p 𝟘 holds for some p (which means that certain</a>
<a id="6982" class="Comment">-- kinds of erased matches are allowed), and if additionally</a>
<a id="7043" class="Comment">-- Σᵣ-allowed p 𝟘 holds, then there is a counterexample to</a>
<a id="7102" class="Comment">-- soundness-ℕ-only-source without the assumption &quot;erased matches are</a>
<a id="7172" class="Comment">-- not allowed unless the context is empty&quot;.</a>

<a id="soundness-ℕ-only-source-counterexample"></a><a id="7218" href="Graded.Erasure.Consequences.Soundness.html#7218" class="Function">soundness-ℕ-only-source-counterexample</a> <a id="7257" class="Symbol">:</a>
  <a id="7261" href="Graded.Usage.Restrictions.html#469" class="Function">Prodrec-allowed</a> <a id="7277" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7279" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="7281" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7283" class="Symbol">→</a>
  <a id="7287" href="Definition.Typed.Restrictions.html#1075" class="Function">Σᵣ-allowed</a> <a id="7298" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="7300" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7302" class="Symbol">→</a>
  <a id="7306" class="Keyword">let</a> <a id="7310" href="Graded.Erasure.Consequences.Soundness.html#7310" class="Bound">Δ</a> <a id="7312" class="Symbol">=</a> <a id="7314" class="InductiveConstructor">ε</a> <a id="7316" class="InductiveConstructor Operator">∙</a> <a id="7318" class="Symbol">(</a><a id="7319" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">Σᵣ</a> <a id="7322" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="7324" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">,</a> <a id="7326" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7328" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">▷</a> <a id="7330" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7332" href="Definition.Untyped.html#2924" class="InductiveConstructor Operator">▹</a> <a id="7334" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a><a id="7335" class="Symbol">)</a>
      <a id="7343" href="Graded.Erasure.Consequences.Soundness.html#7343" class="Bound">t</a> <a id="7345" class="Symbol">=</a> <a id="7347" href="Definition.Untyped.html#3587" class="InductiveConstructor">prodrec</a> <a id="7355" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7357" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="7359" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7361" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7363" class="Symbol">(</a><a id="7364" class="InductiveConstructor">var</a> <a id="7368" href="Data.Fin.Base.html#1157" class="InductiveConstructor">x0</a><a id="7370" class="Symbol">)</a> <a id="7372" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
  <a id="7379" class="Keyword">in</a>
  <a id="7384" class="Symbol">(∀</a> <a id="7387" class="Symbol">{</a><a id="7388" href="Graded.Erasure.Consequences.Soundness.html#7388" class="Bound">u</a><a id="7389" class="Symbol">}</a> <a id="7391" class="Symbol">→</a> <a id="7393" href="Graded.Erasure.Consequences.Soundness.html#7310" class="Bound">Δ</a> <a id="7395" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="7397" href="Graded.Erasure.Consequences.Soundness.html#7388" class="Bound">u</a> <a id="7399" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="7401" href="Definition.Untyped.html#2654" class="InductiveConstructor">Empty</a> <a id="7407" class="Symbol">→</a> <a id="7409" href="Data.Empty.html#535" class="Datatype">⊥</a><a id="7410" class="Symbol">)</a> <a id="7412" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7416" href="Graded.Erasure.Consequences.Soundness.html#7310" class="Bound">Δ</a> <a id="7418" href="Definition.Typed.html#1453" class="Datatype Operator">⊢</a> <a id="7420" href="Graded.Erasure.Consequences.Soundness.html#7343" class="Bound">t</a> <a id="7422" href="Definition.Typed.html#1453" class="Datatype Operator">∷</a> <a id="7424" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="7426" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7430" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="7433" href="Graded.Usage.html#2160" class="Datatype Operator">▸[</a> <a id="7436" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7439" href="Graded.Usage.html#2160" class="Datatype Operator">]</a> <a id="7441" href="Graded.Erasure.Consequences.Soundness.html#7343" class="Bound">t</a> <a id="7443" href="Data.Product.html#1176" class="Function Operator">×</a>
  <a id="7447" href="Relation.Nullary.html#665" class="Function Operator">¬</a> <a id="7449" href="Data.Product.html#1378" class="Function">∃</a> <a id="7451" class="Symbol">λ</a> <a id="7453" href="Graded.Erasure.Consequences.Soundness.html#7453" class="Bound">n</a> <a id="7455" class="Symbol">→</a> <a id="7457" href="Graded.Erasure.Consequences.Soundness.html#7310" class="Bound">Δ</a> <a id="7459" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⊢</a> <a id="7461" href="Graded.Erasure.Consequences.Soundness.html#7343" class="Bound">t</a> <a id="7463" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">⇒ˢ*</a> <a id="7467" href="Graded.Erasure.Consequences.Soundness.html#2143" class="Function">sucᵏ</a> <a id="7472" href="Graded.Erasure.Consequences.Soundness.html#7453" class="Bound">n</a> <a id="7474" href="Graded.Erasure.SucRed.html#1167" class="Datatype Operator">∷ℕ</a>
<a id="7477" href="Graded.Erasure.Consequences.Soundness.html#7218" class="Function">soundness-ℕ-only-source-counterexample</a> <a id="7516" class="Symbol">{</a><a id="7517" class="Argument">p</a> <a id="7519" class="Symbol">=</a> <a id="7521" href="Graded.Erasure.Consequences.Soundness.html#7521" class="Bound">p</a><a id="7522" class="Symbol">}</a> <a id="7524" href="Graded.Erasure.Consequences.Soundness.html#7524" class="Bound">P-ok</a> <a id="7529" href="Graded.Erasure.Consequences.Soundness.html#7529" class="Bound">Σᵣ-ok</a> <a id="7535" class="Symbol">=</a>
    <a id="7541" class="Symbol">(λ</a> <a id="7544" href="Graded.Erasure.Consequences.Soundness.html#7544" class="Bound">⊢t</a> <a id="7547" class="Symbol">→</a> <a id="7549" href="Definition.Typed.Consequences.Canonicity.html#2089" class="Function">TC.¬Empty</a> <a id="7559" href="Function.Base.html#1928" class="Function Operator">$</a>
            <a id="7573" href="Definition.Typed.Consequences.Substitution.html#6864" class="Function">substTerm</a> <a id="7583" href="Graded.Erasure.Consequences.Soundness.html#7544" class="Bound">⊢t</a> <a id="7586" class="Symbol">(</a><a id="7587" href="Definition.Typed.html#2175" class="InductiveConstructor">prodⱼ</a> <a id="7593" href="Graded.Erasure.Consequences.Soundness.html#8527" class="Function">ε⊢ℕ</a> <a id="7597" href="Graded.Erasure.Consequences.Soundness.html#8556" class="Function">εℕ⊢ℕ</a> <a id="7602" class="Symbol">(</a><a id="7603" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="7609" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="7610" class="Symbol">)</a> <a id="7612" class="Symbol">(</a><a id="7613" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="7619" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a><a id="7620" class="Symbol">)</a> <a id="7622" href="Graded.Erasure.Consequences.Soundness.html#7529" class="Bound">Σᵣ-ok</a><a id="7627" class="Symbol">))</a>
  <a id="7632" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7634" href="Graded.Erasure.Consequences.Soundness.html#8760" class="Function">⊢prodrec</a>
  <a id="7645" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7647" href="Graded.Usage.html#5642" class="InductiveConstructor">sub</a>
      <a id="7657" class="Symbol">(</a><a id="7658" href="Graded.Usage.html#3102" class="InductiveConstructor">prodrecₘ</a> <a id="7667" href="Graded.Usage.html#2454" class="InductiveConstructor">var</a>
         <a id="7680" class="Symbol">(</a><a id="7681" href="Graded.Usage.html#5642" class="InductiveConstructor">sub</a> <a id="7685" href="Graded.Usage.html#3316" class="InductiveConstructor">zeroₘ</a> <a id="7691" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="7703" class="Keyword">let</a> <a id="7707" class="Keyword">open</a> <a id="7712" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="7741" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="7750" class="Keyword">in</a> <a id="7753" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
            <a id="7771" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="7774" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="7776" href="Graded.Modality.html#880" class="Function">𝟙</a> <a id="7778" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="7780" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7782" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="7784" href="Graded.Erasure.Consequences.Soundness.html#7521" class="Bound">p</a> <a id="7786" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="7788" href="Graded.Modality.html#880" class="Function">𝟙</a> <a id="7790" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="7792" href="Graded.Modality.html#870" class="Function">𝟘</a>  <a id="7795" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="7798" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="7806" href="Graded.Context.html#885" class="InductiveConstructor Operator">∙</a> <a id="7808" href="Graded.Modality.html#2272" class="Function">·-congˡ</a> <a id="7816" class="Symbol">(</a><a id="7817" href="Graded.Modality.html#2611" class="Function">·-zeroˡ</a> <a id="7825" class="Symbol">_)</a> <a id="7828" href="Graded.Context.html#885" class="InductiveConstructor Operator">∙</a> <a id="7830" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">PE.refl</a> <a id="7838" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="7852" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="7855" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="7857" href="Graded.Modality.html#880" class="Function">𝟙</a> <a id="7859" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="7861" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="7863" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="7865" href="Graded.Modality.html#880" class="Function">𝟙</a> <a id="7867" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="7869" href="Graded.Modality.html#870" class="Function">𝟘</a>      <a id="7876" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="7879" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="7887" href="Graded.Context.html#885" class="InductiveConstructor Operator">∙</a> <a id="7889" href="Graded.Modality.html#2643" class="Function">·-zeroʳ</a> <a id="7897" class="Symbol">_</a> <a id="7899" href="Graded.Context.html#885" class="InductiveConstructor Operator">∙</a> <a id="7901" href="Graded.Modality.html#2643" class="Function">·-zeroʳ</a> <a id="7909" class="Symbol">_</a> <a id="7911" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="7925" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                      <a id="7949" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="7950" class="Symbol">)</a>
         <a id="7961" class="Symbol">(</a><a id="7962" href="Graded.Usage.html#5642" class="InductiveConstructor">sub</a> <a id="7966" href="Graded.Usage.html#2250" class="InductiveConstructor">ℕₘ</a> <a id="7969" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="7981" class="Keyword">let</a> <a id="7985" class="Keyword">open</a> <a id="7990" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="8019" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="8028" class="Keyword">in</a> <a id="8031" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
            <a id="8049" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="8052" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="8054" href="Graded.Mode.html#3667" class="Function Operator">⌜</a> <a id="8056" href="Graded.Mode.html#2306" class="Function">𝟘ᵐ?</a> <a id="8060" href="Graded.Mode.html#3667" class="Function Operator">⌝</a> <a id="8062" href="Graded.Modality.html#775" class="Function Operator">·</a> <a id="8064" href="Graded.Modality.html#870" class="Function">𝟘</a>  <a id="8067" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">≈⟨</a> <a id="8070" href="Graded.Context.Properties.Equivalence.html#537" class="Function">≈ᶜ-refl</a> <a id="8078" href="Graded.Context.html#885" class="InductiveConstructor Operator">∙</a> <a id="8080" href="Graded.Modality.html#2643" class="Function">·-zeroʳ</a> <a id="8088" class="Symbol">_</a> <a id="8090" href="Relation.Binary.Reasoning.Base.Triple.html#4044" class="Function">⟩</a>
            <a id="8104" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                <a id="8122" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="8123" class="Symbol">)</a>
         <a id="8134" href="Graded.Erasure.Consequences.Soundness.html#7524" class="Bound">P-ok</a><a id="8138" class="Symbol">)</a>
      <a id="8146" class="Symbol">(</a><a id="8147" class="Keyword">let</a> <a id="8151" class="Keyword">open</a> <a id="8156" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="8185" href="Graded.Context.Properties.PartialOrder.html#1728" class="Function">≤ᶜ-poset</a> <a id="8194" class="Keyword">in</a> <a id="8197" href="Relation.Binary.Reasoning.Base.Triple.html#3019" class="Function Operator">begin</a>
         <a id="8212" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                           <a id="8241" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">≈˘⟨</a> <a id="8245" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="8258" class="Symbol">_</a> <a id="8260" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">⟩</a>
         <a id="8271" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="8274" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="8277" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                     <a id="8300" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">≈˘⟨</a> <a id="8304" href="Graded.Context.Properties.Addition.html#2746" class="Function">+ᶜ-congʳ</a> <a id="8313" class="Symbol">(</a><a id="8314" href="Graded.Context.Properties.Multiplication.html#898" class="Function">·ᶜ-zeroˡ</a> <a id="8323" class="Symbol">_)</a> <a id="8326" href="Relation.Binary.Reasoning.Base.Triple.html#4367" class="Function">⟩</a>
         <a id="8337" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="8339" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="8342" class="Symbol">(</a><a id="8343" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="8346" href="Graded.Context.html#734" class="InductiveConstructor Operator">∙</a> <a id="8348" href="Graded.Mode.html#3667" class="Function Operator">⌜</a> <a id="8350" href="Graded.Mode.html#3953" class="Function Operator">⌞</a> <a id="8352" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="8354" href="Graded.Mode.html#3953" class="Function Operator">⌟</a> <a id="8356" href="Graded.Mode.html#3667" class="Function Operator">⌝</a><a id="8357" class="Symbol">)</a> <a id="8359" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="8362" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>  <a id="8366" href="Relation.Binary.Reasoning.Base.Triple.html#5128" class="Function Operator">∎</a><a id="8367" class="Symbol">)</a>
  <a id="8371" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8373" class="Symbol">λ</a> <a id="8375" class="Keyword">where</a>
      <a id="8387" class="Symbol">(</a><a id="8388" class="Number">0</a>    <a id="8393" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8395" href="Graded.Erasure.SucRed.html#983" class="InductiveConstructor">whred</a> <a id="8401" href="Graded.Erasure.Consequences.Soundness.html#8401" class="Bound">d</a> <a id="8403" href="Graded.Erasure.SucRed.html#1261" class="InductiveConstructor Operator">⇨ˢ</a> <a id="8406" class="Symbol">_)</a> <a id="8409" class="Symbol">→</a> <a id="8411" href="Definition.Typed.Properties.html#6604" class="Function">whnfRedTerm</a> <a id="8423" href="Graded.Erasure.Consequences.Soundness.html#8401" class="Bound">d</a> <a id="8425" class="Symbol">(</a><a id="8426" href="Definition.Untyped.html#6297" class="InductiveConstructor">ne</a> <a id="8429" class="Symbol">(</a><a id="8430" href="Definition.Untyped.html#5727" class="InductiveConstructor">prodrecₙ</a> <a id="8439" class="Symbol">(</a><a id="8440" href="Definition.Untyped.html#5483" class="InductiveConstructor">var</a> <a id="8444" class="Symbol">_)))</a>
      <a id="8455" class="Symbol">(</a><a id="8456" href="Tools.Nat.html#1095" class="InductiveConstructor">1+</a> <a id="8459" class="Symbol">_</a> <a id="8461" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8463" href="Graded.Erasure.SucRed.html#983" class="InductiveConstructor">whred</a> <a id="8469" href="Graded.Erasure.Consequences.Soundness.html#8469" class="Bound">d</a> <a id="8471" href="Graded.Erasure.SucRed.html#1261" class="InductiveConstructor Operator">⇨ˢ</a> <a id="8474" class="Symbol">_)</a> <a id="8477" class="Symbol">→</a> <a id="8479" href="Definition.Typed.Properties.html#6604" class="Function">whnfRedTerm</a> <a id="8491" href="Graded.Erasure.Consequences.Soundness.html#8469" class="Bound">d</a> <a id="8493" class="Symbol">(</a><a id="8494" href="Definition.Untyped.html#6297" class="InductiveConstructor">ne</a> <a id="8497" class="Symbol">(</a><a id="8498" href="Definition.Untyped.html#5727" class="InductiveConstructor">prodrecₙ</a> <a id="8507" class="Symbol">(</a><a id="8508" href="Definition.Untyped.html#5483" class="InductiveConstructor">var</a> <a id="8512" class="Symbol">_)))</a>
  <a id="8519" class="Keyword">where</a>
  <a id="8527" href="Graded.Erasure.Consequences.Soundness.html#8527" class="Function">ε⊢ℕ</a> <a id="8531" class="Symbol">=</a> <a id="8533" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8536" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a>
  <a id="8540" href="Graded.Erasure.Consequences.Soundness.html#8540" class="Function">⊢εℕ</a> <a id="8544" class="Symbol">=</a> <a id="8546" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="8548" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8550" href="Graded.Erasure.Consequences.Soundness.html#8527" class="Function">ε⊢ℕ</a>
  <a id="8556" href="Graded.Erasure.Consequences.Soundness.html#8556" class="Function">εℕ⊢ℕ</a> <a id="8561" class="Symbol">=</a> <a id="8563" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8566" href="Graded.Erasure.Consequences.Soundness.html#8540" class="Function">⊢εℕ</a>
  <a id="8572" href="Graded.Erasure.Consequences.Soundness.html#8572" class="Function">ε⊢Σ</a> <a id="8576" class="Symbol">=</a> <a id="8578" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="8582" href="Graded.Erasure.Consequences.Soundness.html#8527" class="Function">ε⊢ℕ</a> <a id="8586" href="Graded.Erasure.Consequences.Soundness.html#8556" class="Function">εℕ⊢ℕ</a> <a id="8591" href="Graded.Erasure.Consequences.Soundness.html#7529" class="Bound">Σᵣ-ok</a>
  <a id="8599" href="Graded.Erasure.Consequences.Soundness.html#8599" class="Function">⊢εΣ</a> <a id="8603" class="Symbol">=</a> <a id="8605" href="Definition.Typed.html#998" class="InductiveConstructor">ε</a> <a id="8607" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8609" href="Graded.Erasure.Consequences.Soundness.html#8572" class="Function">ε⊢Σ</a>
  <a id="8615" href="Graded.Erasure.Consequences.Soundness.html#8615" class="Function">εΣ⊢ℕ</a> <a id="8620" class="Symbol">=</a> <a id="8622" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8625" href="Graded.Erasure.Consequences.Soundness.html#8599" class="Function">⊢εΣ</a>
  <a id="8631" href="Graded.Erasure.Consequences.Soundness.html#8631" class="Function">⊢εΣℕ</a> <a id="8636" class="Symbol">=</a> <a id="8638" href="Graded.Erasure.Consequences.Soundness.html#8599" class="Function">⊢εΣ</a> <a id="8642" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8644" href="Graded.Erasure.Consequences.Soundness.html#8615" class="Function">εΣ⊢ℕ</a>
  <a id="8651" href="Graded.Erasure.Consequences.Soundness.html#8651" class="Function">εΣℕ⊢ℕ</a> <a id="8657" class="Symbol">=</a> <a id="8659" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8662" href="Graded.Erasure.Consequences.Soundness.html#8631" class="Function">⊢εΣℕ</a>
  <a id="8669" href="Graded.Erasure.Consequences.Soundness.html#8669" class="Function">εΣ⊢Σ</a> <a id="8674" class="Symbol">=</a> <a id="8676" href="Definition.Typed.html#1256" class="InductiveConstructor">ΠΣⱼ</a> <a id="8680" href="Graded.Erasure.Consequences.Soundness.html#8615" class="Function">εΣ⊢ℕ</a> <a id="8685" href="Graded.Erasure.Consequences.Soundness.html#8651" class="Function">εΣℕ⊢ℕ</a> <a id="8691" href="Graded.Erasure.Consequences.Soundness.html#7529" class="Bound">Σᵣ-ok</a>
  <a id="8699" href="Graded.Erasure.Consequences.Soundness.html#8699" class="Function">⊢εΣΣ</a> <a id="8704" class="Symbol">=</a> <a id="8706" href="Graded.Erasure.Consequences.Soundness.html#8599" class="Function">⊢εΣ</a> <a id="8710" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8712" href="Graded.Erasure.Consequences.Soundness.html#8669" class="Function">εΣ⊢Σ</a>
  <a id="8719" href="Graded.Erasure.Consequences.Soundness.html#8719" class="Function">εΣΣ⊢ℕ</a> <a id="8725" class="Symbol">=</a> <a id="8727" href="Definition.Typed.html#1159" class="InductiveConstructor">ℕⱼ</a> <a id="8730" href="Graded.Erasure.Consequences.Soundness.html#8699" class="Function">⊢εΣΣ</a>
  <a id="8737" href="Graded.Erasure.Consequences.Soundness.html#8737" class="Function">⊢εΣℕℕ</a> <a id="8743" class="Symbol">=</a> <a id="8745" href="Graded.Erasure.Consequences.Soundness.html#8631" class="Function">⊢εΣℕ</a> <a id="8750" href="Definition.Typed.html#1012" class="InductiveConstructor Operator">∙</a> <a id="8752" href="Graded.Erasure.Consequences.Soundness.html#8651" class="Function">εΣℕ⊢ℕ</a>
  <a id="8760" href="Graded.Erasure.Consequences.Soundness.html#8760" class="Function">⊢prodrec</a> <a id="8769" class="Symbol">=</a>
    <a id="8775" href="Definition.Typed.html#2625" class="InductiveConstructor">prodrecⱼ</a> <a id="8784" class="Symbol">{</a><a id="8785" class="Argument">r</a> <a id="8787" class="Symbol">=</a> <a id="8789" href="Graded.Modality.html#870" class="Function">𝟘</a><a id="8790" class="Symbol">}</a> <a id="8792" href="Graded.Erasure.Consequences.Soundness.html#8615" class="Function">εΣ⊢ℕ</a> <a id="8797" href="Graded.Erasure.Consequences.Soundness.html#8651" class="Function">εΣℕ⊢ℕ</a> <a id="8803" href="Graded.Erasure.Consequences.Soundness.html#8719" class="Function">εΣΣ⊢ℕ</a> <a id="8809" class="Symbol">(</a><a id="8810" href="Definition.Typed.html#1853" class="InductiveConstructor">var</a> <a id="8814" href="Graded.Erasure.Consequences.Soundness.html#8599" class="Function">⊢εΣ</a> <a id="8818" href="Definition.Typed.html#835" class="InductiveConstructor">here</a><a id="8822" class="Symbol">)</a> <a id="8824" class="Symbol">(</a><a id="8825" href="Definition.Typed.html#2908" class="InductiveConstructor">zeroⱼ</a> <a id="8831" href="Graded.Erasure.Consequences.Soundness.html#8737" class="Function">⊢εΣℕℕ</a><a id="8836" class="Symbol">)</a> <a id="8838" href="Graded.Erasure.Consequences.Soundness.html#7529" class="Bound">Σᵣ-ok</a>

<a id="8845" class="Comment">-- The above counterexample for the source language is not a</a>
<a id="8906" class="Comment">-- counterexample to canonicity for the target language.</a>

<a id="soundness-ℕ-only-target-not-counterexample"></a><a id="8964" href="Graded.Erasure.Consequences.Soundness.html#8964" class="Function">soundness-ℕ-only-target-not-counterexample</a> <a id="9007" class="Symbol">:</a>
  <a id="9011" class="Keyword">let</a> <a id="9015" href="Graded.Erasure.Consequences.Soundness.html#9015" class="Bound">t</a> <a id="9017" class="Symbol">=</a> <a id="9019" href="Definition.Untyped.html#3587" class="InductiveConstructor">prodrec</a> <a id="9027" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="9029" href="Graded.Erasure.Consequences.Soundness.html#2042" class="Generalizable">p</a> <a id="9031" href="Graded.Modality.html#870" class="Function">𝟘</a> <a id="9033" href="Definition.Untyped.html#2627" class="InductiveConstructor">ℕ</a> <a id="9035" class="Symbol">(</a><a id="9036" class="InductiveConstructor">var</a> <a id="9040" class="Symbol">{</a><a id="9041" class="Argument">n</a> <a id="9043" class="Symbol">=</a> <a id="9045" class="Number">1</a><a id="9046" class="Symbol">}</a> <a id="9048" href="Data.Fin.Base.html#1157" class="InductiveConstructor">x0</a><a id="9050" class="Symbol">)</a> <a id="9052" href="Definition.Untyped.html#3659" class="InductiveConstructor">zero</a>
  <a id="9059" class="Keyword">in</a>  <a id="9063" href="Graded.Erasure.Extraction.html#995" class="Function">erase</a> <a id="9069" href="Graded.Erasure.Consequences.Soundness.html#9015" class="Bound">t</a> <a id="9071" href="Graded.Erasure.SucRed.html#3281" class="Datatype Operator">⇒ˢ*</a> <a id="9075" href="Graded.Erasure.Consequences.Soundness.html#2216" class="Function">sucᵏ′</a> <a id="9081" class="Number">0</a>
<a id="9083" href="Graded.Erasure.Consequences.Soundness.html#8964" class="Function">soundness-ℕ-only-target-not-counterexample</a>
  <a id="9128" class="Keyword">with</a> <a id="9133" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a> <a id="9139" href="Graded.Modality.html#870" class="Function">𝟘</a>
<a id="9141" href="Graded.Erasure.Consequences.Soundness.html#8964" class="Function">...</a> <a id="9145" class="Symbol">|</a> <a id="9147" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="9150" href="Graded.Erasure.Consequences.Soundness.html#9150" class="Bound">𝟘≢𝟘</a> <a id="9154" class="Symbol">=</a> <a id="9156" href="Data.Empty.html#637" class="Function">⊥-elim</a> <a id="9163" class="Symbol">(</a><a id="9164" href="Graded.Erasure.Consequences.Soundness.html#9150" class="Bound">𝟘≢𝟘</a> <a id="9168" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="9172" class="Symbol">)</a>
<a id="9174" href="Graded.Erasure.Consequences.Soundness.html#8964" class="Function">...</a> <a id="9178" class="Symbol">|</a> <a id="9180" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="9184" class="Symbol">_</a> <a id="9186" class="Symbol">=</a> <a id="9188" href="Graded.Erasure.SucRed.html#3337" class="InductiveConstructor">trans</a> <a id="9194" class="Symbol">(</a><a id="9195" href="Graded.Erasure.SucRed.html#3117" class="InductiveConstructor">whred</a> <a id="9201" href="Graded.Erasure.Target.html#5689" class="InductiveConstructor">T.prodrec-β</a><a id="9212" class="Symbol">)</a> <a id="9214" href="Graded.Erasure.SucRed.html#3320" class="InductiveConstructor">refl</a>
</pre></body></html>