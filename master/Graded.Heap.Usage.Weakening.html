<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Usage.Weakening</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Weakening properties of the usage relation for Stacks.</a>
<a id="132" class="Comment">------------------------------------------------------------------------</a>

<a id="206" class="Keyword">open</a> <a id="211" class="Keyword">import</a> <a id="218" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a>

<a id="355" class="Keyword">module</a> <a id="362" href="Graded.Heap.Usage.Weakening.html" class="Module">Graded.Heap.Usage.Weakening</a>
  <a id="392" class="Symbol">{</a><a id="393" href="Graded.Heap.Usage.Weakening.html#393" class="Bound">a</a><a id="394" class="Symbol">}</a> <a id="396" class="Symbol">{</a><a id="397" href="Graded.Heap.Usage.Weakening.html#397" class="Bound">M</a> <a id="399" class="Symbol">:</a> <a id="401" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="405" href="Graded.Heap.Usage.Weakening.html#393" class="Bound">a</a><a id="406" class="Symbol">}</a> <a id="408" class="Symbol">{</a><a id="409" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a> <a id="411" class="Symbol">:</a> <a id="413" href="Graded.Modality.html#9626" class="Record">Modality</a> <a id="422" href="Graded.Heap.Usage.Weakening.html#397" class="Bound">M</a><a id="423" class="Symbol">}</a>
  <a id="427" class="Symbol">(</a><a id="428" href="Graded.Heap.Usage.Weakening.html#428" class="Bound">type-variant</a> <a id="441" class="Symbol">:</a> <a id="443" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a><a id="455" class="Symbol">)</a>
  <a id="459" class="Symbol">(</a><a id="460" href="Graded.Heap.Usage.Weakening.html#460" class="Bound">UR</a> <a id="463" class="Symbol">:</a> <a id="465" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="484" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a><a id="485" class="Symbol">)</a>
  <a id="489" class="Symbol">(</a><a id="490" class="Keyword">open</a> <a id="495" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="514" href="Graded.Heap.Usage.Weakening.html#460" class="Bound">UR</a><a id="516" class="Symbol">)</a>
  <a id="520" class="Symbol">(</a><a id="521" href="Graded.Heap.Usage.Weakening.html#521" class="Bound">factoring-nr</a> <a id="534" class="Symbol">:</a>
    <a id="540" class="Symbol">⦃</a> <a id="542" href="Graded.Heap.Usage.Weakening.html#542" class="Bound">has-nr</a> <a id="549" class="Symbol">:</a> <a id="551" href="Graded.Usage.Restrictions.html#3510" class="Function">Nr-available</a> <a id="564" class="Symbol">⦄</a> <a id="566" class="Symbol">→</a>
    <a id="572" href="Graded.Modality.html#7302" class="Record">Is-factoring-nr</a> <a id="588" href="Graded.Heap.Usage.Weakening.html#397" class="Bound">M</a> <a id="590" class="Symbol">(</a><a id="591" href="Graded.Usage.Restrictions.Natrec.html#2196" class="Function">Natrec-mode-Has-nr</a> <a id="610" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a> <a id="612" href="Graded.Heap.Usage.Weakening.html#542" class="Bound">has-nr</a><a id="618" class="Symbol">))</a>
  <a id="623" class="Keyword">where</a>

<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="652" class="Keyword">open</a> <a id="657" class="Keyword">import</a> <a id="664" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="718" class="Keyword">import</a> <a id="725" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a>

<a id="754" class="Keyword">open</a> <a id="759" class="Keyword">import</a> <a id="766" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="785" href="Graded.Heap.Usage.Weakening.html#397" class="Bound">M</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="814" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a>
<a id="816" class="Keyword">open</a> <a id="821" class="Keyword">import</a> <a id="828" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="854" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a>
<a id="856" class="Keyword">open</a> <a id="861" class="Keyword">import</a> <a id="868" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="893" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a>
<a id="895" class="Keyword">open</a> <a id="900" class="Keyword">import</a> <a id="907" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="919" href="Graded.Heap.Usage.Weakening.html#409" class="Bound">𝕄</a>

<a id="922" class="Keyword">open</a> <a id="927" class="Keyword">import</a> <a id="934" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="954" href="Graded.Heap.Usage.Weakening.html#428" class="Bound">type-variant</a> <a id="967" href="Graded.Heap.Usage.Weakening.html#460" class="Bound">UR</a> <a id="970" href="Graded.Heap.Usage.Weakening.html#521" class="Bound">factoring-nr</a>
<a id="983" class="Keyword">open</a> <a id="988" class="Keyword">import</a> <a id="995" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1026" href="Graded.Heap.Usage.Weakening.html#428" class="Bound">type-variant</a> <a id="1039" href="Graded.Heap.Usage.Weakening.html#460" class="Bound">UR</a> <a id="1042" href="Graded.Heap.Usage.Weakening.html#521" class="Bound">factoring-nr</a>
<a id="1055" class="Keyword">open</a> <a id="1060" class="Keyword">import</a> <a id="1067" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1085" href="Graded.Heap.Usage.Weakening.html#428" class="Bound">type-variant</a> <a id="1098" href="Graded.Heap.Usage.Weakening.html#460" class="Bound">UR</a> <a id="1101" href="Graded.Heap.Usage.Weakening.html#521" class="Bound">factoring-nr</a>


<a id="1116" class="Keyword">private</a> <a id="1124" class="Keyword">variable</a>
  <a id="1135" href="Graded.Heap.Usage.Weakening.html#1135" class="Generalizable">ℓ</a> <a id="1137" href="Graded.Heap.Usage.Weakening.html#1137" class="Generalizable">k</a> <a id="1139" href="Graded.Heap.Usage.Weakening.html#1139" class="Generalizable">n</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="1149" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="1151" href="Graded.Heap.Usage.Weakening.html#1151" class="Generalizable">δ</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Graded.Context.html#729" class="Datatype">Conₘ</a> <a id="1160" class="Symbol">_</a>
  <a id="1164" href="Graded.Heap.Usage.Weakening.html#1164" class="Generalizable">e</a> <a id="1166" class="Symbol">:</a> <a id="1168" href="Graded.Heap.Untyped.html#2597" class="Datatype">Elim</a> <a id="1173" class="Symbol">_</a>
  <a id="1177" href="Graded.Heap.Usage.Weakening.html#1177" class="Generalizable">S</a> <a id="1179" class="Symbol">:</a> <a id="1181" href="Graded.Heap.Untyped.html#5884" class="Datatype">Stack</a> <a id="1187" class="Symbol">_</a>
  <a id="1191" href="Graded.Heap.Usage.Weakening.html#1191" class="Generalizable">ρ</a> <a id="1193" href="Graded.Heap.Usage.Weakening.html#1193" class="Generalizable">ρ′</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1201" class="Symbol">_</a> <a id="1203" class="Symbol">_</a>
  <a id="1207" href="Graded.Heap.Usage.Weakening.html#1207" class="Generalizable">p</a> <a id="1209" href="Graded.Heap.Usage.Weakening.html#1209" class="Generalizable">q</a> <a id="1211" class="Symbol">:</a> <a id="1213" href="Graded.Heap.Usage.Weakening.html#397" class="Bound">M</a>
  <a id="1217" href="Graded.Heap.Usage.Weakening.html#1217" class="Generalizable">m</a> <a id="1219" class="Symbol">:</a> <a id="1221" href="Graded.Mode.html#1062" class="Datatype">Mode</a>

<a id="1227" class="Keyword">private</a> <a id="1235" class="Keyword">opaque</a>

  <a id="·ᶜ-•"></a><a id="1245" href="Graded.Heap.Usage.Weakening.html#1245" class="Function">·ᶜ-•</a> <a id="1250" class="Symbol">:</a> <a id="1252" class="Symbol">∀</a> <a id="1254" href="Graded.Heap.Usage.Weakening.html#1254" class="Bound">γ</a> <a id="1256" class="Symbol">(</a><a id="1257" href="Graded.Heap.Usage.Weakening.html#1257" class="Bound">ρ</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1264" href="Graded.Heap.Usage.Weakening.html#1135" class="Generalizable">ℓ</a> <a id="1266" href="Graded.Heap.Usage.Weakening.html#1139" class="Generalizable">n</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Graded.Heap.Usage.Weakening.html#1270" class="Bound">ρ′</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1278" href="Graded.Heap.Usage.Weakening.html#1139" class="Generalizable">n</a> <a id="1280" href="Graded.Heap.Usage.Weakening.html#1137" class="Generalizable">k</a><a id="1281" class="Symbol">)</a>
       <a id="1290" class="Symbol">→</a> <a id="1292" href="Graded.Heap.Usage.Weakening.html#1207" class="Generalizable">p</a> <a id="1294" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="1297" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1304" class="Symbol">(</a><a id="1305" href="Graded.Heap.Usage.Weakening.html#1257" class="Bound">ρ</a> <a id="1307" href="Definition.Untyped.NotParametrised.html#3317" class="Function Operator">•</a> <a id="1309" href="Graded.Heap.Usage.Weakening.html#1270" class="Bound">ρ′</a><a id="1311" class="Symbol">)</a> <a id="1313" href="Graded.Heap.Usage.Weakening.html#1254" class="Bound">γ</a> <a id="1315" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="1318" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1325" href="Graded.Heap.Usage.Weakening.html#1257" class="Bound">ρ</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Graded.Heap.Usage.Weakening.html#1207" class="Generalizable">p</a> <a id="1330" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="1333" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1340" href="Graded.Heap.Usage.Weakening.html#1270" class="Bound">ρ′</a> <a id="1343" href="Graded.Heap.Usage.Weakening.html#1254" class="Bound">γ</a><a id="1344" class="Symbol">)</a>
  <a id="1348" href="Graded.Heap.Usage.Weakening.html#1245" class="Function">·ᶜ-•</a> <a id="1353" class="Symbol">{</a><a id="1354" class="Argument">p</a> <a id="1356" class="Symbol">=</a> <a id="1358" href="Graded.Heap.Usage.Weakening.html#1358" class="Bound">p</a><a id="1359" class="Symbol">}</a> <a id="1361" href="Graded.Heap.Usage.Weakening.html#1361" class="Bound">γ</a> <a id="1363" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1365" href="Graded.Heap.Usage.Weakening.html#1365" class="Bound">ρ′</a> <a id="1368" class="Symbol">=</a> <a id="1370" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="1380" href="Graded.Heap.Usage.Weakening.html#1358" class="Bound">p</a> <a id="1382" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="1385" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1395" href="Definition.Untyped.NotParametrised.html#3317" class="Function Operator">•</a> <a id="1397" href="Graded.Heap.Usage.Weakening.html#1365" class="Bound">ρ′</a><a id="1399" class="Symbol">)</a> <a id="1401" href="Graded.Heap.Usage.Weakening.html#1361" class="Bound">γ</a>       <a id="1409" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1412" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="1417" class="Symbol">(</a><a id="1418" href="Graded.Heap.Usage.Weakening.html#1358" class="Bound">p</a> <a id="1420" href="Graded.Context.html#1806" class="Function Operator">·ᶜ_</a><a id="1423" class="Symbol">)</a> <a id="1425" class="Symbol">(</a><a id="1426" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="1432" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1434" href="Graded.Heap.Usage.Weakening.html#1365" class="Bound">ρ′</a><a id="1436" class="Symbol">)</a> <a id="1438" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="1444" href="Graded.Heap.Usage.Weakening.html#1358" class="Bound">p</a> <a id="1446" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="1449" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1456" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1458" class="Symbol">(</a><a id="1459" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1466" href="Graded.Heap.Usage.Weakening.html#1365" class="Bound">ρ′</a> <a id="1469" href="Graded.Heap.Usage.Weakening.html#1361" class="Bound">γ</a><a id="1470" class="Symbol">)</a>  <a id="1473" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="1477" href="Graded.Context.Weakening.html#1725" class="Function">wk-·ᶜ</a> <a id="1483" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1485" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="1491" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1498" href="Graded.Heap.Usage.Weakening.html#1363" class="Bound">ρ</a> <a id="1500" class="Symbol">(</a><a id="1501" href="Graded.Heap.Usage.Weakening.html#1358" class="Bound">p</a> <a id="1503" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="1506" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1513" href="Graded.Heap.Usage.Weakening.html#1365" class="Bound">ρ′</a> <a id="1516" href="Graded.Heap.Usage.Weakening.html#1361" class="Bound">γ</a><a id="1517" class="Symbol">)</a>  <a id="1520" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="1526" class="Keyword">where</a>
    <a id="1536" class="Keyword">open</a> <a id="1541" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="1569" href="Graded.Context.Properties.Equivalence.html#1296" class="Function">Conₘ-setoid</a>

<a id="1582" class="Keyword">opaque</a>

  <a id="1592" class="Comment">-- Usage of weakened eliminators.</a>

  <a id="wk-▸ᵉ"></a><a id="1629" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="1635" class="Symbol">:</a> <a id="1637" class="Symbol">(</a><a id="1638" href="Graded.Heap.Usage.Weakening.html#1638" class="Bound">ρ</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1645" href="Graded.Heap.Usage.Weakening.html#1137" class="Generalizable">k</a> <a id="1647" href="Graded.Heap.Usage.Weakening.html#1139" class="Generalizable">n</a><a id="1648" class="Symbol">)</a> <a id="1650" class="Symbol">→</a> <a id="1652" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="1654" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">▸ᵉ[</a> <a id="1658" href="Graded.Heap.Usage.Weakening.html#1217" class="Generalizable">m</a> <a id="1660" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1662" href="Graded.Heap.Usage.Weakening.html#1164" class="Generalizable">e</a> <a id="1664" class="Symbol">→</a> <a id="1666" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="1673" href="Graded.Heap.Usage.Weakening.html#1638" class="Bound">ρ</a> <a id="1675" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="1677" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">▸ᵉ[</a> <a id="1681" href="Graded.Heap.Usage.Weakening.html#1217" class="Generalizable">m</a> <a id="1683" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1685" href="Graded.Heap.Untyped.html#3862" class="Function">wkᵉ</a> <a id="1689" href="Graded.Heap.Usage.Weakening.html#1638" class="Bound">ρ</a> <a id="1691" href="Graded.Heap.Usage.Weakening.html#1164" class="Generalizable">e</a>
  <a id="1695" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="1701" href="Graded.Heap.Usage.Weakening.html#1701" class="Bound">ρ</a> <a id="1703" class="Symbol">(</a><a id="1704" href="Graded.Heap.Usage.html#2378" class="InductiveConstructor">∘ₑ</a> <a id="1707" class="Symbol">{</a><a id="1708" href="Graded.Heap.Usage.Weakening.html#1708" class="Bound">γ</a><a id="1709" class="Symbol">}</a> <a id="1711" class="Symbol">{</a><a id="1712" href="Graded.Heap.Usage.Weakening.html#1712" class="Bound">m</a><a id="1713" class="Symbol">}</a> <a id="1715" class="Symbol">{</a><a id="1716" class="Argument">ρ</a> <a id="1718" class="Symbol">=</a> <a id="1720" href="Graded.Heap.Usage.Weakening.html#1720" class="Bound">ρ′</a><a id="1722" class="Symbol">}</a> <a id="1724" href="Graded.Heap.Usage.Weakening.html#1724" class="Bound">▸u</a><a id="1726" class="Symbol">)</a> <a id="1728" class="Symbol">=</a>
    <a id="1734" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="1740" class="Symbol">(</a><a id="1741" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="1746" class="Symbol">_</a> <a id="1748" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1750" class="Symbol">_)</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Graded.Context.Properties.Equivalence.html#1583" class="Function">≈ᶜ→≡</a> <a id="1759" class="Symbol">(</a><a id="1760" href="Graded.Heap.Usage.Weakening.html#1245" class="Function">·ᶜ-•</a> <a id="1765" href="Graded.Heap.Usage.Weakening.html#1708" class="Bound">γ</a> <a id="1767" href="Graded.Heap.Usage.Weakening.html#1701" class="Bound">ρ</a> <a id="1769" href="Graded.Heap.Usage.Weakening.html#1720" class="Bound">ρ′</a><a id="1771" class="Symbol">))</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Graded.Heap.Usage.html#2378" class="InductiveConstructor">∘ₑ</a> <a id="1778" class="Symbol">{</a><a id="1779" class="Argument">m</a> <a id="1781" class="Symbol">=</a> <a id="1783" href="Graded.Heap.Usage.Weakening.html#1712" class="Bound">m</a><a id="1784" class="Symbol">}</a> <a id="1786" href="Graded.Heap.Usage.Weakening.html#1724" class="Bound">▸u</a><a id="1788" class="Symbol">)</a>
  <a id="1792" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="1798" href="Graded.Heap.Usage.Weakening.html#1798" class="Bound">ρ</a> <a id="1800" class="Symbol">(</a><a id="1801" href="Graded.Heap.Usage.html#2436" class="InductiveConstructor">fstₑ</a> <a id="1806" href="Graded.Heap.Usage.Weakening.html#1806" class="Bound">p≤𝟙</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">=</a>
    <a id="1817" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="1829" class="Symbol">_</a> <a id="1831" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1833" class="Symbol">_)</a> <a id="1836" class="Symbol">(</a><a id="1837" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="1841" class="Symbol">(</a><a id="1842" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="1848" href="Graded.Heap.Usage.Weakening.html#1798" class="Bound">ρ</a><a id="1849" class="Symbol">))</a> <a id="1852" class="Symbol">(</a><a id="1853" href="Graded.Heap.Usage.html#2436" class="InductiveConstructor">fstₑ</a> <a id="1858" href="Graded.Heap.Usage.Weakening.html#1806" class="Bound">p≤𝟙</a><a id="1861" class="Symbol">)</a>
  <a id="1865" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="1871" href="Graded.Heap.Usage.Weakening.html#1871" class="Bound">ρ</a> <a id="1873" href="Graded.Heap.Usage.html#2482" class="InductiveConstructor">sndₑ</a> <a id="1878" class="Symbol">=</a>
    <a id="1884" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="1890" class="Symbol">(</a><a id="1891" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="1896" class="Symbol">_</a> <a id="1898" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1900" class="Symbol">_)</a> <a id="1903" class="Symbol">(</a><a id="1904" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="1915" href="Graded.Heap.Usage.Weakening.html#1871" class="Bound">ρ</a><a id="1916" class="Symbol">))</a> <a id="1919" href="Graded.Heap.Usage.html#2482" class="InductiveConstructor">sndₑ</a>
  <a id="1926" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="1932" href="Graded.Heap.Usage.Weakening.html#1932" class="Bound">ρ</a> <a id="1934" class="Symbol">(</a><a id="1935" href="Graded.Heap.Usage.html#2509" class="InductiveConstructor">prodrecₑ</a> <a id="1944" class="Symbol">{</a><a id="1945" class="Argument">ρ</a> <a id="1947" class="Symbol">=</a> <a id="1949" href="Graded.Heap.Usage.Weakening.html#1949" class="Bound">ρ′</a><a id="1951" class="Symbol">}</a> <a id="1953" href="Graded.Heap.Usage.Weakening.html#1953" class="Bound">▸u</a> <a id="1956" href="Graded.Heap.Usage.Weakening.html#1956" class="Bound">ok</a><a id="1958" class="Symbol">)</a> <a id="1960" class="Symbol">=</a>
    <a id="1966" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="1972" class="Symbol">(</a><a id="1973" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="1978" class="Symbol">_</a> <a id="1980" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="1982" class="Symbol">_)</a> <a id="1985" class="Symbol">(</a><a id="1986" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="1992" href="Graded.Heap.Usage.Weakening.html#1932" class="Bound">ρ</a> <a id="1994" href="Graded.Heap.Usage.Weakening.html#1949" class="Bound">ρ′</a><a id="1996" class="Symbol">)</a> <a id="1998" class="Symbol">(</a><a id="1999" href="Graded.Heap.Usage.html#2509" class="InductiveConstructor">prodrecₑ</a> <a id="2008" href="Graded.Heap.Usage.Weakening.html#1953" class="Bound">▸u</a> <a id="2011" href="Graded.Heap.Usage.Weakening.html#1956" class="Bound">ok</a><a id="2013" class="Symbol">)</a>
  <a id="2017" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2023" href="Graded.Heap.Usage.Weakening.html#2023" class="Bound">ρ</a> <a id="2025" class="Symbol">(</a><a id="2026" href="Graded.Heap.Usage.html#2640" class="InductiveConstructor">natrecₑ</a> <a id="2034" class="Symbol">{</a><a id="2035" class="Argument">ρ</a> <a id="2037" class="Symbol">=</a> <a id="2039" href="Graded.Heap.Usage.Weakening.html#2039" class="Bound">ρ′</a><a id="2041" class="Symbol">}</a> <a id="2043" href="Graded.Heap.Usage.Weakening.html#2043" class="Bound">▸z</a> <a id="2046" href="Graded.Heap.Usage.Weakening.html#2046" class="Bound">▸s</a> <a id="2049" href="Graded.Heap.Usage.Weakening.html#2049" class="Bound">▸A</a> <a id="2052" href="Graded.Heap.Usage.Weakening.html#2052" class="Bound">≡nr₂</a><a id="2056" class="Symbol">)</a> <a id="2058" class="Symbol">=</a>
    <a id="2064" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2070" class="Symbol">(</a><a id="2071" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2076" class="Symbol">_</a> <a id="2078" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2080" class="Symbol">_)</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="2090" href="Graded.Heap.Usage.Weakening.html#2023" class="Bound">ρ</a> <a id="2092" href="Graded.Heap.Usage.Weakening.html#2039" class="Bound">ρ′</a><a id="2094" class="Symbol">)</a> <a id="2096" class="Symbol">(</a><a id="2097" href="Graded.Heap.Usage.html#2640" class="InductiveConstructor">natrecₑ</a> <a id="2105" href="Graded.Heap.Usage.Weakening.html#2043" class="Bound">▸z</a> <a id="2108" href="Graded.Heap.Usage.Weakening.html#2046" class="Bound">▸s</a> <a id="2111" href="Graded.Heap.Usage.Weakening.html#2049" class="Bound">▸A</a> <a id="2114" href="Graded.Heap.Usage.Weakening.html#2052" class="Bound">≡nr₂</a><a id="2118" class="Symbol">)</a>
  <a id="2122" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2128" href="Graded.Heap.Usage.Weakening.html#2128" class="Bound">ρ</a> <a id="2130" class="Symbol">(</a><a id="2131" href="Graded.Heap.Usage.html#2875" class="InductiveConstructor">natrec-no-nrₑ</a> <a id="2145" class="Symbol">{</a><a id="2146" class="Argument">ρ</a> <a id="2148" class="Symbol">=</a> <a id="2150" href="Graded.Heap.Usage.Weakening.html#2150" class="Bound">ρ′</a><a id="2152" class="Symbol">}</a> <a id="2154" href="Graded.Heap.Usage.Weakening.html#2154" class="Bound">▸z</a> <a id="2157" href="Graded.Heap.Usage.Weakening.html#2157" class="Bound">▸s</a> <a id="2160" href="Graded.Heap.Usage.Weakening.html#2160" class="Bound">▸A</a> <a id="2163" href="Graded.Heap.Usage.Weakening.html#2163" class="Bound">q-glb</a> <a id="2169" href="Graded.Heap.Usage.Weakening.html#2169" class="Bound">χ-glb</a><a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">=</a>
    <a id="2182" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2188" class="Symbol">(</a><a id="2189" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2194" class="Symbol">_</a> <a id="2196" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2198" class="Symbol">_)</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="2208" href="Graded.Heap.Usage.Weakening.html#2128" class="Bound">ρ</a> <a id="2210" href="Graded.Heap.Usage.Weakening.html#2150" class="Bound">ρ′</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Graded.Heap.Usage.html#2875" class="InductiveConstructor">natrec-no-nrₑ</a> <a id="2229" href="Graded.Heap.Usage.Weakening.html#2154" class="Bound">▸z</a> <a id="2232" href="Graded.Heap.Usage.Weakening.html#2157" class="Bound">▸s</a> <a id="2235" href="Graded.Heap.Usage.Weakening.html#2160" class="Bound">▸A</a> <a id="2238" href="Graded.Heap.Usage.Weakening.html#2163" class="Bound">q-glb</a> <a id="2244" href="Graded.Heap.Usage.Weakening.html#2169" class="Bound">χ-glb</a><a id="2249" class="Symbol">)</a>
  <a id="2253" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2259" href="Graded.Heap.Usage.Weakening.html#2259" class="Bound">ρ</a> <a id="2261" class="Symbol">(</a><a id="2262" href="Graded.Heap.Usage.html#3210" class="InductiveConstructor">unitrecₑ</a> <a id="2271" class="Symbol">{</a><a id="2272" class="Argument">ρ</a> <a id="2274" class="Symbol">=</a> <a id="2276" href="Graded.Heap.Usage.Weakening.html#2276" class="Bound">ρ′</a><a id="2278" class="Symbol">}</a> <a id="2280" href="Graded.Heap.Usage.Weakening.html#2280" class="Bound">▸u</a> <a id="2283" href="Graded.Heap.Usage.Weakening.html#2283" class="Bound">ok</a> <a id="2286" href="Graded.Heap.Usage.Weakening.html#2286" class="Bound">no-η</a><a id="2290" class="Symbol">)</a> <a id="2292" class="Symbol">=</a>
    <a id="2298" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2304" class="Symbol">(</a><a id="2305" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2310" class="Symbol">_</a> <a id="2312" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2314" class="Symbol">_)</a> <a id="2317" class="Symbol">(</a><a id="2318" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="2324" href="Graded.Heap.Usage.Weakening.html#2259" class="Bound">ρ</a> <a id="2326" href="Graded.Heap.Usage.Weakening.html#2276" class="Bound">ρ′</a><a id="2328" class="Symbol">)</a> <a id="2330" class="Symbol">(</a><a id="2331" href="Graded.Heap.Usage.html#3210" class="InductiveConstructor">unitrecₑ</a> <a id="2340" href="Graded.Heap.Usage.Weakening.html#2280" class="Bound">▸u</a> <a id="2343" href="Graded.Heap.Usage.Weakening.html#2283" class="Bound">ok</a> <a id="2346" href="Graded.Heap.Usage.Weakening.html#2286" class="Bound">no-η</a><a id="2350" class="Symbol">)</a>
  <a id="2354" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2360" href="Graded.Heap.Usage.Weakening.html#2360" class="Bound">ρ</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Graded.Heap.Usage.html#3323" class="InductiveConstructor">emptyrecₑ</a> <a id="2373" href="Graded.Heap.Usage.Weakening.html#2373" class="Bound">ok</a><a id="2375" class="Symbol">)</a> <a id="2377" class="Symbol">=</a>
    <a id="2383" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2389" class="Symbol">(</a><a id="2390" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2395" class="Symbol">_</a> <a id="2397" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2399" class="Symbol">_)</a> <a id="2402" class="Symbol">(</a><a id="2403" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2407" class="Symbol">(</a><a id="2408" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="2414" href="Graded.Heap.Usage.Weakening.html#2360" class="Bound">ρ</a><a id="2415" class="Symbol">))</a> <a id="2418" class="Symbol">(</a><a id="2419" href="Graded.Heap.Usage.html#3323" class="InductiveConstructor">emptyrecₑ</a> <a id="2429" href="Graded.Heap.Usage.Weakening.html#2373" class="Bound">ok</a><a id="2431" class="Symbol">)</a>
  <a id="2435" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2441" href="Graded.Heap.Usage.Weakening.html#2441" class="Bound">ρ</a> <a id="2443" class="Symbol">(</a><a id="2444" href="Graded.Heap.Usage.html#3387" class="InductiveConstructor">Jₑ</a> <a id="2447" class="Symbol">{</a><a id="2448" class="Argument">ρ</a> <a id="2450" class="Symbol">=</a> <a id="2452" href="Graded.Heap.Usage.Weakening.html#2452" class="Bound">ρ′</a><a id="2454" class="Symbol">}</a> <a id="2456" href="Graded.Heap.Usage.Weakening.html#2456" class="Bound">▸u</a><a id="2458" class="Symbol">)</a> <a id="2460" class="Symbol">=</a>
    <a id="2466" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2472" class="Symbol">(</a><a id="2473" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2478" class="Symbol">_</a> <a id="2480" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2482" class="Symbol">_)</a> <a id="2485" class="Symbol">(</a><a id="2486" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="2492" href="Graded.Heap.Usage.Weakening.html#2441" class="Bound">ρ</a> <a id="2494" href="Graded.Heap.Usage.Weakening.html#2452" class="Bound">ρ′</a><a id="2496" class="Symbol">)</a> <a id="2498" class="Symbol">(</a><a id="2499" href="Graded.Heap.Usage.html#3387" class="InductiveConstructor">Jₑ</a> <a id="2502" href="Graded.Heap.Usage.Weakening.html#2456" class="Bound">▸u</a><a id="2504" class="Symbol">)</a>
  <a id="2508" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2514" href="Graded.Heap.Usage.Weakening.html#2514" class="Bound">ρ</a> <a id="2516" class="Symbol">(</a><a id="2517" href="Graded.Heap.Usage.html#3445" class="InductiveConstructor">Kₑ</a> <a id="2520" class="Symbol">{</a><a id="2521" class="Argument">ρ</a> <a id="2523" class="Symbol">=</a> <a id="2525" href="Graded.Heap.Usage.Weakening.html#2525" class="Bound">ρ′</a><a id="2527" class="Symbol">}</a> <a id="2529" href="Graded.Heap.Usage.Weakening.html#2529" class="Bound">▸u</a><a id="2531" class="Symbol">)</a> <a id="2533" class="Symbol">=</a>
    <a id="2539" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2545" class="Symbol">(</a><a id="2546" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2551" class="Symbol">_</a> <a id="2553" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2555" class="Symbol">_)</a> <a id="2558" class="Symbol">(</a><a id="2559" href="Graded.Context.Weakening.html#4231" class="Function">wk-•ᶜ</a> <a id="2565" href="Graded.Heap.Usage.Weakening.html#2514" class="Bound">ρ</a> <a id="2567" href="Graded.Heap.Usage.Weakening.html#2525" class="Bound">ρ′</a><a id="2569" class="Symbol">)</a> <a id="2571" class="Symbol">(</a><a id="2572" href="Graded.Heap.Usage.html#3445" class="InductiveConstructor">Kₑ</a> <a id="2575" href="Graded.Heap.Usage.Weakening.html#2529" class="Bound">▸u</a><a id="2577" class="Symbol">)</a>
  <a id="2581" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2587" href="Graded.Heap.Usage.Weakening.html#2587" class="Bound">ρ</a> <a id="2589" class="Symbol">(</a><a id="2590" href="Graded.Heap.Usage.html#3499" class="InductiveConstructor">[]-congₑ</a> <a id="2599" href="Graded.Heap.Usage.Weakening.html#2599" class="Bound">ok</a><a id="2601" class="Symbol">)</a> <a id="2603" class="Symbol">=</a>
    <a id="2609" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2615" class="Symbol">(</a><a id="2616" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">_▸ᵉ[</a> <a id="2621" class="Symbol">_</a> <a id="2623" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">]</a> <a id="2625" class="Symbol">_)</a> <a id="2628" class="Symbol">(</a><a id="2629" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2633" class="Symbol">(</a><a id="2634" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="2640" href="Graded.Heap.Usage.Weakening.html#2587" class="Bound">ρ</a><a id="2641" class="Symbol">))</a> <a id="2644" class="Symbol">(</a><a id="2645" href="Graded.Heap.Usage.html#3499" class="InductiveConstructor">[]-congₑ</a> <a id="2654" href="Graded.Heap.Usage.Weakening.html#2599" class="Bound">ok</a><a id="2656" class="Symbol">)</a>

<a id="2659" class="Keyword">opaque</a>

  <a id="2669" class="Comment">-- Usage of weakened stacks.</a>

  <a id="wk-▸ˢ"></a><a id="2701" href="Graded.Heap.Usage.Weakening.html#2701" class="Function">wk-▸ˢ</a> <a id="2707" class="Symbol">:</a> <a id="2709" class="Symbol">(</a><a id="2710" href="Graded.Heap.Usage.Weakening.html#2710" class="Bound">ρ</a> <a id="2712" class="Symbol">:</a> <a id="2714" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="2717" href="Graded.Heap.Usage.Weakening.html#1137" class="Generalizable">k</a> <a id="2719" href="Graded.Heap.Usage.Weakening.html#1139" class="Generalizable">n</a><a id="2720" class="Symbol">)</a> <a id="2722" class="Symbol">→</a> <a id="2724" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="2726" href="Graded.Heap.Usage.html#3596" class="Datatype Operator">▸ˢ</a> <a id="2729" href="Graded.Heap.Usage.Weakening.html#1177" class="Generalizable">S</a> <a id="2731" class="Symbol">→</a> <a id="2733" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="2740" href="Graded.Heap.Usage.Weakening.html#2710" class="Bound">ρ</a> <a id="2742" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="2744" href="Graded.Heap.Usage.html#3596" class="Datatype Operator">▸ˢ</a> <a id="2747" href="Graded.Heap.Untyped.html#6183" class="Function">wkˢ</a> <a id="2751" href="Graded.Heap.Usage.Weakening.html#2710" class="Bound">ρ</a> <a id="2753" href="Graded.Heap.Usage.Weakening.html#1177" class="Generalizable">S</a>
  <a id="2757" href="Graded.Heap.Usage.Weakening.html#2701" class="Function">wk-▸ˢ</a> <a id="2763" href="Graded.Heap.Usage.Weakening.html#2763" class="Bound">ρ</a> <a id="2765" href="Graded.Heap.Usage.html#3656" class="InductiveConstructor">ε</a> <a id="2767" class="Symbol">=</a> <a id="2769" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2775" class="Symbol">(</a><a id="2776" href="Graded.Heap.Usage.html#3596" class="Datatype Operator">_▸ˢ</a> <a id="2780" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a><a id="2781" class="Symbol">)</a> <a id="2783" class="Symbol">(</a><a id="2784" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2788" class="Symbol">(</a><a id="2789" href="Graded.Context.Weakening.html#1167" class="Function">wk-𝟘ᶜ</a> <a id="2795" href="Graded.Heap.Usage.Weakening.html#2763" class="Bound">ρ</a><a id="2796" class="Symbol">))</a> <a id="2799" href="Graded.Heap.Usage.html#3656" class="InductiveConstructor">ε</a>
  <a id="2803" href="Graded.Heap.Usage.Weakening.html#2701" class="Function">wk-▸ˢ</a> <a id="2809" class="Symbol">{</a><a id="2810" class="Argument">S</a> <a id="2812" class="Symbol">=</a> <a id="2814" href="Graded.Heap.Usage.Weakening.html#2814" class="Bound">e</a> <a id="2816" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="2818" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a><a id="2819" class="Symbol">}</a> <a id="2821" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="2823" class="Symbol">(</a><a id="2824" href="Graded.Heap.Usage.Weakening.html#2824" class="Bound">▸e</a> <a id="2827" href="Graded.Heap.Usage.html#3670" class="InductiveConstructor Operator">∙</a> <a id="2829" href="Graded.Heap.Usage.Weakening.html#2829" class="Bound">▸S</a><a id="2831" class="Symbol">)</a> <a id="2833" class="Symbol">=</a>
    <a id="2839" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Graded.Heap.Usage.html#3596" class="Datatype Operator">_▸ˢ</a> <a id="2850" class="Symbol">_)</a> <a id="2853" class="Symbol">(</a><a id="2854" href="Graded.Context.Properties.Equivalence.html#1583" class="Function">≈ᶜ→≡</a> <a id="2859" href="Graded.Heap.Usage.Weakening.html#3004" class="Function">lemma</a><a id="2864" class="Symbol">)</a>
      <a id="2872" class="Symbol">(</a><a id="2873" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2879" class="Symbol">(_</a> <a id="2882" href="Graded.Heap.Usage.html#2305" class="Datatype Operator">▸ᵉ[_]</a> <a id="2888" class="Symbol">_)</a> <a id="2891" class="Symbol">(</a><a id="2892" href="Graded.Mode.html#15645" class="Function">⌞⌟-cong</a> <a id="2900" class="Symbol">(</a><a id="2901" href="Graded.Heap.Untyped.Properties.html#14590" class="Function">wk-∣S∣</a> <a id="2908" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="2910" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a><a id="2911" class="Symbol">))</a> <a id="2914" class="Symbol">(</a><a id="2915" href="Graded.Heap.Usage.Weakening.html#1629" class="Function">wk-▸ᵉ</a> <a id="2921" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="2923" href="Graded.Heap.Usage.Weakening.html#2824" class="Bound">▸e</a><a id="2925" class="Symbol">)</a> <a id="2927" href="Graded.Heap.Usage.html#3670" class="InductiveConstructor Operator">∙</a> <a id="2929" href="Graded.Heap.Usage.Weakening.html#2701" class="Function">wk-▸ˢ</a> <a id="2935" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="2937" href="Graded.Heap.Usage.Weakening.html#2829" class="Bound">▸S</a><a id="2939" class="Symbol">)</a>
    <a id="2945" class="Keyword">where</a>
    <a id="2955" class="Keyword">open</a> <a id="2960" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="2988" href="Graded.Context.Properties.Equivalence.html#1296" class="Function">Conₘ-setoid</a>
    <a id="3004" href="Graded.Heap.Usage.Weakening.html#3004" class="Function">lemma</a> <a id="3010" class="Symbol">:</a> <a id="3012" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3019" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3021" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="3023" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3026" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3028" href="Graded.Heap.Untyped.html#6183" class="Function">wkˢ</a> <a id="3032" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3034" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3036" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3038" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3041" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3048" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3050" href="Graded.Heap.Usage.Weakening.html#1151" class="Generalizable">δ</a> <a id="3052" href="Graded.Context.html#871" class="Datatype Operator">≈ᶜ</a> <a id="3055" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3062" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3064" class="Symbol">(</a><a id="3065" href="Graded.Heap.Usage.Weakening.html#1149" class="Generalizable">γ</a> <a id="3067" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3070" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3072" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3074" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3076" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3079" href="Graded.Heap.Usage.Weakening.html#1151" class="Generalizable">δ</a><a id="3080" class="Symbol">)</a>
    <a id="3086" href="Graded.Heap.Usage.Weakening.html#3004" class="Function">lemma</a> <a id="3092" class="Symbol">{</a><a id="3093" href="Graded.Heap.Usage.Weakening.html#3093" class="Bound">γ</a><a id="3094" class="Symbol">}</a> <a id="3096" class="Symbol">{</a><a id="3097" href="Graded.Heap.Usage.Weakening.html#3097" class="Bound">δ</a><a id="3098" class="Symbol">}</a> <a id="3100" class="Symbol">=</a> <a id="3102" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="3114" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3121" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3123" href="Graded.Heap.Usage.Weakening.html#3093" class="Bound">γ</a> <a id="3125" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3128" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3130" href="Graded.Heap.Untyped.html#6183" class="Function">wkˢ</a> <a id="3134" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3136" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3138" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3140" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3143" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3150" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3152" href="Graded.Heap.Usage.Weakening.html#3097" class="Bound">δ</a> <a id="3154" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3158" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3163" class="Symbol">(λ</a> <a id="3166" href="Graded.Heap.Usage.Weakening.html#3166" class="Bound">x</a> <a id="3168" class="Symbol">→</a> <a id="3170" class="Symbol">_</a> <a id="3172" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3175" href="Graded.Heap.Usage.Weakening.html#3166" class="Bound">x</a> <a id="3177" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3180" class="Symbol">_)</a> <a id="3183" class="Symbol">(</a><a id="3184" href="Graded.Heap.Untyped.Properties.html#14590" class="Function">wk-∣S∣</a> <a id="3191" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3193" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a><a id="3194" class="Symbol">)</a> <a id="3196" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3204" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3211" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3213" href="Graded.Heap.Usage.Weakening.html#3093" class="Bound">γ</a> <a id="3215" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3218" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3220" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3222" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3224" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3227" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3234" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3236" href="Graded.Heap.Usage.Weakening.html#3097" class="Bound">δ</a>      <a id="3243" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="3247" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="3256" class="Symbol">(</a><a id="3257" href="Graded.Context.Weakening.html#1725" class="Function">wk-·ᶜ</a> <a id="3263" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a><a id="3264" class="Symbol">)</a> <a id="3266" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="3274" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3281" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3283" href="Graded.Heap.Usage.Weakening.html#3093" class="Bound">γ</a> <a id="3285" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3288" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3295" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3297" class="Symbol">(</a><a id="3298" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3300" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3302" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3304" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3307" href="Graded.Heap.Usage.Weakening.html#3097" class="Bound">δ</a><a id="3308" class="Symbol">)</a>    <a id="3313" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="3317" href="Graded.Context.Weakening.html#1428" class="Function">wk-+ᶜ</a> <a id="3323" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3325" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="3333" href="Graded.Context.Weakening.html#967" class="Function">wkConₘ</a> <a id="3340" href="Graded.Heap.Usage.Weakening.html#2821" class="Bound">ρ</a> <a id="3342" class="Symbol">(</a><a id="3343" href="Graded.Heap.Usage.Weakening.html#3093" class="Bound">γ</a> <a id="3345" href="Graded.Context.html#1574" class="Function Operator">+ᶜ</a> <a id="3348" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3350" href="Graded.Heap.Usage.Weakening.html#2818" class="Bound">S</a> <a id="3352" href="Graded.Heap.Untyped.html#6068" class="Function Operator">∣</a> <a id="3354" href="Graded.Context.html#1806" class="Function Operator">·ᶜ</a> <a id="3357" href="Graded.Heap.Usage.Weakening.html#3097" class="Bound">δ</a><a id="3358" class="Symbol">)</a>             <a id="3372" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
</pre></body></html>