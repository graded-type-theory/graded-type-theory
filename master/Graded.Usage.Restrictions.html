<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Usage.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Restrictions on usage derivations</a>
<a id="111" class="Comment">------------------------------------------------------------------------</a>

<a id="185" class="Keyword">import</a> <a id="192" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="209" class="Keyword">module</a> <a id="216" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
  <a id="244" class="Symbol">{</a><a id="245" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a><a id="246" class="Symbol">}</a> <a id="248" class="Symbol">{</a><a id="249" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a> <a id="251" class="Symbol">:</a> <a id="253" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="257" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a><a id="258" class="Symbol">}</a>
  <a id="262" class="Symbol">(</a><a id="263" class="Keyword">open</a> <a id="268" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="284" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a><a id="285" class="Symbol">)</a>
  <a id="289" class="Symbol">(</a><a id="290" href="Graded.Usage.Restrictions.html#290" class="Bound">ğ•„</a> <a id="292" class="Symbol">:</a> <a id="294" href="Graded.Modality.html#9574" class="Record">Modality</a><a id="302" class="Symbol">)</a>
  <a id="306" class="Keyword">where</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="337" href="Graded.Usage.Restrictions.html#290" class="Bound">ğ•„</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a> <a id="424" href="Graded.Usage.Restrictions.html#290" class="Bound">ğ•„</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>

<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="588" class="Keyword">open</a> <a id="593" class="Keyword">import</a> <a id="600" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="615" class="Keyword">open</a> <a id="620" class="Keyword">import</a> <a id="627" href="Tools.Sum.html" class="Module">Tools.Sum</a>
<a id="637" class="Keyword">open</a> <a id="642" class="Keyword">import</a> <a id="649" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="685" class="Keyword">open</a> <a id="690" href="Graded.Modality.html#9574" class="Module">Modality</a> <a id="699" href="Graded.Usage.Restrictions.html#290" class="Bound">ğ•„</a>

<a id="702" class="Keyword">private</a> <a id="710" class="Keyword">variable</a>
  <a id="721" href="Graded.Usage.Restrictions.html#721" class="Generalizable">p</a> <a id="723" href="Graded.Usage.Restrictions.html#723" class="Generalizable">q</a> <a id="725" href="Graded.Usage.Restrictions.html#725" class="Generalizable">r</a> <a id="727" class="Symbol">:</a> <a id="729" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a>
  <a id="733" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a> <a id="735" href="Graded.Usage.Restrictions.html#735" class="Generalizable">mâ€²</a>  <a id="739" class="Symbol">:</a> <a id="741" href="Graded.Mode.html#1039" class="Datatype">Mode</a>
  <a id="748" href="Graded.Usage.Restrictions.html#748" class="Generalizable">s</a> <a id="750" class="Symbol">:</a> <a id="752" href="Definition.Untyped.NotParametrised.html#2039" class="Datatype">Strength</a>
  <a id="763" class="Symbol">â¦ƒ</a> <a id="765" href="Graded.Usage.Restrictions.html#765" class="Generalizable">ok</a> <a id="768" class="Symbol">â¦„</a> <a id="770" class="Symbol">:</a> <a id="772" href="Data.Bool.Base.html#1358" class="Function">T</a> <a id="774" class="Symbol">_</a>

<a id="777" class="Comment">-- Restrictions on/choices for usage derivations.</a>

<a id="828" class="Keyword">record</a> <a id="Usage-restrictions"></a><a id="835" href="Graded.Usage.Restrictions.html#835" class="Record">Usage-restrictions</a> <a id="854" class="Symbol">:</a> <a id="856" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="860" class="Symbol">(</a><a id="861" href="Agda.Primitive.html#931" class="Primitive">lsuc</a> <a id="866" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a><a id="867" class="Symbol">)</a> <a id="869" class="Keyword">where</a>
  <a id="877" class="Keyword">no-eta-equality</a>
  <a id="895" class="Keyword">field</a>
    <a id="905" class="Comment">-- Which usage rule for natrec should be used.</a>
    <a id="Usage-restrictions.natrec-mode"></a><a id="956" href="Graded.Usage.Restrictions.html#956" class="Field">natrec-mode</a> <a id="968" class="Symbol">:</a> <a id="970" href="Graded.Usage.Restrictions.Natrec.html#982" class="Datatype">Natrec-mode</a>

    <a id="987" class="Comment">-- The prodrec constructor&#39;s quantities have to satisfy this</a>
    <a id="1052" class="Comment">-- predicate (when the mode is ğŸ™áµ).</a>
    <a id="Usage-restrictions.Prodrec-allowed-ğŸ™áµ"></a><a id="1092" href="Graded.Usage.Restrictions.html#1092" class="Field">Prodrec-allowed-ğŸ™áµ</a> <a id="1111" class="Symbol">:</a> <a id="1113" class="Symbol">(</a><a id="1114" href="Graded.Usage.Restrictions.html#1114" class="Bound">r</a> <a id="1116" href="Graded.Usage.Restrictions.html#1116" class="Bound">p</a> <a id="1118" href="Graded.Usage.Restrictions.html#1118" class="Bound">q</a> <a id="1120" class="Symbol">:</a> <a id="1122" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a><a id="1123" class="Symbol">)</a> <a id="1125" class="Symbol">â†’</a> <a id="1127" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1131" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>

    <a id="1138" class="Comment">-- The unitrec constructor&#39;s quantities have to satisfy this</a>
    <a id="1203" class="Comment">-- predicate (when the mode is ğŸ™áµ).</a>
    <a id="Usage-restrictions.Unitrec-allowed-ğŸ™áµ"></a><a id="1243" href="Graded.Usage.Restrictions.html#1243" class="Field">Unitrec-allowed-ğŸ™áµ</a> <a id="1262" class="Symbol">:</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Graded.Usage.Restrictions.html#1265" class="Bound">p</a> <a id="1267" href="Graded.Usage.Restrictions.html#1267" class="Bound">q</a> <a id="1269" class="Symbol">:</a> <a id="1271" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a><a id="1272" class="Symbol">)</a> <a id="1274" class="Symbol">â†’</a> <a id="1276" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1280" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>

    <a id="1287" class="Comment">-- The emptyrec constructor&#39;s quantity has to satisfy this</a>
    <a id="1350" class="Comment">-- predicate (when the mode is ğŸ™áµ).</a>
    <a id="Usage-restrictions.Emptyrec-allowed-ğŸ™áµ"></a><a id="1390" href="Graded.Usage.Restrictions.html#1390" class="Field">Emptyrec-allowed-ğŸ™áµ</a> <a id="1410" class="Symbol">:</a> <a id="1412" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a> <a id="1414" class="Symbol">â†’</a> <a id="1416" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1420" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>

    <a id="1427" class="Comment">-- Should []-cong be allowed (when the mode is ğŸ™áµ)?</a>
    <a id="Usage-restrictions.[]-cong-allowed-mode-ğŸ™áµ"></a><a id="1483" href="Graded.Usage.Restrictions.html#1483" class="Field">[]-cong-allowed-mode-ğŸ™áµ</a> <a id="1507" class="Symbol">:</a> <a id="1509" href="Definition.Untyped.NotParametrised.html#2039" class="Datatype">Strength</a> <a id="1518" class="Symbol">â†’</a> <a id="1520" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1524" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>

    <a id="1531" class="Comment">-- Should strong unit types act as &quot;sinks&quot;?</a>
    <a id="Usage-restrictions.starË¢-sink"></a><a id="1579" href="Graded.Usage.Restrictions.html#1579" class="Field">starË¢-sink</a> <a id="1590" class="Symbol">:</a> <a id="1592" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="1602" class="Comment">-- Is everything erased in the usage rule for Id?</a>
    <a id="Usage-restrictions.Id-erased"></a><a id="1656" href="Graded.Usage.Restrictions.html#1656" class="Field">Id-erased</a> <a id="1666" class="Symbol">:</a> <a id="1668" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1672" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>

    <a id="1679" class="Comment">-- Id-erased is decided.</a>
    <a id="Usage-restrictions.Id-erased?"></a><a id="1708" href="Graded.Usage.Restrictions.html#1708" class="Field">Id-erased?</a> <a id="1719" class="Symbol">:</a> <a id="1721" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="1725" href="Graded.Usage.Restrictions.html#1656" class="Field">Id-erased</a>

    <a id="1740" class="Comment">-- What kinds of erased matches are allowed for the J rule (for</a>
    <a id="1808" class="Comment">-- the current mode)?</a>
    <a id="Usage-restrictions.erased-matches-for-J"></a><a id="1834" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="1855" class="Symbol">:</a> <a id="1857" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="1862" class="Symbol">â†’</a> <a id="1864" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>

    <a id="1884" class="Comment">-- The usage rules for J are at least as permissive for ğŸ˜áµ[Â okÂ ]</a>
    <a id="1953" class="Comment">-- as forÂ ğŸ™áµ. (See Graded.Usage.Properties.Jâ‚˜-generalised and</a>
    <a id="2019" class="Comment">-- Graded.Usage.Properties.Jâ‚€â‚˜â‚-generalised.)</a>
    <a id="Usage-restrictions.erased-matches-for-J-â‰¤áµ‰áµ"></a><a id="2069" href="Graded.Usage.Restrictions.html#2069" class="Field">erased-matches-for-J-â‰¤áµ‰áµ</a> <a id="2094" class="Symbol">:</a>
      <a id="2102" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="2123" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="2126" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="2130" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="2151" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">ğŸ˜áµ[</a> <a id="2155" href="Graded.Usage.Restrictions.html#765" class="Generalizable">ok</a> <a id="2158" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">]</a>

    <a id="2165" class="Comment">-- What kinds of erased matches are allowed for the K rule (for</a>
    <a id="2233" class="Comment">-- the current mode)?</a>
    <a id="Usage-restrictions.erased-matches-for-K"></a><a id="2259" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="2280" class="Symbol">:</a> <a id="2282" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="2287" class="Symbol">â†’</a> <a id="2289" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>

    <a id="2309" class="Comment">-- The usage rules for K are at least as permissive for ğŸ˜áµ[Â okÂ ]</a>
    <a id="2378" class="Comment">-- as forÂ ğŸ™áµ. (See Graded.Usage.Properties.Kâ‚˜-generalised and</a>
    <a id="2444" class="Comment">-- Graded.Usage.Properties.Kâ‚€â‚˜â‚-generalised.)</a>
    <a id="Usage-restrictions.erased-matches-for-K-â‰¤áµ‰áµ"></a><a id="2494" href="Graded.Usage.Restrictions.html#2494" class="Field">erased-matches-for-K-â‰¤áµ‰áµ</a> <a id="2519" class="Symbol">:</a>
      <a id="2527" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="2548" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="2551" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="2555" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="2576" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">ğŸ˜áµ[</a> <a id="2580" href="Graded.Usage.Restrictions.html#765" class="Generalizable">ok</a> <a id="2583" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">]</a>

  <a id="2588" class="Comment">-- Three mutually exclusive types which correspond to each of the</a>
  <a id="2656" class="Comment">-- three possibilities for natrec-mode</a>

  <a id="Usage-restrictions.Nr-available"></a><a id="2698" href="Graded.Usage.Restrictions.html#2698" class="Function">Nr-available</a> <a id="2711" class="Symbol">:</a> <a id="2713" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2717" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="2721" href="Graded.Usage.Restrictions.html#2698" class="Function">Nr-available</a> <a id="2734" class="Symbol">=</a> <a id="2736" href="Graded.Usage.Restrictions.Natrec.html#1314" class="Datatype">Natrec-mode-has-nr</a> <a id="2755" href="Graded.Usage.Restrictions.html#956" class="Field">natrec-mode</a>

  <a id="Usage-restrictions.Nr-not-available"></a><a id="2770" href="Graded.Usage.Restrictions.html#2770" class="Function">Nr-not-available</a> <a id="2787" class="Symbol">:</a> <a id="2789" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2793" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="2797" href="Graded.Usage.Restrictions.html#2770" class="Function">Nr-not-available</a> <a id="2814" class="Symbol">=</a> <a id="2816" href="Graded.Usage.Restrictions.Natrec.html#1445" class="Datatype">Natrec-mode-no-nr</a> <a id="2834" href="Graded.Usage.Restrictions.html#956" class="Field">natrec-mode</a>

  <a id="Usage-restrictions.Nr-not-available-GLB"></a><a id="2849" href="Graded.Usage.Restrictions.html#2849" class="Function">Nr-not-available-GLB</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2876" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="2880" href="Graded.Usage.Restrictions.html#2849" class="Function">Nr-not-available-GLB</a> <a id="2901" class="Symbol">=</a> <a id="2903" href="Graded.Usage.Restrictions.Natrec.html#1531" class="Datatype">Natrec-mode-no-nr-glb</a> <a id="2925" href="Graded.Usage.Restrictions.html#956" class="Field">natrec-mode</a>

  <a id="2940" class="Comment">-- Do strong unit types act as &quot;sinks&quot;?</a>

  <a id="Usage-restrictions.StarË¢-sink"></a><a id="2983" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a> <a id="2994" class="Symbol">:</a> <a id="2996" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="3002" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a> <a id="3013" class="Symbol">=</a> <a id="3015" href="Data.Bool.Base.html#1358" class="Function">T</a> <a id="3017" href="Graded.Usage.Restrictions.html#1579" class="Field">starË¢-sink</a>

  <a id="3031" class="Comment">-- Strong unit types are not allowed to both act and not act as</a>
  <a id="3097" class="Comment">-- sinks.</a>

  <a id="Usage-restrictions.not-sink-and-no-sink"></a><a id="3110" href="Graded.Usage.Restrictions.html#3110" class="Function">not-sink-and-no-sink</a> <a id="3131" class="Symbol">:</a> <a id="3133" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a> <a id="3144" class="Symbol">â†’</a> <a id="3146" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">Â¬</a> <a id="3148" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a> <a id="3159" class="Symbol">â†’</a> <a id="3161" href="Data.Empty.html#914" class="Function">âŠ¥</a>
  <a id="3165" href="Graded.Usage.Restrictions.html#3110" class="Function">not-sink-and-no-sink</a> <a id="3186" href="Graded.Usage.Restrictions.html#3186" class="Bound">sink</a> <a id="3191" href="Graded.Usage.Restrictions.html#3191" class="Bound">Â¬sink</a> <a id="3197" class="Keyword">with</a> <a id="3202" href="Graded.Usage.Restrictions.html#1579" class="Field">starË¢-sink</a>
  <a id="3215" class="Symbol">â€¦</a> <a id="3217" class="Symbol">|</a> <a id="3219" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3225" class="Symbol">=</a> <a id="3227" class="Bound">sink</a>
  <a id="3234" class="Symbol">â€¦</a> <a id="3236" class="Symbol">|</a> <a id="3238" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3243" class="Symbol">=</a> <a id="3245" class="Bound">Â¬sink</a> <a id="3251" class="Symbol">_</a>

  <a id="3256" class="Comment">-- Strong unit types either act or do not act as sinks.</a>

  <a id="Usage-restrictions.sink-or-no-sink"></a><a id="3315" href="Graded.Usage.Restrictions.html#3315" class="Function">sink-or-no-sink</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a> <a id="3344" href="Data.Sum.Base.html#625" class="Datatype Operator">âŠ</a> <a id="3346" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">Â¬</a> <a id="3348" href="Graded.Usage.Restrictions.html#2983" class="Function">StarË¢-sink</a>
  <a id="3361" href="Graded.Usage.Restrictions.html#3315" class="Function">sink-or-no-sink</a> <a id="3377" class="Keyword">with</a> <a id="3382" href="Graded.Usage.Restrictions.html#1579" class="Field">starË¢-sink</a>
  <a id="3395" href="Graded.Usage.Restrictions.html#3315" class="Function">â€¦</a> <a id="3397" class="Symbol">|</a> <a id="3399" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3405" class="Symbol">=</a> <a id="3407" href="Data.Sum.Base.html#700" class="InductiveConstructor">injâ‚‚</a> <a id="3412" href="Function.Base.html#704" class="Function">idá¶ </a>
  <a id="3418" href="Graded.Usage.Restrictions.html#3315" class="Function">â€¦</a> <a id="3420" class="Symbol">|</a> <a id="3422" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3427" class="Symbol">=</a> <a id="3429" href="Data.Sum.Base.html#675" class="InductiveConstructor">injâ‚</a> <a id="3434" class="Symbol">_</a>

  <a id="3439" class="Keyword">private</a> <a id="3447" class="Keyword">opaque</a>

    <a id="3459" class="Comment">-- A lemma used below.</a>

    <a id="Usage-restrictions.Â·áµ-lemma"></a><a id="3487" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a> <a id="3496" class="Symbol">:</a>
      <a id="3504" class="Symbol">(</a><a id="3505" href="Graded.Usage.Restrictions.html#3505" class="Bound">f</a> <a id="3507" class="Symbol">:</a> <a id="3509" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="3514" class="Symbol">â†’</a> <a id="3516" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="3530" class="Symbol">)</a> <a id="3532" class="Symbol">â†’</a>
      <a id="3540" class="Symbol">(âˆ€</a> <a id="3543" class="Symbol">â¦ƒ</a> <a id="3545" href="Graded.Usage.Restrictions.html#3545" class="Bound">ok</a> <a id="3548" class="Symbol">â¦„</a> <a id="3550" class="Symbol">â†’</a> <a id="3552" href="Graded.Usage.Restrictions.html#3505" class="Bound">f</a> <a id="3554" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="3557" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="3561" href="Graded.Usage.Restrictions.html#3505" class="Bound">f</a> <a id="3563" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">ğŸ˜áµ[</a> <a id="3567" href="Graded.Usage.Restrictions.html#3545" class="Bound">ok</a> <a id="3570" href="Graded.Mode.html#1113" class="InductiveConstructor Operator">]</a><a id="3571" class="Symbol">)</a> <a id="3573" class="Symbol">â†’</a>
      <a id="3581" href="Graded.Usage.Restrictions.html#3505" class="Bound">f</a> <a id="3583" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a> <a id="3585" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="3589" href="Graded.Usage.Restrictions.html#3505" class="Bound">f</a> <a id="3591" class="Symbol">(</a><a id="3592" href="Graded.Usage.Restrictions.html#735" class="Generalizable">mâ€²</a> <a id="3595" href="Graded.Mode.html#4760" class="Function Operator">Â·áµ</a> <a id="3598" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a><a id="3599" class="Symbol">)</a>
    <a id="3605" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a>          <a id="3623" class="Symbol">{</a><a id="3624" class="Argument">mâ€²</a> <a id="3627" class="Symbol">=</a> <a id="3629" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a><a id="3631" class="Symbol">}</a> <a id="3633" class="Symbol">_</a> <a id="3635" class="Symbol">_</a>   <a id="3639" class="Symbol">=</a> <a id="3641" href="Graded.Usage.Erased-matches.html#1267" class="Function">â‰¤áµ‰áµ-reflexive</a>
    <a id="3659" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a> <a id="3668" class="Symbol">{</a><a id="3669" class="Argument">m</a> <a id="3671" class="Symbol">=</a> <a id="3673" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a><a id="3675" class="Symbol">}</a> <a id="3677" class="Symbol">{</a><a id="3678" class="Argument">mâ€²</a> <a id="3681" class="Symbol">=</a> <a id="3683" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a><a id="3685" class="Symbol">}</a> <a id="3687" class="Symbol">_</a> <a id="3689" href="Graded.Usage.Restrictions.html#3689" class="Bound">hyp</a> <a id="3693" class="Symbol">=</a> <a id="3695" href="Graded.Usage.Restrictions.html#3689" class="Bound">hyp</a>
    <a id="3703" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a> <a id="3712" class="Symbol">{</a><a id="3713" class="Argument">m</a> <a id="3715" class="Symbol">=</a> <a id="3717" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a><a id="3719" class="Symbol">}</a> <a id="3721" class="Symbol">{</a><a id="3722" class="Argument">mâ€²</a> <a id="3725" class="Symbol">=</a> <a id="3727" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a><a id="3729" class="Symbol">}</a> <a id="3731" href="Graded.Usage.Restrictions.html#3731" class="Bound">f</a> <a id="3733" class="Symbol">_</a>   <a id="3737" class="Symbol">=</a>
      <a id="3745" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="3751" class="Symbol">(</a><a id="3752" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">_â‰¤áµ‰áµ_</a> <a id="3758" class="Symbol">_)</a> <a id="3761" class="Symbol">(</a><a id="3762" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3767" href="Graded.Usage.Restrictions.html#3731" class="Bound">f</a> <a id="3769" href="Graded.Mode.html#2314" class="Function">ğŸ˜áµ-cong</a><a id="3776" class="Symbol">)</a> <a id="3778" href="Graded.Usage.Erased-matches.html#1267" class="Function">â‰¤áµ‰áµ-reflexive</a>

  <a id="3795" class="Keyword">opaque</a>

    <a id="3807" class="Comment">-- The usage rules for J are at least as permissive for mâ€²Â Â·áµÂ m as</a>
    <a id="3878" class="Comment">-- forÂ m. (See Graded.Usage.Properties.Jâ‚˜-generalised and</a>
    <a id="3940" class="Comment">-- Graded.Usage.Properties.Jâ‚€â‚˜â‚-generalised.)</a>

    <a id="Usage-restrictions.erased-matches-for-J-â‰¤áµ‰áµÂ·áµ"></a><a id="3991" href="Graded.Usage.Restrictions.html#3991" class="Function">erased-matches-for-J-â‰¤áµ‰áµÂ·áµ</a> <a id="4018" class="Symbol">:</a>
      <a id="4026" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="4047" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a> <a id="4049" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="4053" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="4074" class="Symbol">(</a><a id="4075" href="Graded.Usage.Restrictions.html#735" class="Generalizable">mâ€²</a> <a id="4078" href="Graded.Mode.html#4760" class="Function Operator">Â·áµ</a> <a id="4081" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a><a id="4082" class="Symbol">)</a>
    <a id="4088" href="Graded.Usage.Restrictions.html#3991" class="Function">erased-matches-for-J-â‰¤áµ‰áµÂ·áµ</a> <a id="4115" class="Symbol">=</a>
      <a id="4123" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a> <a id="4132" href="Graded.Usage.Restrictions.html#1834" class="Field">erased-matches-for-J</a> <a id="4153" href="Graded.Usage.Restrictions.html#2069" class="Field">erased-matches-for-J-â‰¤áµ‰áµ</a>

  <a id="4181" class="Keyword">opaque</a>

    <a id="4193" class="Comment">-- The usage rules for K are at least as permissive for mâ€²Â Â·áµÂ m as</a>
    <a id="4264" class="Comment">-- forÂ m. (See Graded.Usage.Properties.Kâ‚˜-generalised and</a>
    <a id="4326" class="Comment">-- Graded.Usage.Properties.Kâ‚€â‚˜â‚-generalised.)</a>

    <a id="Usage-restrictions.erased-matches-for-K-â‰¤áµ‰áµÂ·áµ"></a><a id="4377" href="Graded.Usage.Restrictions.html#4377" class="Function">erased-matches-for-K-â‰¤áµ‰áµÂ·áµ</a> <a id="4404" class="Symbol">:</a>
      <a id="4412" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="4433" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a> <a id="4435" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">â‰¤áµ‰áµ</a> <a id="4439" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="4460" class="Symbol">(</a><a id="4461" href="Graded.Usage.Restrictions.html#735" class="Generalizable">mâ€²</a> <a id="4464" href="Graded.Mode.html#4760" class="Function Operator">Â·áµ</a> <a id="4467" href="Graded.Usage.Restrictions.html#733" class="Generalizable">m</a><a id="4468" class="Symbol">)</a>
    <a id="4474" href="Graded.Usage.Restrictions.html#4377" class="Function">erased-matches-for-K-â‰¤áµ‰áµÂ·áµ</a> <a id="4501" class="Symbol">=</a>
      <a id="4509" href="Graded.Usage.Restrictions.html#3487" class="Function">Â·áµ-lemma</a> <a id="4518" href="Graded.Usage.Restrictions.html#2259" class="Field">erased-matches-for-K</a> <a id="4539" href="Graded.Usage.Restrictions.html#2494" class="Field">erased-matches-for-K-â‰¤áµ‰áµ</a>

  <a id="4567" class="Comment">----------------------------------------------------------------------</a>
  <a id="4640" class="Comment">-- Variants of Prodrec-allowed-ğŸ™áµ, Unitrec-allowed-ğŸ™áµ,</a>
  <a id="4697" class="Comment">-- Emptyrec-allowed-ğŸ™áµ and []-cong-allowed-mode-ğŸ™áµ</a>

  <a id="4751" class="Comment">-- The prodrec constructor&#39;s quantities have to satisfy this</a>
  <a id="4814" class="Comment">-- predicate (for the current mode).</a>

  <a id="Usage-restrictions.Prodrec-allowed"></a><a id="4854" href="Graded.Usage.Restrictions.html#4854" class="Function">Prodrec-allowed</a> <a id="4870" class="Symbol">:</a> <a id="4872" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="4877" class="Symbol">â†’</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Graded.Usage.Restrictions.html#4880" class="Bound">r</a> <a id="4882" href="Graded.Usage.Restrictions.html#4882" class="Bound">p</a> <a id="4884" href="Graded.Usage.Restrictions.html#4884" class="Bound">q</a> <a id="4886" class="Symbol">:</a> <a id="4888" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a><a id="4889" class="Symbol">)</a> <a id="4891" class="Symbol">â†’</a> <a id="4893" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4897" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="4901" href="Graded.Usage.Restrictions.html#4854" class="Function">Prodrec-allowed</a> <a id="4917" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="4920" class="Symbol">=</a> <a id="4922" href="Graded.Usage.Restrictions.html#1092" class="Field">Prodrec-allowed-ğŸ™áµ</a>
  <a id="4943" href="Graded.Usage.Restrictions.html#4854" class="Function">Prodrec-allowed</a> <a id="4959" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a> <a id="4962" class="Symbol">=</a> <a id="4964" class="Symbol">Î»</a> <a id="4966" href="Graded.Usage.Restrictions.html#4966" class="Bound">_</a> <a id="4968" href="Graded.Usage.Restrictions.html#4968" class="Bound">_</a> <a id="4970" href="Graded.Usage.Restrictions.html#4970" class="Bound">_</a> <a id="4972" class="Symbol">â†’</a> <a id="4974" href="Level.html#409" class="Record">Lift</a> <a id="4979" class="Symbol">_</a> <a id="4981" href="Agda.Builtin.Unit.html#175" class="Record">âŠ¤</a>

  <a id="4986" class="Comment">-- The unitrec constructor&#39;s quantities have to satisfy this</a>
  <a id="5049" class="Comment">-- predicate (for the current mode).</a>

  <a id="Usage-restrictions.Unitrec-allowed"></a><a id="5089" href="Graded.Usage.Restrictions.html#5089" class="Function">Unitrec-allowed</a> <a id="5105" class="Symbol">:</a> <a id="5107" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="5112" class="Symbol">â†’</a> <a id="5114" class="Symbol">(</a><a id="5115" href="Graded.Usage.Restrictions.html#5115" class="Bound">p</a> <a id="5117" href="Graded.Usage.Restrictions.html#5117" class="Bound">q</a> <a id="5119" class="Symbol">:</a> <a id="5121" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a><a id="5122" class="Symbol">)</a> <a id="5124" class="Symbol">â†’</a> <a id="5126" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5130" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="5134" href="Graded.Usage.Restrictions.html#5089" class="Function">Unitrec-allowed</a> <a id="5150" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="5153" class="Symbol">=</a> <a id="5155" href="Graded.Usage.Restrictions.html#1243" class="Field">Unitrec-allowed-ğŸ™áµ</a>
  <a id="5176" href="Graded.Usage.Restrictions.html#5089" class="Function">Unitrec-allowed</a> <a id="5192" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a> <a id="5195" class="Symbol">=</a> <a id="5197" class="Symbol">Î»</a> <a id="5199" href="Graded.Usage.Restrictions.html#5199" class="Bound">_</a> <a id="5201" href="Graded.Usage.Restrictions.html#5201" class="Bound">_</a> <a id="5203" class="Symbol">â†’</a> <a id="5205" href="Level.html#409" class="Record">Lift</a> <a id="5210" class="Symbol">_</a> <a id="5212" href="Agda.Builtin.Unit.html#175" class="Record">âŠ¤</a>

  <a id="5217" class="Comment">-- The emptyrec constructor&#39;s quantity has to satisfy this</a>
  <a id="5278" class="Comment">-- predicate (for the current mode).</a>

  <a id="Usage-restrictions.Emptyrec-allowed"></a><a id="5318" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="5335" class="Symbol">:</a> <a id="5337" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="5342" class="Symbol">â†’</a> <a id="5344" href="Graded.Usage.Restrictions.html#249" class="Bound">M</a> <a id="5346" class="Symbol">â†’</a> <a id="5348" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5352" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="5356" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="5373" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="5376" class="Symbol">=</a> <a id="5378" href="Graded.Usage.Restrictions.html#1390" class="Field">Emptyrec-allowed-ğŸ™áµ</a>
  <a id="5400" href="Graded.Usage.Restrictions.html#5318" class="Function">Emptyrec-allowed</a> <a id="5417" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a> <a id="5420" class="Symbol">=</a> <a id="5422" class="Symbol">Î»</a> <a id="5424" href="Graded.Usage.Restrictions.html#5424" class="Bound">_</a> <a id="5426" class="Symbol">â†’</a> <a id="5428" href="Level.html#409" class="Record">Lift</a> <a id="5433" class="Symbol">_</a> <a id="5435" href="Agda.Builtin.Unit.html#175" class="Record">âŠ¤</a>

  <a id="5440" class="Comment">-- Should []-cong be allowed for the current mode?</a>

  <a id="Usage-restrictions.[]-cong-allowed-mode"></a><a id="5494" href="Graded.Usage.Restrictions.html#5494" class="Function">[]-cong-allowed-mode</a> <a id="5515" class="Symbol">:</a> <a id="5517" href="Definition.Untyped.NotParametrised.html#2039" class="Datatype">Strength</a> <a id="5526" class="Symbol">â†’</a> <a id="5528" href="Graded.Mode.html#1039" class="Datatype">Mode</a> <a id="5533" class="Symbol">â†’</a> <a id="5535" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5539" href="Graded.Usage.Restrictions.html#245" class="Bound">a</a>
  <a id="5543" href="Graded.Usage.Restrictions.html#5494" class="Function">[]-cong-allowed-mode</a> <a id="5564" href="Graded.Usage.Restrictions.html#5564" class="Bound">s</a> <a id="5566" href="Graded.Mode.html#1094" class="InductiveConstructor">ğŸ™áµ</a> <a id="5569" class="Symbol">=</a> <a id="5571" href="Graded.Usage.Restrictions.html#1483" class="Field">[]-cong-allowed-mode-ğŸ™áµ</a> <a id="5595" href="Graded.Usage.Restrictions.html#5564" class="Bound">s</a>
  <a id="5599" href="Graded.Usage.Restrictions.html#5494" class="Function">[]-cong-allowed-mode</a> <a id="5620" class="Symbol">_</a> <a id="5622" href="Graded.Mode.html#1058" class="InductiveConstructor">ğŸ˜áµ</a> <a id="5625" class="Symbol">=</a> <a id="5627" href="Level.html#409" class="Record">Lift</a> <a id="5632" class="Symbol">_</a> <a id="5634" href="Agda.Builtin.Unit.html#175" class="Record">âŠ¤</a>
</pre></body></html>