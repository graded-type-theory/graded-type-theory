<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Normalization</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- A normalization procedure for evaluating states to normal form.</a>
<a id="141" class="Comment">------------------------------------------------------------------------</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Graded.Usage.Restrictions.Natrec.html" class="Module">Graded.Usage.Restrictions.Natrec</a>

<a id="364" class="Keyword">module</a> <a id="371" href="Graded.Heap.Normalization.html" class="Module">Graded.Heap.Normalization</a>
  <a id="399" class="Symbol">{</a><a id="400" href="Graded.Heap.Normalization.html#400" class="Bound">a</a><a id="401" class="Symbol">}</a> <a id="403" class="Symbol">{</a><a id="404" href="Graded.Heap.Normalization.html#404" class="Bound">M</a> <a id="406" class="Symbol">:</a> <a id="408" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="412" href="Graded.Heap.Normalization.html#400" class="Bound">a</a><a id="413" class="Symbol">}</a> <a id="415" class="Symbol">{</a><a id="416" href="Graded.Heap.Normalization.html#416" class="Bound">𝕄</a> <a id="418" class="Symbol">:</a> <a id="420" href="Graded.Modality.html#9576" class="Record">Modality</a> <a id="429" href="Graded.Heap.Normalization.html#404" class="Bound">M</a><a id="430" class="Symbol">}</a>
  <a id="434" class="Symbol">(</a><a id="435" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a> <a id="448" class="Symbol">:</a> <a id="450" href="Definition.Typed.Variant.html#432" class="Record">Type-variant</a><a id="462" class="Symbol">)</a>
  <a id="466" class="Symbol">(</a><a id="467" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a> <a id="470" class="Symbol">:</a> <a id="472" href="Graded.Usage.Restrictions.html#812" class="Record">Usage-restrictions</a> <a id="491" href="Graded.Heap.Normalization.html#416" class="Bound">𝕄</a><a id="492" class="Symbol">)</a>
  <a id="496" class="Symbol">(</a><a id="497" class="Keyword">open</a> <a id="502" href="Graded.Usage.Restrictions.html#812" class="Module">Usage-restrictions</a> <a id="521" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a><a id="523" class="Symbol">)</a>
  <a id="527" class="Symbol">(</a><a id="528" href="Graded.Heap.Normalization.html#528" class="Bound">factoring-nr</a> <a id="541" class="Symbol">:</a>
    <a id="547" class="Symbol">⦃</a> <a id="549" href="Graded.Heap.Normalization.html#549" class="Bound">has-nr</a> <a id="556" class="Symbol">:</a> <a id="558" href="Graded.Usage.Restrictions.html#3510" class="Function">Nr-available</a> <a id="571" class="Symbol">⦄</a> <a id="573" class="Symbol">→</a>
    <a id="579" href="Graded.Modality.html#7252" class="Record">Is-factoring-nr</a> <a id="595" href="Graded.Heap.Normalization.html#404" class="Bound">M</a> <a id="597" class="Symbol">(</a><a id="598" href="Graded.Usage.Restrictions.Natrec.html#2196" class="Function">Natrec-mode-Has-nr</a> <a id="617" href="Graded.Heap.Normalization.html#416" class="Bound">𝕄</a> <a id="619" href="Graded.Heap.Normalization.html#549" class="Bound">has-nr</a><a id="625" class="Symbol">))</a>
  <a id="630" class="Keyword">where</a>

<a id="637" class="Keyword">open</a> <a id="642" href="Definition.Typed.Variant.html#432" class="Module">Type-variant</a> <a id="655" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a>
<a id="668" class="Keyword">open</a> <a id="673" href="Graded.Modality.html#9576" class="Module">Modality</a> <a id="682" href="Graded.Heap.Normalization.html#416" class="Bound">𝕄</a>

<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="734" class="Keyword">open</a> <a id="739" class="Keyword">import</a> <a id="746" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="756" class="Keyword">open</a> <a id="761" class="Keyword">import</a> <a id="768" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="782" class="Keyword">open</a> <a id="787" class="Keyword">import</a> <a id="794" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="822" class="Symbol">as</a> <a id="825" class="Module">PE</a>
<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="855" class="Keyword">open</a> <a id="860" class="Keyword">import</a> <a id="867" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="878" class="Keyword">open</a> <a id="883" class="Keyword">import</a> <a id="890" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="912" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a> <a id="925" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a> <a id="928" href="Graded.Heap.Normalization.html#528" class="Bound">factoring-nr</a>
<a id="941" class="Keyword">open</a> <a id="946" class="Keyword">import</a> <a id="953" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="986" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a> <a id="999" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a> <a id="1002" href="Graded.Heap.Normalization.html#528" class="Bound">factoring-nr</a>
<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1047" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a> <a id="1060" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a> <a id="1063" href="Graded.Heap.Normalization.html#528" class="Bound">factoring-nr</a>
<a id="1076" class="Keyword">open</a> <a id="1081" class="Keyword">import</a> <a id="1088" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1119" href="Graded.Heap.Normalization.html#435" class="Bound">type-variant</a> <a id="1132" href="Graded.Heap.Normalization.html#467" class="Bound">UR</a> <a id="1135" href="Graded.Heap.Normalization.html#528" class="Bound">factoring-nr</a>

<a id="1149" class="Keyword">open</a> <a id="1154" class="Keyword">import</a> <a id="1161" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="1180" href="Graded.Heap.Normalization.html#404" class="Bound">M</a> <a id="1182" class="Keyword">hiding</a> <a id="1189" class="Symbol">(</a><a id="1190" href="Definition.Untyped.html#12129" class="Function">head</a><a id="1194" class="Symbol">)</a>

<a id="1197" class="Keyword">private</a> <a id="1205" class="Keyword">variable</a>
  <a id="1216" href="Graded.Heap.Normalization.html#1216" class="Generalizable">k</a> <a id="1218" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="1220" href="Graded.Heap.Normalization.html#1220" class="Generalizable">n</a> <a id="1222" href="Graded.Heap.Normalization.html#1222" class="Generalizable">n′</a> <a id="1225" class="Symbol">:</a> <a id="1227" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>

<a id="1232" class="Keyword">opaque</a> <a id="1239" class="Keyword">mutual</a>

  <a id="1249" class="Comment">-- Normalization of states with variables in head position</a>

  <a id="normalize-var"></a><a id="1311" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="1325" class="Symbol">:</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Graded.Heap.Normalization.html#1328" class="Bound">H</a> <a id="1330" class="Symbol">:</a> <a id="1332" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="1337" href="Graded.Heap.Normalization.html#1216" class="Generalizable">k</a> <a id="1339" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a><a id="1340" class="Symbol">)</a> <a id="1342" class="Symbol">(</a><a id="1343" href="Graded.Heap.Normalization.html#1343" class="Bound">x</a> <a id="1345" class="Symbol">:</a> <a id="1347" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1351" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a><a id="1352" class="Symbol">)</a>
                <a id="1370" class="Symbol">→</a> <a id="1372" href="Tools.Product.html#814" class="Function">∃₄</a> <a id="1375" class="Symbol">λ</a> <a id="1377" href="Graded.Heap.Normalization.html#1377" class="Bound">n</a> <a id="1379" href="Graded.Heap.Normalization.html#1379" class="Bound">t</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Graded.Heap.Normalization.html#1382" class="Bound">ρ′</a> <a id="1385" class="Symbol">:</a> <a id="1387" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="1390" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="1392" href="Graded.Heap.Normalization.html#1377" class="Bound">n</a><a id="1393" class="Symbol">)</a> <a id="1395" href="Graded.Heap.Normalization.html#1395" class="Bound">S</a> <a id="1397" class="Symbol">→</a> <a id="1399" href="Graded.Heap.Untyped.html#12344" class="Datatype">Normal</a> <a id="1406" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="1408" href="Graded.Heap.Normalization.html#1328" class="Bound">H</a> <a id="1410" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1412" href="Graded.Heap.Normalization.html#1379" class="Bound">t</a> <a id="1414" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1416" href="Graded.Heap.Normalization.html#1382" class="Bound">ρ′</a> <a id="1419" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1421" href="Graded.Heap.Normalization.html#1395" class="Bound">S</a> <a id="1423" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
                  <a id="1443" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1445" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="1447" href="Graded.Heap.Normalization.html#1328" class="Bound">H</a> <a id="1449" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1451" class="InductiveConstructor">var</a> <a id="1455" href="Graded.Heap.Normalization.html#1343" class="Bound">x</a> <a id="1457" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1459" class="InductiveConstructor">id</a> <a id="1462" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1464" class="InductiveConstructor">ε</a> <a id="1466" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="1468" href="Graded.Heap.Reduction.html#3961" class="Datatype Operator">⇢ₑ*</a> <a id="1472" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="1474" href="Graded.Heap.Normalization.html#1328" class="Bound">H</a> <a id="1476" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1478" href="Graded.Heap.Normalization.html#1379" class="Bound">t</a> <a id="1480" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1482" href="Graded.Heap.Normalization.html#1382" class="Bound">ρ′</a> <a id="1485" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="1487" href="Graded.Heap.Normalization.html#1395" class="Bound">S</a> <a id="1489" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
  <a id="1493" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="1507" href="Graded.Heap.Untyped.html#7402" class="InductiveConstructor">ε</a> <a id="1509" class="Symbol">()</a>

  <a id="1515" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Graded.Heap.Normalization.html#1530" class="Bound">H</a> <a id="1532" href="Graded.Heap.Untyped.html#7419" class="InductiveConstructor Operator">∙</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Graded.Heap.Normalization.html#1535" class="Bound">p</a> <a id="1537" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1539" href="Graded.Heap.Normalization.html#1539" class="Bound">t</a> <a id="1541" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1543" href="Graded.Heap.Normalization.html#1543" class="Bound">ρ</a><a id="1544" class="Symbol">))</a> <a id="1547" href="Graded.Heap.Untyped.html#1853" class="InductiveConstructor">y0</a> <a id="1550" class="Symbol">=</a>
    <a id="1556" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1561" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="1571" href="Graded.Heap.Normalization.html#1530" class="Bound">H</a> <a id="1573" href="Graded.Heap.Normalization.html#1539" class="Bound">t</a> <a id="1575" href="Graded.Heap.Normalization.html#1543" class="Bound">ρ</a> <a id="1577" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a> <a id="1579" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1582" class="Symbol">λ</a>
      <a id="1590" class="Symbol">(_</a> <a id="1593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1595" href="Graded.Heap.Normalization.html#1595" class="Bound">t′</a> <a id="1598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1600" href="Graded.Heap.Normalization.html#1600" class="Bound">ρ′</a> <a id="1603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1605" href="Graded.Heap.Normalization.html#1605" class="Bound">S</a> <a id="1607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1609" href="Graded.Heap.Normalization.html#1609" class="Bound">n</a> <a id="1611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1613" href="Graded.Heap.Normalization.html#1613" class="Bound">d</a><a id="1614" class="Symbol">)</a> <a id="1616" class="Symbol">→</a>
    <a id="1622" class="Symbol">_</a> <a id="1624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1626" href="Graded.Heap.Normalization.html#1595" class="Bound">t′</a> <a id="1629" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1631" href="Definition.Untyped.NotParametrised.html#3041" class="InductiveConstructor">step</a> <a id="1636" href="Graded.Heap.Normalization.html#1600" class="Bound">ρ′</a> <a id="1639" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1641" href="Graded.Heap.Untyped.html#6265" class="Function">wk1ˢ</a> <a id="1646" href="Graded.Heap.Normalization.html#1605" class="Bound">S</a> <a id="1648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1650" href="Graded.Heap.Untyped.Properties.html#21552" class="Function">wk1-Normal</a> <a id="1661" href="Graded.Heap.Normalization.html#1609" class="Bound">n</a>
      <a id="1669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1671" href="Graded.Heap.Reduction.html#3674" class="InductiveConstructor">var</a> <a id="1675" href="Graded.Heap.Untyped.html#8432" class="InductiveConstructor">here</a> <a id="1680" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="1682" href="Graded.Heap.Reduction.Properties.html#10815" class="Function">wk1-⇢ₑ*</a> <a id="1690" href="Graded.Heap.Normalization.html#1613" class="Bound">d</a>

  <a id="1695" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Graded.Heap.Normalization.html#1710" class="Bound">H</a> <a id="1712" href="Graded.Heap.Untyped.html#7419" class="InductiveConstructor Operator">∙</a> <a id="1714" href="Graded.Heap.Normalization.html#1714" class="Bound">c</a><a id="1715" class="Symbol">)</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Graded.Heap.Normalization.html#1718" class="Bound">y</a> <a id="1720" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="1722" class="Symbol">)</a> <a id="1724" class="Symbol">=</a>
    <a id="1730" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1735" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="1749" href="Graded.Heap.Normalization.html#1710" class="Bound">H</a> <a id="1751" href="Graded.Heap.Normalization.html#1718" class="Bound">y</a> <a id="1753" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1756" class="Symbol">λ</a>
      <a id="1764" class="Symbol">(_</a> <a id="1767" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1769" href="Graded.Heap.Normalization.html#1769" class="Bound">t</a> <a id="1771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1773" href="Graded.Heap.Normalization.html#1773" class="Bound">ρ</a> <a id="1775" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1777" href="Graded.Heap.Normalization.html#1777" class="Bound">S</a> <a id="1779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1781" href="Graded.Heap.Normalization.html#1781" class="Bound">n</a> <a id="1783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1785" href="Graded.Heap.Normalization.html#1785" class="Bound">d</a><a id="1786" class="Symbol">)</a> <a id="1788" class="Symbol">→</a>
    <a id="1794" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1799" href="Graded.Heap.Untyped.Properties.html#21552" class="Function">wk1-Normal</a> <a id="1810" href="Graded.Heap.Normalization.html#1781" class="Bound">n</a> <a id="1812" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1815" class="Symbol">λ</a>
      <a id="1823" href="Graded.Heap.Normalization.html#1823" class="Bound">n′</a> <a id="1826" class="Symbol">→</a>
    <a id="1832" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1837" href="Graded.Heap.Reduction.Properties.html#12733" class="Function">var-env-⇢ₑ*</a> <a id="1849" class="Symbol">(</a><a id="1850" href="Graded.Heap.Reduction.Properties.html#10815" class="Function">wk1-⇢ₑ*</a> <a id="1858" href="Graded.Heap.Normalization.html#1785" class="Bound">d</a><a id="1859" class="Symbol">)</a> <a id="1861" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1866" href="Graded.Heap.Normalization.html#1823" class="Bound">n′</a> <a id="1869" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1872" class="Symbol">λ</a> <a id="1874" class="Keyword">where</a>
      <a id="1886" class="Symbol">(</a><a id="1887" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1892" href="Graded.Heap.Normalization.html#1892" class="Bound">d′</a><a id="1894" class="Symbol">)</a> <a id="1896" class="Symbol">→</a>
        <a id="1906" class="Symbol">_</a> <a id="1908" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1910" href="Graded.Heap.Normalization.html#1769" class="Bound">t</a> <a id="1912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1914" href="Definition.Untyped.NotParametrised.html#3041" class="InductiveConstructor">step</a> <a id="1919" href="Graded.Heap.Normalization.html#1773" class="Bound">ρ</a> <a id="1921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1923" href="Graded.Heap.Untyped.html#6265" class="Function">wk1ˢ</a> <a id="1928" href="Graded.Heap.Normalization.html#1777" class="Bound">S</a> <a id="1930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1932" href="Graded.Heap.Normalization.html#1823" class="Bound">n′</a> <a id="1935" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1937" href="Graded.Heap.Normalization.html#1892" class="Bound">d′</a>
      <a id="1946" class="Symbol">(</a><a id="1947" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1960" href="Graded.Heap.Normalization.html#1960" class="Bound">s≡s′</a><a id="1964" class="Symbol">))</a> <a id="1967" class="Symbol">→</a>
        <a id="1977" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1982" href="Graded.Heap.Untyped.Properties.html#1691" class="Function">State-injectivity</a> <a id="2000" href="Graded.Heap.Normalization.html#1960" class="Bound">s≡s′</a> <a id="2005" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2008" class="Symbol">λ</a> <a id="2010" class="Symbol">{</a>
          <a id="2022" class="Symbol">(_</a> <a id="2025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2027" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2032" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2034" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2041" class="Symbol">_)</a> <a id="2044" class="Symbol">→</a>
        <a id="2054" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2059" href="Graded.Heap.Normalization.html#1823" class="Bound">n′</a> <a id="2062" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2065" class="Symbol">λ</a> <a id="2067" class="Keyword">where</a>
          <a id="2083" class="Symbol">(</a><a id="2084" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="2088" href="Graded.Heap.Normalization.html#2088" class="Bound">¬d</a><a id="2090" class="Symbol">)</a> <a id="2092" class="Symbol">→</a> <a id="2094" class="Symbol">_</a> <a id="2096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2098" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2102" class="Symbol">(</a><a id="2103" href="Graded.Heap.Normalization.html#1718" class="Bound">y</a> <a id="2105" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="2107" class="Symbol">)</a> <a id="2109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2111" href="Definition.Untyped.NotParametrised.html#2977" class="InductiveConstructor">id</a> <a id="2114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2116" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a> <a id="2118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2120" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="2124" href="Graded.Heap.Normalization.html#2088" class="Bound">¬d</a> <a id="2127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2129" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
          <a id="2142" class="Symbol">(</a><a id="2143" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="2147" class="Symbol">())</a> <a id="2151" class="Symbol">}</a>


  <a id="2157" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="2171" class="Symbol">(</a><a id="2172" href="Graded.Heap.Normalization.html#2172" class="Bound">H</a> <a id="2174" href="Graded.Heap.Untyped.html#7477" class="InductiveConstructor Operator">∙●</a><a id="2176" class="Symbol">)</a> <a id="2178" href="Graded.Heap.Untyped.html#1853" class="InductiveConstructor">y0</a> <a id="2181" class="Symbol">=</a>
    <a id="2187" class="Symbol">_</a> <a id="2189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2191" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2195" href="Data.Fin.Base.html#1181" class="InductiveConstructor">x0</a> <a id="2198" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2200" href="Definition.Untyped.NotParametrised.html#2977" class="InductiveConstructor">id</a>  <a id="2204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2206" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a> <a id="2208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2210" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="2214" href="Graded.Heap.Untyped.html#8680" class="InductiveConstructor">here</a> <a id="2219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2221" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>

  <a id="2227" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="2241" class="Symbol">(</a><a id="2242" href="Graded.Heap.Normalization.html#2242" class="Bound">H</a> <a id="2244" href="Graded.Heap.Untyped.html#7477" class="InductiveConstructor Operator">∙●</a><a id="2246" class="Symbol">)</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Graded.Heap.Normalization.html#2249" class="Bound">y</a> <a id="2251" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="2253" class="Symbol">)</a> <a id="2255" class="Symbol">=</a>
    <a id="2261" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2266" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="2280" href="Graded.Heap.Normalization.html#2242" class="Bound">H</a> <a id="2282" href="Graded.Heap.Normalization.html#2249" class="Bound">y</a> <a id="2284" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2287" class="Symbol">λ</a>
      <a id="2295" class="Symbol">(_</a> <a id="2298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2300" href="Graded.Heap.Normalization.html#2300" class="Bound">t</a> <a id="2302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2304" href="Graded.Heap.Normalization.html#2304" class="Bound">ρ</a> <a id="2306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2308" href="Graded.Heap.Normalization.html#2308" class="Bound">S</a> <a id="2310" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2312" href="Graded.Heap.Normalization.html#2312" class="Bound">n</a> <a id="2314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2316" href="Graded.Heap.Normalization.html#2316" class="Bound">d</a><a id="2317" class="Symbol">)</a> <a id="2319" class="Symbol">→</a>
    <a id="2325" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2330" href="Graded.Heap.Untyped.Properties.html#21714" class="Function">wk1●-Normal</a> <a id="2342" href="Graded.Heap.Normalization.html#2312" class="Bound">n</a> <a id="2344" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2347" class="Symbol">λ</a>
      <a id="2355" href="Graded.Heap.Normalization.html#2355" class="Bound">n′</a> <a id="2358" class="Symbol">→</a>
    <a id="2364" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2369" href="Graded.Heap.Reduction.Properties.html#12733" class="Function">var-env-⇢ₑ*</a> <a id="2381" class="Symbol">(</a><a id="2382" href="Graded.Heap.Reduction.Properties.html#12184" class="Function">wk1●-⇢ₑ*</a> <a id="2391" href="Graded.Heap.Normalization.html#2316" class="Bound">d</a><a id="2392" class="Symbol">)</a> <a id="2394" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2399" href="Graded.Heap.Normalization.html#2355" class="Bound">n′</a> <a id="2402" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2405" class="Symbol">λ</a> <a id="2407" class="Keyword">where</a>
      <a id="2419" class="Symbol">(</a><a id="2420" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2425" href="Graded.Heap.Normalization.html#2425" class="Bound">d′</a><a id="2427" class="Symbol">)</a> <a id="2429" class="Symbol">→</a>
        <a id="2439" class="Symbol">_</a> <a id="2441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2443" href="Graded.Heap.Normalization.html#2300" class="Bound">t</a> <a id="2445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2447" href="Definition.Untyped.NotParametrised.html#3041" class="InductiveConstructor">step</a> <a id="2452" href="Graded.Heap.Normalization.html#2304" class="Bound">ρ</a> <a id="2454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2456" href="Graded.Heap.Untyped.html#6265" class="Function">wk1ˢ</a> <a id="2461" href="Graded.Heap.Normalization.html#2308" class="Bound">S</a> <a id="2463" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2465" href="Graded.Heap.Normalization.html#2355" class="Bound">n′</a> <a id="2468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2470" href="Graded.Heap.Normalization.html#2425" class="Bound">d′</a>
      <a id="2479" class="Symbol">(</a><a id="2480" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2485" class="Symbol">(</a><a id="2486" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2493" href="Graded.Heap.Normalization.html#2493" class="Bound">s≡s′</a><a id="2497" class="Symbol">))</a> <a id="2500" class="Symbol">→</a>
        <a id="2510" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2515" href="Graded.Heap.Untyped.Properties.html#1691" class="Function">State-injectivity</a> <a id="2533" href="Graded.Heap.Normalization.html#2493" class="Bound">s≡s′</a> <a id="2538" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2541" class="Symbol">λ</a> <a id="2543" class="Symbol">{</a>
          <a id="2555" class="Symbol">(_</a> <a id="2558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2560" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2567" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2574" class="Symbol">_)</a> <a id="2577" class="Symbol">→</a>
        <a id="2587" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2592" href="Graded.Heap.Normalization.html#2355" class="Bound">n′</a> <a id="2595" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2598" class="Symbol">λ</a> <a id="2600" class="Keyword">where</a>
          <a id="2616" class="Symbol">(</a><a id="2617" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="2621" href="Graded.Heap.Normalization.html#2621" class="Bound">d</a><a id="2622" class="Symbol">)</a>  <a id="2625" class="Symbol">→</a> <a id="2627" class="Symbol">_</a> <a id="2629" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2631" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2635" class="Symbol">(</a><a id="2636" href="Graded.Heap.Normalization.html#2249" class="Bound">y</a> <a id="2638" href="Data.Fin.Base.html#1202" class="InductiveConstructor Operator">+1</a><a id="2640" class="Symbol">)</a> <a id="2642" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2644" href="Definition.Untyped.NotParametrised.html#2977" class="InductiveConstructor">id</a> <a id="2647" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2649" href="Graded.Heap.Untyped.html#5916" class="InductiveConstructor">ε</a> <a id="2651" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2653" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="2657" href="Graded.Heap.Normalization.html#2621" class="Bound">d</a> <a id="2659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2661" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
          <a id="2674" class="Symbol">(</a><a id="2675" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="2679" class="Symbol">())</a> <a id="2683" class="Symbol">}</a>

  <a id="2688" class="Comment">-- Normalization of states</a>

  <a id="normalize"></a><a id="2718" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="2728" class="Symbol">:</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Graded.Heap.Normalization.html#2731" class="Bound">H</a> <a id="2733" class="Symbol">:</a> <a id="2735" href="Graded.Heap.Untyped.html#7367" class="Datatype">Heap</a> <a id="2740" href="Graded.Heap.Normalization.html#1216" class="Generalizable">k</a> <a id="2742" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a><a id="2743" class="Symbol">)</a> <a id="2745" class="Symbol">(</a><a id="2746" href="Graded.Heap.Normalization.html#2746" class="Bound">t</a> <a id="2748" class="Symbol">:</a> <a id="2750" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="2755" href="Graded.Heap.Normalization.html#1220" class="Generalizable">n</a><a id="2756" class="Symbol">)</a> <a id="2758" class="Symbol">(</a><a id="2759" href="Graded.Heap.Normalization.html#2759" class="Bound">ρ</a> <a id="2761" class="Symbol">:</a> <a id="2763" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="2766" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="2768" href="Graded.Heap.Normalization.html#1220" class="Generalizable">n</a><a id="2769" class="Symbol">)</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Graded.Heap.Normalization.html#2772" class="Bound">S</a> <a id="2774" class="Symbol">:</a> <a id="2776" href="Graded.Heap.Untyped.html#5884" class="Datatype">Stack</a> <a id="2782" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a><a id="2783" class="Symbol">)</a>
            <a id="2797" class="Symbol">→</a> <a id="2799" href="Tools.Product.html#814" class="Function">∃₄</a> <a id="2802" class="Symbol">λ</a> <a id="2804" href="Graded.Heap.Normalization.html#2804" class="Bound">n′</a> <a id="2807" href="Graded.Heap.Normalization.html#2807" class="Bound">t′</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Graded.Heap.Normalization.html#2811" class="Bound">ρ′</a> <a id="2814" class="Symbol">:</a> <a id="2816" href="Definition.Untyped.NotParametrised.html#2948" class="Datatype">Wk</a> <a id="2819" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="2821" href="Graded.Heap.Normalization.html#2804" class="Bound">n′</a><a id="2823" class="Symbol">)</a> <a id="2825" class="Symbol">(</a><a id="2826" href="Graded.Heap.Normalization.html#2826" class="Bound">S′</a> <a id="2829" class="Symbol">:</a> <a id="2831" href="Graded.Heap.Untyped.html#5884" class="Datatype">Stack</a> <a id="2837" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a><a id="2838" class="Symbol">)</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Graded.Heap.Untyped.html#12344" class="Datatype">Normal</a> <a id="2849" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="2851" href="Graded.Heap.Normalization.html#2731" class="Bound">H</a> <a id="2853" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2855" href="Graded.Heap.Normalization.html#2807" class="Bound">t′</a> <a id="2858" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2860" href="Graded.Heap.Normalization.html#2811" class="Bound">ρ′</a> <a id="2863" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2865" href="Graded.Heap.Normalization.html#2826" class="Bound">S′</a> <a id="2868" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="2870" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="2886" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="2888" href="Graded.Heap.Normalization.html#2731" class="Bound">H</a> <a id="2890" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2892" href="Graded.Heap.Normalization.html#2746" class="Bound">t</a> <a id="2894" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2896" href="Graded.Heap.Normalization.html#2759" class="Bound">ρ</a> <a id="2898" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2900" href="Graded.Heap.Normalization.html#2772" class="Bound">S</a> <a id="2902" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="2904" href="Graded.Heap.Reduction.html#3961" class="Datatype Operator">⇢ₑ*</a> <a id="2908" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="2910" href="Graded.Heap.Normalization.html#2731" class="Bound">H</a> <a id="2912" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2914" href="Graded.Heap.Normalization.html#2807" class="Bound">t′</a> <a id="2917" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2919" href="Graded.Heap.Normalization.html#2811" class="Bound">ρ′</a> <a id="2922" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="2924" href="Graded.Heap.Normalization.html#2826" class="Bound">S′</a> <a id="2927" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a>
  <a id="2931" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="2941" href="Graded.Heap.Normalization.html#2941" class="Bound">H</a> <a id="2943" class="Symbol">(</a><a id="2944" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2948" href="Graded.Heap.Normalization.html#2948" class="Bound">x</a><a id="2949" class="Symbol">)</a> <a id="2951" href="Graded.Heap.Normalization.html#2951" class="Bound">ρ</a> <a id="2953" href="Graded.Heap.Normalization.html#2953" class="Bound">S</a> <a id="2955" class="Symbol">=</a>
    <a id="2961" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2966" href="Graded.Heap.Normalization.html#1311" class="Function">normalize-var</a> <a id="2980" href="Graded.Heap.Normalization.html#2941" class="Bound">H</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Definition.Untyped.NotParametrised.html#3851" class="Function">wkVar</a> <a id="2989" href="Graded.Heap.Normalization.html#2951" class="Bound">ρ</a> <a id="2991" href="Graded.Heap.Normalization.html#2948" class="Bound">x</a><a id="2992" class="Symbol">)</a> <a id="2994" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2997" class="Symbol">λ</a>
      <a id="3005" class="Symbol">(_</a> <a id="3008" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3010" href="Graded.Heap.Normalization.html#3010" class="Bound">t</a> <a id="3012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3014" href="Graded.Heap.Normalization.html#3014" class="Bound">ρ′</a> <a id="3017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3019" href="Graded.Heap.Normalization.html#3019" class="Bound">S′</a> <a id="3022" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3024" href="Graded.Heap.Normalization.html#3024" class="Bound">n</a> <a id="3026" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3028" href="Graded.Heap.Normalization.html#3028" class="Bound">d</a><a id="3029" class="Symbol">)</a> <a id="3031" class="Symbol">→</a>
    <a id="3037" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3042" href="Graded.Heap.Reduction.Properties.html#12733" class="Function">var-env-⇢ₑ*</a> <a id="3054" href="Graded.Heap.Normalization.html#3028" class="Bound">d</a> <a id="3056" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3061" href="Graded.Heap.Normalization.html#3024" class="Bound">n</a> <a id="3063" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3066" class="Symbol">λ</a> <a id="3068" class="Keyword">where</a>
      <a id="3080" class="Symbol">(</a><a id="3081" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3086" href="Graded.Heap.Normalization.html#3086" class="Bound">d′</a><a id="3088" class="Symbol">)</a> <a id="3090" class="Symbol">→</a>
        <a id="3100" class="Symbol">_</a> <a id="3102" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3104" href="Graded.Heap.Normalization.html#3010" class="Bound">t</a> <a id="3106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3108" href="Graded.Heap.Normalization.html#3014" class="Bound">ρ′</a> <a id="3111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3113" href="Graded.Heap.Normalization.html#3019" class="Bound">S′</a> <a id="3116" href="Graded.Heap.Untyped.html#6404" class="Function Operator">++</a> <a id="3119" href="Graded.Heap.Normalization.html#2953" class="Bound">S</a> <a id="3121" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3123" href="Graded.Heap.Untyped.Properties.html#21946" class="Function">Normal-stack</a> <a id="3136" href="Graded.Heap.Normalization.html#3024" class="Bound">n</a>
          <a id="3148" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3150" href="Graded.Heap.Reduction.Properties.html#13954" class="Function">++-⇢ₑ*</a> <a id="3157" href="Graded.Heap.Normalization.html#2953" class="Bound">S</a> <a id="3159" href="Graded.Heap.Normalization.html#3086" class="Bound">d′</a>
      <a id="3168" class="Symbol">(</a><a id="3169" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3174" class="Symbol">(</a><a id="3175" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3182" href="Graded.Heap.Normalization.html#3182" class="Bound">s≡s′</a><a id="3186" class="Symbol">))</a> <a id="3189" class="Symbol">→</a>
        <a id="3199" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3204" href="Graded.Heap.Untyped.Properties.html#1691" class="Function">State-injectivity</a> <a id="3222" href="Graded.Heap.Normalization.html#3182" class="Bound">s≡s′</a> <a id="3227" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3230" class="Symbol">λ</a> <a id="3232" class="Symbol">{</a>
          <a id="3244" class="Symbol">(_</a> <a id="3247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3249" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3256" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3261" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3263" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="3267" class="Symbol">)</a> <a id="3269" class="Symbol">→</a>
        <a id="3279" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3284" href="Graded.Heap.Normalization.html#3024" class="Bound">n</a> <a id="3286" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3289" class="Symbol">λ</a> <a id="3291" class="Keyword">where</a>
          <a id="3307" class="Symbol">(</a><a id="3308" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="3312" href="Graded.Heap.Normalization.html#3312" class="Bound">¬d</a><a id="3314" class="Symbol">)</a> <a id="3316" class="Symbol">→</a> <a id="3318" class="Symbol">_</a> <a id="3320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3322" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="3326" href="Graded.Heap.Normalization.html#2948" class="Bound">x</a> <a id="3328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3330" href="Graded.Heap.Normalization.html#2951" class="Bound">ρ</a> <a id="3332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3334" href="Graded.Heap.Normalization.html#2953" class="Bound">S</a> <a id="3336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3338" href="Graded.Heap.Untyped.html#12426" class="InductiveConstructor">var</a> <a id="3342" href="Graded.Heap.Normalization.html#3312" class="Bound">¬d</a> <a id="3345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3347" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
          <a id="3360" class="Symbol">(</a><a id="3361" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="3365" class="Symbol">())</a> <a id="3369" class="Symbol">}</a>
  <a id="3373" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3383" href="Graded.Heap.Normalization.html#3383" class="Bound">H</a> <a id="3385" class="Symbol">(</a><a id="3386" href="Definition.Untyped.html#1370" class="InductiveConstructor">lam</a> <a id="3390" href="Graded.Heap.Normalization.html#3390" class="Bound">p</a> <a id="3392" href="Graded.Heap.Normalization.html#3392" class="Bound">t</a><a id="3393" class="Symbol">)</a> <a id="3395" href="Graded.Heap.Normalization.html#3395" class="Bound">ρ</a> <a id="3397" href="Graded.Heap.Normalization.html#3397" class="Bound">S</a> <a id="3399" class="Symbol">=</a>
    <a id="3405" class="Symbol">_</a> <a id="3407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3409" href="Definition.Untyped.html#1370" class="InductiveConstructor">lam</a> <a id="3413" href="Graded.Heap.Normalization.html#3390" class="Bound">p</a> <a id="3415" href="Graded.Heap.Normalization.html#3392" class="Bound">t</a> <a id="3417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3419" href="Graded.Heap.Normalization.html#3395" class="Bound">ρ</a> <a id="3421" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3423" href="Graded.Heap.Normalization.html#3397" class="Bound">S</a> <a id="3425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3427" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="3431" href="Graded.Heap.Untyped.html#11859" class="InductiveConstructor">lamᵥ</a> <a id="3436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3438" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="3443" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3453" href="Graded.Heap.Normalization.html#3453" class="Bound">H</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Graded.Heap.Normalization.html#3456" class="Bound">t</a> <a id="3458" href="Definition.Untyped.html#1413" class="InductiveConstructor Operator">∘⟨</a> <a id="3461" href="Graded.Heap.Normalization.html#3461" class="Bound">p</a> <a id="3463" href="Definition.Untyped.html#1413" class="InductiveConstructor Operator">⟩</a> <a id="3465" href="Graded.Heap.Normalization.html#3465" class="Bound">u</a><a id="3466" class="Symbol">)</a> <a id="3468" href="Graded.Heap.Normalization.html#3468" class="Bound">ρ</a> <a id="3470" href="Graded.Heap.Normalization.html#3470" class="Bound">S</a> <a id="3472" class="Symbol">=</a>
    <a id="3478" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3483" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3493" href="Graded.Heap.Normalization.html#3453" class="Bound">H</a> <a id="3495" href="Graded.Heap.Normalization.html#3456" class="Bound">t</a> <a id="3497" href="Graded.Heap.Normalization.html#3468" class="Bound">ρ</a> <a id="3499" class="Symbol">(</a><a id="3500" href="Graded.Heap.Untyped.html#2628" class="InductiveConstructor">∘ₑ</a> <a id="3503" href="Graded.Heap.Normalization.html#3461" class="Bound">p</a> <a id="3505" href="Graded.Heap.Normalization.html#3465" class="Bound">u</a> <a id="3507" href="Graded.Heap.Normalization.html#3468" class="Bound">ρ</a> <a id="3509" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="3511" href="Graded.Heap.Normalization.html#3470" class="Bound">S</a><a id="3512" class="Symbol">)</a> <a id="3514" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3517" class="Symbol">λ</a>
      <a id="3525" class="Symbol">(_</a> <a id="3528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3530" class="Symbol">_</a> <a id="3532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3534" class="Symbol">_</a> <a id="3536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3538" class="Symbol">_</a> <a id="3540" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3542" href="Graded.Heap.Normalization.html#3542" class="Bound">n</a> <a id="3544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3546" href="Graded.Heap.Normalization.html#3546" class="Bound">d</a><a id="3547" class="Symbol">)</a> <a id="3549" class="Symbol">→</a>
    <a id="3555" class="Symbol">_</a> <a id="3557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3559" class="Symbol">_</a> <a id="3561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3563" class="Symbol">_</a> <a id="3565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3567" class="Symbol">_</a> <a id="3569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3571" href="Graded.Heap.Normalization.html#3542" class="Bound">n</a> <a id="3573" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3575" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="3578" href="Graded.Heap.Reduction.html#1905" class="InductiveConstructor">appₕ</a> <a id="3583" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="3585" href="Graded.Heap.Normalization.html#3546" class="Bound">d</a>
  <a id="3589" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3599" href="Graded.Heap.Normalization.html#3599" class="Bound">H</a> <a id="3601" class="Symbol">(</a><a id="3602" href="Definition.Untyped.html#1467" class="InductiveConstructor">prod</a> <a id="3607" href="Graded.Heap.Normalization.html#3607" class="Bound">s</a> <a id="3609" href="Graded.Heap.Normalization.html#3609" class="Bound">p</a> <a id="3611" href="Graded.Heap.Normalization.html#3611" class="Bound">t</a> <a id="3613" href="Graded.Heap.Normalization.html#3613" class="Bound">u</a><a id="3614" class="Symbol">)</a> <a id="3616" href="Graded.Heap.Normalization.html#3616" class="Bound">ρ</a> <a id="3618" href="Graded.Heap.Normalization.html#3618" class="Bound">S</a> <a id="3620" class="Symbol">=</a>
    <a id="3626" class="Symbol">_</a> <a id="3628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3630" href="Definition.Untyped.html#1467" class="InductiveConstructor">prod</a> <a id="3635" href="Graded.Heap.Normalization.html#3607" class="Bound">s</a> <a id="3637" href="Graded.Heap.Normalization.html#3609" class="Bound">p</a> <a id="3639" href="Graded.Heap.Normalization.html#3611" class="Bound">t</a> <a id="3641" href="Graded.Heap.Normalization.html#3613" class="Bound">u</a> <a id="3643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3645" href="Graded.Heap.Normalization.html#3616" class="Bound">ρ</a> <a id="3647" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3649" href="Graded.Heap.Normalization.html#3618" class="Bound">S</a> <a id="3651" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3653" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="3657" href="Graded.Heap.Untyped.html#11955" class="InductiveConstructor">prodᵥ</a> <a id="3663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3665" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="3670" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3680" href="Graded.Heap.Normalization.html#3680" class="Bound">H</a> <a id="3682" class="Symbol">(</a><a id="3683" href="Definition.Untyped.html#1519" class="InductiveConstructor">fst</a> <a id="3687" href="Graded.Heap.Normalization.html#3687" class="Bound">p</a> <a id="3689" href="Graded.Heap.Normalization.html#3689" class="Bound">t</a><a id="3690" class="Symbol">)</a> <a id="3692" href="Graded.Heap.Normalization.html#3692" class="Bound">ρ</a> <a id="3694" href="Graded.Heap.Normalization.html#3694" class="Bound">S</a> <a id="3696" class="Symbol">=</a>
    <a id="3702" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3707" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3717" href="Graded.Heap.Normalization.html#3680" class="Bound">H</a> <a id="3719" href="Graded.Heap.Normalization.html#3689" class="Bound">t</a> <a id="3721" href="Graded.Heap.Normalization.html#3692" class="Bound">ρ</a> <a id="3723" class="Symbol">(</a><a id="3724" href="Graded.Heap.Untyped.html#2685" class="InductiveConstructor">fstₑ</a> <a id="3729" href="Graded.Heap.Normalization.html#3687" class="Bound">p</a> <a id="3731" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="3733" href="Graded.Heap.Normalization.html#3694" class="Bound">S</a><a id="3734" class="Symbol">)</a> <a id="3736" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3739" class="Symbol">λ</a>
      <a id="3747" class="Symbol">(_</a> <a id="3750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3752" class="Symbol">_</a> <a id="3754" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3756" class="Symbol">_</a> <a id="3758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3760" class="Symbol">_</a> <a id="3762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3764" href="Graded.Heap.Normalization.html#3764" class="Bound">n</a> <a id="3766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3768" href="Graded.Heap.Normalization.html#3768" class="Bound">d</a><a id="3769" class="Symbol">)</a> <a id="3771" class="Symbol">→</a>
    <a id="3777" class="Symbol">_</a> <a id="3779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3781" class="Symbol">_</a> <a id="3783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3785" class="Symbol">_</a> <a id="3787" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3789" class="Symbol">_</a> <a id="3791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3793" href="Graded.Heap.Normalization.html#3764" class="Bound">n</a> <a id="3795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3797" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="3800" href="Graded.Heap.Reduction.html#1973" class="InductiveConstructor">fstₕ</a> <a id="3805" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="3807" href="Graded.Heap.Normalization.html#3768" class="Bound">d</a>
  <a id="3811" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3821" href="Graded.Heap.Normalization.html#3821" class="Bound">H</a> <a id="3823" class="Symbol">(</a><a id="3824" href="Definition.Untyped.html#1557" class="InductiveConstructor">snd</a> <a id="3828" href="Graded.Heap.Normalization.html#3828" class="Bound">p</a> <a id="3830" href="Graded.Heap.Normalization.html#3830" class="Bound">t</a><a id="3831" class="Symbol">)</a> <a id="3833" href="Graded.Heap.Normalization.html#3833" class="Bound">ρ</a> <a id="3835" href="Graded.Heap.Normalization.html#3835" class="Bound">S</a> <a id="3837" class="Symbol">=</a>
    <a id="3843" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3848" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3858" href="Graded.Heap.Normalization.html#3821" class="Bound">H</a> <a id="3860" href="Graded.Heap.Normalization.html#3830" class="Bound">t</a> <a id="3862" href="Graded.Heap.Normalization.html#3833" class="Bound">ρ</a> <a id="3864" class="Symbol">(</a><a id="3865" href="Graded.Heap.Untyped.html#2710" class="InductiveConstructor">sndₑ</a> <a id="3870" href="Graded.Heap.Normalization.html#3828" class="Bound">p</a> <a id="3872" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="3874" href="Graded.Heap.Normalization.html#3835" class="Bound">S</a><a id="3875" class="Symbol">)</a> <a id="3877" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3880" class="Symbol">λ</a>
      <a id="3888" class="Symbol">(_</a> <a id="3891" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3893" class="Symbol">_</a> <a id="3895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3897" class="Symbol">_</a> <a id="3899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3901" class="Symbol">_</a> <a id="3903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3905" href="Graded.Heap.Normalization.html#3905" class="Bound">n</a> <a id="3907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3909" href="Graded.Heap.Normalization.html#3909" class="Bound">d</a><a id="3910" class="Symbol">)</a> <a id="3912" class="Symbol">→</a>
    <a id="3918" class="Symbol">_</a> <a id="3920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3922" class="Symbol">_</a> <a id="3924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3926" class="Symbol">_</a> <a id="3928" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3930" class="Symbol">_</a> <a id="3932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3934" href="Graded.Heap.Normalization.html#3905" class="Bound">n</a> <a id="3936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3938" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="3941" href="Graded.Heap.Reduction.html#2036" class="InductiveConstructor">sndₕ</a> <a id="3946" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="3948" href="Graded.Heap.Normalization.html#3909" class="Bound">d</a>
  <a id="3952" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="3962" href="Graded.Heap.Normalization.html#3962" class="Bound">H</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Definition.Untyped.html#1595" class="InductiveConstructor">prodrec</a> <a id="3973" href="Graded.Heap.Normalization.html#3973" class="Bound">r</a> <a id="3975" href="Graded.Heap.Normalization.html#3975" class="Bound">p</a> <a id="3977" href="Graded.Heap.Normalization.html#3977" class="Bound">q</a> <a id="3979" href="Graded.Heap.Normalization.html#3979" class="Bound">A</a> <a id="3981" href="Graded.Heap.Normalization.html#3981" class="Bound">t</a> <a id="3983" href="Graded.Heap.Normalization.html#3983" class="Bound">u</a><a id="3984" class="Symbol">)</a> <a id="3986" href="Graded.Heap.Normalization.html#3986" class="Bound">ρ</a> <a id="3988" href="Graded.Heap.Normalization.html#3988" class="Bound">S</a> <a id="3990" class="Symbol">=</a>
    <a id="3996" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4001" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4011" href="Graded.Heap.Normalization.html#3962" class="Bound">H</a> <a id="4013" href="Graded.Heap.Normalization.html#3981" class="Bound">t</a> <a id="4015" href="Graded.Heap.Normalization.html#3986" class="Bound">ρ</a> <a id="4017" class="Symbol">(</a><a id="4018" href="Graded.Heap.Untyped.html#2735" class="InductiveConstructor">prodrecₑ</a> <a id="4027" href="Graded.Heap.Normalization.html#3973" class="Bound">r</a> <a id="4029" href="Graded.Heap.Normalization.html#3975" class="Bound">p</a> <a id="4031" href="Graded.Heap.Normalization.html#3977" class="Bound">q</a> <a id="4033" href="Graded.Heap.Normalization.html#3979" class="Bound">A</a> <a id="4035" href="Graded.Heap.Normalization.html#3983" class="Bound">u</a> <a id="4037" href="Graded.Heap.Normalization.html#3986" class="Bound">ρ</a> <a id="4039" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="4041" href="Graded.Heap.Normalization.html#3988" class="Bound">S</a><a id="4042" class="Symbol">)</a> <a id="4044" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4047" class="Symbol">λ</a>
      <a id="4055" class="Symbol">(_</a> <a id="4058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4060" class="Symbol">_</a> <a id="4062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4064" class="Symbol">_</a> <a id="4066" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4068" class="Symbol">_</a> <a id="4070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4072" href="Graded.Heap.Normalization.html#4072" class="Bound">n</a> <a id="4074" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4076" href="Graded.Heap.Normalization.html#4076" class="Bound">d</a><a id="4077" class="Symbol">)</a> <a id="4079" class="Symbol">→</a>
    <a id="4085" class="Symbol">_</a> <a id="4087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4089" class="Symbol">_</a> <a id="4091" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4093" class="Symbol">_</a> <a id="4095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4097" class="Symbol">_</a> <a id="4099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4101" href="Graded.Heap.Normalization.html#4072" class="Bound">n</a> <a id="4103" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4105" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="4108" href="Graded.Heap.Reduction.html#2099" class="InductiveConstructor">prodrecₕ</a> <a id="4117" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="4119" href="Graded.Heap.Normalization.html#4076" class="Bound">d</a>
  <a id="4123" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4133" href="Graded.Heap.Normalization.html#4133" class="Bound">H</a> <a id="4135" class="Symbol">(</a><a id="4136" href="Definition.Untyped.html#1897" class="InductiveConstructor">star</a> <a id="4141" href="Graded.Heap.Normalization.html#4141" class="Bound">s</a> <a id="4143" href="Graded.Heap.Normalization.html#4143" class="Bound">l</a><a id="4144" class="Symbol">)</a> <a id="4146" href="Graded.Heap.Normalization.html#4146" class="Bound">ρ</a> <a id="4148" href="Graded.Heap.Normalization.html#4148" class="Bound">S</a> <a id="4150" class="Symbol">=</a>
    <a id="4156" class="Symbol">_</a> <a id="4158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4160" href="Definition.Untyped.html#1897" class="InductiveConstructor">star</a> <a id="4165" href="Graded.Heap.Normalization.html#4141" class="Bound">s</a> <a id="4167" href="Graded.Heap.Normalization.html#4143" class="Bound">l</a> <a id="4169" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4171" href="Graded.Heap.Normalization.html#4146" class="Bound">ρ</a> <a id="4173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4175" href="Graded.Heap.Normalization.html#4148" class="Bound">S</a> <a id="4177" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4179" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="4183" href="Graded.Heap.Untyped.html#11928" class="InductiveConstructor">starᵥ</a> <a id="4189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4191" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="4196" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4206" href="Graded.Heap.Normalization.html#4206" class="Bound">H</a> <a id="4208" class="Symbol">(</a><a id="4209" href="Definition.Untyped.html#1941" class="InductiveConstructor">unitrec</a> <a id="4217" href="Graded.Heap.Normalization.html#4217" class="Bound">l</a> <a id="4219" href="Graded.Heap.Normalization.html#4219" class="Bound">p</a> <a id="4221" href="Graded.Heap.Normalization.html#4221" class="Bound">q</a> <a id="4223" href="Graded.Heap.Normalization.html#4223" class="Bound">A</a> <a id="4225" href="Graded.Heap.Normalization.html#4225" class="Bound">t</a> <a id="4227" href="Graded.Heap.Normalization.html#4227" class="Bound">u</a><a id="4228" class="Symbol">)</a> <a id="4230" href="Graded.Heap.Normalization.html#4230" class="Bound">ρ</a> <a id="4232" href="Graded.Heap.Normalization.html#4232" class="Bound">S</a> <a id="4234" class="Symbol">=</a>
    <a id="4240" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4245" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a> <a id="4254" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4257" class="Symbol">λ</a> <a id="4259" class="Keyword">where</a>
      <a id="4271" class="Symbol">(</a><a id="4272" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="4276" href="Graded.Heap.Normalization.html#4276" class="Bound">η</a><a id="4277" class="Symbol">)</a> <a id="4279" class="Symbol">→</a>
        <a id="4289" class="Symbol">_</a> <a id="4291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4293" href="Definition.Untyped.html#1941" class="InductiveConstructor">unitrec</a> <a id="4301" href="Graded.Heap.Normalization.html#4217" class="Bound">l</a> <a id="4303" href="Graded.Heap.Normalization.html#4219" class="Bound">p</a> <a id="4305" href="Graded.Heap.Normalization.html#4221" class="Bound">q</a> <a id="4307" href="Graded.Heap.Normalization.html#4223" class="Bound">A</a> <a id="4309" href="Graded.Heap.Normalization.html#4225" class="Bound">t</a> <a id="4311" href="Graded.Heap.Normalization.html#4227" class="Bound">u</a> <a id="4313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4315" href="Graded.Heap.Normalization.html#4230" class="Bound">ρ</a> <a id="4317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4319" href="Graded.Heap.Normalization.html#4232" class="Bound">S</a> <a id="4321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4323" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="4327" class="Symbol">(</a><a id="4328" href="Graded.Heap.Untyped.html#12152" class="InductiveConstructor">unitrec-ηᵥ</a> <a id="4339" href="Graded.Heap.Normalization.html#4276" class="Bound">η</a><a id="4340" class="Symbol">)</a> <a id="4342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4344" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
      <a id="4353" class="Symbol">(</a><a id="4354" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4357" href="Graded.Heap.Normalization.html#4357" class="Bound">no-η</a><a id="4361" class="Symbol">)</a> <a id="4363" class="Symbol">→</a>
        <a id="4373" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4378" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4388" href="Graded.Heap.Normalization.html#4206" class="Bound">H</a> <a id="4390" href="Graded.Heap.Normalization.html#4225" class="Bound">t</a> <a id="4392" href="Graded.Heap.Normalization.html#4230" class="Bound">ρ</a> <a id="4394" class="Symbol">(</a><a id="4395" href="Graded.Heap.Untyped.html#2947" class="InductiveConstructor">unitrecₑ</a> <a id="4404" href="Graded.Heap.Normalization.html#4217" class="Bound">l</a> <a id="4406" href="Graded.Heap.Normalization.html#4219" class="Bound">p</a> <a id="4408" href="Graded.Heap.Normalization.html#4221" class="Bound">q</a> <a id="4410" href="Graded.Heap.Normalization.html#4223" class="Bound">A</a> <a id="4412" href="Graded.Heap.Normalization.html#4227" class="Bound">u</a> <a id="4414" href="Graded.Heap.Normalization.html#4230" class="Bound">ρ</a> <a id="4416" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="4418" href="Graded.Heap.Normalization.html#4232" class="Bound">S</a><a id="4419" class="Symbol">)</a> <a id="4421" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4424" class="Symbol">λ</a>
          <a id="4436" class="Symbol">(_</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" class="Symbol">_</a> <a id="4443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4445" class="Symbol">_</a> <a id="4447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4449" class="Symbol">_</a> <a id="4451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4453" href="Graded.Heap.Normalization.html#4453" class="Bound">n</a> <a id="4455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4457" href="Graded.Heap.Normalization.html#4457" class="Bound">d</a><a id="4458" class="Symbol">)</a> <a id="4460" class="Symbol">→</a>
        <a id="4470" class="Symbol">_</a> <a id="4472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4474" class="Symbol">_</a> <a id="4476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4478" class="Symbol">_</a> <a id="4480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4482" class="Symbol">_</a> <a id="4484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4486" href="Graded.Heap.Normalization.html#4453" class="Bound">n</a> <a id="4488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4490" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="4493" href="Graded.Heap.Reduction.html#2205" class="InductiveConstructor">unitrecₕ</a> <a id="4502" href="Graded.Heap.Normalization.html#4357" class="Bound">no-η</a> <a id="4507" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="4509" href="Graded.Heap.Normalization.html#4457" class="Bound">d</a>
  <a id="4513" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4523" href="Graded.Heap.Normalization.html#4523" class="Bound">H</a> <a id="4525" href="Definition.Untyped.html#1702" class="InductiveConstructor">zero</a> <a id="4530" href="Graded.Heap.Normalization.html#4530" class="Bound">ρ</a> <a id="4532" href="Graded.Heap.Normalization.html#4532" class="Bound">S</a> <a id="4534" class="Symbol">=</a>
    <a id="4540" class="Symbol">_</a> <a id="4542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4544" href="Definition.Untyped.html#1702" class="InductiveConstructor">zero</a> <a id="4549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4551" href="Graded.Heap.Normalization.html#4530" class="Bound">ρ</a> <a id="4553" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4555" href="Graded.Heap.Normalization.html#4532" class="Bound">S</a> <a id="4557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4559" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="4563" href="Graded.Heap.Untyped.html#11884" class="InductiveConstructor">zeroᵥ</a> <a id="4569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4571" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="4576" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4586" href="Graded.Heap.Normalization.html#4586" class="Bound">H</a> <a id="4588" class="Symbol">(</a><a id="4589" href="Definition.Untyped.html#1718" class="InductiveConstructor">suc</a> <a id="4593" href="Graded.Heap.Normalization.html#4593" class="Bound">t</a><a id="4594" class="Symbol">)</a> <a id="4596" href="Graded.Heap.Normalization.html#4596" class="Bound">ρ</a> <a id="4598" href="Graded.Heap.Normalization.html#4598" class="Bound">S</a> <a id="4600" class="Symbol">=</a>
    <a id="4606" class="Symbol">_</a> <a id="4608" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4610" href="Definition.Untyped.html#1718" class="InductiveConstructor">suc</a> <a id="4614" href="Graded.Heap.Normalization.html#4593" class="Bound">t</a> <a id="4616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4618" href="Graded.Heap.Normalization.html#4596" class="Bound">ρ</a> <a id="4620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4622" href="Graded.Heap.Normalization.html#4598" class="Bound">S</a> <a id="4624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4626" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="4630" href="Graded.Heap.Untyped.html#11905" class="InductiveConstructor">sucᵥ</a> <a id="4635" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4637" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="4642" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4652" href="Graded.Heap.Normalization.html#4652" class="Bound">H</a> <a id="4654" class="Symbol">(</a><a id="4655" href="Definition.Untyped.html#1748" class="InductiveConstructor">natrec</a> <a id="4662" href="Graded.Heap.Normalization.html#4662" class="Bound">p</a> <a id="4664" href="Graded.Heap.Normalization.html#4664" class="Bound">q</a> <a id="4666" href="Graded.Heap.Normalization.html#4666" class="Bound">r</a> <a id="4668" href="Graded.Heap.Normalization.html#4668" class="Bound">A</a> <a id="4670" href="Graded.Heap.Normalization.html#4670" class="Bound">z</a> <a id="4672" href="Graded.Heap.Normalization.html#4672" class="Bound">s</a> <a id="4674" href="Graded.Heap.Normalization.html#4674" class="Bound">n</a><a id="4675" class="Symbol">)</a> <a id="4677" href="Graded.Heap.Normalization.html#4677" class="Bound">ρ</a> <a id="4679" href="Graded.Heap.Normalization.html#4679" class="Bound">S</a> <a id="4681" class="Symbol">=</a>
    <a id="4687" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4692" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4702" href="Graded.Heap.Normalization.html#4652" class="Bound">H</a> <a id="4704" href="Graded.Heap.Normalization.html#4674" class="Bound">n</a> <a id="4706" href="Graded.Heap.Normalization.html#4677" class="Bound">ρ</a> <a id="4708" class="Symbol">(</a><a id="4709" href="Graded.Heap.Untyped.html#2833" class="InductiveConstructor">natrecₑ</a> <a id="4717" href="Graded.Heap.Normalization.html#4662" class="Bound">p</a> <a id="4719" href="Graded.Heap.Normalization.html#4664" class="Bound">q</a> <a id="4721" href="Graded.Heap.Normalization.html#4666" class="Bound">r</a> <a id="4723" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="4725" href="Graded.Heap.Normalization.html#4668" class="Bound">A</a> <a id="4727" href="Graded.Heap.Normalization.html#4670" class="Bound">z</a> <a id="4729" href="Graded.Heap.Normalization.html#4672" class="Bound">s</a> <a id="4731" href="Graded.Heap.Normalization.html#4677" class="Bound">ρ</a> <a id="4733" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="4735" href="Graded.Heap.Normalization.html#4679" class="Bound">S</a><a id="4736" class="Symbol">)</a> <a id="4738" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4741" class="Symbol">λ</a>
      <a id="4749" class="Symbol">(_</a> <a id="4752" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4754" class="Symbol">_</a> <a id="4756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4758" class="Symbol">_</a> <a id="4760" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4762" class="Symbol">_</a> <a id="4764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4766" href="Graded.Heap.Normalization.html#4766" class="Bound">n</a> <a id="4768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4770" href="Graded.Heap.Normalization.html#4770" class="Bound">d</a><a id="4771" class="Symbol">)</a> <a id="4773" class="Symbol">→</a>
    <a id="4779" class="Symbol">_</a> <a id="4781" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4783" class="Symbol">_</a> <a id="4785" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4787" class="Symbol">_</a> <a id="4789" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4791" class="Symbol">_</a> <a id="4793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4795" href="Graded.Heap.Normalization.html#4766" class="Bound">n</a> <a id="4797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4799" href="Graded.Heap.Reduction.html#3761" class="InductiveConstructor">natrecₕ</a> <a id="4807" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="4809" href="Graded.Heap.Normalization.html#4770" class="Bound">d</a>
  <a id="4813" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4823" href="Graded.Heap.Normalization.html#4823" class="Bound">H</a> <a id="4825" class="Symbol">(</a><a id="4826" href="Definition.Untyped.html#2051" class="InductiveConstructor">emptyrec</a> <a id="4835" href="Graded.Heap.Normalization.html#4835" class="Bound">p</a> <a id="4837" href="Graded.Heap.Normalization.html#4837" class="Bound">A</a> <a id="4839" href="Graded.Heap.Normalization.html#4839" class="Bound">t</a><a id="4840" class="Symbol">)</a> <a id="4842" href="Graded.Heap.Normalization.html#4842" class="Bound">ρ</a> <a id="4844" href="Graded.Heap.Normalization.html#4844" class="Bound">S</a> <a id="4846" class="Symbol">=</a>
    <a id="4852" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4857" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4867" href="Graded.Heap.Normalization.html#4823" class="Bound">H</a> <a id="4869" href="Graded.Heap.Normalization.html#4839" class="Bound">t</a> <a id="4871" href="Graded.Heap.Normalization.html#4842" class="Bound">ρ</a> <a id="4873" class="Symbol">(</a><a id="4874" href="Graded.Heap.Untyped.html#3059" class="InductiveConstructor">emptyrecₑ</a> <a id="4884" href="Graded.Heap.Normalization.html#4835" class="Bound">p</a> <a id="4886" href="Graded.Heap.Normalization.html#4837" class="Bound">A</a> <a id="4888" href="Graded.Heap.Normalization.html#4842" class="Bound">ρ</a> <a id="4890" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="4892" href="Graded.Heap.Normalization.html#4844" class="Bound">S</a><a id="4893" class="Symbol">)</a> <a id="4895" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4898" class="Symbol">λ</a>
      <a id="4906" class="Symbol">(_</a> <a id="4909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4911" class="Symbol">_</a> <a id="4913" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4915" class="Symbol">_</a> <a id="4917" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4919" class="Symbol">_</a> <a id="4921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4923" href="Graded.Heap.Normalization.html#4923" class="Bound">n</a> <a id="4925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4927" href="Graded.Heap.Normalization.html#4927" class="Bound">d</a><a id="4928" class="Symbol">)</a> <a id="4930" class="Symbol">→</a>
    <a id="4936" class="Symbol">_</a> <a id="4938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4940" class="Symbol">_</a> <a id="4942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4944" class="Symbol">_</a> <a id="4946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4948" class="Symbol">_</a> <a id="4950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4952" href="Graded.Heap.Normalization.html#4923" class="Bound">n</a> <a id="4954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4956" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="4959" href="Graded.Heap.Reduction.html#2336" class="InductiveConstructor">emptyrecₕ</a> <a id="4969" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="4971" href="Graded.Heap.Normalization.html#4927" class="Bound">d</a>
  <a id="4975" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="4985" href="Graded.Heap.Normalization.html#4985" class="Bound">H</a> <a id="4987" href="Definition.Untyped.html#2129" class="InductiveConstructor">rfl</a> <a id="4991" href="Graded.Heap.Normalization.html#4991" class="Bound">ρ</a> <a id="4993" href="Graded.Heap.Normalization.html#4993" class="Bound">S</a> <a id="4995" class="Symbol">=</a>
    <a id="5001" class="Symbol">_</a> <a id="5003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5005" href="Definition.Untyped.html#2129" class="InductiveConstructor">rfl</a> <a id="5009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5011" href="Graded.Heap.Normalization.html#4991" class="Bound">ρ</a> <a id="5013" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5015" href="Graded.Heap.Normalization.html#4993" class="Bound">S</a> <a id="5017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5019" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5023" href="Graded.Heap.Untyped.html#11986" class="InductiveConstructor">rflᵥ</a> <a id="5028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5030" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5035" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5045" href="Graded.Heap.Normalization.html#5045" class="Bound">H</a> <a id="5047" class="Symbol">(</a><a id="5048" href="Definition.Untyped.html#2144" class="InductiveConstructor">J</a> <a id="5050" href="Graded.Heap.Normalization.html#5050" class="Bound">p</a> <a id="5052" href="Graded.Heap.Normalization.html#5052" class="Bound">q</a> <a id="5054" href="Graded.Heap.Normalization.html#5054" class="Bound">A</a> <a id="5056" href="Graded.Heap.Normalization.html#5056" class="Bound">t</a> <a id="5058" href="Graded.Heap.Normalization.html#5058" class="Bound">B</a> <a id="5060" href="Graded.Heap.Normalization.html#5060" class="Bound">u</a> <a id="5062" href="Graded.Heap.Normalization.html#5062" class="Bound">v</a> <a id="5064" href="Graded.Heap.Normalization.html#5064" class="Bound">w</a><a id="5065" class="Symbol">)</a> <a id="5067" href="Graded.Heap.Normalization.html#5067" class="Bound">ρ</a> <a id="5069" href="Graded.Heap.Normalization.html#5069" class="Bound">S</a> <a id="5071" class="Symbol">=</a>
    <a id="5077" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5082" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5092" href="Graded.Heap.Normalization.html#5045" class="Bound">H</a> <a id="5094" href="Graded.Heap.Normalization.html#5064" class="Bound">w</a> <a id="5096" href="Graded.Heap.Normalization.html#5067" class="Bound">ρ</a> <a id="5098" class="Symbol">(</a><a id="5099" href="Graded.Heap.Untyped.html#3116" class="InductiveConstructor">Jₑ</a> <a id="5102" href="Graded.Heap.Normalization.html#5050" class="Bound">p</a> <a id="5104" href="Graded.Heap.Normalization.html#5052" class="Bound">q</a> <a id="5106" href="Graded.Heap.Normalization.html#5054" class="Bound">A</a> <a id="5108" href="Graded.Heap.Normalization.html#5056" class="Bound">t</a> <a id="5110" href="Graded.Heap.Normalization.html#5058" class="Bound">B</a> <a id="5112" href="Graded.Heap.Normalization.html#5060" class="Bound">u</a> <a id="5114" href="Graded.Heap.Normalization.html#5062" class="Bound">v</a> <a id="5116" href="Graded.Heap.Normalization.html#5067" class="Bound">ρ</a> <a id="5118" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="5120" href="Graded.Heap.Normalization.html#5069" class="Bound">S</a><a id="5121" class="Symbol">)</a> <a id="5123" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5126" class="Symbol">λ</a>
      <a id="5134" class="Symbol">(_</a> <a id="5137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5139" class="Symbol">_</a> <a id="5141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5143" class="Symbol">_</a> <a id="5145" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5147" class="Symbol">_</a> <a id="5149" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5151" href="Graded.Heap.Normalization.html#5151" class="Bound">n</a> <a id="5153" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5155" href="Graded.Heap.Normalization.html#5155" class="Bound">d</a><a id="5156" class="Symbol">)</a> <a id="5158" class="Symbol">→</a>
    <a id="5164" class="Symbol">_</a> <a id="5166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5168" class="Symbol">_</a> <a id="5170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5172" class="Symbol">_</a> <a id="5174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5176" class="Symbol">_</a> <a id="5178" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5180" href="Graded.Heap.Normalization.html#5151" class="Bound">n</a> <a id="5182" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5184" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="5187" href="Graded.Heap.Reduction.html#2434" class="InductiveConstructor">Jₕ</a> <a id="5190" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="5192" href="Graded.Heap.Normalization.html#5155" class="Bound">d</a>
  <a id="5196" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5206" href="Graded.Heap.Normalization.html#5206" class="Bound">H</a> <a id="5208" class="Symbol">(</a><a id="5209" href="Definition.Untyped.html#2225" class="InductiveConstructor">K</a> <a id="5211" href="Graded.Heap.Normalization.html#5211" class="Bound">p</a> <a id="5213" href="Graded.Heap.Normalization.html#5213" class="Bound">A</a> <a id="5215" href="Graded.Heap.Normalization.html#5215" class="Bound">t</a> <a id="5217" href="Graded.Heap.Normalization.html#5217" class="Bound">B</a> <a id="5219" href="Graded.Heap.Normalization.html#5219" class="Bound">u</a> <a id="5221" href="Graded.Heap.Normalization.html#5221" class="Bound">v</a><a id="5222" class="Symbol">)</a> <a id="5224" href="Graded.Heap.Normalization.html#5224" class="Bound">ρ</a> <a id="5226" href="Graded.Heap.Normalization.html#5226" class="Bound">S</a> <a id="5228" class="Symbol">=</a>
    <a id="5234" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5239" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5249" href="Graded.Heap.Normalization.html#5206" class="Bound">H</a> <a id="5251" href="Graded.Heap.Normalization.html#5221" class="Bound">v</a> <a id="5253" href="Graded.Heap.Normalization.html#5224" class="Bound">ρ</a> <a id="5255" class="Symbol">(</a><a id="5256" href="Graded.Heap.Untyped.html#3224" class="InductiveConstructor">Kₑ</a> <a id="5259" href="Graded.Heap.Normalization.html#5211" class="Bound">p</a> <a id="5261" href="Graded.Heap.Normalization.html#5213" class="Bound">A</a> <a id="5263" href="Graded.Heap.Normalization.html#5215" class="Bound">t</a> <a id="5265" href="Graded.Heap.Normalization.html#5217" class="Bound">B</a> <a id="5267" href="Graded.Heap.Normalization.html#5219" class="Bound">u</a> <a id="5269" href="Graded.Heap.Normalization.html#5224" class="Bound">ρ</a> <a id="5271" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="5273" href="Graded.Heap.Normalization.html#5226" class="Bound">S</a><a id="5274" class="Symbol">)</a> <a id="5276" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5279" class="Symbol">λ</a>
      <a id="5287" class="Symbol">(_</a> <a id="5290" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5292" class="Symbol">_</a> <a id="5294" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5296" class="Symbol">_</a> <a id="5298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5300" class="Symbol">_</a> <a id="5302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5304" href="Graded.Heap.Normalization.html#5304" class="Bound">n</a> <a id="5306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5308" href="Graded.Heap.Normalization.html#5308" class="Bound">d</a><a id="5309" class="Symbol">)</a> <a id="5311" class="Symbol">→</a>
    <a id="5317" class="Symbol">_</a> <a id="5319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5321" class="Symbol">_</a> <a id="5323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5325" class="Symbol">_</a> <a id="5327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5329" class="Symbol">_</a> <a id="5331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5333" href="Graded.Heap.Normalization.html#5304" class="Bound">n</a> <a id="5335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5337" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="5340" href="Graded.Heap.Reduction.html#2524" class="InductiveConstructor">Kₕ</a> <a id="5343" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="5345" href="Graded.Heap.Normalization.html#5308" class="Bound">d</a>
  <a id="5349" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5359" href="Graded.Heap.Normalization.html#5359" class="Bound">H</a> <a id="5361" class="Symbol">(</a><a id="5362" href="Definition.Untyped.html#2302" class="InductiveConstructor">[]-cong</a> <a id="5370" href="Graded.Heap.Normalization.html#5370" class="Bound">s</a> <a id="5372" href="Graded.Heap.Normalization.html#5372" class="Bound">A</a> <a id="5374" href="Graded.Heap.Normalization.html#5374" class="Bound">t</a> <a id="5376" href="Graded.Heap.Normalization.html#5376" class="Bound">u</a> <a id="5378" href="Graded.Heap.Normalization.html#5378" class="Bound">v</a><a id="5379" class="Symbol">)</a> <a id="5381" href="Graded.Heap.Normalization.html#5381" class="Bound">ρ</a> <a id="5383" href="Graded.Heap.Normalization.html#5383" class="Bound">S</a> <a id="5385" class="Symbol">=</a>
    <a id="5391" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5396" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5406" href="Graded.Heap.Normalization.html#5359" class="Bound">H</a> <a id="5408" href="Graded.Heap.Normalization.html#5378" class="Bound">v</a> <a id="5410" href="Graded.Heap.Normalization.html#5381" class="Bound">ρ</a> <a id="5412" class="Symbol">(</a><a id="5413" href="Graded.Heap.Untyped.html#3328" class="InductiveConstructor">[]-congₑ</a> <a id="5422" href="Graded.Heap.Normalization.html#5370" class="Bound">s</a> <a id="5424" href="Graded.Heap.Normalization.html#5372" class="Bound">A</a> <a id="5426" href="Graded.Heap.Normalization.html#5374" class="Bound">t</a> <a id="5428" href="Graded.Heap.Normalization.html#5376" class="Bound">u</a> <a id="5430" href="Graded.Heap.Normalization.html#5381" class="Bound">ρ</a> <a id="5432" href="Graded.Heap.Untyped.html#5930" class="InductiveConstructor Operator">∙</a> <a id="5434" href="Graded.Heap.Normalization.html#5383" class="Bound">S</a><a id="5435" class="Symbol">)</a> <a id="5437" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5440" class="Symbol">λ</a>
      <a id="5448" class="Symbol">(_</a> <a id="5451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5453" class="Symbol">_</a> <a id="5455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5457" class="Symbol">_</a> <a id="5459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5461" class="Symbol">_</a> <a id="5463" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5465" href="Graded.Heap.Normalization.html#5465" class="Bound">n</a> <a id="5467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5469" href="Graded.Heap.Normalization.html#5469" class="Bound">d</a><a id="5470" class="Symbol">)</a> <a id="5472" class="Symbol">→</a>
    <a id="5478" class="Symbol">_</a> <a id="5480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5482" class="Symbol">_</a> <a id="5484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5486" class="Symbol">_</a> <a id="5488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5490" class="Symbol">_</a> <a id="5492" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5494" href="Graded.Heap.Normalization.html#5465" class="Bound">n</a> <a id="5496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5498" href="Graded.Heap.Reduction.html#3869" class="InductiveConstructor Operator">⇒ₑ</a> <a id="5501" href="Graded.Heap.Reduction.html#2606" class="InductiveConstructor">[]-congₕ</a> <a id="5510" href="Graded.Heap.Reduction.html#4038" class="InductiveConstructor Operator">⇨</a> <a id="5512" href="Graded.Heap.Normalization.html#5469" class="Bound">d</a>
  <a id="5516" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5526" href="Graded.Heap.Normalization.html#5526" class="Bound">H</a> <a id="5528" class="Symbol">(</a><a id="5529" href="Definition.Untyped.html#1241" class="InductiveConstructor">U</a> <a id="5531" href="Graded.Heap.Normalization.html#5531" class="Bound">l</a><a id="5532" class="Symbol">)</a> <a id="5534" href="Graded.Heap.Normalization.html#5534" class="Bound">ρ</a> <a id="5536" href="Graded.Heap.Normalization.html#5536" class="Bound">S</a> <a id="5538" class="Symbol">=</a>
    <a id="5544" class="Symbol">_</a> <a id="5546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5548" href="Definition.Untyped.html#1241" class="InductiveConstructor">U</a> <a id="5550" href="Graded.Heap.Normalization.html#5531" class="Bound">l</a> <a id="5552" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5554" href="Graded.Heap.Normalization.html#5534" class="Bound">ρ</a> <a id="5556" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5558" href="Graded.Heap.Normalization.html#5536" class="Bound">S</a> <a id="5560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5562" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5566" href="Graded.Heap.Untyped.html#12005" class="InductiveConstructor">Uᵥ</a> <a id="5569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5571" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5576" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5586" href="Graded.Heap.Normalization.html#5586" class="Bound">H</a> <a id="5588" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5590" href="Graded.Heap.Normalization.html#5590" class="Bound">ρ</a> <a id="5592" href="Graded.Heap.Normalization.html#5592" class="Bound">S</a> <a id="5594" class="Symbol">=</a>
    <a id="5600" class="Symbol">_</a> <a id="5602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5604" href="Definition.Untyped.html#1689" class="InductiveConstructor">ℕ</a> <a id="5606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5608" href="Graded.Heap.Normalization.html#5590" class="Bound">ρ</a> <a id="5610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5612" href="Graded.Heap.Normalization.html#5592" class="Bound">S</a> <a id="5614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5616" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5620" href="Graded.Heap.Untyped.html#12062" class="InductiveConstructor">ℕᵥ</a> <a id="5623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5625" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5630" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5640" href="Graded.Heap.Normalization.html#5640" class="Bound">H</a> <a id="5642" href="Definition.Untyped.html#2034" class="InductiveConstructor">Empty</a> <a id="5648" href="Graded.Heap.Normalization.html#5648" class="Bound">ρ</a> <a id="5650" href="Graded.Heap.Normalization.html#5650" class="Bound">S</a> <a id="5652" class="Symbol">=</a>
    <a id="5658" class="Symbol">_</a> <a id="5660" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5662" href="Definition.Untyped.html#2034" class="InductiveConstructor">Empty</a> <a id="5668" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5670" href="Graded.Heap.Normalization.html#5648" class="Bound">ρ</a> <a id="5672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5674" href="Graded.Heap.Normalization.html#5650" class="Bound">S</a> <a id="5676" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5678" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5682" href="Graded.Heap.Untyped.html#12104" class="InductiveConstructor">Emptyᵥ</a> <a id="5689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5691" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5696" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5706" href="Graded.Heap.Normalization.html#5706" class="Bound">H</a> <a id="5708" class="Symbol">(</a><a id="5709" href="Definition.Untyped.html#1853" class="InductiveConstructor">Unit</a> <a id="5714" href="Graded.Heap.Normalization.html#5714" class="Bound">s</a> <a id="5716" href="Graded.Heap.Normalization.html#5716" class="Bound">l</a><a id="5717" class="Symbol">)</a> <a id="5719" href="Graded.Heap.Normalization.html#5719" class="Bound">ρ</a> <a id="5721" href="Graded.Heap.Normalization.html#5721" class="Bound">S</a> <a id="5723" class="Symbol">=</a>
    <a id="5729" class="Symbol">_</a> <a id="5731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5733" href="Definition.Untyped.html#1853" class="InductiveConstructor">Unit</a> <a id="5738" href="Graded.Heap.Normalization.html#5714" class="Bound">s</a> <a id="5740" href="Graded.Heap.Normalization.html#5716" class="Bound">l</a> <a id="5742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5744" href="Graded.Heap.Normalization.html#5719" class="Bound">ρ</a> <a id="5746" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5748" href="Graded.Heap.Normalization.html#5721" class="Bound">S</a> <a id="5750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5752" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5756" href="Graded.Heap.Untyped.html#12077" class="InductiveConstructor">Unitᵥ</a> <a id="5762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5764" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5769" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5779" href="Graded.Heap.Normalization.html#5779" class="Bound">H</a> <a id="5781" class="Symbol">(</a><a id="5782" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">ΠΣ⟨</a> <a id="5786" href="Graded.Heap.Normalization.html#5786" class="Bound">b</a> <a id="5788" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">⟩</a> <a id="5790" href="Graded.Heap.Normalization.html#5790" class="Bound">p</a> <a id="5792" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">,</a> <a id="5794" href="Graded.Heap.Normalization.html#5794" class="Bound">q</a> <a id="5796" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">▷</a> <a id="5798" href="Graded.Heap.Normalization.html#5798" class="Bound">A</a> <a id="5800" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">▹</a> <a id="5802" href="Graded.Heap.Normalization.html#5802" class="Bound">B</a><a id="5803" class="Symbol">)</a> <a id="5805" href="Graded.Heap.Normalization.html#5805" class="Bound">ρ</a> <a id="5807" href="Graded.Heap.Normalization.html#5807" class="Bound">S</a> <a id="5809" class="Symbol">=</a>
    <a id="5815" class="Symbol">_</a> <a id="5817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5819" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">ΠΣ⟨</a> <a id="5823" href="Graded.Heap.Normalization.html#5786" class="Bound">b</a> <a id="5825" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">⟩</a> <a id="5827" href="Graded.Heap.Normalization.html#5790" class="Bound">p</a> <a id="5829" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">,</a> <a id="5831" href="Graded.Heap.Normalization.html#5794" class="Bound">q</a> <a id="5833" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">▷</a> <a id="5835" href="Graded.Heap.Normalization.html#5798" class="Bound">A</a> <a id="5837" href="Definition.Untyped.html#1271" class="InductiveConstructor Operator">▹</a> <a id="5839" href="Graded.Heap.Normalization.html#5802" class="Bound">B</a> <a id="5841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5843" href="Graded.Heap.Normalization.html#5805" class="Bound">ρ</a> <a id="5845" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5847" href="Graded.Heap.Normalization.html#5807" class="Bound">S</a> <a id="5849" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5851" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5855" href="Graded.Heap.Untyped.html#12024" class="InductiveConstructor">ΠΣᵥ</a> <a id="5859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5861" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>
  <a id="5866" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="5876" href="Graded.Heap.Normalization.html#5876" class="Bound">H</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Definition.Untyped.html#2096" class="InductiveConstructor">Id</a> <a id="5882" href="Graded.Heap.Normalization.html#5882" class="Bound">A</a> <a id="5884" href="Graded.Heap.Normalization.html#5884" class="Bound">t</a> <a id="5886" href="Graded.Heap.Normalization.html#5886" class="Bound">u</a><a id="5887" class="Symbol">)</a> <a id="5889" href="Graded.Heap.Normalization.html#5889" class="Bound">ρ</a> <a id="5891" href="Graded.Heap.Normalization.html#5891" class="Bound">S</a> <a id="5893" class="Symbol">=</a>
    <a id="5899" class="Symbol">_</a> <a id="5901" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5903" href="Definition.Untyped.html#2096" class="InductiveConstructor">Id</a> <a id="5906" href="Graded.Heap.Normalization.html#5882" class="Bound">A</a> <a id="5908" href="Graded.Heap.Normalization.html#5884" class="Bound">t</a> <a id="5910" href="Graded.Heap.Normalization.html#5886" class="Bound">u</a> <a id="5912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5914" href="Graded.Heap.Normalization.html#5889" class="Bound">ρ</a> <a id="5916" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5918" href="Graded.Heap.Normalization.html#5891" class="Bound">S</a> <a id="5920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5922" href="Graded.Heap.Untyped.html#12383" class="InductiveConstructor">val</a> <a id="5926" href="Graded.Heap.Untyped.html#12127" class="InductiveConstructor">Idᵥ</a> <a id="5930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5932" href="Graded.Heap.Reduction.html#4023" class="InductiveConstructor">id</a>

<a id="5936" class="Keyword">opaque</a>

  <a id="5946" class="Comment">-- A version of normalize that acts on states</a>

  <a id="normalizeₛ"></a><a id="5995" href="Graded.Heap.Normalization.html#5995" class="Function">normalizeₛ</a> <a id="6006" class="Symbol">:</a> <a id="6008" class="Symbol">(</a><a id="6009" href="Graded.Heap.Normalization.html#6009" class="Bound">s</a> <a id="6011" class="Symbol">:</a> <a id="6013" href="Graded.Heap.Untyped.html#10303" class="Record">State</a> <a id="6019" href="Graded.Heap.Normalization.html#1216" class="Generalizable">k</a> <a id="6021" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="6023" href="Graded.Heap.Normalization.html#1220" class="Generalizable">n</a><a id="6024" class="Symbol">)</a>
             <a id="6039" class="Symbol">→</a> <a id="6041" href="Data.Product.Base.html#907" class="Function">∃₂</a> <a id="6044" class="Symbol">λ</a> <a id="6046" href="Graded.Heap.Normalization.html#6046" class="Bound">n′</a> <a id="6049" class="Symbol">(</a><a id="6050" href="Graded.Heap.Normalization.html#6050" class="Bound">s′</a> <a id="6053" class="Symbol">:</a> <a id="6055" href="Graded.Heap.Untyped.html#10303" class="Record">State</a> <a id="6061" href="Graded.Heap.Normalization.html#1216" class="Generalizable">k</a> <a id="6063" href="Graded.Heap.Normalization.html#1218" class="Generalizable">m</a> <a id="6065" href="Graded.Heap.Normalization.html#6046" class="Bound">n′</a><a id="6067" class="Symbol">)</a> <a id="6069" class="Symbol">→</a> <a id="6071" href="Graded.Heap.Untyped.html#12344" class="Datatype">Normal</a> <a id="6078" href="Graded.Heap.Normalization.html#6050" class="Bound">s′</a> <a id="6081" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6083" href="Graded.Heap.Normalization.html#6009" class="Bound">s</a> <a id="6085" href="Graded.Heap.Reduction.html#3961" class="Datatype Operator">⇢ₑ*</a> <a id="6089" href="Graded.Heap.Normalization.html#6050" class="Bound">s′</a>
  <a id="6094" href="Graded.Heap.Normalization.html#5995" class="Function">normalizeₛ</a> <a id="6105" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟨</a> <a id="6107" href="Graded.Heap.Normalization.html#6107" class="Bound">H</a> <a id="6109" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6111" href="Graded.Heap.Normalization.html#6111" class="Bound">t</a> <a id="6113" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6115" href="Graded.Heap.Normalization.html#6115" class="Bound">ρ</a> <a id="6117" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">,</a> <a id="6119" href="Graded.Heap.Normalization.html#6119" class="Bound">S</a> <a id="6121" href="Graded.Heap.Untyped.html#10379" class="InductiveConstructor Operator">⟩</a> <a id="6123" class="Symbol">=</a>
    <a id="6129" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6134" href="Graded.Heap.Normalization.html#2718" class="Function">normalize</a> <a id="6144" href="Graded.Heap.Normalization.html#6107" class="Bound">H</a> <a id="6146" href="Graded.Heap.Normalization.html#6111" class="Bound">t</a> <a id="6148" href="Graded.Heap.Normalization.html#6115" class="Bound">ρ</a> <a id="6150" href="Graded.Heap.Normalization.html#6119" class="Bound">S</a> <a id="6152" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6155" class="Symbol">λ</a>
      <a id="6163" class="Symbol">(_</a> <a id="6166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6168" href="Graded.Heap.Normalization.html#6168" class="Bound">t′</a> <a id="6171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6173" href="Graded.Heap.Normalization.html#6173" class="Bound">ρ′</a> <a id="6176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6178" href="Graded.Heap.Normalization.html#6178" class="Bound">S′</a> <a id="6181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6183" href="Graded.Heap.Normalization.html#6183" class="Bound">n</a> <a id="6185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6187" href="Graded.Heap.Normalization.html#6187" class="Bound">d</a><a id="6188" class="Symbol">)</a> <a id="6190" class="Symbol">→</a>
    <a id="6196" class="Symbol">_</a> <a id="6198" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6200" class="Symbol">_</a> <a id="6202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6204" href="Graded.Heap.Normalization.html#6183" class="Bound">n</a> <a id="6206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6208" href="Graded.Heap.Normalization.html#6187" class="Bound">d</a>
</pre></body></html>