<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Decidable.Equality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Decidability of type and term equality (in the absence of equality</a>
<a id="144" class="Comment">-- reflection)</a>
<a id="159" class="Comment">------------------------------------------------------------------------</a>

<a id="233" class="Keyword">open</a> <a id="238" class="Keyword">import</a> <a id="245" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="330" class="Keyword">import</a> <a id="337" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="365" class="Symbol">as</a> <a id="368" class="Module">PE</a>

<a id="372" class="Keyword">module</a> <a id="379" href="Definition.Typed.Decidable.Equality.html" class="Module">Definition.Typed.Decidable.Equality</a>
  <a id="417" class="Symbol">{</a><a id="418" href="Definition.Typed.Decidable.Equality.html#418" class="Bound">a</a><a id="419" class="Symbol">}</a> <a id="421" class="Symbol">{</a><a id="422" href="Definition.Typed.Decidable.Equality.html#422" class="Bound">M</a> <a id="424" class="Symbol">:</a> <a id="426" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="430" href="Definition.Typed.Decidable.Equality.html#418" class="Bound">a</a><a id="431" class="Symbol">}</a>
  <a id="435" class="Symbol">{</a><a id="436" href="Definition.Typed.Decidable.Equality.html#436" class="Bound">𝕄</a> <a id="438" class="Symbol">:</a> <a id="440" href="Graded.Modality.html#9576" class="Record">Modality</a> <a id="449" href="Definition.Typed.Decidable.Equality.html#422" class="Bound">M</a><a id="450" class="Symbol">}</a>
  <a id="454" class="Symbol">(</a><a id="455" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a> <a id="457" class="Symbol">:</a> <a id="459" href="Definition.Typed.Restrictions.html#808" class="Record">Type-restrictions</a> <a id="477" href="Definition.Typed.Decidable.Equality.html#436" class="Bound">𝕄</a><a id="478" class="Symbol">)</a>
  <a id="482" class="Symbol">(</a><a id="483" class="Keyword">open</a> <a id="488" href="Definition.Typed.Restrictions.html#808" class="Module">Type-restrictions</a> <a id="506" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a><a id="507" class="Symbol">)</a>
  <a id="511" class="Symbol">(</a><a id="512" href="Definition.Typed.Decidable.Equality.html#512" class="Bound Operator">_≟_</a> <a id="516" class="Symbol">:</a> <a id="518" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a> <a id="528" class="Symbol">(</a><a id="529" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE._≡_</a> <a id="536" class="Symbol">{</a><a id="537" class="Argument">A</a> <a id="539" class="Symbol">=</a> <a id="541" href="Definition.Typed.Decidable.Equality.html#422" class="Bound">M</a><a id="542" class="Symbol">}))</a>
  <a id="548" class="Symbol">⦃</a> <a id="550" href="Definition.Typed.Decidable.Equality.html#550" class="Bound">no-equality-reflection</a> <a id="573" class="Symbol">:</a> <a id="575" href="Definition.Typed.Restrictions.html#3196" class="Datatype">No-equality-reflection</a> <a id="598" class="Symbol">⦄</a>
  <a id="602" class="Keyword">where</a>


<a id="610" class="Keyword">open</a> <a id="615" class="Keyword">import</a> <a id="622" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="641" href="Definition.Typed.Decidable.Equality.html#422" class="Bound">M</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="672" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a>
<a id="674" class="Keyword">open</a> <a id="679" class="Keyword">import</a> <a id="686" href="Definition.Conversion.Decidable.html" class="Module">Definition.Conversion.Decidable</a> <a id="718" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a> <a id="720" href="Definition.Typed.Decidable.Equality.html#512" class="Bound Operator">_≟_</a>
<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Definition.Conversion.Soundness.html" class="Module">Definition.Conversion.Soundness</a> <a id="768" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a>
<a id="770" class="Keyword">open</a> <a id="775" class="Keyword">import</a> <a id="782" href="Definition.Conversion.Consequences.Completeness.html" class="Module">Definition.Conversion.Consequences.Completeness</a> <a id="830" href="Definition.Typed.Decidable.Equality.html#455" class="Bound">R</a>

<a id="833" class="Keyword">open</a> <a id="838" class="Keyword">import</a> <a id="845" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="856" class="Keyword">private</a>
  <a id="866" class="Keyword">variable</a>
    <a id="879" href="Definition.Typed.Decidable.Equality.html#879" class="Generalizable">n</a> <a id="881" class="Symbol">:</a> <a id="883" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="891" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="893" class="Symbol">:</a> <a id="895" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="899" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="904" href="Definition.Typed.Decidable.Equality.html#879" class="Generalizable">n</a>

<a id="907" class="Comment">-- Decidability of conversion of well-formed types</a>
<a id="decEq"></a><a id="958" href="Definition.Typed.Decidable.Equality.html#958" class="Function">decEq</a> <a id="964" class="Symbol">:</a> <a id="966" class="Symbol">∀</a> <a id="968" class="Symbol">{</a><a id="969" href="Definition.Typed.Decidable.Equality.html#969" class="Bound">A</a> <a id="971" href="Definition.Typed.Decidable.Equality.html#971" class="Bound">B</a><a id="972" class="Symbol">}</a> <a id="974" class="Symbol">→</a> <a id="976" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="978" href="Definition.Typed.html#1262" class="Datatype Operator">⊢</a> <a id="980" href="Definition.Typed.Decidable.Equality.html#969" class="Bound">A</a> <a id="982" class="Symbol">→</a> <a id="984" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="986" href="Definition.Typed.html#1262" class="Datatype Operator">⊢</a> <a id="988" href="Definition.Typed.Decidable.Equality.html#971" class="Bound">B</a> <a id="990" class="Symbol">→</a> <a id="992" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="996" class="Symbol">(</a><a id="997" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="999" href="Definition.Typed.html#4649" class="Datatype Operator">⊢</a> <a id="1001" href="Definition.Typed.Decidable.Equality.html#969" class="Bound">A</a> <a id="1003" href="Definition.Typed.html#4649" class="Datatype Operator">≡</a> <a id="1005" href="Definition.Typed.Decidable.Equality.html#971" class="Bound">B</a><a id="1006" class="Symbol">)</a>
<a id="1008" href="Definition.Typed.Decidable.Equality.html#958" class="Function">decEq</a> <a id="1014" href="Definition.Typed.Decidable.Equality.html#1014" class="Bound">⊢A</a> <a id="1017" href="Definition.Typed.Decidable.Equality.html#1017" class="Bound">⊢B</a> <a id="1020" class="Symbol">=</a> <a id="1022" href="Tools.Relation.html#700" class="Function">map</a> <a id="1026" href="Definition.Conversion.Soundness.html#3853" class="Function">soundnessConv↑</a> <a id="1041" href="Definition.Conversion.Consequences.Completeness.html#1034" class="Function">completeEq</a>
                  <a id="1070" class="Symbol">(</a><a id="1071" href="Definition.Conversion.Decidable.html#28187" class="Function">decConv↑</a> <a id="1080" class="Symbol">(</a><a id="1081" href="Definition.Conversion.Consequences.Completeness.html#1034" class="Function">completeEq</a> <a id="1092" class="Symbol">(</a><a id="1093" href="Definition.Typed.html#4708" class="InductiveConstructor">refl</a> <a id="1098" href="Definition.Typed.Decidable.Equality.html#1014" class="Bound">⊢A</a><a id="1100" class="Symbol">))</a>
                            <a id="1131" class="Symbol">(</a><a id="1132" href="Definition.Conversion.Consequences.Completeness.html#1034" class="Function">completeEq</a> <a id="1143" class="Symbol">(</a><a id="1144" href="Definition.Typed.html#4708" class="InductiveConstructor">refl</a> <a id="1149" href="Definition.Typed.Decidable.Equality.html#1017" class="Bound">⊢B</a><a id="1151" class="Symbol">)))</a>

<a id="1156" class="Comment">-- Decidability of conversion of well-formed terms</a>
<a id="decEqTerm"></a><a id="1207" href="Definition.Typed.Decidable.Equality.html#1207" class="Function">decEqTerm</a> <a id="1217" class="Symbol">:</a> <a id="1219" class="Symbol">∀</a> <a id="1221" class="Symbol">{</a><a id="1222" href="Definition.Typed.Decidable.Equality.html#1222" class="Bound">t</a> <a id="1224" href="Definition.Typed.Decidable.Equality.html#1224" class="Bound">u</a> <a id="1226" href="Definition.Typed.Decidable.Equality.html#1226" class="Bound">A</a><a id="1227" class="Symbol">}</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="1233" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="1235" href="Definition.Typed.Decidable.Equality.html#1222" class="Bound">t</a> <a id="1237" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="1239" href="Definition.Typed.Decidable.Equality.html#1226" class="Bound">A</a> <a id="1241" class="Symbol">→</a> <a id="1243" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="1245" href="Definition.Typed.html#1707" class="Datatype Operator">⊢</a> <a id="1247" href="Definition.Typed.Decidable.Equality.html#1224" class="Bound">u</a> <a id="1249" href="Definition.Typed.html#1707" class="Datatype Operator">∷</a> <a id="1251" href="Definition.Typed.Decidable.Equality.html#1226" class="Bound">A</a> <a id="1253" class="Symbol">→</a> <a id="1255" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Definition.Typed.Decidable.Equality.html#891" class="Generalizable">Γ</a> <a id="1262" href="Definition.Typed.html#5243" class="Datatype Operator">⊢</a> <a id="1264" href="Definition.Typed.Decidable.Equality.html#1222" class="Bound">t</a> <a id="1266" href="Definition.Typed.html#5243" class="Datatype Operator">≡</a> <a id="1268" href="Definition.Typed.Decidable.Equality.html#1224" class="Bound">u</a> <a id="1270" href="Definition.Typed.html#5243" class="Datatype Operator">∷</a> <a id="1272" href="Definition.Typed.Decidable.Equality.html#1226" class="Bound">A</a><a id="1273" class="Symbol">)</a>
<a id="1275" href="Definition.Typed.Decidable.Equality.html#1207" class="Function">decEqTerm</a> <a id="1285" href="Definition.Typed.Decidable.Equality.html#1285" class="Bound">⊢t</a> <a id="1288" href="Definition.Typed.Decidable.Equality.html#1288" class="Bound">⊢u</a> <a id="1291" class="Symbol">=</a> <a id="1293" href="Tools.Relation.html#700" class="Function">map</a> <a id="1297" href="Definition.Conversion.Soundness.html#4695" class="Function">soundnessConv↑Term</a> <a id="1316" href="Definition.Conversion.Consequences.Completeness.html#1327" class="Function">completeEqTerm</a>
                      <a id="1353" class="Symbol">(</a><a id="1354" href="Definition.Conversion.Decidable.html#32025" class="Function">decConv↑Term</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Definition.Conversion.Consequences.Completeness.html#1327" class="Function">completeEqTerm</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Definition.Typed.html#5412" class="InductiveConstructor">refl</a> <a id="1389" href="Definition.Typed.Decidable.Equality.html#1285" class="Bound">⊢t</a><a id="1391" class="Symbol">))</a>
                                    <a id="1430" class="Symbol">(</a><a id="1431" href="Definition.Conversion.Consequences.Completeness.html#1327" class="Function">completeEqTerm</a> <a id="1446" class="Symbol">(</a><a id="1447" href="Definition.Typed.html#5412" class="InductiveConstructor">refl</a> <a id="1452" href="Definition.Typed.Decidable.Equality.html#1288" class="Bound">⊢u</a><a id="1454" class="Symbol">)))</a>
</pre></body></html>