<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Instances.Affine</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- A modality for affine types.</a>
<a id="106" class="Comment">------------------------------------------------------------------------</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Tools.Bool.html" class="Module">Tools.Bool</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Graded.Modality.Instances.Zero-one-many.html" class="Module">Graded.Modality.Instances.Zero-one-many</a> <a id="256" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a> as <a id="𝟘𝟙ω"></a><a id="264" href="Graded.Modality.Instances.Affine.html#264" class="Module">𝟘𝟙ω</a>

<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Graded.Mode.Restrictions.html" class="Module">Graded.Mode.Restrictions</a>

<a id="307" class="Keyword">module</a> <a id="314" href="Graded.Modality.Instances.Affine.html" class="Module">Graded.Modality.Instances.Affine</a>
  <a id="349" class="Symbol">(</a><a id="350" href="Graded.Modality.Instances.Affine.html#350" class="Bound">mrs</a> <a id="354" class="Symbol">:</a> <a id="356" href="Graded.Mode.Restrictions.html#270" class="Record">Mode-restrictions</a><a id="373" class="Symbol">)</a>
  <a id="377" class="Keyword">where</a>

<a id="384" class="Keyword">open</a> <a id="389" href="Graded.Mode.Restrictions.html#270" class="Module">Mode-restrictions</a> <a id="407" href="Graded.Modality.Instances.Affine.html#350" class="Bound">mrs</a>

<a id="412" class="Keyword">open</a> <a id="417" href="Graded.Modality.Instances.Affine.html#264" class="Module">𝟘𝟙ω</a> <a id="421" class="Keyword">renaming</a> <a id="430" class="Symbol">(</a><a id="431" href="Graded.Modality.Instances.Zero-one-many.html#1270" class="Datatype">Zero-one-many</a> <a id="445" class="Symbol">to</a> <a id="448" class="Datatype">Affine</a><a id="454" class="Symbol">)</a> <a id="456" class="Keyword">public</a>

<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="492" href="Graded.Modality.Instances.Affine.html#448" class="Datatype">Affine</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Graded.FullReduction.Assumptions.html" class="Module">Graded.FullReduction.Assumptions</a>
<a id="544" class="Keyword">import</a> <a id="551" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a>

<a id="579" class="Keyword">import</a> <a id="586" href="Graded.Mode.html" class="Module">Graded.Mode</a>

<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="641" href="Graded.Modality.Instances.Affine.html#448" class="Datatype">Affine</a>

<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Tools.Nullary.html" class="Module">Tools.Nullary</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="752" class="Keyword">open</a> <a id="757" class="Keyword">import</a> <a id="764" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="792" class="Keyword">import</a> <a id="799" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="852" class="Keyword">private</a> <a id="860" class="Keyword">variable</a>
  <a id="871" href="Graded.Modality.Instances.Affine.html#871" class="Generalizable">p</a>  <a id="874" class="Symbol">:</a> <a id="876" href="Graded.Modality.Instances.Affine.html#448" class="Datatype">Affine</a>
  <a id="885" href="Graded.Modality.Instances.Affine.html#885" class="Generalizable">rs</a> <a id="888" class="Symbol">:</a> <a id="890" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a>

<a id="909" class="Comment">-- An &quot;affine types&quot; modality.</a>

<a id="affineModality"></a><a id="941" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a> <a id="956" class="Symbol">:</a> <a id="958" href="Graded.Modality.html#5150" class="Record">Modality</a>
<a id="967" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a> <a id="982" class="Symbol">=</a> <a id="984" href="Graded.Modality.Instances.Zero-one-many.html#30324" class="Function">zero-one-many-greatest</a> <a id="1007" href="Graded.Modality.Instances.Affine.html#350" class="Bound">mrs</a>

<a id="1012" class="Comment">-- 𝟘 is the largest element.</a>

<a id="≤𝟘"></a><a id="1042" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a> <a id="1045" class="Symbol">:</a> <a id="1047" href="Graded.Modality.Instances.Affine.html#871" class="Generalizable">p</a> <a id="1049" href="Graded.Modality.Instances.Zero-one-many.html#5494" class="Function Operator">≤</a> <a id="1051" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a>
<a id="1053" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a> <a id="1056" class="Symbol">{</a><a id="1057" class="Argument">p</a> <a id="1059" class="Symbol">=</a> <a id="1061" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a><a id="1062" class="Symbol">}</a> <a id="1064" class="Symbol">=</a> <a id="1066" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1071" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a> <a id="1074" class="Symbol">{</a><a id="1075" class="Argument">p</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a><a id="1080" class="Symbol">}</a> <a id="1082" class="Symbol">=</a> <a id="1084" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1089" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a> <a id="1092" class="Symbol">{</a><a id="1093" class="Argument">p</a> <a id="1095" class="Symbol">=</a> <a id="1097" href="Graded.Modality.Instances.Zero-one-many.html#1302" class="InductiveConstructor">ω</a><a id="1098" class="Symbol">}</a> <a id="1100" class="Symbol">=</a> <a id="1102" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="1108" class="Comment">-- An instance of Type-restrictions is suitable for the full reduction</a>
<a id="1179" class="Comment">-- theorem if</a>
<a id="1193" class="Comment">-- * Σₚ-restriction 𝟘 p implies that 𝟘ᵐ is allowed, and</a>
<a id="1249" class="Comment">-- * Σₚ-restriction ω p does not hold.</a>

<a id="Suitable-for-full-reduction"></a><a id="1289" href="Graded.Modality.Instances.Affine.html#1289" class="Function">Suitable-for-full-reduction</a> <a id="1317" class="Symbol">:</a>
  <a id="1321" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="1339" class="Symbol">→</a> <a id="1341" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1345" href="Graded.Modality.Instances.Affine.html#1289" class="Function">Suitable-for-full-reduction</a> <a id="1373" href="Graded.Modality.Instances.Affine.html#1373" class="Bound">rs</a> <a id="1376" class="Symbol">=</a>
  <a id="1380" class="Symbol">(∀</a> <a id="1383" href="Graded.Modality.Instances.Affine.html#1383" class="Bound">p</a> <a id="1385" class="Symbol">→</a> <a id="1387" href="Definition.Typed.Restrictions.html#962" class="Function">Σₚ-restriction</a> <a id="1402" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a> <a id="1404" href="Graded.Modality.Instances.Affine.html#1383" class="Bound">p</a> <a id="1406" class="Symbol">→</a> <a id="1408" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1410" href="Graded.Mode.Restrictions.html#371" class="Field">𝟘ᵐ-allowed</a><a id="1420" class="Symbol">)</a> <a id="1422" href="Data.Product.html#1167" class="Function Operator">×</a>
  <a id="1426" class="Symbol">(∀</a> <a id="1429" href="Graded.Modality.Instances.Affine.html#1429" class="Bound">p</a> <a id="1431" class="Symbol">→</a> <a id="1433" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="1435" href="Definition.Typed.Restrictions.html#962" class="Function">Σₚ-restriction</a> <a id="1450" href="Graded.Modality.Instances.Zero-one-many.html#1302" class="InductiveConstructor">ω</a> <a id="1452" href="Graded.Modality.Instances.Affine.html#1429" class="Bound">p</a><a id="1453" class="Symbol">)</a>
  <a id="1457" class="Keyword">where</a>
  <a id="1465" class="Keyword">open</a> <a id="1470" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="1488" href="Graded.Modality.Instances.Affine.html#1373" class="Bound">rs</a>

<a id="1492" class="Comment">-- Given an instance of Type-restrictions one can create a &quot;suitable&quot;</a>
<a id="1562" class="Comment">-- instance.</a>

<a id="suitable-for-full-reduction"></a><a id="1576" href="Graded.Modality.Instances.Affine.html#1576" class="Function">suitable-for-full-reduction</a> <a id="1604" class="Symbol">:</a>
  <a id="1608" href="Definition.Typed.Restrictions.html#406" class="Record">Type-restrictions</a> <a id="1626" class="Symbol">→</a> <a id="1628" href="Data.Product.html#1369" class="Function">∃</a> <a id="1630" href="Graded.Modality.Instances.Affine.html#1289" class="Function">Suitable-for-full-reduction</a>
<a id="1658" href="Graded.Modality.Instances.Affine.html#1576" class="Function">suitable-for-full-reduction</a> <a id="1686" href="Graded.Modality.Instances.Affine.html#1686" class="Bound">rs</a> <a id="1689" class="Symbol">=</a>
    <a id="1695" class="Keyword">record</a> <a id="1702" href="Graded.Modality.Instances.Affine.html#1686" class="Bound">rs</a>
      <a id="1711" class="Symbol">{</a> <a id="1713" href="Definition.Typed.Restrictions.html#617" class="Field">ΠΣ-restriction</a> <a id="1728" class="Symbol">=</a> <a id="1730" class="Symbol">λ</a> <a id="1732" href="Graded.Modality.Instances.Affine.html#1732" class="Bound">b</a> <a id="1734" href="Graded.Modality.Instances.Affine.html#1734" class="Bound">p</a> <a id="1736" href="Graded.Modality.Instances.Affine.html#1736" class="Bound">q</a> <a id="1738" class="Symbol">→</a>
          <a id="1750" href="Definition.Typed.Restrictions.html#617" class="Field">ΠΣ-restriction</a> <a id="1765" href="Graded.Modality.Instances.Affine.html#1732" class="Bound">b</a> <a id="1767" href="Graded.Modality.Instances.Affine.html#1734" class="Bound">p</a> <a id="1769" href="Graded.Modality.Instances.Affine.html#1736" class="Bound">q</a> <a id="1771" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1773" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1775" href="Graded.Mode.Restrictions.html#371" class="Field">𝟘ᵐ-allowed</a> <a id="1786" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1788" href="Graded.Modality.Instances.Affine.html#1734" class="Bound">p</a> <a id="1790" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">≢</a> <a id="1792" href="Graded.Modality.Instances.Zero-one-many.html#1302" class="InductiveConstructor">ω</a>
      <a id="1800" class="Symbol">}</a>
  <a id="1804" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1806" class="Symbol">(λ</a> <a id="1809" href="Graded.Modality.Instances.Affine.html#1809" class="Bound">_</a> <a id="1811" class="Symbol">→</a> <a id="1813" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1819" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1822" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1827" class="Symbol">)</a>
  <a id="1831" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1833" class="Symbol">(λ</a> <a id="1836" href="Graded.Modality.Instances.Affine.html#1836" class="Bound">_</a> <a id="1838" class="Symbol">→</a> <a id="1840" class="Symbol">(</a><a id="1841" href="Function.Base.html#1919" class="Function Operator">_$</a> <a id="1844" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="1848" class="Symbol">)</a> <a id="1850" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1853" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1859" href="Function.Base.html#1031" class="Function Operator">∘→</a> <a id="1862" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1867" class="Symbol">)</a>
  <a id="1871" class="Keyword">where</a>
  <a id="1879" class="Keyword">open</a> <a id="1884" href="Definition.Typed.Restrictions.html#406" class="Module">Type-restrictions</a> <a id="1902" href="Graded.Modality.Instances.Affine.html#1686" class="Bound">rs</a>

<a id="1906" class="Comment">-- The full reduction assumptions hold for affineModality and any</a>
<a id="1972" class="Comment">-- &quot;suitable&quot; Type-restrictions.</a>

<a id="full-reduction-assumptions"></a><a id="2006" href="Graded.Modality.Instances.Affine.html#2006" class="Function">full-reduction-assumptions</a> <a id="2033" class="Symbol">:</a>
  <a id="2037" href="Graded.Modality.Instances.Affine.html#1289" class="Function">Suitable-for-full-reduction</a> <a id="2065" href="Graded.Modality.Instances.Affine.html#885" class="Generalizable">rs</a> <a id="2068" class="Symbol">→</a>
  <a id="2072" href="Graded.FullReduction.Assumptions.html#686" class="Record">Full-reduction-assumptions</a> <a id="2099" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a> <a id="2114" href="Graded.Modality.Instances.Affine.html#885" class="Generalizable">rs</a>
<a id="2117" href="Graded.Modality.Instances.Affine.html#2006" class="Function">full-reduction-assumptions</a> <a id="2144" class="Symbol">(</a><a id="2145" href="Graded.Modality.Instances.Affine.html#2145" class="Bound">𝟘→𝟘ᵐ</a> <a id="2150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2152" href="Graded.Modality.Instances.Affine.html#2152" class="Bound">¬ω</a><a id="2154" class="Symbol">)</a> <a id="2156" class="Symbol">=</a> <a id="2158" class="Keyword">record</a>
  <a id="2167" class="Symbol">{</a> <a id="2169" href="Graded.FullReduction.Assumptions.html#870" class="Field">≤𝟘</a>           <a id="2182" class="Symbol">=</a> <a id="2184" class="Symbol">λ</a> <a id="2186" href="Graded.Modality.Instances.Affine.html#2186" class="Bound">_</a> <a id="2188" class="Symbol">→</a> <a id="2190" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a>
  <a id="2195" class="Symbol">;</a> <a id="2197" href="Graded.FullReduction.Assumptions.html#1041" class="Field">·-increasing</a> <a id="2210" class="Symbol">=</a> <a id="2212" class="Symbol">λ</a> <a id="2214" class="Keyword">where</a>
      <a id="2226" class="Symbol">{</a><a id="2227" class="Argument">p</a> <a id="2229" class="Symbol">=</a> <a id="2231" href="Graded.Modality.Instances.Zero-one-many.html#1302" class="InductiveConstructor">ω</a><a id="2232" class="Symbol">}</a>         <a id="2242" href="Graded.Modality.Instances.Affine.html#2242" class="Bound">ok</a> <a id="2245" class="Symbol">→</a> <a id="2247" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Graded.Modality.Instances.Affine.html#2152" class="Bound">¬ω</a> <a id="2258" class="Symbol">_</a> <a id="2260" href="Graded.Modality.Instances.Affine.html#2242" class="Bound">ok</a><a id="2262" class="Symbol">)</a>
      <a id="2270" class="Symbol">{</a><a id="2271" class="Argument">p</a> <a id="2273" class="Symbol">=</a> <a id="2275" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a><a id="2276" class="Symbol">}</a> <a id="2278" class="Symbol">{</a><a id="2279" class="Argument">r</a> <a id="2281" class="Symbol">=</a> <a id="2283" href="Graded.Modality.Instances.Affine.html#2283" class="Bound">q</a><a id="2284" class="Symbol">}</a> <a id="2286" class="Symbol">_</a>  <a id="2289" class="Symbol">→</a> <a id="2291" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2305" href="Graded.Modality.Instances.Affine.html#2283" class="Bound">q</a>      <a id="2312" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">≡˘⟨</a> <a id="2316" href="Graded.Modality.html#2138" class="Function">·-identityˡ</a> <a id="2328" class="Symbol">_</a> <a id="2330" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">⟩</a>
        <a id="2340" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a> <a id="2342" href="Graded.Modality.Instances.Zero-one-many.html#7118" class="Function Operator">·</a> <a id="2344" href="Graded.Modality.Instances.Affine.html#2283" class="Bound">q</a>  <a id="2347" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
      <a id="2355" class="Symbol">{</a><a id="2356" class="Argument">p</a> <a id="2358" class="Symbol">=</a> <a id="2360" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a><a id="2361" class="Symbol">}</a> <a id="2363" class="Symbol">{</a><a id="2364" class="Argument">r</a> <a id="2366" class="Symbol">=</a> <a id="2368" href="Graded.Modality.Instances.Affine.html#2368" class="Bound">q</a><a id="2369" class="Symbol">}</a> <a id="2371" class="Symbol">_</a> <a id="2373" class="Symbol">→</a> <a id="2375" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2389" href="Graded.Modality.Instances.Affine.html#2368" class="Bound">q</a>      <a id="2396" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">≤⟨</a> <a id="2399" href="Graded.Modality.Instances.Affine.html#1042" class="Function">≤𝟘</a> <a id="2402" href="Relation.Binary.Reasoning.Base.Triple.html#3745" class="Function">⟩</a>
        <a id="2412" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a> <a id="2414" href="Graded.Modality.Instances.Zero-one-many.html#7118" class="Function Operator">·</a> <a id="2416" href="Graded.Modality.Instances.Affine.html#2368" class="Bound">q</a>  <a id="2419" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="2423" class="Symbol">;</a> <a id="2425" href="Graded.FullReduction.Assumptions.html#1237" class="Field">⌞⌟≡𝟙ᵐ→≤𝟙</a> <a id="2434" class="Symbol">=</a> <a id="2436" class="Symbol">λ</a> <a id="2438" class="Keyword">where</a>
      <a id="2450" class="Symbol">{</a><a id="2451" class="Argument">p</a> <a id="2453" class="Symbol">=</a> <a id="2455" href="Graded.Modality.Instances.Zero-one-many.html#1302" class="InductiveConstructor">ω</a><a id="2456" class="Symbol">}</a> <a id="2458" href="Graded.Modality.Instances.Affine.html#2458" class="Bound">ok</a>   <a id="2463" class="Symbol">→</a> <a id="2465" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2472" class="Symbol">(</a><a id="2473" href="Graded.Modality.Instances.Affine.html#2152" class="Bound">¬ω</a> <a id="2476" class="Symbol">_</a> <a id="2478" href="Graded.Modality.Instances.Affine.html#2458" class="Bound">ok</a><a id="2480" class="Symbol">)</a>
      <a id="2488" class="Symbol">{</a><a id="2489" class="Argument">p</a> <a id="2491" class="Symbol">=</a> <a id="2493" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a><a id="2494" class="Symbol">}</a> <a id="2496" class="Symbol">_</a>  <a id="2499" class="Symbol">_</a> <a id="2501" class="Symbol">→</a> <a id="2503" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="2517" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a>  <a id="2520" href="Relation.Binary.Reasoning.Base.Triple.html#5023" class="Function Operator">≡⟨⟩</a>
        <a id="2532" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a>  <a id="2535" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
      <a id="2543" class="Symbol">{</a><a id="2544" class="Argument">p</a> <a id="2546" class="Symbol">=</a> <a id="2548" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a><a id="2549" class="Symbol">}</a> <a id="2551" href="Graded.Modality.Instances.Affine.html#2551" class="Bound">ok</a> <a id="2554" class="Symbol">→</a>
        <a id="2564" href="Graded.Mode.html#3877" class="Function Operator">⌞</a> <a id="2566" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a> <a id="2568" href="Graded.Mode.html#3877" class="Function Operator">⌟</a> <a id="2570" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2572" href="Graded.Mode.html#1041" class="InductiveConstructor">𝟙ᵐ</a>      <a id="2580" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2583" class="Symbol">(λ</a> <a id="2586" href="Graded.Modality.Instances.Affine.html#2586" class="Bound">hyp</a> <a id="2590" href="Graded.Modality.Instances.Affine.html#2590" class="Bound">ok</a> <a id="2593" class="Symbol">→</a> <a id="2595" href="Graded.Mode.html#14512" class="Function">⌞⌟≡𝟙ᵐ→≉𝟘</a> <a id="2604" href="Graded.Modality.Instances.Affine.html#2590" class="Bound">ok</a> <a id="2607" href="Graded.Modality.Instances.Affine.html#2586" class="Bound">hyp</a> <a id="2611" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2615" class="Symbol">)</a> <a id="2617" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2627" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="2629" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="2631" href="Graded.Mode.Restrictions.html#371" class="Field">𝟘ᵐ-allowed</a>  <a id="2643" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2646" href="Function.Base.html#1919" class="Function Operator">_$</a> <a id="2649" href="Graded.Modality.Instances.Affine.html#2145" class="Bound">𝟘→𝟘ᵐ</a> <a id="2654" class="Symbol">_</a> <a id="2656" href="Graded.Modality.Instances.Affine.html#2551" class="Bound">ok</a> <a id="2659" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2669" href="Data.Empty.html#526" class="Datatype">⊥</a>               <a id="2685" href="Tools.Function.html#667" class="Function">→⟨</a> <a id="2688" href="Data.Empty.html#628" class="Function">⊥-elim</a> <a id="2695" href="Tools.Function.html#667" class="Function">⟩</a>
        <a id="2705" href="Graded.Modality.Instances.Zero-one-many.html#1298" class="InductiveConstructor">𝟘</a> <a id="2707" href="Graded.Modality.Instances.Zero-one-many.html#5494" class="Function Operator">≤</a> <a id="2709" href="Graded.Modality.Instances.Zero-one-many.html#1300" class="InductiveConstructor">𝟙</a>           <a id="2721" href="Tools.Function.html#895" class="Function Operator">□</a>
  <a id="2725" class="Symbol">}</a>
  <a id="2729" class="Keyword">where</a>
  <a id="2737" class="Keyword">open</a> <a id="2742" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="2769" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a>
  <a id="2786" class="Keyword">open</a> <a id="2791" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="2803" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a>
  <a id="2820" class="Keyword">open</a> <a id="2825" href="Graded.Modality.html#5150" class="Module">Modality</a> <a id="2834" href="Graded.Modality.Instances.Affine.html#941" class="Function">affineModality</a> <a id="2849" class="Keyword">using</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Graded.Modality.html#2138" class="Function">·-identityˡ</a><a id="2867" class="Symbol">)</a>
  <a id="2871" class="Keyword">open</a> <a id="2876" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="2905" href="Graded.Modality.Properties.PartialOrder.html#1499" class="Function">≤-poset</a>
</pre></body></html>