<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Restrictions on typing derivations</a>
<a id="112" class="Comment">------------------------------------------------------------------------</a>

<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="215" class="Keyword">module</a> <a id="222" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
  <a id="254" class="Symbol">{</a><a id="255" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a><a id="256" class="Symbol">}</a> <a id="258" class="Symbol">{</a><a id="259" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="261" class="Symbol">:</a> <a id="263" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="267" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a><a id="268" class="Symbol">}</a>
  <a id="272" class="Symbol">(</a><a id="273" href="Definition.Typed.Restrictions.html#273" class="Bound">ğ•„</a> <a id="275" class="Symbol">:</a> <a id="277" href="Graded.Modality.html#7187" class="Record">Modality</a> <a id="286" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a><a id="287" class="Symbol">)</a>
  <a id="291" class="Keyword">where</a>

<a id="298" class="Keyword">open</a> <a id="303" href="Graded.Modality.html#7187" class="Module">Modality</a> <a id="312" href="Definition.Typed.Restrictions.html#273" class="Bound">ğ•„</a>

<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="346" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a>

<a id="349" class="Keyword">open</a> <a id="354" class="Keyword">import</a> <a id="361" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="477" class="Comment">-- Restrictions on typing derivations.</a>

<a id="517" class="Keyword">record</a> <a id="Type-restrictions"></a><a id="524" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="542" class="Symbol">:</a> <a id="544" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="548" class="Symbol">(</a><a id="549" href="Agda.Primitive.html#931" class="Primitive">lsuc</a> <a id="554" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a><a id="555" class="Symbol">)</a> <a id="557" class="Keyword">where</a>
  <a id="565" class="Keyword">no-eta-equality</a>
  <a id="583" class="Keyword">field</a>
    <a id="593" class="Comment">-- Unit types of either variant are only allowed if the given</a>
    <a id="659" class="Comment">-- predicate holds.</a>
    <a id="Type-restrictions.Unit-allowed"></a><a id="683" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="696" class="Symbol">:</a> <a id="698" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a> <a id="707" class="Symbol">â†’</a> <a id="709" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="713" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>

    <a id="720" class="Comment">-- Restrictions imposed upon Î - and Î£-types.</a>
    <a id="Type-restrictions.Î Î£-allowed"></a><a id="769" href="Definition.Typed.Restrictions.html#769" class="Field">Î Î£-allowed</a> <a id="780" class="Symbol">:</a> <a id="782" href="Definition.Untyped.NotParametrised.html#1445" class="Datatype">BinderMode</a> <a id="793" class="Symbol">â†’</a> <a id="795" class="Symbol">(</a><a id="796" href="Definition.Typed.Restrictions.html#796" class="Bound">p</a> <a id="798" href="Definition.Typed.Restrictions.html#798" class="Bound">q</a> <a id="800" class="Symbol">:</a> <a id="802" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a><a id="803" class="Symbol">)</a> <a id="805" class="Symbol">â†’</a> <a id="807" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="811" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>

  <a id="816" class="Comment">-- Unit types with Î·-equality are only allowed if the following</a>
  <a id="882" class="Comment">-- predicate holds</a>

  <a id="Type-restrictions.UnitË¢-allowed"></a><a id="904" href="Definition.Typed.Restrictions.html#904" class="Function">UnitË¢-allowed</a> <a id="918" class="Symbol">:</a> <a id="920" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="924" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="928" href="Definition.Typed.Restrictions.html#904" class="Function">UnitË¢-allowed</a> <a id="942" class="Symbol">=</a> <a id="944" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="957" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">ğ•¤</a>

  <a id="962" class="Comment">-- Unit types without Î·-equality are only allowed if the following</a>
  <a id="1031" class="Comment">-- predicate holds</a>

  <a id="Type-restrictions.UnitÊ·-allowed"></a><a id="1053" href="Definition.Typed.Restrictions.html#1053" class="Function">UnitÊ·-allowed</a> <a id="1067" class="Symbol">:</a> <a id="1069" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1073" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1077" href="Definition.Typed.Restrictions.html#1053" class="Function">UnitÊ·-allowed</a> <a id="1091" class="Symbol">=</a> <a id="1093" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="1106" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">ğ•¨</a>

  <a id="1111" class="Comment">-- Restrictions imposed upon Î -types.</a>

  <a id="Type-restrictions.Î -allowed"></a><a id="1152" href="Definition.Typed.Restrictions.html#1152" class="Function">Î -allowed</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1166" class="Symbol">â†’</a> <a id="1168" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1170" class="Symbol">â†’</a> <a id="1172" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1176" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1180" href="Definition.Typed.Restrictions.html#1152" class="Function">Î -allowed</a> <a id="1190" class="Symbol">=</a> <a id="1192" href="Definition.Typed.Restrictions.html#769" class="Field">Î Î£-allowed</a> <a id="1203" href="Definition.Untyped.NotParametrised.html#1470" class="InductiveConstructor">BMÎ </a>

  <a id="1210" class="Comment">-- Restrictions imposed upon Î£-types.</a>

  <a id="Type-restrictions.Î£-allowed"></a><a id="1251" href="Definition.Typed.Restrictions.html#1251" class="Function">Î£-allowed</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a> <a id="1272" class="Symbol">â†’</a> <a id="1274" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1276" class="Symbol">â†’</a> <a id="1278" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1280" class="Symbol">â†’</a> <a id="1282" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1286" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1290" href="Definition.Typed.Restrictions.html#1251" class="Function">Î£-allowed</a> <a id="1300" class="Symbol">=</a> <a id="1302" href="Definition.Typed.Restrictions.html#769" class="Field">Î Î£-allowed</a> <a id="1313" href="Function.Base.html#1115" class="Function Operator">âˆ˜â†’</a> <a id="1316" href="Definition.Untyped.NotParametrised.html#1489" class="InductiveConstructor">BMÎ£</a>

  <a id="1323" class="Comment">-- Restrictions imposed upon Î£-types with Î·-equality.</a>

  <a id="Type-restrictions.Î£Ë¢-allowed"></a><a id="1380" href="Definition.Typed.Restrictions.html#1380" class="Function">Î£Ë¢-allowed</a> <a id="1391" class="Symbol">:</a> <a id="1393" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1395" class="Symbol">â†’</a> <a id="1397" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1399" class="Symbol">â†’</a> <a id="1401" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1405" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1409" href="Definition.Typed.Restrictions.html#1380" class="Function">Î£Ë¢-allowed</a> <a id="1420" class="Symbol">=</a> <a id="1422" href="Definition.Typed.Restrictions.html#1251" class="Function">Î£-allowed</a> <a id="1432" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">ğ•¤</a>

  <a id="1437" class="Comment">-- Restrictions imposed upon Î£-types without Î·-equality.</a>

  <a id="Type-restrictions.Î£Ê·-allowed"></a><a id="1497" href="Definition.Typed.Restrictions.html#1497" class="Function">Î£Ê·-allowed</a> <a id="1508" class="Symbol">:</a> <a id="1510" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1512" class="Symbol">â†’</a> <a id="1514" href="Definition.Typed.Restrictions.html#259" class="Bound">M</a> <a id="1516" class="Symbol">â†’</a> <a id="1518" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1522" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1526" href="Definition.Typed.Restrictions.html#1497" class="Function">Î£Ê·-allowed</a> <a id="1537" class="Symbol">=</a> <a id="1539" href="Definition.Typed.Restrictions.html#1251" class="Function">Î£-allowed</a> <a id="1549" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">ğ•¨</a>

  <a id="1554" class="Comment">-- The type ErasedÂ A is only allowed if Erased-allowed holds.</a>
  <a id="1618" class="Comment">-- Note that the Erased type can be defined using either a</a>
  <a id="1679" class="Comment">-- weak or strong unit type.</a>

  <a id="Type-restrictions.Erased-allowed"></a><a id="1711" href="Definition.Typed.Restrictions.html#1711" class="Function">Erased-allowed</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a> <a id="1737" class="Symbol">â†’</a> <a id="1739" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1743" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="1747" href="Definition.Typed.Restrictions.html#1711" class="Function">Erased-allowed</a> <a id="1762" href="Definition.Typed.Restrictions.html#1762" class="Bound">s</a> <a id="1764" class="Symbol">=</a> <a id="1766" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="1779" href="Definition.Typed.Restrictions.html#1762" class="Bound">s</a> <a id="1781" href="Data.Product.Base.html#1618" class="Function Operator">Ã—</a> <a id="1783" href="Definition.Typed.Restrictions.html#1251" class="Function">Î£-allowed</a> <a id="1793" href="Definition.Typed.Restrictions.html#1762" class="Bound">s</a> <a id="1795" href="Graded.Modality.html#847" class="Function">ğŸ˜</a> <a id="1797" href="Graded.Modality.html#847" class="Function">ğŸ˜</a>

  <a id="Type-restrictions.ErasedË¢-allowed"></a><a id="1802" href="Definition.Typed.Restrictions.html#1802" class="Function">ErasedË¢-allowed</a> <a id="1818" class="Symbol">=</a> <a id="1820" href="Definition.Typed.Restrictions.html#1711" class="Function">Erased-allowed</a> <a id="1835" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">ğ•¤</a>
  <a id="Type-restrictions.ErasedÊ·-allowed"></a><a id="1839" href="Definition.Typed.Restrictions.html#1839" class="Function">ErasedÊ·-allowed</a> <a id="1855" class="Symbol">=</a> <a id="1857" href="Definition.Typed.Restrictions.html#1711" class="Function">Erased-allowed</a> <a id="1872" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">ğ•¨</a>

  <a id="1877" class="Keyword">field</a>
    <a id="1887" class="Comment">-- The K rule is only allowed if the given predicate holds.</a>
    <a id="Type-restrictions.K-allowed"></a><a id="1951" href="Definition.Typed.Restrictions.html#1951" class="Field">K-allowed</a> <a id="1961" class="Symbol">:</a> <a id="1963" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1967" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>

    <a id="1974" class="Comment">-- []-cong is only allowed if the given predicate holds.</a>
    <a id="2035" class="Comment">-- Note that []-cong can be used with the Erased type</a>
    <a id="2093" class="Comment">-- defined using either a weak or a strong unit type.</a>
    <a id="Type-restrictions.[]-cong-allowed"></a><a id="2151" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="2167" class="Symbol">:</a> <a id="2169" href="Definition.Untyped.NotParametrised.html#1382" class="Datatype">Strength</a> <a id="2178" class="Symbol">â†’</a> <a id="2180" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2184" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>

    <a id="2191" class="Comment">-- If []-cong is allowed, then Erased is allowed.</a>
    <a id="Type-restrictions.[]-congâ†’Erased"></a><a id="2245" href="Definition.Typed.Restrictions.html#2245" class="Field">[]-congâ†’Erased</a> <a id="2260" class="Symbol">:</a> <a id="2262" class="Symbol">âˆ€</a> <a id="2264" class="Symbol">{</a><a id="2265" href="Definition.Typed.Restrictions.html#2265" class="Bound">s</a><a id="2266" class="Symbol">}</a> <a id="2268" class="Symbol">â†’</a> <a id="2270" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="2286" href="Definition.Typed.Restrictions.html#2265" class="Bound">s</a> <a id="2288" class="Symbol">â†’</a> <a id="2290" href="Definition.Typed.Restrictions.html#1711" class="Function">Erased-allowed</a> <a id="2305" href="Definition.Typed.Restrictions.html#2265" class="Bound">s</a>

    <a id="2312" class="Comment">-- If []-cong is allowed, then the modality is not trivial.</a>
    <a id="Type-restrictions.[]-congâ†’Â¬Trivial"></a><a id="2376" href="Definition.Typed.Restrictions.html#2376" class="Field">[]-congâ†’Â¬Trivial</a> <a id="2393" class="Symbol">:</a> <a id="2395" class="Symbol">âˆ€</a> <a id="2397" class="Symbol">{</a><a id="2398" href="Definition.Typed.Restrictions.html#2398" class="Bound">s</a><a id="2399" class="Symbol">}</a> <a id="2401" class="Symbol">â†’</a> <a id="2403" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="2419" href="Definition.Typed.Restrictions.html#2398" class="Bound">s</a> <a id="2421" class="Symbol">â†’</a> <a id="2423" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">Â¬</a> <a id="2425" href="Graded.Modality.html#1927" class="Function">Trivial</a>

  <a id="Type-restrictions.[]-congË¢-allowed"></a><a id="2436" href="Definition.Typed.Restrictions.html#2436" class="Function">[]-congË¢-allowed</a> <a id="2453" class="Symbol">=</a> <a id="2455" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="2471" href="Definition.Untyped.NotParametrised.html#1405" class="InductiveConstructor">ğ•¤</a>
  <a id="Type-restrictions.[]-congÊ·-allowed"></a><a id="2475" href="Definition.Typed.Restrictions.html#2475" class="Function">[]-congÊ·-allowed</a> <a id="2492" class="Symbol">=</a> <a id="2494" href="Definition.Typed.Restrictions.html#2151" class="Field">[]-cong-allowed</a> <a id="2510" href="Definition.Untyped.NotParametrised.html#1407" class="InductiveConstructor">ğ•¨</a>

  <a id="2515" class="Comment">-- A variant of Î Î£-allowed for BindingType.</a>

  <a id="Type-restrictions.BindingType-allowed"></a><a id="2562" href="Definition.Typed.Restrictions.html#2562" class="Function">BindingType-allowed</a> <a id="2582" class="Symbol">:</a> <a id="2584" href="Definition.Untyped.html#5018" class="Datatype">BindingType</a> <a id="2596" class="Symbol">â†’</a> <a id="2598" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2602" href="Definition.Typed.Restrictions.html#255" class="Bound">a</a>
  <a id="2606" href="Definition.Typed.Restrictions.html#2562" class="Function">BindingType-allowed</a> <a id="2626" class="Symbol">(</a><a id="2627" href="Definition.Untyped.html#5046" class="InductiveConstructor">BM</a> <a id="2630" href="Definition.Typed.Restrictions.html#2630" class="Bound">b</a> <a id="2632" href="Definition.Typed.Restrictions.html#2632" class="Bound">p</a> <a id="2634" href="Definition.Typed.Restrictions.html#2634" class="Bound">q</a><a id="2635" class="Symbol">)</a> <a id="2637" class="Symbol">=</a> <a id="2639" href="Definition.Typed.Restrictions.html#769" class="Field">Î Î£-allowed</a> <a id="2650" href="Definition.Typed.Restrictions.html#2630" class="Bound">b</a> <a id="2652" href="Definition.Typed.Restrictions.html#2632" class="Bound">p</a> <a id="2654" href="Definition.Typed.Restrictions.html#2634" class="Bound">q</a>

<a id="2657" class="Keyword">open</a> <a id="2662" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a>
</pre></body></html>