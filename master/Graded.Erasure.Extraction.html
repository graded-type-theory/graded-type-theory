<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Extraction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The extraction function.</a>
<a id="102" class="Comment">------------------------------------------------------------------------</a>

<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Tools.Nullary.html" class="Module">Tools.Nullary</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>

<a id="271" class="Keyword">module</a> <a id="278" href="Graded.Erasure.Extraction.html" class="Module">Graded.Erasure.Extraction</a> <a id="304" class="Symbol">{</a><a id="305" href="Graded.Erasure.Extraction.html#305" class="Bound">a</a><a id="306" class="Symbol">}</a> <a id="308" class="Symbol">{</a><a id="309" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a> <a id="311" class="Symbol">:</a> <a id="313" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="317" href="Graded.Erasure.Extraction.html#305" class="Bound">a</a><a id="318" class="Symbol">}</a> <a id="320" class="Symbol">(</a><a id="321" href="Graded.Erasure.Extraction.html#321" class="Bound">𝕄</a> <a id="323" class="Symbol">:</a> <a id="325" href="Graded.Modality.html#5150" class="Record">Modality</a> <a id="334" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a><a id="335" class="Symbol">)</a>
                                 <a id="370" class="Symbol">(</a><a id="371" class="Keyword">open</a> <a id="376" href="Graded.Modality.html#5150" class="Module">Modality</a> <a id="385" href="Graded.Erasure.Extraction.html#321" class="Bound">𝕄</a><a id="386" class="Symbol">)</a>
                                 <a id="421" class="Symbol">(</a><a id="422" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="428" class="Symbol">:</a> <a id="430" class="Symbol">(</a><a id="431" href="Graded.Erasure.Extraction.html#431" class="Bound">p</a> <a id="433" class="Symbol">:</a> <a id="435" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a><a id="436" class="Symbol">)</a> <a id="438" class="Symbol">→</a> <a id="440" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="444" class="Symbol">(</a><a id="445" href="Graded.Erasure.Extraction.html#431" class="Bound">p</a> <a id="447" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="449" href="Graded.Modality.html#809" class="Function">𝟘</a><a id="450" class="Symbol">))</a> <a id="453" class="Keyword">where</a>

<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="541" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a> as <a id="U"></a><a id="546" href="Graded.Erasure.Extraction.html#546" class="Module">U</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a> <a id="582" class="Symbol">as</a> <a id="585" class="Module">T</a>

<a id="588" class="Keyword">private</a>
  <a id="598" class="Keyword">variable</a>
    <a id="611" href="Graded.Erasure.Extraction.html#611" class="Generalizable">m</a> <a id="613" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a> <a id="615" class="Symbol">:</a> <a id="617" href="Agda.Builtin.Nat.html#186" class="Datatype">Nat</a>
    <a id="625" href="Graded.Erasure.Extraction.html#625" class="Generalizable">Γ</a> <a id="627" class="Symbol">:</a> <a id="629" href="Definition.Untyped.NotParametrised.html#781" class="Datatype">Con</a> <a id="633" href="Definition.Untyped.html#1988" class="Datatype">U.Term</a> <a id="640" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
    <a id="646" href="Graded.Erasure.Extraction.html#646" class="Generalizable">A</a> <a id="648" href="Graded.Erasure.Extraction.html#648" class="Generalizable">t</a> <a id="650" href="Graded.Erasure.Extraction.html#650" class="Generalizable">t′</a> <a id="653" href="Graded.Erasure.Extraction.html#653" class="Generalizable">u</a> <a id="655" class="Symbol">:</a> <a id="657" href="Definition.Untyped.html#1988" class="Datatype">U.Term</a> <a id="664" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
    <a id="670" href="Graded.Erasure.Extraction.html#670" class="Generalizable">v</a> <a id="672" href="Graded.Erasure.Extraction.html#672" class="Generalizable">v′</a> <a id="675" href="Graded.Erasure.Extraction.html#675" class="Generalizable">w</a> <a id="677" class="Symbol">:</a> <a id="679" href="Graded.Erasure.Target.html#517" class="Datatype">T.Term</a> <a id="686" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
    <a id="692" href="Graded.Erasure.Extraction.html#692" class="Generalizable">p</a> <a id="694" class="Symbol">:</a> <a id="696" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a>

<a id="699" class="Comment">-- Extraction of prodrec when the argument is not erased.</a>

<a id="erase-prodrecω"></a><a id="758" href="Graded.Erasure.Extraction.html#758" class="Function">erase-prodrecω</a> <a id="773" class="Symbol">:</a> <a id="775" class="Symbol">(</a><a id="776" href="Graded.Erasure.Extraction.html#776" class="Bound">p</a> <a id="778" class="Symbol">:</a> <a id="780" href="Graded.Erasure.Extraction.html#309" class="Bound">M</a><a id="781" class="Symbol">)</a> <a id="783" class="Symbol">(</a><a id="784" href="Graded.Erasure.Extraction.html#784" class="Bound">t</a> <a id="786" class="Symbol">:</a> <a id="788" href="Graded.Erasure.Target.html#517" class="Datatype">T.Term</a> <a id="795" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a><a id="796" class="Symbol">)</a> <a id="798" class="Symbol">(</a><a id="799" href="Graded.Erasure.Extraction.html#799" class="Bound">u</a> <a id="801" class="Symbol">:</a> <a id="803" href="Graded.Erasure.Target.html#517" class="Datatype">T.Term</a> <a id="810" class="Symbol">(</a><a id="811" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="814" class="Symbol">(</a><a id="815" href="Tools.Nat.html#408" class="InductiveConstructor">1+</a> <a id="818" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a><a id="819" class="Symbol">)))</a>
               <a id="838" class="Symbol">→</a> <a id="840" href="Graded.Erasure.Target.html#517" class="Datatype">T.Term</a> <a id="847" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
<a id="849" href="Graded.Erasure.Extraction.html#758" class="Function">erase-prodrecω</a> <a id="864" href="Graded.Erasure.Extraction.html#864" class="Bound">p</a> <a id="866" href="Graded.Erasure.Extraction.html#866" class="Bound">t</a> <a id="868" href="Graded.Erasure.Extraction.html#868" class="Bound">u</a> <a id="870" class="Symbol">=</a> <a id="872" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="877" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="883" href="Graded.Erasure.Extraction.html#864" class="Bound">p</a> <a id="885" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="888" class="Symbol">λ</a> <a id="890" class="Keyword">where</a>
    <a id="900" class="Symbol">(</a><a id="901" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="905" href="Graded.Erasure.Extraction.html#905" class="Bound">p≡𝟘</a><a id="908" class="Symbol">)</a> <a id="910" class="Symbol">→</a> <a id="912" href="Graded.Erasure.Target.html#895" class="InductiveConstructor">T.prodrec</a> <a id="922" class="Symbol">(</a><a id="923" href="Graded.Erasure.Target.html#785" class="InductiveConstructor">T.prod</a> <a id="930" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a> <a id="932" href="Graded.Erasure.Extraction.html#866" class="Bound">t</a><a id="933" class="Symbol">)</a> <a id="935" href="Graded.Erasure.Extraction.html#868" class="Bound">u</a>
    <a id="941" class="Symbol">(</a><a id="942" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="945" href="Graded.Erasure.Extraction.html#945" class="Bound">p≢𝟘</a><a id="948" class="Symbol">)</a> <a id="950" class="Symbol">→</a> <a id="952" href="Graded.Erasure.Target.html#895" class="InductiveConstructor">T.prodrec</a> <a id="962" href="Graded.Erasure.Extraction.html#866" class="Bound">t</a> <a id="964" href="Graded.Erasure.Extraction.html#868" class="Bound">u</a>

<a id="967" class="Comment">-- The extraction function.</a>

<a id="erase"></a><a id="996" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Definition.Untyped.html#1988" class="Datatype">U.Term</a> <a id="1011" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a> <a id="1013" class="Symbol">→</a> <a id="1015" href="Graded.Erasure.Target.html#517" class="Datatype">T.Term</a> <a id="1022" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
<a id="1024" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1030" class="Symbol">(</a><a id="1031" href="Definition.Untyped.html#2019" class="InductiveConstructor">var</a> <a id="1035" href="Graded.Erasure.Extraction.html#1035" class="Bound">x</a><a id="1036" class="Symbol">)</a> <a id="1038" class="Symbol">=</a> <a id="1040" href="Graded.Erasure.Target.html#542" class="InductiveConstructor">T.var</a> <a id="1046" href="Graded.Erasure.Extraction.html#1035" class="Bound">x</a>
<a id="1048" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1054" href="Definition.Untyped.html#2469" class="InductiveConstructor">U</a> <a id="1056" class="Symbol">=</a> <a id="1058" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
<a id="1060" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1066" class="Symbol">(</a><a id="1067" href="Definition.Untyped.html#2586" class="InductiveConstructor Operator">ΠΣ⟨</a> <a id="1071" class="Symbol">_</a> <a id="1073" href="Definition.Untyped.html#2586" class="InductiveConstructor Operator">⟩</a> <a id="1075" class="Symbol">_</a> <a id="1077" href="Definition.Untyped.html#2586" class="InductiveConstructor Operator">,</a> <a id="1079" class="Symbol">_</a> <a id="1081" href="Definition.Untyped.html#2586" class="InductiveConstructor Operator">▷</a> <a id="1083" class="Symbol">_</a> <a id="1085" href="Definition.Untyped.html#2586" class="InductiveConstructor Operator">▹</a> <a id="1087" class="Symbol">_)</a> <a id="1090" class="Symbol">=</a> <a id="1092" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
<a id="1094" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1100" class="Symbol">(</a><a id="1101" href="Definition.Untyped.html#3008" class="InductiveConstructor">U.lam</a> <a id="1107" href="Graded.Erasure.Extraction.html#1107" class="Bound">p</a> <a id="1109" href="Graded.Erasure.Extraction.html#1109" class="Bound">t</a><a id="1110" class="Symbol">)</a> <a id="1112" class="Symbol">=</a> <a id="1114" href="Graded.Erasure.Target.html#577" class="InductiveConstructor">T.lam</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1127" href="Graded.Erasure.Extraction.html#1109" class="Bound">t</a><a id="1128" class="Symbol">)</a>
<a id="1130" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1136" class="Symbol">(</a><a id="1137" href="Graded.Erasure.Extraction.html#1137" class="Bound">t</a> <a id="1139" href="Definition.Untyped.html#3051" class="InductiveConstructor Operator">∘⟨</a> <a id="1142" href="Graded.Erasure.Extraction.html#1142" class="Bound">p</a> <a id="1144" href="Definition.Untyped.html#3051" class="InductiveConstructor Operator">⟩</a> <a id="1146" href="Graded.Erasure.Extraction.html#1146" class="Bound">u</a><a id="1147" class="Symbol">)</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="1156" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="1162" href="Graded.Erasure.Extraction.html#1142" class="Bound">p</a> <a id="1164" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="1167" class="Symbol">λ</a> <a id="1169" class="Keyword">where</a>
  <a id="1177" class="Symbol">(</a><a id="1178" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1182" href="Graded.Erasure.Extraction.html#1182" class="Bound">p≡𝟘</a><a id="1185" class="Symbol">)</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1195" href="Graded.Erasure.Extraction.html#1137" class="Bound">t</a> <a id="1197" href="Graded.Erasure.Target.html#618" class="InductiveConstructor Operator">T.∘</a> <a id="1201" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
  <a id="1205" class="Symbol">(</a><a id="1206" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1209" href="Graded.Erasure.Extraction.html#1209" class="Bound">p≢𝟘</a><a id="1212" class="Symbol">)</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1222" href="Graded.Erasure.Extraction.html#1137" class="Bound">t</a> <a id="1224" href="Graded.Erasure.Target.html#618" class="InductiveConstructor Operator">T.∘</a> <a id="1228" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1234" href="Graded.Erasure.Extraction.html#1146" class="Bound">u</a>
<a id="1236" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Definition.Untyped.html#3261" class="InductiveConstructor">U.prod</a> <a id="1250" class="Symbol">_</a> <a id="1252" href="Graded.Erasure.Extraction.html#1252" class="Bound">p</a> <a id="1254" href="Graded.Erasure.Extraction.html#1254" class="Bound">t</a> <a id="1256" href="Graded.Erasure.Extraction.html#1256" class="Bound">u</a><a id="1257" class="Symbol">)</a> <a id="1259" class="Symbol">=</a> <a id="1261" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="1266" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="1272" href="Graded.Erasure.Extraction.html#1252" class="Bound">p</a> <a id="1274" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="1277" class="Symbol">λ</a> <a id="1279" class="Keyword">where</a>
  <a id="1287" class="Symbol">(</a><a id="1288" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1292" href="Graded.Erasure.Extraction.html#1292" class="Bound">p≡𝟘</a><a id="1295" class="Symbol">)</a> <a id="1297" class="Symbol">→</a> <a id="1299" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1305" href="Graded.Erasure.Extraction.html#1256" class="Bound">u</a>
  <a id="1309" class="Symbol">(</a><a id="1310" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1313" href="Graded.Erasure.Extraction.html#1313" class="Bound">p≢𝟘</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Graded.Erasure.Target.html#785" class="InductiveConstructor">T.prod</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1334" href="Graded.Erasure.Extraction.html#1254" class="Bound">t</a><a id="1335" class="Symbol">)</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1344" href="Graded.Erasure.Extraction.html#1256" class="Bound">u</a><a id="1345" class="Symbol">)</a>
<a id="1347" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Definition.Untyped.html#3368" class="InductiveConstructor">U.fst</a> <a id="1360" href="Graded.Erasure.Extraction.html#1360" class="Bound">p</a> <a id="1362" href="Graded.Erasure.Extraction.html#1362" class="Bound">t</a><a id="1363" class="Symbol">)</a> <a id="1365" class="Symbol">=</a> <a id="1367" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="1372" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="1378" href="Graded.Erasure.Extraction.html#1360" class="Bound">p</a> <a id="1380" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="1383" class="Symbol">λ</a> <a id="1385" class="Keyword">where</a>
  <a id="1393" class="Symbol">(</a><a id="1394" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1398" href="Graded.Erasure.Extraction.html#1398" class="Bound">p≡𝟘</a><a id="1401" class="Symbol">)</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
  <a id="1409" class="Symbol">(</a><a id="1410" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1413" href="Graded.Erasure.Extraction.html#1413" class="Bound">p≢𝟘</a><a id="1416" class="Symbol">)</a> <a id="1418" class="Symbol">→</a> <a id="1420" href="Graded.Erasure.Target.html#823" class="InductiveConstructor">T.fst</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1433" href="Graded.Erasure.Extraction.html#1362" class="Bound">t</a><a id="1434" class="Symbol">)</a>
<a id="1436" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1442" class="Symbol">(</a><a id="1443" href="Definition.Untyped.html#3411" class="InductiveConstructor">U.snd</a> <a id="1449" href="Graded.Erasure.Extraction.html#1449" class="Bound">p</a> <a id="1451" href="Graded.Erasure.Extraction.html#1451" class="Bound">t</a><a id="1452" class="Symbol">)</a> <a id="1454" class="Symbol">=</a> <a id="1456" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="1461" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="1467" href="Graded.Erasure.Extraction.html#1449" class="Bound">p</a> <a id="1469" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="1472" class="Symbol">λ</a> <a id="1474" class="Keyword">where</a>
  <a id="1482" class="Symbol">(</a><a id="1483" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1487" href="Graded.Erasure.Extraction.html#1487" class="Bound">p≡𝟘</a><a id="1490" class="Symbol">)</a> <a id="1492" class="Symbol">→</a> <a id="1494" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1500" href="Graded.Erasure.Extraction.html#1451" class="Bound">t</a>
  <a id="1504" class="Symbol">(</a><a id="1505" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1508" href="Graded.Erasure.Extraction.html#1508" class="Bound">p≢𝟘</a><a id="1511" class="Symbol">)</a> <a id="1513" class="Symbol">→</a> <a id="1515" href="Graded.Erasure.Target.html#859" class="InductiveConstructor">T.snd</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1528" href="Graded.Erasure.Extraction.html#1451" class="Bound">t</a><a id="1529" class="Symbol">)</a>
<a id="1531" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1537" class="Symbol">(</a><a id="1538" href="Definition.Untyped.html#3454" class="InductiveConstructor">U.prodrec</a> <a id="1548" href="Graded.Erasure.Extraction.html#1548" class="Bound">r</a> <a id="1550" href="Graded.Erasure.Extraction.html#1550" class="Bound">p</a> <a id="1552" class="Symbol">_</a> <a id="1554" class="Symbol">_</a> <a id="1556" href="Graded.Erasure.Extraction.html#1556" class="Bound">t</a> <a id="1558" href="Graded.Erasure.Extraction.html#1558" class="Bound">u</a><a id="1559" class="Symbol">)</a> <a id="1561" class="Symbol">=</a> <a id="1563" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="1568" href="Graded.Erasure.Extraction.html#422" class="Bound">is-𝟘?</a> <a id="1574" href="Graded.Erasure.Extraction.html#1548" class="Bound">r</a> <a id="1576" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="1579" class="Symbol">λ</a> <a id="1581" class="Keyword">where</a>
  <a id="1589" class="Symbol">(</a><a id="1590" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1594" href="Graded.Erasure.Extraction.html#1594" class="Bound">r≡𝟘</a><a id="1597" class="Symbol">)</a> <a id="1599" class="Symbol">→</a> <a id="1601" href="Graded.Erasure.Target.html#895" class="InductiveConstructor">T.prodrec</a> <a id="1611" class="Symbol">(</a><a id="1612" href="Graded.Erasure.Target.html#785" class="InductiveConstructor">T.prod</a> <a id="1619" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a> <a id="1621" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a><a id="1622" class="Symbol">)</a> <a id="1624" class="Symbol">(</a><a id="1625" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1631" href="Graded.Erasure.Extraction.html#1558" class="Bound">u</a><a id="1632" class="Symbol">)</a>
  <a id="1636" class="Symbol">(</a><a id="1637" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1640" href="Graded.Erasure.Extraction.html#1640" class="Bound">r≢𝟘</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Symbol">→</a> <a id="1647" href="Graded.Erasure.Extraction.html#758" class="Function">erase-prodrecω</a> <a id="1662" href="Graded.Erasure.Extraction.html#1550" class="Bound">p</a> <a id="1664" class="Symbol">(</a><a id="1665" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1671" href="Graded.Erasure.Extraction.html#1556" class="Bound">t</a><a id="1672" class="Symbol">)</a> <a id="1674" class="Symbol">(</a><a id="1675" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1681" href="Graded.Erasure.Extraction.html#1558" class="Bound">u</a><a id="1682" class="Symbol">)</a>
<a id="1684" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1690" href="Definition.Untyped.html#2494" class="InductiveConstructor">ℕ</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
<a id="1696" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1702" href="Definition.Untyped.html#3526" class="InductiveConstructor">U.zero</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="Graded.Erasure.Target.html#656" class="InductiveConstructor">T.zero</a>
<a id="1718" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1724" class="Symbol">(</a><a id="1725" href="Definition.Untyped.html#3557" class="InductiveConstructor">U.suc</a> <a id="1731" href="Graded.Erasure.Extraction.html#1731" class="Bound">t</a><a id="1732" class="Symbol">)</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="Graded.Erasure.Target.html#677" class="InductiveConstructor">T.suc</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1749" href="Graded.Erasure.Extraction.html#1731" class="Bound">t</a><a id="1750" class="Symbol">)</a>
<a id="1752" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1758" class="Symbol">(</a><a id="1759" href="Definition.Untyped.html#3594" class="InductiveConstructor">U.natrec</a> <a id="1768" href="Graded.Erasure.Extraction.html#1768" class="Bound">p</a> <a id="1770" href="Graded.Erasure.Extraction.html#1770" class="Bound">q</a> <a id="1772" href="Graded.Erasure.Extraction.html#1772" class="Bound">r</a> <a id="1774" href="Graded.Erasure.Extraction.html#1774" class="Bound">A</a> <a id="1776" href="Graded.Erasure.Extraction.html#1776" class="Bound">z</a> <a id="1778" href="Graded.Erasure.Extraction.html#1778" class="Bound">s</a> <a id="1780" href="Graded.Erasure.Extraction.html#1780" class="Bound">n</a><a id="1781" class="Symbol">)</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Graded.Erasure.Target.html#713" class="InductiveConstructor">T.natrec</a> <a id="1794" class="Symbol">(</a><a id="1795" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1801" href="Graded.Erasure.Extraction.html#1776" class="Bound">z</a><a id="1802" class="Symbol">)</a> <a id="1804" class="Symbol">(</a><a id="1805" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1811" href="Graded.Erasure.Extraction.html#1778" class="Bound">s</a><a id="1812" class="Symbol">)</a> <a id="1814" class="Symbol">(</a><a id="1815" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1821" href="Graded.Erasure.Extraction.html#1780" class="Bound">n</a><a id="1822" class="Symbol">)</a>
<a id="1824" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1830" href="Definition.Untyped.html#2554" class="InductiveConstructor">Unit</a> <a id="1835" class="Symbol">=</a> <a id="1837" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
<a id="1839" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1845" href="Definition.Untyped.html#3670" class="InductiveConstructor">U.star</a> <a id="1852" class="Symbol">=</a> <a id="1854" href="Graded.Erasure.Target.html#954" class="InductiveConstructor">T.star</a>
<a id="1861" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1867" href="Definition.Untyped.html#2521" class="InductiveConstructor">Empty</a> <a id="1873" class="Symbol">=</a> <a id="1875" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>
<a id="1877" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="1883" class="Symbol">(</a><a id="1884" href="Definition.Untyped.html#3701" class="InductiveConstructor">Emptyrec</a> <a id="1893" href="Graded.Erasure.Extraction.html#1893" class="Bound">p</a> <a id="1895" href="Graded.Erasure.Extraction.html#1895" class="Bound">A</a> <a id="1897" href="Graded.Erasure.Extraction.html#1897" class="Bound">t</a><a id="1898" class="Symbol">)</a> <a id="1900" class="Symbol">=</a> <a id="1902" href="Graded.Erasure.Target.html#1003" class="InductiveConstructor">↯</a>

<a id="1905" class="Comment">-- Extraction of substitutions.</a>

<a id="eraseSubst"></a><a id="1938" href="Graded.Erasure.Extraction.html#1938" class="Function">eraseSubst</a> <a id="1949" class="Symbol">:</a> <a id="1951" href="Definition.Untyped.html#11781" class="Function">U.Subst</a> <a id="1959" href="Graded.Erasure.Extraction.html#611" class="Generalizable">m</a> <a id="1961" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a> <a id="1963" class="Symbol">→</a> <a id="1965" href="Graded.Erasure.Target.html#2996" class="Function">T.Subst</a> <a id="1973" href="Graded.Erasure.Extraction.html#611" class="Generalizable">m</a> <a id="1975" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
<a id="1977" href="Graded.Erasure.Extraction.html#1938" class="Function">eraseSubst</a> <a id="1988" href="Graded.Erasure.Extraction.html#1988" class="Bound">σ</a> <a id="1990" href="Graded.Erasure.Extraction.html#1990" class="Bound">x</a> <a id="1992" class="Symbol">=</a> <a id="1994" href="Graded.Erasure.Extraction.html#996" class="Function">erase</a> <a id="2000" class="Symbol">(</a><a id="2001" href="Graded.Erasure.Extraction.html#1988" class="Bound">σ</a> <a id="2003" href="Graded.Erasure.Extraction.html#1990" class="Bound">x</a><a id="2004" class="Symbol">)</a>

<a id="2007" class="Comment">-- Extraction of weakenings.</a>

<a id="eraseWk"></a><a id="2037" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2045" class="Symbol">:</a> <a id="2047" href="Definition.Untyped.NotParametrised.html#2135" class="Datatype">U.Wk</a> <a id="2052" href="Graded.Erasure.Extraction.html#611" class="Generalizable">m</a> <a id="2054" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a> <a id="2056" class="Symbol">→</a> <a id="2058" href="Graded.Erasure.Target.html#1772" class="Datatype">T.Wk</a> <a id="2063" href="Graded.Erasure.Extraction.html#611" class="Generalizable">m</a> <a id="2065" href="Graded.Erasure.Extraction.html#613" class="Generalizable">n</a>
<a id="2067" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2075" href="Definition.Untyped.NotParametrised.html#2164" class="InductiveConstructor">id</a> <a id="2078" class="Symbol">=</a> <a id="2080" href="Graded.Erasure.Target.html#1803" class="InductiveConstructor">id</a>
<a id="2083" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2091" class="Symbol">(</a><a id="2092" href="Definition.Untyped.NotParametrised.html#2228" class="InductiveConstructor">step</a> <a id="2097" href="Graded.Erasure.Extraction.html#2097" class="Bound">ρ</a><a id="2098" class="Symbol">)</a> <a id="2100" class="Symbol">=</a> <a id="2102" href="Graded.Erasure.Target.html#1819" class="InductiveConstructor">step</a> <a id="2107" class="Symbol">(</a><a id="2108" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2116" href="Graded.Erasure.Extraction.html#2097" class="Bound">ρ</a><a id="2117" class="Symbol">)</a>
<a id="2119" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2127" class="Symbol">(</a><a id="2128" href="Definition.Untyped.NotParametrised.html#2317" class="InductiveConstructor">lift</a> <a id="2133" href="Graded.Erasure.Extraction.html#2133" class="Bound">ρ</a><a id="2134" class="Symbol">)</a> <a id="2136" class="Symbol">=</a> <a id="2138" href="Graded.Erasure.Target.html#1855" class="InductiveConstructor">lift</a> <a id="2143" class="Symbol">(</a><a id="2144" href="Graded.Erasure.Extraction.html#2037" class="Function">eraseWk</a> <a id="2152" href="Graded.Erasure.Extraction.html#2133" class="Bound">ρ</a><a id="2153" class="Symbol">)</a>
</pre></body></html>