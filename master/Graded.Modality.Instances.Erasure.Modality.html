<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Instances.Erasure.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The erasure modality.</a>
<a id="99" class="Comment">------------------------------------------------------------------------</a>

<a id="173" class="Keyword">module</a> <a id="180" href="Graded.Modality.Instances.Erasure.Modality.html" class="Module">Graded.Modality.Instances.Erasure.Modality</a> <a id="223" class="Keyword">where</a>

<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Graded.Modality.Instances.Erasure.html" class="Module">Graded.Modality.Instances.Erasure</a>
<a id="416" class="Keyword">import</a> <a id="423" href="Graded.Modality.Properties.Star.html" class="Module">Graded.Modality.Properties.Star</a> <a id="455" class="Symbol">as</a> <a id="458" class="Module">Star</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Graded.Modality.Variant.html" class="Module">Graded.Modality.Variant</a> <a id="499" href="Agda.Primitive.html#758" class="Primitive">lzero</a>

<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="534" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="542" class="Keyword">public</a>

<a id="550" class="Comment">-- Erasure annotations forms a semiring with meet</a>

<a id="erasure-semiring-with-meet"></a><a id="601" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a> <a id="628" class="Symbol">:</a> <a id="630" href="Graded.Modality.html#551" class="Record">Semiring-with-meet</a>
<a id="649" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a> <a id="676" class="Symbol">=</a> <a id="678" class="Keyword">record</a>
  <a id="687" class="Symbol">{</a> <a id="689" href="Graded.Modality.html#747" class="Field Operator">_+_</a> <a id="693" class="Symbol">=</a> <a id="695" href="Graded.Modality.Instances.Erasure.html#699" class="Function Operator">_+_</a>
  <a id="701" class="Symbol">;</a> <a id="703" href="Graded.Modality.html#775" class="Field Operator">_·_</a> <a id="707" class="Symbol">=</a> <a id="709" href="Graded.Modality.Instances.Erasure.html#780" class="Function Operator">_·_</a>
  <a id="715" class="Symbol">;</a> <a id="717" href="Graded.Modality.html#809" class="Field Operator">_∧_</a> <a id="721" class="Symbol">=</a> <a id="723" href="Graded.Modality.Instances.Erasure.html#876" class="Function Operator">_∧_</a>
  <a id="729" class="Symbol">;</a> <a id="731" href="Graded.Modality.html#870" class="Field">𝟘</a> <a id="733" class="Symbol">=</a> <a id="735" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a>
  <a id="739" class="Symbol">;</a> <a id="741" href="Graded.Modality.html#880" class="Field">𝟙</a> <a id="743" class="Symbol">=</a> <a id="745" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a>
  <a id="749" class="Symbol">;</a> <a id="751" href="Graded.Modality.html#966" class="Field">+-·-Semiring</a> <a id="764" class="Symbol">=</a> <a id="766" href="Graded.Modality.Instances.Erasure.html#8411" class="Function">+-·-Semiring</a>
  <a id="781" class="Symbol">;</a> <a id="783" href="Graded.Modality.html#1038" class="Field">∧-Semilattice</a> <a id="797" class="Symbol">=</a> <a id="799" href="Graded.Modality.Instances.Erasure.html#7321" class="Function">+-Semilattice</a>
  <a id="815" class="Symbol">;</a> <a id="817" href="Graded.Modality.html#1125" class="Field">·-distrib-∧</a> <a id="829" class="Symbol">=</a> <a id="831" href="Graded.Modality.Instances.Erasure.html#5696" class="Function">·-distrib-+</a>
  <a id="845" class="Symbol">;</a> <a id="847" href="Graded.Modality.html#1213" class="Field">+-distrib-∧</a> <a id="859" class="Symbol">=</a> <a id="861" href="Graded.Modality.Instances.Erasure.html#6296" class="Function">+-distrib-+</a>
  <a id="875" class="Symbol">}</a>

<a id="878" class="Comment">-- The zero of the erasure semiring is well-behaved</a>

<a id="erasure-has-well-behaved-zero"></a><a id="931" href="Graded.Modality.Instances.Erasure.Modality.html#931" class="Function">erasure-has-well-behaved-zero</a> <a id="961" class="Symbol">:</a> <a id="963" href="Graded.Modality.html#2901" class="Record">Has-well-behaved-zero</a> <a id="985" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
<a id="1012" href="Graded.Modality.Instances.Erasure.Modality.html#931" class="Function">erasure-has-well-behaved-zero</a> <a id="1042" class="Symbol">=</a> <a id="1044" class="Keyword">record</a>
  <a id="1053" class="Symbol">{</a> <a id="1055" href="Graded.Modality.html#3030" class="Field">𝟙≢𝟘</a> <a id="1059" class="Symbol">=</a> <a id="1061" class="Symbol">λ</a> <a id="1063" class="Symbol">()</a>
  <a id="1068" class="Symbol">;</a> <a id="1070" href="Graded.Modality.html#3101" class="Field">is-𝟘?</a> <a id="1076" class="Symbol">=</a> <a id="1078" class="Symbol">λ</a> <a id="1080" class="Keyword">where</a>
      <a id="1092" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="1100" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1111" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a> <a id="1113" class="Symbol">→</a> <a id="1115" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="1118" class="Symbol">(λ</a> <a id="1121" class="Symbol">())</a>
  <a id="1127" class="Symbol">;</a> <a id="1129" href="Graded.Modality.html#3434" class="Field">zero-product</a> <a id="1142" class="Symbol">=</a> <a id="1144" class="Symbol">λ</a> <a id="1146" class="Keyword">where</a>
      <a id="1158" class="Symbol">{</a><a id="1159" class="Argument">p</a> <a id="1161" class="Symbol">=</a> <a id="1163" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1164" class="Symbol">}</a> <a id="1166" class="Symbol">{</a><a id="1167" class="Argument">q</a> <a id="1169" class="Symbol">=</a> <a id="1171" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1172" class="Symbol">}</a> <a id="1174" class="Symbol">_</a>  <a id="1177" class="Symbol">→</a> <a id="1179" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="1184" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1195" class="Symbol">{</a><a id="1196" class="Argument">p</a> <a id="1198" class="Symbol">=</a> <a id="1200" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1201" class="Symbol">}</a> <a id="1203" class="Symbol">{</a><a id="1204" class="Argument">q</a> <a id="1206" class="Symbol">=</a> <a id="1208" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1209" class="Symbol">}</a> <a id="1211" class="Symbol">_</a>  <a id="1214" class="Symbol">→</a> <a id="1216" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="1221" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1232" class="Symbol">{</a><a id="1233" class="Argument">p</a> <a id="1235" class="Symbol">=</a> <a id="1237" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1238" class="Symbol">}</a> <a id="1240" class="Symbol">{</a><a id="1241" class="Argument">q</a> <a id="1243" class="Symbol">=</a> <a id="1245" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1246" class="Symbol">}</a> <a id="1248" class="Symbol">_</a>  <a id="1251" class="Symbol">→</a> <a id="1253" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="1258" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1269" class="Symbol">{</a><a id="1270" class="Argument">p</a> <a id="1272" class="Symbol">=</a> <a id="1274" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1275" class="Symbol">}</a> <a id="1277" class="Symbol">{</a><a id="1278" class="Argument">q</a> <a id="1280" class="Symbol">=</a> <a id="1282" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1283" class="Symbol">}</a> <a id="1285" class="Symbol">()</a>
  <a id="1290" class="Symbol">;</a> <a id="1292" href="Graded.Modality.html#3761" class="Field">+-positiveˡ</a> <a id="1304" class="Symbol">=</a> <a id="1306" class="Symbol">λ</a> <a id="1308" class="Keyword">where</a>
      <a id="1320" class="Symbol">{</a><a id="1321" class="Argument">p</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1326" class="Symbol">}</a>         <a id="1336" class="Symbol">_</a>  <a id="1339" class="Symbol">→</a> <a id="1341" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1352" class="Symbol">{</a><a id="1353" class="Argument">p</a> <a id="1355" class="Symbol">=</a> <a id="1357" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1358" class="Symbol">}</a> <a id="1360" class="Symbol">{</a><a id="1361" class="Argument">q</a> <a id="1363" class="Symbol">=</a> <a id="1365" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1366" class="Symbol">}</a> <a id="1368" class="Symbol">()</a>
      <a id="1377" class="Symbol">{</a><a id="1378" class="Argument">p</a> <a id="1380" class="Symbol">=</a> <a id="1382" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1383" class="Symbol">}</a> <a id="1385" class="Symbol">{</a><a id="1386" class="Argument">q</a> <a id="1388" class="Symbol">=</a> <a id="1390" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1391" class="Symbol">}</a> <a id="1393" class="Symbol">()</a>
  <a id="1398" class="Symbol">;</a> <a id="1400" href="Graded.Modality.html#4011" class="Field">∧-positiveˡ</a> <a id="1412" class="Symbol">=</a> <a id="1414" class="Symbol">λ</a> <a id="1416" class="Keyword">where</a>
      <a id="1428" class="Symbol">{</a><a id="1429" class="Argument">p</a> <a id="1431" class="Symbol">=</a> <a id="1433" href="Graded.Modality.Instances.Erasure.html#415" class="InductiveConstructor">𝟘</a><a id="1434" class="Symbol">}</a> <a id="1436" class="Symbol">_</a> <a id="1438" class="Symbol">→</a> <a id="1440" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1451" class="Symbol">{</a><a id="1452" class="Argument">p</a> <a id="1454" class="Symbol">=</a> <a id="1456" href="Graded.Modality.Instances.Erasure.html#417" class="InductiveConstructor">ω</a><a id="1457" class="Symbol">}</a> <a id="1459" class="Symbol">()</a>
  <a id="1464" class="Symbol">}</a>

<a id="1467" class="Keyword">instance</a>

  <a id="1479" class="Comment">-- A natrec-star operator can be defined for Erasure.</a>

  <a id="erasure-has-star"></a><a id="1536" href="Graded.Modality.Instances.Erasure.Modality.html#1536" class="Function">erasure-has-star</a> <a id="1553" class="Symbol">:</a> <a id="1555" href="Graded.Modality.html#5506" class="Record">Has-star</a> <a id="1564" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="1593" href="Graded.Modality.Instances.Erasure.Modality.html#1536" class="Function">erasure-has-star</a> <a id="1610" class="Symbol">=</a> <a id="1612" class="Keyword">record</a>
    <a id="1623" class="Symbol">{</a> <a id="1625" href="Graded.Modality.html#5646" class="Field Operator">_⊛_▷_</a> <a id="1631" class="Symbol">=</a> <a id="1633" href="Graded.Modality.Instances.Erasure.html#931" class="Function Operator">_⊛_▷_</a>
    <a id="1643" class="Symbol">;</a> <a id="1645" href="Graded.Modality.html#5728" class="Field">⊛-ineq</a> <a id="1652" class="Symbol">=</a> <a id="1654" href="Graded.Modality.Instances.Erasure.html#3406" class="Function">⊛-ineq₁</a> <a id="1662" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1664" href="Graded.Modality.Instances.Erasure.html#3618" class="Function">⊛-ineq₂</a>
    <a id="1676" class="Symbol">;</a> <a id="1678" href="Graded.Modality.html#5907" class="Field">+-sub-interchangeable-⊛</a> <a id="1702" class="Symbol">=</a> <a id="1704" href="Graded.Modality.Instances.Erasure.html#3818" class="Function">+-sub-interchangeable-⊛</a>
    <a id="1732" class="Symbol">;</a> <a id="1734" href="Graded.Modality.html#6071" class="Field">·-sub-distribʳ-⊛</a> <a id="1751" class="Symbol">=</a> <a id="1753" href="Graded.Modality.Instances.Erasure.html#4196" class="Function">·-sub-distribʳ-⊛</a>
    <a id="1774" class="Symbol">;</a> <a id="1776" href="Graded.Modality.html#6213" class="Field">⊛-sub-distrib-∧</a> <a id="1792" class="Symbol">=</a> <a id="1794" class="Symbol">λ</a> <a id="1796" href="Graded.Modality.Instances.Erasure.Modality.html#1796" class="Bound">r</a> <a id="1798" class="Symbol">→</a> <a id="1800" href="Graded.Modality.Instances.Erasure.html#4503" class="Function">⊛-sub-distribˡ-∧</a> <a id="1817" href="Graded.Modality.Instances.Erasure.Modality.html#1796" class="Bound">r</a> <a id="1819" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1821" href="Graded.Modality.Instances.Erasure.html#4746" class="Function">⊛-sub-distribʳ-∧</a> <a id="1838" href="Graded.Modality.Instances.Erasure.Modality.html#1796" class="Bound">r</a>
    <a id="1844" class="Symbol">}</a>

  <a id="1849" class="Comment">-- An nr function can be defined for Erasure.</a>

  <a id="erasure-has-nr"></a><a id="1898" href="Graded.Modality.Instances.Erasure.Modality.html#1898" class="Function">erasure-has-nr</a> <a id="1913" class="Symbol">:</a> <a id="1915" href="Graded.Modality.html#4199" class="Record">Has-nr</a> <a id="1922" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="1951" href="Graded.Modality.Instances.Erasure.Modality.html#1898" class="Function">erasure-has-nr</a> <a id="1966" class="Symbol">=</a> <a id="1968" href="Graded.Modality.Properties.Star.html#2544" class="Function">Star.has-nr</a> <a id="1980" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>

<a id="2008" class="Comment">-- The nr function.</a>

<a id="nr"></a><a id="2029" href="Graded.Modality.Instances.Erasure.Modality.html#2029" class="Function">nr</a> <a id="2032" class="Symbol">:</a> <a id="2034" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="2042" class="Symbol">→</a> <a id="2044" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="2052" class="Symbol">→</a> <a id="2054" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="2062" class="Symbol">→</a> <a id="2064" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="2072" class="Symbol">→</a> <a id="2074" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="Graded.Modality.Instances.Erasure.html#393" class="Datatype">Erasure</a>
<a id="2092" href="Graded.Modality.Instances.Erasure.Modality.html#2029" class="Function">nr</a> <a id="2095" class="Symbol">=</a> <a id="2097" href="Graded.Modality.html#4310" class="Field">Has-nr.nr</a> <a id="2107" href="Graded.Modality.Instances.Erasure.Modality.html#1898" class="Function">erasure-has-nr</a>

<a id="2123" class="Comment">-- Erasure modality instances (for different modality variants).</a>

<a id="ErasureModality"></a><a id="2189" href="Graded.Modality.Instances.Erasure.Modality.html#2189" class="Function">ErasureModality</a> <a id="2205" class="Symbol">:</a> <a id="2207" href="Graded.Modality.Variant.html#710" class="Record">Modality-variant</a> <a id="2224" class="Symbol">→</a> <a id="2226" href="Graded.Modality.html#6709" class="Record">Modality</a>
<a id="2235" href="Graded.Modality.Instances.Erasure.Modality.html#2189" class="Function">ErasureModality</a> <a id="2251" href="Graded.Modality.Instances.Erasure.Modality.html#2251" class="Bound">variant</a> <a id="2259" class="Symbol">=</a> <a id="2261" class="Keyword">record</a>
  <a id="2270" class="Symbol">{</a> <a id="2272" href="Graded.Modality.html#6780" class="Field">variant</a>            <a id="2291" class="Symbol">=</a> <a id="2293" href="Graded.Modality.Instances.Erasure.Modality.html#2251" class="Bound">variant</a>
  <a id="2303" class="Symbol">;</a> <a id="2305" href="Graded.Modality.html#6822" class="Field">semiring-with-meet</a> <a id="2324" class="Symbol">=</a> <a id="2326" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="2355" class="Symbol">;</a> <a id="2357" href="Graded.Modality.html#7224" class="Field">has-nr</a>             <a id="2376" class="Symbol">=</a> <a id="2378" class="Symbol">λ</a> <a id="2380" href="Graded.Modality.Instances.Erasure.Modality.html#2380" class="Bound">_</a> <a id="2382" class="Symbol">→</a> <a id="2384" href="Graded.Modality.Instances.Erasure.Modality.html#1898" class="Function">erasure-has-nr</a>
  <a id="2401" class="Symbol">;</a> <a id="2403" href="Graded.Modality.html#7031" class="Field">𝟘-well-behaved</a>     <a id="2422" class="Symbol">=</a> <a id="2424" class="Symbol">λ</a> <a id="2426" href="Graded.Modality.Instances.Erasure.Modality.html#2426" class="Bound">_</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="Graded.Modality.Instances.Erasure.Modality.html#931" class="Function">erasure-has-well-behaved-zero</a>
  <a id="2462" class="Symbol">}</a>
</pre></body></html>