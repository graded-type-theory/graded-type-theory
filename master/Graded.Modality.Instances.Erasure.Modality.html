<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality.Instances.Erasure.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The erasure modality.</a>
<a id="99" class="Comment">------------------------------------------------------------------------</a>

<a id="173" class="Keyword">module</a> <a id="180" href="Graded.Modality.Instances.Erasure.Modality.html" class="Module">Graded.Modality.Instances.Erasure.Modality</a> <a id="223" class="Keyword">where</a>

<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Graded.Modality.Instances.Erasure.html" class="Module">Graded.Modality.Instances.Erasure</a>
<a id="416" class="Keyword">import</a> <a id="423" href="Graded.Modality.Properties.Star.html" class="Module">Graded.Modality.Properties.Star</a> <a id="455" class="Symbol">as</a> <a id="458" class="Module">Star</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Graded.Modality.Variant.html" class="Module">Graded.Modality.Variant</a> <a id="499" href="Agda.Primitive.html#915" class="Primitive">lzero</a>

<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="534" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="542" class="Keyword">public</a>

<a id="550" class="Comment">-- Erasure annotations forms a semiring with meet</a>

<a id="erasure-semiring-with-meet"></a><a id="601" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a> <a id="628" class="Symbol">:</a> <a id="630" href="Graded.Modality.html#551" class="Record">Semiring-with-meet</a>
<a id="649" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a> <a id="676" class="Symbol">=</a> <a id="678" class="Keyword">record</a>
  <a id="687" class="Symbol">{</a> <a id="689" href="Graded.Modality.html#823" class="Field Operator">_+_</a> <a id="693" class="Symbol">=</a> <a id="695" href="Graded.Modality.Instances.Erasure.html#730" class="Function Operator">_+_</a>
  <a id="701" class="Symbol">;</a> <a id="703" href="Graded.Modality.html#827" class="Field Operator">_·_</a> <a id="707" class="Symbol">=</a> <a id="709" href="Graded.Modality.Instances.Erasure.html#811" class="Function Operator">_·_</a>
  <a id="715" class="Symbol">;</a> <a id="717" href="Graded.Modality.html#831" class="Field Operator">_∧_</a> <a id="721" class="Symbol">=</a> <a id="723" href="Graded.Modality.Instances.Erasure.html#907" class="Function Operator">_∧_</a>
  <a id="729" class="Symbol">;</a> <a id="731" href="Graded.Modality.html#847" class="Field">𝟘</a> <a id="733" class="Symbol">=</a> <a id="735" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a>
  <a id="739" class="Symbol">;</a> <a id="741" href="Graded.Modality.html#849" class="Field">𝟙</a> <a id="743" class="Symbol">=</a> <a id="745" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a>
  <a id="749" class="Symbol">;</a> <a id="751" href="Graded.Modality.html#851" class="Field">ω</a> <a id="753" class="Symbol">=</a> <a id="755" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a>
  <a id="759" class="Symbol">;</a> <a id="761" href="Graded.Modality.html#1585" class="Field">ω≤𝟙</a> <a id="765" class="Symbol">=</a> <a id="767" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="774" class="Symbol">;</a> <a id="776" href="Graded.Modality.html#1656" class="Field">is-𝟘?</a> <a id="782" class="Symbol">=</a> <a id="784" href="Graded.Modality.Instances.Erasure.html#1204" class="Function Operator">_≟</a> <a id="787" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a>
  <a id="791" class="Symbol">;</a> <a id="793" href="Graded.Modality.html#943" class="Field">+-·-Semiring</a> <a id="806" class="Symbol">=</a> <a id="808" href="Graded.Modality.Instances.Erasure.html#8645" class="Function">+-·-Semiring</a>
  <a id="823" class="Symbol">;</a> <a id="825" href="Graded.Modality.html#1015" class="Field">∧-Semilattice</a> <a id="839" class="Symbol">=</a> <a id="841" href="Graded.Modality.Instances.Erasure.html#7498" class="Function">+-Semilattice</a>
  <a id="857" class="Symbol">;</a> <a id="859" href="Graded.Modality.html#1106" class="Field">·-distrib-∧</a> <a id="871" class="Symbol">=</a> <a id="873" href="Graded.Modality.Instances.Erasure.html#5873" class="Function">·-distrib-+</a>
  <a id="887" class="Symbol">;</a> <a id="889" href="Graded.Modality.html#1194" class="Field">+-distrib-∧</a> <a id="901" class="Symbol">=</a> <a id="903" href="Graded.Modality.Instances.Erasure.html#6473" class="Function">+-distrib-+</a>
  <a id="917" class="Symbol">}</a>

<a id="920" class="Keyword">instance</a>

  <a id="932" class="Comment">-- The zero of the erasure semiring is well-behaved.</a>

  <a id="erasure-has-well-behaved-zero"></a><a id="988" href="Graded.Modality.Instances.Erasure.Modality.html#988" class="Function">erasure-has-well-behaved-zero</a> <a id="1018" class="Symbol">:</a>
    <a id="1024" href="Graded.Modality.html#3378" class="Record">Has-well-behaved-zero</a> <a id="1046" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="1075" href="Graded.Modality.Instances.Erasure.Modality.html#988" class="Function">erasure-has-well-behaved-zero</a> <a id="1105" class="Symbol">=</a> <a id="1107" class="Keyword">record</a>
    <a id="1118" class="Symbol">{</a> <a id="1120" href="Graded.Modality.html#3504" class="Field">non-trivial</a> <a id="1132" class="Symbol">=</a> <a id="1134" class="Symbol">λ</a> <a id="1136" class="Symbol">()</a>
    <a id="1143" class="Symbol">;</a> <a id="1145" href="Graded.Modality.html#3831" class="Field">zero-product</a> <a id="1158" class="Symbol">=</a> <a id="1160" class="Symbol">λ</a> <a id="1162" class="Keyword">where</a>
        <a id="1176" class="Symbol">{</a><a id="1177" class="Argument">p</a> <a id="1179" class="Symbol">=</a> <a id="1181" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1182" class="Symbol">}</a> <a id="1184" class="Symbol">{</a><a id="1185" class="Argument">q</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1190" class="Symbol">}</a> <a id="1192" class="Symbol">_</a>  <a id="1195" class="Symbol">→</a> <a id="1197" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1202" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1215" class="Symbol">{</a><a id="1216" class="Argument">p</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1221" class="Symbol">}</a> <a id="1223" class="Symbol">{</a><a id="1224" class="Argument">q</a> <a id="1226" class="Symbol">=</a> <a id="1228" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1229" class="Symbol">}</a> <a id="1231" class="Symbol">_</a>  <a id="1234" class="Symbol">→</a> <a id="1236" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1241" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1254" class="Symbol">{</a><a id="1255" class="Argument">p</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1260" class="Symbol">}</a> <a id="1262" class="Symbol">{</a><a id="1263" class="Argument">q</a> <a id="1265" class="Symbol">=</a> <a id="1267" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1268" class="Symbol">}</a> <a id="1270" class="Symbol">_</a>  <a id="1273" class="Symbol">→</a> <a id="1275" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1280" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1293" class="Symbol">{</a><a id="1294" class="Argument">p</a> <a id="1296" class="Symbol">=</a> <a id="1298" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1299" class="Symbol">}</a> <a id="1301" class="Symbol">{</a><a id="1302" class="Argument">q</a> <a id="1304" class="Symbol">=</a> <a id="1306" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1307" class="Symbol">}</a> <a id="1309" class="Symbol">()</a>
    <a id="1316" class="Symbol">;</a> <a id="1318" href="Graded.Modality.html#4158" class="Field">+-positiveˡ</a> <a id="1330" class="Symbol">=</a> <a id="1332" class="Symbol">λ</a> <a id="1334" class="Keyword">where</a>
        <a id="1348" class="Symbol">{</a><a id="1349" class="Argument">p</a> <a id="1351" class="Symbol">=</a> <a id="1353" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1354" class="Symbol">}</a>         <a id="1364" class="Symbol">_</a>  <a id="1367" class="Symbol">→</a> <a id="1369" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1382" class="Symbol">{</a><a id="1383" class="Argument">p</a> <a id="1385" class="Symbol">=</a> <a id="1387" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1388" class="Symbol">}</a> <a id="1390" class="Symbol">{</a><a id="1391" class="Argument">q</a> <a id="1393" class="Symbol">=</a> <a id="1395" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1396" class="Symbol">}</a> <a id="1398" class="Symbol">()</a>
        <a id="1409" class="Symbol">{</a><a id="1410" class="Argument">p</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1415" class="Symbol">}</a> <a id="1417" class="Symbol">{</a><a id="1418" class="Argument">q</a> <a id="1420" class="Symbol">=</a> <a id="1422" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1423" class="Symbol">}</a> <a id="1425" class="Symbol">()</a>
    <a id="1432" class="Symbol">;</a> <a id="1434" href="Graded.Modality.html#4408" class="Field">∧-positiveˡ</a> <a id="1446" class="Symbol">=</a> <a id="1448" class="Symbol">λ</a> <a id="1450" class="Keyword">where</a>
        <a id="1464" class="Symbol">{</a><a id="1465" class="Argument">p</a> <a id="1467" class="Symbol">=</a> <a id="1469" href="Graded.Modality.Instances.Erasure.html#442" class="InductiveConstructor">𝟘</a><a id="1470" class="Symbol">}</a> <a id="1472" class="Symbol">_</a> <a id="1474" class="Symbol">→</a> <a id="1476" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1489" class="Symbol">{</a><a id="1490" class="Argument">p</a> <a id="1492" class="Symbol">=</a> <a id="1494" href="Graded.Modality.Instances.Erasure.html#444" class="InductiveConstructor">ω</a><a id="1495" class="Symbol">}</a> <a id="1497" class="Symbol">()</a>
    <a id="1504" class="Symbol">}</a>

<a id="1507" class="Keyword">instance</a>

  <a id="1519" class="Comment">-- A natrec-star operator can be defined for Erasure.</a>

  <a id="erasure-has-star"></a><a id="1576" href="Graded.Modality.Instances.Erasure.Modality.html#1576" class="Function">erasure-has-star</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Graded.Modality.html#5924" class="Record">Has-star</a> <a id="1604" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="1633" href="Graded.Modality.Instances.Erasure.Modality.html#1576" class="Function">erasure-has-star</a> <a id="1650" class="Symbol">=</a> <a id="1652" class="Keyword">record</a>
    <a id="1663" class="Symbol">{</a> <a id="1665" href="Graded.Modality.html#6064" class="Field Operator">_⊛_▷_</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="Graded.Modality.Instances.Erasure.html#962" class="Function Operator">_⊛_▷_</a>
    <a id="1683" class="Symbol">;</a> <a id="1685" href="Graded.Modality.html#6146" class="Field">⊛-ineq</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Graded.Modality.Instances.Erasure.html#3583" class="Function">⊛-ineq₁</a> <a id="1702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1704" href="Graded.Modality.Instances.Erasure.html#3795" class="Function">⊛-ineq₂</a>
    <a id="1716" class="Symbol">;</a> <a id="1718" href="Graded.Modality.html#6325" class="Field">+-sub-interchangeable-⊛</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Graded.Modality.Instances.Erasure.html#3995" class="Function">+-sub-interchangeable-⊛</a>
    <a id="1772" class="Symbol">;</a> <a id="1774" href="Graded.Modality.html#6489" class="Field">·-sub-distribʳ-⊛</a> <a id="1791" class="Symbol">=</a> <a id="1793" href="Graded.Modality.Instances.Erasure.html#4373" class="Function">·-sub-distribʳ-⊛</a>
    <a id="1814" class="Symbol">;</a> <a id="1816" href="Graded.Modality.html#6631" class="Field">⊛-sub-distrib-∧</a> <a id="1832" class="Symbol">=</a> <a id="1834" class="Symbol">λ</a> <a id="1836" href="Graded.Modality.Instances.Erasure.Modality.html#1836" class="Bound">r</a> <a id="1838" class="Symbol">→</a> <a id="1840" href="Graded.Modality.Instances.Erasure.html#4680" class="Function">⊛-sub-distribˡ-∧</a> <a id="1857" href="Graded.Modality.Instances.Erasure.Modality.html#1836" class="Bound">r</a> <a id="1859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1861" href="Graded.Modality.Instances.Erasure.html#4923" class="Function">⊛-sub-distribʳ-∧</a> <a id="1878" href="Graded.Modality.Instances.Erasure.Modality.html#1836" class="Bound">r</a>
    <a id="1884" class="Symbol">}</a>

  <a id="1889" class="Comment">-- An nr function can be defined for Erasure.</a>

  <a id="erasure-has-nr"></a><a id="1938" href="Graded.Modality.Instances.Erasure.Modality.html#1938" class="Function">erasure-has-nr</a> <a id="1953" class="Symbol">:</a> <a id="1955" href="Graded.Modality.html#4596" class="Record">Has-nr</a> <a id="1962" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="1991" href="Graded.Modality.Instances.Erasure.Modality.html#1938" class="Function">erasure-has-nr</a> <a id="2006" class="Symbol">=</a> <a id="2008" href="Graded.Modality.Properties.Star.html#2551" class="Function">Star.has-nr</a> <a id="2020" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>

<a id="2048" class="Comment">-- The nr function.</a>

<a id="nr"></a><a id="2069" href="Graded.Modality.Instances.Erasure.Modality.html#2069" class="Function">nr</a> <a id="2072" class="Symbol">:</a> <a id="2074" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="2092" class="Symbol">→</a> <a id="2094" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="2112" class="Symbol">→</a> <a id="2114" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a> <a id="2122" class="Symbol">→</a> <a id="2124" href="Graded.Modality.Instances.Erasure.html#420" class="Datatype">Erasure</a>
<a id="2132" href="Graded.Modality.Instances.Erasure.Modality.html#2069" class="Function">nr</a> <a id="2135" class="Symbol">=</a> <a id="2137" href="Graded.Modality.html#4707" class="Field">Has-nr.nr</a> <a id="2147" href="Graded.Modality.Instances.Erasure.Modality.html#1938" class="Function">erasure-has-nr</a>

<a id="2163" class="Comment">-- Erasure modality instances (for different modality variants).</a>

<a id="ErasureModality"></a><a id="2229" href="Graded.Modality.Instances.Erasure.Modality.html#2229" class="Function">ErasureModality</a> <a id="2245" class="Symbol">:</a> <a id="2247" href="Graded.Modality.Variant.html#710" class="Record">Modality-variant</a> <a id="2264" class="Symbol">→</a> <a id="2266" href="Graded.Modality.html#7127" class="Record">Modality</a>
<a id="2275" href="Graded.Modality.Instances.Erasure.Modality.html#2229" class="Function">ErasureModality</a> <a id="2291" href="Graded.Modality.Instances.Erasure.Modality.html#2291" class="Bound">variant</a> <a id="2299" class="Symbol">=</a> <a id="2301" class="Keyword">record</a>
  <a id="2310" class="Symbol">{</a> <a id="2312" href="Graded.Modality.html#7198" class="Field">variant</a>            <a id="2331" class="Symbol">=</a> <a id="2333" href="Graded.Modality.Instances.Erasure.Modality.html#2291" class="Bound">variant</a>
  <a id="2343" class="Symbol">;</a> <a id="2345" href="Graded.Modality.html#7240" class="Field">semiring-with-meet</a> <a id="2364" class="Symbol">=</a> <a id="2366" href="Graded.Modality.Instances.Erasure.Modality.html#601" class="Function">erasure-semiring-with-meet</a>
  <a id="2395" class="Symbol">;</a> <a id="2397" href="Graded.Modality.html#7642" class="Field">has-nr</a>             <a id="2416" class="Symbol">=</a> <a id="2418" class="Symbol">λ</a> <a id="2420" href="Graded.Modality.Instances.Erasure.Modality.html#2420" class="Bound">_</a> <a id="2422" class="Symbol">→</a> <a id="2424" href="Graded.Modality.Instances.Erasure.Modality.html#1938" class="Function">erasure-has-nr</a>
  <a id="2441" class="Symbol">;</a> <a id="2443" href="Graded.Modality.html#7449" class="Field">𝟘-well-behaved</a>     <a id="2462" class="Symbol">=</a> <a id="2464" class="Symbol">λ</a> <a id="2466" href="Graded.Modality.Instances.Erasure.Modality.html#2466" class="Bound">_</a> <a id="2468" class="Symbol">→</a> <a id="2470" href="Graded.Modality.Instances.Erasure.Modality.html#988" class="Function">erasure-has-well-behaved-zero</a>
  <a id="2502" class="Symbol">}</a>
</pre></body></html>