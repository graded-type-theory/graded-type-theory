<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The modality structure.</a>
<a id="101" class="Comment">------------------------------------------------------------------------</a>

<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="227" class="Keyword">module</a> <a id="234" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="250" class="Symbol">{</a><a id="251" href="Graded.Modality.html#251" class="Bound">a</a><a id="252" class="Symbol">}</a> <a id="254" class="Symbol">(</a><a id="255" href="Graded.Modality.html#255" class="Bound">M</a> <a id="257" class="Symbol">:</a> <a id="259" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="263" href="Graded.Modality.html#251" class="Bound">a</a><a id="264" class="Symbol">)</a> <a id="266" class="Keyword">where</a>

<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Tools.Algebra.html" class="Module">Tools.Algebra</a> <a id="299" href="Graded.Modality.html#255" class="Bound">M</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Tools.Bool.html" class="Module">Tools.Bool</a> <a id="324" class="Keyword">using</a> <a id="330" class="Symbol">(</a><a id="331" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="335" class="Symbol">;</a> <a id="337" href="Data.Bool.Base.html#1348" class="Function">T</a><a id="338" class="Symbol">)</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="372" class="Symbol">;</a> <a id="374" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a><a id="376" class="Symbol">;</a> <a id="378" href="Tools.Nat.html#11998" class="Function">Sequence</a><a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Graded.Modality.Variant.html" class="Module">Graded.Modality.Variant</a> <a id="513" href="Graded.Modality.html#251" class="Bound">a</a>

<a id="516" class="Keyword">private</a> <a id="524" class="Keyword">variable</a>
  <a id="535" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="537" href="Graded.Modality.html#537" class="Generalizable">n₁</a> <a id="540" href="Graded.Modality.html#540" class="Generalizable">n₂</a> <a id="543" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="545" href="Graded.Modality.html#545" class="Generalizable">p′</a> <a id="548" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="550" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="552" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="554" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="557" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="559" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="562" href="Graded.Modality.html#562" class="Generalizable">s₂</a> <a id="565" href="Graded.Modality.html#565" class="Generalizable">z₂</a> <a id="568" class="Symbol">:</a> <a id="570" href="Graded.Modality.html#255" class="Bound">M</a>
  <a id="574" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="577" class="Symbol">:</a> <a id="579" href="Tools.Nat.html#11998" class="Function">Sequence</a> <a id="588" href="Graded.Modality.html#255" class="Bound">M</a>

<a id="591" class="Comment">-- Semiring with meet</a>
<a id="613" class="Keyword">record</a> <a id="Semiring-with-meet"></a><a id="620" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a> <a id="639" class="Symbol">:</a> <a id="641" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="645" href="Graded.Modality.html#251" class="Bound">a</a> <a id="647" class="Keyword">where</a>
  <a id="655" class="Keyword">no-eta-equality</a>
  <a id="673" class="Keyword">pattern</a>

  <a id="684" class="Keyword">infixr</a> <a id="691" class="Number">40</a> <a id="694" href="Graded.Modality.html#921" class="Function Operator">_+_</a>
  <a id="700" class="Keyword">infixr</a> <a id="707" class="Number">43</a> <a id="710" href="Graded.Modality.html#929" class="Function Operator">_∧_</a>
  <a id="716" class="Keyword">infixr</a> <a id="723" class="Number">45</a> <a id="726" href="Graded.Modality.html#925" class="Function Operator">_·_</a>
  <a id="732" class="Keyword">infix</a>  <a id="739" class="Number">10</a> <a id="742" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a> <a id="746" href="Graded.Modality.html#1469" class="Function Operator">_&lt;_</a>


  <a id="754" class="Keyword">field</a>
    <a id="764" class="Comment">-- A semiring with meet consists of a type M with three binary</a>
    <a id="831" class="Comment">-- operations (addition, multiplication and meet), and three</a>
    <a id="896" class="Comment">-- special elements.</a>
    <a id="Semiring-with-meet._+_"></a><a id="921" href="Graded.Modality.html#921" class="Field Operator">_+_</a> <a id="Semiring-with-meet._·_"></a><a id="925" href="Graded.Modality.html#925" class="Field Operator">_·_</a> <a id="Semiring-with-meet._∧_"></a><a id="929" href="Graded.Modality.html#929" class="Field Operator">_∧_</a> <a id="933" class="Symbol">:</a> <a id="935" href="Algebra.Core.html#527" class="Function">Op₂</a> <a id="939" href="Graded.Modality.html#255" class="Bound">M</a>
    <a id="Semiring-with-meet.𝟘"></a><a id="945" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="Semiring-with-meet.𝟙"></a><a id="947" href="Graded.Modality.html#947" class="Field">𝟙</a> <a id="Semiring-with-meet.ω"></a><a id="949" href="Graded.Modality.html#949" class="Field">ω</a>       <a id="957" class="Symbol">:</a> <a id="959" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="966" class="Comment">-- + and · form a semiring with 𝟙 as multiplicative unit and 𝟘 as zero</a>
    <a id="Semiring-with-meet.+-·-Semiring"></a><a id="1041" href="Graded.Modality.html#1041" class="Field">+-·-Semiring</a>  <a id="1055" class="Symbol">:</a> <a id="1057" href="Algebra.Structures.html#14300" class="Record">IsSemiring</a> <a id="1068" href="Graded.Modality.html#921" class="Field Operator">_+_</a> <a id="1072" href="Graded.Modality.html#925" class="Field Operator">_·_</a> <a id="1076" href="Graded.Modality.html#945" class="Field">𝟘</a> <a id="1078" href="Graded.Modality.html#947" class="Field">𝟙</a>
    <a id="1084" class="Comment">-- ∧ forms a semilattice</a>
    <a id="Semiring-with-meet.∧-Semilattice"></a><a id="1113" href="Graded.Modality.html#1113" class="Field">∧-Semilattice</a>       <a id="1133" class="Symbol">:</a> <a id="1135" href="Algebra.Lattice.Structures.html#1398" class="Function">IsMeetSemilattice</a> <a id="1153" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>

    <a id="1162" class="Comment">-- Multiplation distributes over meet</a>
    <a id="Semiring-with-meet.·-distrib-∧"></a><a id="1204" href="Graded.Modality.html#1204" class="Field">·-distrib-∧</a>         <a id="1224" class="Symbol">:</a> <a id="1226" href="Graded.Modality.html#925" class="Field Operator">_·_</a> <a id="1230" href="Algebra.Definitions.html#3458" class="Function Operator">DistributesOver</a> <a id="1246" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>
    <a id="1254" class="Comment">-- Addition distributes over meet</a>
    <a id="Semiring-with-meet.+-distrib-∧"></a><a id="1292" href="Graded.Modality.html#1292" class="Field">+-distrib-∧</a>         <a id="1312" class="Symbol">:</a> <a id="1314" href="Graded.Modality.html#921" class="Field Operator">_+_</a> <a id="1318" href="Algebra.Definitions.html#3458" class="Function Operator">DistributesOver</a> <a id="1334" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>

  <a id="1341" class="Comment">-- Semilattice partial ordering relation</a>
  <a id="Semiring-with-meet._≤_"></a><a id="1384" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a> <a id="1388" class="Symbol">:</a> <a id="1390" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="1394" href="Graded.Modality.html#255" class="Bound">M</a> <a id="1396" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="1400" href="Graded.Modality.html#1400" class="Bound">p</a> <a id="1402" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="1404" href="Graded.Modality.html#1404" class="Bound">q</a> <a id="1406" class="Symbol">=</a> <a id="1408" href="Graded.Modality.html#1400" class="Bound">p</a> <a id="1410" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1412" href="Graded.Modality.html#1400" class="Bound">p</a> <a id="1414" href="Graded.Modality.html#929" class="Field Operator">∧</a> <a id="1416" href="Graded.Modality.html#1404" class="Bound">q</a>

  <a id="1421" class="Comment">-- A strict variant of the ordering relation.</a>
  <a id="Semiring-with-meet._&lt;_"></a><a id="1469" href="Graded.Modality.html#1469" class="Function Operator">_&lt;_</a> <a id="1473" class="Symbol">:</a> <a id="1475" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="1479" href="Graded.Modality.html#255" class="Bound">M</a> <a id="1481" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="1485" href="Graded.Modality.html#1485" class="Bound">p</a> <a id="1487" href="Graded.Modality.html#1469" class="Function Operator">&lt;</a> <a id="1489" href="Graded.Modality.html#1489" class="Bound">q</a> <a id="1491" class="Symbol">=</a> <a id="1493" href="Graded.Modality.html#1485" class="Bound">p</a> <a id="1495" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="1497" href="Graded.Modality.html#1489" class="Bound">q</a> <a id="1499" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1501" href="Graded.Modality.html#1485" class="Bound">p</a> <a id="1503" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="1505" href="Graded.Modality.html#1489" class="Bound">q</a>

  <a id="1510" class="Keyword">field</a>
    <a id="1520" class="Comment">-- In some modalities the grade ω stands for &quot;an unlimited number</a>
    <a id="1590" class="Comment">-- of uses&quot;. This grade must be bounded from above by 𝟙.</a>
    <a id="Semiring-with-meet.ω≤𝟙"></a><a id="1651" href="Graded.Modality.html#1651" class="Field">ω≤𝟙</a> <a id="1655" class="Symbol">:</a> <a id="1657" href="Graded.Modality.html#949" class="Field">ω</a> <a id="1659" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="1661" href="Graded.Modality.html#947" class="Field">𝟙</a>

    <a id="1668" class="Comment">-- Furthermore ω · (p + q) must be bounded by ω · q.</a>
    <a id="Semiring-with-meet.ω·+≤ω·ʳ"></a><a id="1725" href="Graded.Modality.html#1725" class="Field">ω·+≤ω·ʳ</a> <a id="1733" class="Symbol">:</a> <a id="1735" href="Graded.Modality.html#949" class="Field">ω</a> <a id="1737" href="Graded.Modality.html#925" class="Field Operator">·</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="1742" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="1744" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="1745" class="Symbol">)</a> <a id="1747" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="1749" href="Graded.Modality.html#949" class="Field">ω</a> <a id="1751" href="Graded.Modality.html#925" class="Field Operator">·</a> <a id="1753" href="Graded.Modality.html#548" class="Generalizable">q</a>

    <a id="1760" class="Comment">-- It is decidable whether a grade is equal to 𝟘.</a>
    <a id="Semiring-with-meet.is-𝟘?"></a><a id="1814" href="Graded.Modality.html#1814" class="Field">is-𝟘?</a> <a id="1820" class="Symbol">:</a> <a id="1822" class="Symbol">(</a><a id="1823" href="Graded.Modality.html#1823" class="Bound">p</a> <a id="1825" class="Symbol">:</a> <a id="1827" href="Graded.Modality.html#255" class="Bound">M</a><a id="1828" class="Symbol">)</a> <a id="1830" class="Symbol">→</a> <a id="1832" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1836" class="Symbol">(</a><a id="1837" href="Graded.Modality.html#1823" class="Bound">p</a> <a id="1839" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1841" href="Graded.Modality.html#945" class="Field">𝟘</a><a id="1842" class="Symbol">)</a>

  <a id="1847" class="Comment">-- A semiring with meet is said to be trivial if 𝟙 ≡ 𝟘.</a>
  <a id="1905" class="Comment">--</a>
  <a id="1910" class="Comment">-- This implies that all values of type M are equal, see</a>
  <a id="1969" class="Comment">-- Graded.Modality.Properties.Equivalence.≡-trivial.</a>

  <a id="Semiring-with-meet.Trivial"></a><a id="2025" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="2033" class="Symbol">:</a> <a id="2035" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2039" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2043" href="Graded.Modality.html#2025" class="Function">Trivial</a> <a id="2051" class="Symbol">=</a> <a id="2053" href="Graded.Modality.html#947" class="Field">𝟙</a> <a id="2055" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2057" href="Graded.Modality.html#945" class="Field">𝟘</a>

  <a id="2062" class="Comment">-- Least-such-that P p means that p is the least value which</a>
  <a id="2125" class="Comment">-- satisfies P.</a>

  <a id="Semiring-with-meet.Least-such-that"></a><a id="2144" href="Graded.Modality.html#2144" class="Function">Least-such-that</a> <a id="2160" class="Symbol">:</a> <a id="2162" class="Symbol">(</a><a id="2163" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2165" class="Symbol">→</a> <a id="2167" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2171" href="Graded.Modality.html#251" class="Bound">a</a><a id="2172" class="Symbol">)</a> <a id="2174" class="Symbol">→</a> <a id="2176" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2184" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2188" href="Graded.Modality.html#2144" class="Function">Least-such-that</a> <a id="2204" href="Graded.Modality.html#2204" class="Bound">P</a> <a id="2206" href="Graded.Modality.html#2206" class="Bound">p</a> <a id="2208" class="Symbol">=</a> <a id="2210" href="Graded.Modality.html#2204" class="Bound">P</a> <a id="2212" href="Graded.Modality.html#2206" class="Bound">p</a> <a id="2214" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2216" class="Symbol">(∀</a> <a id="2219" href="Graded.Modality.html#2219" class="Bound">q</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="Graded.Modality.html#2204" class="Bound">P</a> <a id="2225" href="Graded.Modality.html#2219" class="Bound">q</a> <a id="2227" class="Symbol">→</a> <a id="2229" href="Graded.Modality.html#2206" class="Bound">p</a> <a id="2231" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2233" href="Graded.Modality.html#2219" class="Bound">q</a><a id="2234" class="Symbol">)</a>

  <a id="2239" class="Comment">-- Greatest-such-that P p means that p is the greatest value which</a>
  <a id="2308" class="Comment">-- satisfies P.</a>

  <a id="Semiring-with-meet.Greatest-such-that"></a><a id="2327" href="Graded.Modality.html#2327" class="Function">Greatest-such-that</a> <a id="2346" class="Symbol">:</a> <a id="2348" class="Symbol">∀</a> <a id="2350" class="Symbol">{</a><a id="2351" href="Graded.Modality.html#2351" class="Bound">ℓ</a><a id="2352" class="Symbol">}</a> <a id="2354" class="Symbol">→</a> <a id="2356" class="Symbol">(</a><a id="2357" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2359" class="Symbol">→</a> <a id="2361" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2365" href="Graded.Modality.html#2351" class="Bound">ℓ</a><a id="2366" class="Symbol">)</a> <a id="2368" class="Symbol">→</a> <a id="2370" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2372" class="Symbol">→</a> <a id="2374" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Graded.Modality.html#251" class="Bound">a</a> <a id="2381" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="2383" href="Graded.Modality.html#2351" class="Bound">ℓ</a><a id="2384" class="Symbol">)</a>
  <a id="2388" href="Graded.Modality.html#2327" class="Function">Greatest-such-that</a> <a id="2407" href="Graded.Modality.html#2407" class="Bound">P</a> <a id="2409" href="Graded.Modality.html#2409" class="Bound">p</a> <a id="2411" class="Symbol">=</a> <a id="2413" href="Graded.Modality.html#2407" class="Bound">P</a> <a id="2415" href="Graded.Modality.html#2409" class="Bound">p</a> <a id="2417" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2419" class="Symbol">(∀</a> <a id="2422" href="Graded.Modality.html#2422" class="Bound">q</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Graded.Modality.html#2407" class="Bound">P</a> <a id="2428" href="Graded.Modality.html#2422" class="Bound">q</a> <a id="2430" class="Symbol">→</a> <a id="2432" href="Graded.Modality.html#2422" class="Bound">q</a> <a id="2434" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2436" href="Graded.Modality.html#2409" class="Bound">p</a><a id="2437" class="Symbol">)</a>

  <a id="2442" class="Comment">-- Greatest-lower-bound p pᵢ means that p is the greatest value which</a>
  <a id="2514" class="Comment">-- is lower than all grades of the sequence pᵢ.</a>

  <a id="Semiring-with-meet.Greatest-lower-bound"></a><a id="2565" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="2586" class="Symbol">:</a> <a id="2588" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2590" class="Symbol">→</a> <a id="2592" href="Tools.Nat.html#11998" class="Function">Sequence</a> <a id="2601" href="Graded.Modality.html#255" class="Bound">M</a> <a id="2603" class="Symbol">→</a> <a id="2605" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2609" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="2613" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="2634" href="Graded.Modality.html#2634" class="Bound">p</a> <a id="2636" href="Graded.Modality.html#2636" class="Bound">pᵢ</a> <a id="2639" class="Symbol">=</a> <a id="2641" href="Graded.Modality.html#2327" class="Function">Greatest-such-that</a> <a id="2660" class="Symbol">(λ</a> <a id="2663" href="Graded.Modality.html#2663" class="Bound">r</a> <a id="2665" class="Symbol">→</a> <a id="2667" class="Symbol">∀</a> <a id="2669" href="Graded.Modality.html#2669" class="Bound">i</a> <a id="2671" class="Symbol">→</a> <a id="2673" href="Graded.Modality.html#2663" class="Bound">r</a> <a id="2675" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="2677" href="Graded.Modality.html#2636" class="Bound">pᵢ</a> <a id="2680" href="Graded.Modality.html#2669" class="Bound">i</a><a id="2681" class="Symbol">)</a> <a id="2683" href="Graded.Modality.html#2634" class="Bound">p</a>

  <a id="2688" class="Comment">-- A (family of) sequence(s) used to define one of the</a>
  <a id="2745" class="Comment">-- usage rules for natrec</a>

  <a id="Semiring-with-meet.nrᵢ"></a><a id="2774" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="2778" class="Symbol">:</a> <a id="2780" class="Symbol">(</a><a id="2781" href="Graded.Modality.html#2781" class="Bound">r</a> <a id="2783" href="Graded.Modality.html#2783" class="Bound">z</a> <a id="2785" href="Graded.Modality.html#2785" class="Bound">s</a> <a id="2787" class="Symbol">:</a> <a id="2789" href="Graded.Modality.html#255" class="Bound">M</a><a id="2790" class="Symbol">)</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="Tools.Nat.html#11998" class="Function">Sequence</a> <a id="2803" href="Graded.Modality.html#255" class="Bound">M</a>
  <a id="2807" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="2811" href="Graded.Modality.html#2811" class="Bound">r</a> <a id="2813" href="Graded.Modality.html#2813" class="Bound">z</a> <a id="2815" href="Graded.Modality.html#2815" class="Bound">s</a> <a id="2817" class="Number">0</a> <a id="2819" class="Symbol">=</a> <a id="2821" href="Graded.Modality.html#2813" class="Bound">z</a>
  <a id="2825" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="2829" href="Graded.Modality.html#2829" class="Bound">r</a> <a id="2831" href="Graded.Modality.html#2831" class="Bound">z</a> <a id="2833" href="Graded.Modality.html#2833" class="Bound">s</a> <a id="2835" class="Symbol">(</a><a id="2836" href="Tools.Nat.html#2170" class="InductiveConstructor">1+</a> <a id="2839" href="Graded.Modality.html#2839" class="Bound">i</a><a id="2840" class="Symbol">)</a> <a id="2842" class="Symbol">=</a> <a id="2844" href="Graded.Modality.html#2833" class="Bound">s</a> <a id="2846" href="Graded.Modality.html#921" class="Field Operator">+</a> <a id="2848" href="Graded.Modality.html#2829" class="Bound">r</a> <a id="2850" href="Graded.Modality.html#925" class="Field Operator">·</a> <a id="2852" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="2856" href="Graded.Modality.html#2829" class="Bound">r</a> <a id="2858" href="Graded.Modality.html#2831" class="Bound">z</a> <a id="2860" href="Graded.Modality.html#2833" class="Bound">s</a> <a id="2862" href="Graded.Modality.html#2839" class="Bound">i</a>

  <a id="Semiring-with-meet.·-distribˡ-∧"></a><a id="2867" href="Graded.Modality.html#2867" class="Function">·-distribˡ-∧</a> <a id="2880" class="Symbol">:</a> <a id="2882" href="Graded.Modality.html#925" class="Field Operator">_·_</a> <a id="2886" href="Algebra.Definitions.html#3220" class="Function Operator">DistributesOverˡ</a> <a id="2903" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>
  <a id="2909" href="Graded.Modality.html#2867" class="Function">·-distribˡ-∧</a> <a id="2922" class="Symbol">=</a> <a id="2924" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2930" href="Graded.Modality.html#1204" class="Field">·-distrib-∧</a>

  <a id="Semiring-with-meet.·-distribʳ-∧"></a><a id="2945" href="Graded.Modality.html#2945" class="Function">·-distribʳ-∧</a> <a id="2958" class="Symbol">:</a> <a id="2960" href="Graded.Modality.html#925" class="Field Operator">_·_</a> <a id="2964" href="Algebra.Definitions.html#3339" class="Function Operator">DistributesOverʳ</a> <a id="2981" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>
  <a id="2987" href="Graded.Modality.html#2945" class="Function">·-distribʳ-∧</a> <a id="3000" class="Symbol">=</a> <a id="3002" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3008" href="Graded.Modality.html#1204" class="Field">·-distrib-∧</a>

  <a id="Semiring-with-meet.+-distribˡ-∧"></a><a id="3023" href="Graded.Modality.html#3023" class="Function">+-distribˡ-∧</a> <a id="3036" class="Symbol">:</a> <a id="3038" href="Graded.Modality.html#921" class="Field Operator">_+_</a> <a id="3042" href="Algebra.Definitions.html#3220" class="Function Operator">DistributesOverˡ</a> <a id="3059" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>
  <a id="3065" href="Graded.Modality.html#3023" class="Function">+-distribˡ-∧</a> <a id="3078" class="Symbol">=</a> <a id="3080" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3086" href="Graded.Modality.html#1292" class="Field">+-distrib-∧</a>

  <a id="Semiring-with-meet.+-distribʳ-∧"></a><a id="3101" href="Graded.Modality.html#3101" class="Function">+-distribʳ-∧</a> <a id="3114" class="Symbol">:</a> <a id="3116" href="Graded.Modality.html#921" class="Field Operator">_+_</a> <a id="3120" href="Algebra.Definitions.html#3339" class="Function Operator">DistributesOverʳ</a> <a id="3137" href="Graded.Modality.html#929" class="Field Operator">_∧_</a>
  <a id="3143" href="Graded.Modality.html#3101" class="Function">+-distribʳ-∧</a> <a id="3156" class="Symbol">=</a> <a id="3158" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3164" href="Graded.Modality.html#1292" class="Field">+-distrib-∧</a>

  <a id="Semiring-with-meet.+-·-Semiring′"></a><a id="3179" href="Graded.Modality.html#3179" class="Function">+-·-Semiring′</a> <a id="3193" class="Symbol">:</a> <a id="3195" href="Algebra.Bundles.html#18455" class="Record">Semiring</a> <a id="3204" href="Graded.Modality.html#251" class="Bound">a</a> <a id="3206" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="3210" href="Graded.Modality.html#3179" class="Function">+-·-Semiring′</a> <a id="3224" class="Symbol">=</a> <a id="3226" class="Keyword">record</a>
    <a id="3237" class="Symbol">{</a> <a id="3239" href="Algebra.Bundles.html#18551" class="Field">Carrier</a> <a id="3247" class="Symbol">=</a> <a id="3249" href="Graded.Modality.html#255" class="Bound">M</a>
    <a id="3255" class="Symbol">;</a> <a id="3257" href="Algebra.Bundles.html#18574" class="Field Operator">_≈_</a> <a id="3261" class="Symbol">=</a> <a id="3263" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
    <a id="3271" class="Symbol">;</a> <a id="3273" href="Algebra.Bundles.html#18605" class="Field Operator">_+_</a> <a id="3277" class="Symbol">=</a> <a id="3279" href="Graded.Modality.html#921" class="Field Operator">_+_</a>
    <a id="3287" class="Symbol">;</a> <a id="3289" href="Algebra.Bundles.html#18634" class="Field Operator">_*_</a> <a id="3293" class="Symbol">=</a> <a id="3295" href="Graded.Modality.html#925" class="Field Operator">_·_</a>
    <a id="3303" class="Symbol">;</a> <a id="3305" href="Algebra.Bundles.html#18663" class="Field">0#</a> <a id="3308" class="Symbol">=</a> <a id="3310" href="Graded.Modality.html#945" class="Field">𝟘</a>
    <a id="3316" class="Symbol">;</a> <a id="3318" href="Algebra.Bundles.html#18688" class="Field">1#</a> <a id="3321" class="Symbol">=</a> <a id="3323" href="Graded.Modality.html#947" class="Field">𝟙</a>
    <a id="3329" class="Symbol">;</a> <a id="3331" href="Algebra.Bundles.html#18713" class="Field">isSemiring</a> <a id="3342" class="Symbol">=</a> <a id="3344" href="Graded.Modality.html#1041" class="Field">+-·-Semiring</a>
    <a id="3361" class="Symbol">}</a>

  <a id="3366" class="Keyword">open</a> <a id="3371" href="Algebra.Structures.html#14300" class="Module">IsSemiring</a> <a id="3382" href="Graded.Modality.html#1041" class="Field">+-·-Semiring</a> <a id="3395" class="Keyword">public</a>
    <a id="3406" class="Keyword">using</a> <a id="3412" class="Symbol">(</a>
            <a id="3426" href="Algebra.Structures.html#13154" class="Function">+-assoc</a><a id="3433" class="Symbol">;</a>
            <a id="3447" href="Algebra.Structures.html#13194" class="Function">+-cong</a><a id="3453" class="Symbol">;</a>
            <a id="3467" href="Algebra.Structures.html#13233" class="Function">+-congˡ</a><a id="3474" class="Symbol">;</a>
            <a id="3488" href="Algebra.Structures.html#13273" class="Function">+-congʳ</a><a id="3495" class="Symbol">;</a>
            <a id="3509" href="Algebra.Structures.html#13313" class="Function">+-identity</a><a id="3519" class="Symbol">;</a>
            <a id="3533" href="Algebra.Structures.html#13356" class="Function">+-identityˡ</a><a id="3544" class="Symbol">;</a>
            <a id="3558" href="Algebra.Structures.html#13400" class="Function">+-identityʳ</a><a id="3569" class="Symbol">;</a>
            <a id="3583" href="Algebra.Structures.html#13444" class="Function">+-comm</a>
          <a id="3600" class="Symbol">)</a>
    <a id="3606" class="Keyword">renaming</a> <a id="3615" class="Symbol">(</a>
              <a id="3631" href="Algebra.Structures.html#12800" class="Function">*-assoc</a> <a id="3639" class="Symbol">to</a> <a id="3642" class="Function">·-assoc</a><a id="3649" class="Symbol">;</a>
              <a id="3665" href="Algebra.Structures.html#12759" class="Function">*-cong</a> <a id="3672" class="Symbol">to</a> <a id="3675" class="Function">·-cong</a><a id="3681" class="Symbol">;</a>
              <a id="3697" href="Algebra.Structures.html#14182" class="Function">*-congˡ</a> <a id="3705" class="Symbol">to</a> <a id="3708" class="Function">·-congˡ</a><a id="3715" class="Symbol">;</a>
              <a id="3731" href="Algebra.Structures.html#14211" class="Function">*-congʳ</a> <a id="3739" class="Symbol">to</a> <a id="3742" class="Function">·-congʳ</a><a id="3749" class="Symbol">;</a>
              <a id="3765" href="Algebra.Structures.html#12842" class="Function">*-identity</a> <a id="3776" class="Symbol">to</a> <a id="3779" class="Function">·-identity</a><a id="3789" class="Symbol">;</a>
              <a id="3805" href="Algebra.Structures.html#14240" class="Function">*-identityˡ</a> <a id="3817" class="Symbol">to</a> <a id="3820" class="Function">·-identityˡ</a><a id="3831" class="Symbol">;</a>
              <a id="3847" href="Algebra.Structures.html#14273" class="Function">*-identityʳ</a> <a id="3859" class="Symbol">to</a> <a id="3862" class="Function">·-identityʳ</a><a id="3873" class="Symbol">;</a>

              <a id="3890" href="Algebra.Structures.html#12884" class="Function">distrib</a> <a id="3898" class="Symbol">to</a> <a id="3901" class="Function">·-distrib-+</a><a id="3912" class="Symbol">;</a>
              <a id="3928" href="Algebra.Structures.html#12931" class="Function">distribˡ</a> <a id="3937" class="Symbol">to</a> <a id="3940" class="Function">·-distribˡ-+</a><a id="3952" class="Symbol">;</a>
              <a id="3968" href="Algebra.Structures.html#12993" class="Function">distribʳ</a> <a id="3977" class="Symbol">to</a> <a id="3980" class="Function">·-distribʳ-+</a><a id="3992" class="Symbol">;</a>
              <a id="4008" href="Algebra.Structures.html#14459" class="Field">zero</a> <a id="4013" class="Symbol">to</a> <a id="4016" class="Field">·-zero</a><a id="4022" class="Symbol">;</a>
              <a id="4038" href="Algebra.Structures.html#11376" class="Function">zeroˡ</a> <a id="4044" class="Symbol">to</a> <a id="4047" class="Function">·-zeroˡ</a><a id="4054" class="Symbol">;</a>
              <a id="4070" href="Algebra.Structures.html#11422" class="Function">zeroʳ</a> <a id="4076" class="Symbol">to</a> <a id="4079" class="Function">·-zeroʳ</a>
             <a id="4100" class="Symbol">)</a>

  <a id="4105" class="Keyword">open</a> <a id="4110" href="Algebra.Lattice.Structures.html#1439" class="Module">IsMeetSemilattice</a> <a id="4128" href="Graded.Modality.html#1113" class="Field">∧-Semilattice</a> <a id="4142" class="Keyword">public</a>
    <a id="4153" class="Keyword">using</a> <a id="4159" class="Symbol">(</a><a id="4160" href="Algebra.Lattice.Structures.html#1553" class="Function">∧-cong</a><a id="4166" class="Symbol">;</a> <a id="4168" href="Algebra.Lattice.Structures.html#1577" class="Function">∧-congˡ</a><a id="4175" class="Symbol">;</a> <a id="4177" href="Algebra.Lattice.Structures.html#1602" class="Function">∧-congʳ</a><a id="4184" class="Symbol">)</a>
    <a id="4190" class="Keyword">renaming</a> <a id="4199" class="Symbol">(</a><a id="4200" href="Algebra.Structures.html#4067" class="Field">comm</a> <a id="4205" class="Symbol">to</a> <a id="4208" class="Field">∧-comm</a><a id="4214" class="Symbol">;</a>
              <a id="4230" href="Algebra.Structures.html#3607" class="Function">idem</a> <a id="4235" class="Symbol">to</a> <a id="4238" class="Function">∧-idem</a><a id="4244" class="Symbol">;</a>
              <a id="4260" href="Algebra.Structures.html#3460" class="Function">assoc</a> <a id="4266" class="Symbol">to</a> <a id="4269" class="Function">∧-assoc</a>
             <a id="4290" class="Symbol">)</a>

<a id="4293" class="Comment">-- Meet-Semirings with well-behaved zero</a>
<a id="4334" class="Keyword">record</a> <a id="Has-well-behaved-zero"></a><a id="4341" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="4363" class="Symbol">(</a><a id="4364" href="Graded.Modality.html#4364" class="Bound">𝕄</a> <a id="4366" class="Symbol">:</a> <a id="4368" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="4386" class="Symbol">)</a> <a id="4388" class="Symbol">:</a> <a id="4390" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="4394" href="Graded.Modality.html#251" class="Bound">a</a> <a id="4396" class="Keyword">where</a>
  <a id="4404" class="Keyword">no-eta-equality</a>
  <a id="4422" class="Keyword">pattern</a>
  <a id="4432" class="Keyword">open</a> <a id="4437" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="4456" href="Graded.Modality.html#4364" class="Bound">𝕄</a>
  <a id="4460" class="Keyword">field</a>
    <a id="4470" class="Comment">-- 𝕄 is non-trivial.</a>
    <a id="Has-well-behaved-zero.non-trivial"></a><a id="4495" href="Graded.Modality.html#4495" class="Field">non-trivial</a> <a id="4507" class="Symbol">:</a> <a id="4509" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="4511" href="Graded.Modality.html#2025" class="Function">Trivial</a>

    <a id="4524" class="Comment">-- The following two assumptions are based on assumptions from</a>
    <a id="4591" class="Comment">-- Conor McBride&#39;s &quot;I Got Plenty o’ Nuttin’&quot; and Robert Atkey&#39;s</a>
    <a id="4659" class="Comment">-- &quot;Syntax and Semantics of Quantitative Type Theory&quot;.</a>

    <a id="4719" class="Comment">-- The semiring has the zero-product property:</a>
    <a id="4770" class="Comment">-- if p · q is 𝟘, then either p is 𝟘 or q is 𝟘.</a>
    <a id="Has-well-behaved-zero.zero-product"></a><a id="4822" href="Graded.Modality.html#4822" class="Field">zero-product</a> <a id="4835" class="Symbol">:</a> <a id="4837" class="Symbol">{</a><a id="4838" href="Graded.Modality.html#4838" class="Bound">p</a> <a id="4840" href="Graded.Modality.html#4840" class="Bound">q</a> <a id="4842" class="Symbol">:</a> <a id="4844" href="Graded.Modality.html#255" class="Bound">M</a><a id="4845" class="Symbol">}</a> <a id="4847" class="Symbol">→</a> <a id="4849" href="Graded.Modality.html#4838" class="Bound">p</a> <a id="4851" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="4853" href="Graded.Modality.html#4840" class="Bound">q</a> <a id="4855" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4857" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="4859" class="Symbol">→</a> <a id="4861" href="Graded.Modality.html#4838" class="Bound">p</a> <a id="4863" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4865" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="4867" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4869" href="Graded.Modality.html#4840" class="Bound">q</a> <a id="4871" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4873" href="Graded.Modality.html#945" class="Function">𝟘</a>

    <a id="4880" class="Comment">-- The semiring is positive (with respect to addition and meet):</a>

    <a id="4950" class="Comment">-- if p + q is 𝟘, then p and q are 𝟘. (The statement that p + q ≡ 𝟘</a>
    <a id="5022" class="Comment">-- implies q ≡ 𝟘 follows from the one below, see</a>
    <a id="5075" class="Comment">-- Definition.Modality.Properties.Has-well-behaved-zero.+-positiveʳ.)</a>
    <a id="Has-well-behaved-zero.+-positiveˡ"></a><a id="5149" href="Graded.Modality.html#5149" class="Field">+-positiveˡ</a> <a id="5161" class="Symbol">:</a> <a id="5163" class="Symbol">{</a><a id="5164" href="Graded.Modality.html#5164" class="Bound">p</a> <a id="5166" href="Graded.Modality.html#5166" class="Bound">q</a> <a id="5168" class="Symbol">:</a> <a id="5170" href="Graded.Modality.html#255" class="Bound">M</a><a id="5171" class="Symbol">}</a> <a id="5173" class="Symbol">→</a> <a id="5175" href="Graded.Modality.html#5164" class="Bound">p</a> <a id="5177" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="5179" href="Graded.Modality.html#5166" class="Bound">q</a> <a id="5181" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5183" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="5185" class="Symbol">→</a> <a id="5187" href="Graded.Modality.html#5164" class="Bound">p</a> <a id="5189" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5191" href="Graded.Modality.html#945" class="Function">𝟘</a>

    <a id="5198" class="Comment">-- If p ∧ q is equal to 𝟘, then p ≡ 𝟘.  (The statement that p ∧ q ≡ 𝟘</a>
    <a id="5272" class="Comment">-- implies q ≡ 𝟘 follows from the one below, see</a>
    <a id="5325" class="Comment">-- Definition.Modality.Properties.Has-well-behaved-zero.∧-positiveʳ.)</a>
    <a id="Has-well-behaved-zero.∧-positiveˡ"></a><a id="5399" href="Graded.Modality.html#5399" class="Field">∧-positiveˡ</a> <a id="5411" class="Symbol">:</a> <a id="5413" class="Symbol">{</a><a id="5414" href="Graded.Modality.html#5414" class="Bound">p</a> <a id="5416" href="Graded.Modality.html#5416" class="Bound">q</a> <a id="5418" class="Symbol">:</a> <a id="5420" href="Graded.Modality.html#255" class="Bound">M</a><a id="5421" class="Symbol">}</a> <a id="5423" class="Symbol">→</a> <a id="5425" href="Graded.Modality.html#5414" class="Bound">p</a> <a id="5427" href="Graded.Modality.html#929" class="Function Operator">∧</a> <a id="5429" href="Graded.Modality.html#5416" class="Bound">q</a> <a id="5431" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5433" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="5435" class="Symbol">→</a> <a id="5437" href="Graded.Modality.html#5414" class="Bound">p</a> <a id="5439" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5441" href="Graded.Modality.html#945" class="Function">𝟘</a>

<a id="5444" class="Comment">-- The property of having an nr function (a &quot;natrec usage function&quot;).</a>
<a id="5514" class="Comment">-- Such a function is used in one of the usage rules for natrec.</a>

<a id="5580" class="Keyword">record</a> <a id="Has-nr"></a><a id="5587" href="Graded.Modality.html#5587" class="Record">Has-nr</a> <a id="5594" class="Symbol">(</a><a id="5595" href="Graded.Modality.html#5595" class="Bound">𝕄</a> <a id="5597" class="Symbol">:</a> <a id="5599" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="5617" class="Symbol">)</a> <a id="5619" class="Symbol">:</a> <a id="5621" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="5625" href="Graded.Modality.html#251" class="Bound">a</a> <a id="5627" class="Keyword">where</a>
  <a id="5635" class="Keyword">no-eta-equality</a>
  <a id="5653" class="Keyword">pattern</a>

  <a id="5664" class="Keyword">open</a> <a id="5669" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="5688" href="Graded.Modality.html#5595" class="Bound">𝕄</a>

  <a id="5693" class="Keyword">field</a>
    <a id="5703" class="Comment">-- The nr function.</a>
    <a id="Has-nr.nr"></a><a id="5727" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="5730" class="Symbol">:</a> <a id="5732" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5734" class="Symbol">→</a> <a id="5736" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5738" class="Symbol">→</a> <a id="5740" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5742" class="Symbol">→</a> <a id="5744" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5746" class="Symbol">→</a> <a id="5748" href="Graded.Modality.html#255" class="Bound">M</a> <a id="5750" class="Symbol">→</a> <a id="5752" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="5759" class="Comment">-- The function is monotone in its last three arguments.</a>
    <a id="Has-nr.nr-monotone"></a><a id="5820" href="Graded.Modality.html#5820" class="Field">nr-monotone</a> <a id="5832" class="Symbol">:</a>
      <a id="5840" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="5843" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5845" href="Graded.Modality.html#565" class="Generalizable">z₂</a> <a id="5848" class="Symbol">→</a> <a id="5850" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="5853" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5855" href="Graded.Modality.html#562" class="Generalizable">s₂</a> <a id="5858" class="Symbol">→</a> <a id="5860" href="Graded.Modality.html#537" class="Generalizable">n₁</a> <a id="5863" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5865" href="Graded.Modality.html#540" class="Generalizable">n₂</a> <a id="5868" class="Symbol">→</a>
      <a id="5876" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="5879" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="5881" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="5883" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="5886" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="5889" href="Graded.Modality.html#537" class="Generalizable">n₁</a> <a id="5892" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="5894" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="5897" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="5899" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="5901" href="Graded.Modality.html#565" class="Generalizable">z₂</a> <a id="5904" href="Graded.Modality.html#562" class="Generalizable">s₂</a> <a id="5907" href="Graded.Modality.html#540" class="Generalizable">n₂</a>

    <a id="5915" class="Comment">-- Multiplication from the right sub-distributes over nr p r.</a>
    <a id="Has-nr.nr-·"></a><a id="5981" href="Graded.Modality.html#5981" class="Field">nr-·</a> <a id="5986" class="Symbol">:</a> <a id="5988" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="5991" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="5993" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="5995" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="5997" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="5999" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6001" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6003" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="6005" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="6007" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6010" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6012" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6014" class="Symbol">(</a><a id="6015" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6017" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6019" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="6020" class="Symbol">)</a> <a id="6022" class="Symbol">(</a><a id="6023" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6025" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6027" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="6028" class="Symbol">)</a> <a id="6030" class="Symbol">(</a><a id="6031" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6033" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6035" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="6036" class="Symbol">)</a>

    <a id="6043" class="Comment">-- Addition is sub-interchangeable with nr p r.</a>
    <a id="Has-nr.nr-+"></a><a id="6095" href="Graded.Modality.html#6095" class="Field">nr-+</a> <a id="6100" class="Symbol">:</a>
      <a id="6108" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6111" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6113" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6115" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="6118" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="6121" href="Graded.Modality.html#537" class="Generalizable">n₁</a> <a id="6124" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6126" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6129" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6131" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6133" href="Graded.Modality.html#565" class="Generalizable">z₂</a> <a id="6136" href="Graded.Modality.html#562" class="Generalizable">s₂</a> <a id="6139" href="Graded.Modality.html#540" class="Generalizable">n₂</a> <a id="6142" href="Graded.Modality.html#1384" class="Function Operator">≤</a>
      <a id="6150" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6153" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6155" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6157" class="Symbol">(</a><a id="6158" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="6161" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6163" href="Graded.Modality.html#565" class="Generalizable">z₂</a><a id="6165" class="Symbol">)</a> <a id="6167" class="Symbol">(</a><a id="6168" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="6171" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6173" href="Graded.Modality.html#562" class="Generalizable">s₂</a><a id="6175" class="Symbol">)</a> <a id="6177" class="Symbol">(</a><a id="6178" href="Graded.Modality.html#537" class="Generalizable">n₁</a> <a id="6181" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6183" href="Graded.Modality.html#540" class="Generalizable">n₂</a><a id="6185" class="Symbol">)</a>

    <a id="6192" class="Comment">-- If the zero is well-behaved, then nr p r is only 𝟘 for 𝟘, 𝟘</a>
    <a id="6259" class="Comment">-- and 𝟘.</a>
    <a id="Has-nr.nr-positive"></a><a id="6273" href="Graded.Modality.html#6273" class="Field">nr-positive</a> <a id="6285" class="Symbol">:</a>
      <a id="6293" class="Symbol">⦃</a> <a id="6295" href="Graded.Modality.html#6295" class="Bound">𝟘-well-behaved</a> <a id="6310" class="Symbol">:</a> <a id="6312" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="6334" href="Graded.Modality.html#5595" class="Bound">𝕄</a> <a id="6336" class="Symbol">⦄</a> <a id="6338" class="Symbol">→</a>
      <a id="6346" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6349" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6351" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6353" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6355" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6357" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6359" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6361" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="6363" class="Symbol">→</a> <a id="6365" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6367" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6369" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="6371" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6373" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6375" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6377" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="6379" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6381" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6383" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6385" href="Graded.Modality.html#945" class="Function">𝟘</a>

    <a id="6392" class="Comment">-- If n is bounded by 𝟘, then nr p r z s n is bounded by n. This</a>
    <a id="6461" class="Comment">-- property is used to prove that the reduction rule natrec-zero</a>
    <a id="6530" class="Comment">-- preserves usage.</a>
    <a id="Has-nr.nr-zero"></a><a id="6554" href="Graded.Modality.html#6554" class="Field">nr-zero</a> <a id="6562" class="Symbol">:</a> <a id="6564" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6566" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="6568" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="6570" class="Symbol">→</a> <a id="6572" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6575" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6577" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6579" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6581" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6583" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6585" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="6587" href="Graded.Modality.html#552" class="Generalizable">z</a>

    <a id="6594" class="Comment">-- The value nr p r z s n is bounded by</a>
    <a id="6638" class="Comment">-- s + p · n + r · nr p r z s n. This property is used to prove</a>
    <a id="6706" class="Comment">-- that the reduction rule natrec-suc preserves usage.</a>
    <a id="Has-nr.nr-suc"></a><a id="6765" href="Graded.Modality.html#6765" class="Field">nr-suc</a> <a id="6772" class="Symbol">:</a> <a id="6774" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6777" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6779" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6781" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6783" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6785" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6787" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="6789" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6791" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6793" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6795" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6797" href="Graded.Modality.html#535" class="Generalizable">n</a> <a id="6799" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6801" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6803" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6805" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6808" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="6810" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="6812" href="Graded.Modality.html#552" class="Generalizable">z</a> <a id="6814" href="Graded.Modality.html#557" class="Generalizable">s</a> <a id="6816" href="Graded.Modality.html#535" class="Generalizable">n</a>

  <a id="6821" class="Comment">-- A property that nr functions can satisfy.</a>

  <a id="Has-nr.Linearity-like-nr-for-𝟘"></a><a id="6869" href="Graded.Modality.html#6869" class="Function">Linearity-like-nr-for-𝟘</a> <a id="6893" class="Symbol">:</a> <a id="6895" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="6899" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="6903" href="Graded.Modality.html#6869" class="Function">Linearity-like-nr-for-𝟘</a> <a id="6927" class="Symbol">=</a>
    <a id="6933" class="Symbol">∀</a> <a id="6935" class="Symbol">{</a><a id="6936" href="Graded.Modality.html#6936" class="Bound">p</a> <a id="6938" href="Graded.Modality.html#6938" class="Bound">z</a> <a id="6940" href="Graded.Modality.html#6940" class="Bound">s</a> <a id="6942" href="Graded.Modality.html#6942" class="Bound">n</a><a id="6943" class="Symbol">}</a> <a id="6945" class="Symbol">→</a>
    <a id="6951" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="6954" href="Graded.Modality.html#6936" class="Bound">p</a> <a id="6956" href="Graded.Modality.html#945" class="Function">𝟘</a> <a id="6958" href="Graded.Modality.html#6938" class="Bound">z</a> <a id="6960" href="Graded.Modality.html#6940" class="Bound">s</a> <a id="6962" href="Graded.Modality.html#6942" class="Bound">n</a> <a id="6964" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6966" class="Symbol">((</a><a id="6968" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="6970" href="Graded.Modality.html#929" class="Function Operator">∧</a> <a id="6972" href="Graded.Modality.html#6936" class="Bound">p</a><a id="6973" class="Symbol">)</a> <a id="6975" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="6977" href="Graded.Modality.html#6942" class="Bound">n</a> <a id="6979" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6981" href="Graded.Modality.html#6940" class="Bound">s</a><a id="6982" class="Symbol">)</a> <a id="6984" href="Graded.Modality.html#929" class="Function Operator">∧</a> <a id="6986" class="Symbol">(</a><a id="6987" href="Graded.Modality.html#6942" class="Bound">n</a> <a id="6989" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="6991" href="Graded.Modality.html#6938" class="Bound">z</a><a id="6992" class="Symbol">)</a>

  <a id="6997" class="Comment">-- Another property that nr functions can satisfy.</a>

  <a id="Has-nr.Linearity-like-nr-for-𝟙"></a><a id="7051" href="Graded.Modality.html#7051" class="Function">Linearity-like-nr-for-𝟙</a> <a id="7075" class="Symbol">:</a> <a id="7077" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7081" href="Graded.Modality.html#251" class="Bound">a</a>
  <a id="7085" href="Graded.Modality.html#7051" class="Function">Linearity-like-nr-for-𝟙</a> <a id="7109" class="Symbol">=</a>
    <a id="7115" class="Symbol">∀</a> <a id="7117" class="Symbol">{</a><a id="7118" href="Graded.Modality.html#7118" class="Bound">p</a> <a id="7120" href="Graded.Modality.html#7120" class="Bound">z</a> <a id="7122" href="Graded.Modality.html#7122" class="Bound">s</a> <a id="7124" href="Graded.Modality.html#7124" class="Bound">n</a><a id="7125" class="Symbol">}</a> <a id="7127" class="Symbol">→</a>
    <a id="7133" href="Graded.Modality.html#5727" class="Field">nr</a> <a id="7136" href="Graded.Modality.html#7118" class="Bound">p</a> <a id="7138" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="7140" href="Graded.Modality.html#7120" class="Bound">z</a> <a id="7142" href="Graded.Modality.html#7122" class="Bound">s</a> <a id="7144" href="Graded.Modality.html#7124" class="Bound">n</a> <a id="7146" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7148" class="Symbol">(</a><a id="7149" href="Graded.Modality.html#947" class="Function">𝟙</a> <a id="7151" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7153" href="Graded.Modality.html#7118" class="Bound">p</a><a id="7154" class="Symbol">)</a> <a id="7156" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="7158" href="Graded.Modality.html#7124" class="Bound">n</a> <a id="7160" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7162" href="Graded.Modality.html#949" class="Function">ω</a> <a id="7164" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="7166" href="Graded.Modality.html#7122" class="Bound">s</a> <a id="7168" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7170" href="Graded.Modality.html#7120" class="Bound">z</a>

<a id="7173" class="Comment">-- The property of having an nr function that factors in a certain way</a>

<a id="7245" class="Keyword">record</a> <a id="Is-factoring-nr"></a><a id="7252" href="Graded.Modality.html#7252" class="Record">Is-factoring-nr</a> <a id="7268" class="Symbol">{</a><a id="7269" href="Graded.Modality.html#7269" class="Bound">𝕄</a> <a id="7271" class="Symbol">:</a> <a id="7273" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="7291" class="Symbol">}</a> <a id="7293" class="Symbol">(</a><a id="7294" href="Graded.Modality.html#7294" class="Bound">has-nr</a> <a id="7301" class="Symbol">:</a> <a id="7303" href="Graded.Modality.html#5587" class="Record">Has-nr</a> <a id="7310" href="Graded.Modality.html#7269" class="Bound">𝕄</a><a id="7311" class="Symbol">)</a>  <a id="7314" class="Symbol">:</a> <a id="7316" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7320" href="Graded.Modality.html#251" class="Bound">a</a> <a id="7322" class="Keyword">where</a>
  <a id="7330" class="Keyword">no-eta-equality</a>
  <a id="7348" class="Keyword">pattern</a>

  <a id="7359" class="Keyword">open</a> <a id="7364" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="7383" href="Graded.Modality.html#7269" class="Bound">𝕄</a>
  <a id="7387" class="Keyword">open</a> <a id="7392" href="Graded.Modality.html#5587" class="Module">Has-nr</a> <a id="7399" href="Graded.Modality.html#7294" class="Bound">has-nr</a>

  <a id="7409" class="Keyword">field</a>
    <a id="Is-factoring-nr.nr₂"></a><a id="7419" href="Graded.Modality.html#7419" class="Field">nr₂</a> <a id="7423" class="Symbol">:</a> <a id="7425" class="Symbol">(</a><a id="7426" href="Graded.Modality.html#7426" class="Bound">p</a> <a id="7428" href="Graded.Modality.html#7428" class="Bound">r</a> <a id="7430" class="Symbol">:</a> <a id="7432" href="Graded.Modality.html#255" class="Bound">M</a><a id="7433" class="Symbol">)</a> <a id="7435" class="Symbol">→</a> <a id="7437" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="Is-factoring-nr.nr₂≢𝟘"></a><a id="7444" href="Graded.Modality.html#7444" class="Field">nr₂≢𝟘</a> <a id="7450" class="Symbol">:</a> <a id="7452" class="Symbol">{</a><a id="7453" href="Graded.Modality.html#7453" class="Bound">p</a> <a id="7455" href="Graded.Modality.html#7455" class="Bound">r</a> <a id="7457" class="Symbol">:</a> <a id="7459" href="Graded.Modality.html#255" class="Bound">M</a><a id="7460" class="Symbol">}</a> <a id="7462" class="Symbol">→</a> <a id="7464" href="Graded.Modality.html#7419" class="Field">nr₂</a> <a id="7468" href="Graded.Modality.html#7453" class="Bound">p</a> <a id="7470" href="Graded.Modality.html#7455" class="Bound">r</a> <a id="7472" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7474" href="Graded.Modality.html#945" class="Function">𝟘</a>
    <a id="Is-factoring-nr.nr-factoring"></a><a id="7480" href="Graded.Modality.html#7480" class="Field">nr-factoring</a> <a id="7493" class="Symbol">:</a> <a id="7495" class="Symbol">{</a><a id="7496" href="Graded.Modality.html#7496" class="Bound">p</a> <a id="7498" href="Graded.Modality.html#7498" class="Bound">r</a> <a id="7500" href="Graded.Modality.html#7500" class="Bound">z</a> <a id="7502" href="Graded.Modality.html#7502" class="Bound">s</a> <a id="7504" href="Graded.Modality.html#7504" class="Bound">n</a> <a id="7506" class="Symbol">:</a> <a id="7508" href="Graded.Modality.html#255" class="Bound">M</a><a id="7509" class="Symbol">}</a> <a id="7511" class="Symbol">→</a> <a id="7513" href="Graded.Modality.html#5727" class="Function">nr</a> <a id="7516" href="Graded.Modality.html#7496" class="Bound">p</a> <a id="7518" href="Graded.Modality.html#7498" class="Bound">r</a> <a id="7520" href="Graded.Modality.html#7500" class="Bound">z</a> <a id="7522" href="Graded.Modality.html#7502" class="Bound">s</a> <a id="7524" href="Graded.Modality.html#7504" class="Bound">n</a> <a id="7526" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7528" href="Graded.Modality.html#7419" class="Field">nr₂</a> <a id="7532" href="Graded.Modality.html#7496" class="Bound">p</a> <a id="7534" href="Graded.Modality.html#7498" class="Bound">r</a> <a id="7536" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="7538" href="Graded.Modality.html#7504" class="Bound">n</a> <a id="7540" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7542" href="Graded.Modality.html#5727" class="Function">nr</a> <a id="7545" href="Graded.Modality.html#7496" class="Bound">p</a> <a id="7547" href="Graded.Modality.html#7498" class="Bound">r</a> <a id="7549" href="Graded.Modality.html#7500" class="Bound">z</a> <a id="7551" href="Graded.Modality.html#7502" class="Bound">s</a> <a id="7553" href="Graded.Modality.html#945" class="Function">𝟘</a>

<a id="7556" class="Comment">-- A bundling of properties that the modality is required to satisfy</a>
<a id="7625" class="Comment">-- when a certain usage rule for natrec is used.</a>

<a id="7675" class="Keyword">record</a> <a id="Has-well-behaved-GLBs"></a><a id="7682" href="Graded.Modality.html#7682" class="Record">Has-well-behaved-GLBs</a> <a id="7704" class="Symbol">(</a><a id="7705" href="Graded.Modality.html#7705" class="Bound">𝕄</a> <a id="7707" class="Symbol">:</a> <a id="7709" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="7727" class="Symbol">)</a> <a id="7729" class="Symbol">:</a> <a id="7731" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="7735" href="Graded.Modality.html#251" class="Bound">a</a> <a id="7737" class="Keyword">where</a>
  <a id="7745" class="Keyword">no-eta-equality</a>

  <a id="7764" class="Keyword">open</a> <a id="7769" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="7788" href="Graded.Modality.html#7705" class="Bound">𝕄</a>

  <a id="7793" class="Keyword">field</a>
    <a id="Has-well-behaved-GLBs.+-GLBˡ"></a><a id="7803" href="Graded.Modality.html#7803" class="Field">+-GLBˡ</a> <a id="7810" class="Symbol">:</a>
      <a id="7818" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="7839" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="7841" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="7844" class="Symbol">→</a>
      <a id="7852" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="7873" class="Symbol">(</a><a id="7874" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="7876" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7878" href="Graded.Modality.html#543" class="Generalizable">p</a><a id="7879" class="Symbol">)</a> <a id="7881" class="Symbol">(λ</a> <a id="7884" href="Graded.Modality.html#7884" class="Bound">i</a> <a id="7886" class="Symbol">→</a> <a id="7888" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="7890" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="7892" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="7895" href="Graded.Modality.html#7884" class="Bound">i</a><a id="7896" class="Symbol">)</a>

    <a id="Has-well-behaved-GLBs.·-GLBˡ"></a><a id="7903" href="Graded.Modality.html#7903" class="Field">·-GLBˡ</a> <a id="7910" class="Symbol">:</a>
      <a id="7918" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="7939" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="7941" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="7944" class="Symbol">→</a>
      <a id="7952" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="7973" class="Symbol">(</a><a id="7974" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="7976" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="7978" href="Graded.Modality.html#543" class="Generalizable">p</a><a id="7979" class="Symbol">)</a> <a id="7981" class="Symbol">(λ</a> <a id="7984" href="Graded.Modality.html#7984" class="Bound">i</a> <a id="7986" class="Symbol">→</a> <a id="7988" href="Graded.Modality.html#548" class="Generalizable">q</a> <a id="7990" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="7992" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="7995" href="Graded.Modality.html#7984" class="Bound">i</a><a id="7996" class="Symbol">)</a>

    <a id="Has-well-behaved-GLBs.·-GLBʳ"></a><a id="8003" href="Graded.Modality.html#8003" class="Field">·-GLBʳ</a> <a id="8010" class="Symbol">:</a>
      <a id="8018" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="8039" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="8041" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="8044" class="Symbol">→</a>
      <a id="8052" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="8073" class="Symbol">(</a><a id="8074" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="8076" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="8078" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="8079" class="Symbol">)</a> <a id="8081" class="Symbol">(λ</a> <a id="8084" href="Graded.Modality.html#8084" class="Bound">i</a> <a id="8086" class="Symbol">→</a> <a id="8088" href="Graded.Modality.html#574" class="Generalizable">pᵢ</a> <a id="8091" href="Graded.Modality.html#8084" class="Bound">i</a> <a id="8093" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="8095" href="Graded.Modality.html#548" class="Generalizable">q</a><a id="8096" class="Symbol">)</a>

    <a id="Has-well-behaved-GLBs.+nrᵢ-GLB"></a><a id="8103" href="Graded.Modality.html#8103" class="Field">+nrᵢ-GLB</a> <a id="8112" class="Symbol">:</a>
      <a id="8120" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="8141" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="8143" class="Symbol">(</a><a id="8144" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="8148" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="8150" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="8153" href="Graded.Modality.html#559" class="Generalizable">s₁</a><a id="8155" class="Symbol">)</a> <a id="8157" class="Symbol">→</a>
      <a id="8165" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="8186" href="Graded.Modality.html#545" class="Generalizable">p′</a> <a id="8189" class="Symbol">(</a><a id="8190" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="8194" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="8196" href="Graded.Modality.html#565" class="Generalizable">z₂</a> <a id="8199" href="Graded.Modality.html#562" class="Generalizable">s₂</a><a id="8201" class="Symbol">)</a> <a id="8203" class="Symbol">→</a>
      <a id="8211" href="Data.Product.Base.html#852" class="Function">∃</a> <a id="8213" class="Symbol">λ</a> <a id="8215" href="Graded.Modality.html#8215" class="Bound">q</a> <a id="8217" class="Symbol">→</a> <a id="8219" href="Graded.Modality.html#2565" class="Function">Greatest-lower-bound</a> <a id="8240" href="Graded.Modality.html#8215" class="Bound">q</a> <a id="8242" class="Symbol">(</a><a id="8243" href="Graded.Modality.html#2774" class="Function">nrᵢ</a> <a id="8247" href="Graded.Modality.html#550" class="Generalizable">r</a> <a id="8249" class="Symbol">(</a><a id="8250" href="Graded.Modality.html#554" class="Generalizable">z₁</a> <a id="8253" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="8255" href="Graded.Modality.html#565" class="Generalizable">z₂</a><a id="8257" class="Symbol">)</a> <a id="8259" class="Symbol">(</a><a id="8260" href="Graded.Modality.html#559" class="Generalizable">s₁</a> <a id="8263" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="8265" href="Graded.Modality.html#562" class="Generalizable">s₂</a><a id="8267" class="Symbol">))</a> <a id="8270" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8272" href="Graded.Modality.html#543" class="Generalizable">p</a> <a id="8274" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="8276" href="Graded.Modality.html#545" class="Generalizable">p′</a> <a id="8279" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="8281" href="Graded.Modality.html#8215" class="Bound">q</a>


<a id="8285" class="Comment">-- The property of having a natrec-star operator.</a>
<a id="8335" class="Keyword">record</a> <a id="Has-star"></a><a id="8342" href="Graded.Modality.html#8342" class="Record">Has-star</a> <a id="8351" class="Symbol">(</a><a id="8352" href="Graded.Modality.html#8352" class="Bound">r</a> <a id="8354" class="Symbol">:</a> <a id="8356" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a><a id="8374" class="Symbol">)</a> <a id="8376" class="Symbol">:</a> <a id="8378" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="8382" href="Graded.Modality.html#251" class="Bound">a</a> <a id="8384" class="Keyword">where</a>
  <a id="8392" class="Keyword">no-eta-equality</a>
  <a id="8410" class="Keyword">pattern</a>

  <a id="8421" class="Keyword">open</a> <a id="8426" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="8445" href="Graded.Modality.html#8352" class="Bound">r</a>

  <a id="8450" class="Keyword">infix</a> <a id="8456" class="Number">50</a> <a id="8459" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷_</a>

  <a id="8468" class="Keyword">field</a>
    <a id="8478" class="Comment">-- The natrec-star operator.</a>
    <a id="Has-star._⊛_▷_"></a><a id="8511" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷_</a> <a id="8517" class="Symbol">:</a> <a id="8519" href="Tools.Algebra.html#1385" class="Function">Op₃</a> <a id="8523" href="Graded.Modality.html#255" class="Bound">M</a>

    <a id="8530" class="Comment">-- ⊛ is a solution to the following system of inequalities</a>
    <a id="Has-star.⊛-ineq"></a><a id="8593" href="Graded.Modality.html#8593" class="Field">⊛-ineq</a> <a id="8600" class="Symbol">:</a> <a id="8602" class="Symbol">((</a><a id="8604" href="Graded.Modality.html#8604" class="Bound">p</a> <a id="8606" href="Graded.Modality.html#8606" class="Bound">q</a> <a id="8608" href="Graded.Modality.html#8608" class="Bound">r</a> <a id="8610" class="Symbol">:</a> <a id="8612" href="Graded.Modality.html#255" class="Bound">M</a><a id="8613" class="Symbol">)</a> <a id="8615" class="Symbol">→</a> <a id="8617" href="Graded.Modality.html#8604" class="Bound">p</a> <a id="8619" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="8621" href="Graded.Modality.html#8606" class="Bound">q</a> <a id="8623" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="8625" href="Graded.Modality.html#8608" class="Bound">r</a> <a id="8627" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="8629" href="Graded.Modality.html#8606" class="Bound">q</a> <a id="8631" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="8633" href="Graded.Modality.html#8608" class="Bound">r</a> <a id="8635" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="8637" href="Graded.Modality.html#8604" class="Bound">p</a> <a id="8639" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="8641" href="Graded.Modality.html#8606" class="Bound">q</a> <a id="8643" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="8645" href="Graded.Modality.html#8608" class="Bound">r</a><a id="8646" class="Symbol">)</a>
           <a id="8659" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8661" class="Symbol">((</a><a id="8663" href="Graded.Modality.html#8663" class="Bound">p</a> <a id="8665" href="Graded.Modality.html#8665" class="Bound">q</a> <a id="8667" href="Graded.Modality.html#8667" class="Bound">r</a> <a id="8669" class="Symbol">:</a> <a id="8671" href="Graded.Modality.html#255" class="Bound">M</a><a id="8672" class="Symbol">)</a> <a id="8674" class="Symbol">→</a> <a id="8676" href="Graded.Modality.html#8663" class="Bound">p</a> <a id="8678" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="8680" href="Graded.Modality.html#8665" class="Bound">q</a> <a id="8682" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="8684" href="Graded.Modality.html#8667" class="Bound">r</a> <a id="8686" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="8688" href="Graded.Modality.html#8663" class="Bound">p</a><a id="8689" class="Symbol">)</a>

    <a id="8696" class="Comment">-- addition is sub-interchangeable over ⊛ w.r.t the first two arguments</a>
    <a id="Has-star.+-sub-interchangeable-⊛"></a><a id="8772" href="Graded.Modality.html#8772" class="Field">+-sub-interchangeable-⊛</a> <a id="8796" class="Symbol">:</a> <a id="8798" class="Symbol">(</a><a id="8799" href="Graded.Modality.html#8799" class="Bound">r</a> <a id="8801" class="Symbol">:</a> <a id="8803" href="Graded.Modality.html#255" class="Bound">M</a><a id="8804" class="Symbol">)</a> <a id="8806" class="Symbol">→</a> <a id="8808" href="Graded.Modality.html#921" class="Function Operator">_+_</a> <a id="8812" href="Tools.Algebra.html#1923" class="Function Operator">SubInterchangeable</a> <a id="8831" class="Symbol">(</a><a id="8832" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷</a> <a id="8837" href="Graded.Modality.html#8799" class="Bound">r</a><a id="8838" class="Symbol">)</a> <a id="8840" href="Tools.Algebra.html#1923" class="Function Operator">by</a> <a id="8843" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a>
    <a id="8851" class="Comment">-- multiplication is right sub-distributive over ⊛ w.r.t the first two arguments</a>
    <a id="Has-star.·-sub-distribʳ-⊛"></a><a id="8936" href="Graded.Modality.html#8936" class="Field">·-sub-distribʳ-⊛</a> <a id="8953" class="Symbol">:</a> <a id="8955" class="Symbol">(</a><a id="8956" href="Graded.Modality.html#8956" class="Bound">r</a> <a id="8958" class="Symbol">:</a> <a id="8960" href="Graded.Modality.html#255" class="Bound">M</a><a id="8961" class="Symbol">)</a> <a id="8963" class="Symbol">→</a> <a id="8965" href="Graded.Modality.html#925" class="Function Operator">_·_</a> <a id="8969" href="Tools.Algebra.html#1604" class="Function Operator">SubDistributesOverʳ</a> <a id="8989" class="Symbol">(</a><a id="8990" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷</a> <a id="8995" href="Graded.Modality.html#8956" class="Bound">r</a><a id="8996" class="Symbol">)</a> <a id="8998" href="Tools.Algebra.html#1604" class="Function Operator">by</a> <a id="9001" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a>
    <a id="9009" class="Comment">-- ⊛ is sub-distributive over meet w.r.t the first two arguments</a>
    <a id="Has-star.⊛-sub-distrib-∧"></a><a id="9078" href="Graded.Modality.html#9078" class="Field">⊛-sub-distrib-∧</a>    <a id="9097" class="Symbol">:</a> <a id="9099" class="Symbol">(</a><a id="9100" href="Graded.Modality.html#9100" class="Bound">r</a> <a id="9102" class="Symbol">:</a> <a id="9104" href="Graded.Modality.html#255" class="Bound">M</a><a id="9105" class="Symbol">)</a> <a id="9107" class="Symbol">→</a> <a id="9109" class="Symbol">(</a><a id="9110" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷</a> <a id="9115" href="Graded.Modality.html#9100" class="Bound">r</a><a id="9116" class="Symbol">)</a> <a id="9118" href="Tools.Algebra.html#1749" class="Function Operator">SubDistributesOver</a> <a id="9137" href="Graded.Modality.html#929" class="Function Operator">_∧_</a> <a id="9141" href="Tools.Algebra.html#1749" class="Function Operator">by</a> <a id="9144" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a>

  <a id="Has-star.⊛-ineq₁"></a><a id="9151" href="Graded.Modality.html#9151" class="Function">⊛-ineq₁</a> <a id="9159" class="Symbol">:</a> <a id="9161" class="Symbol">(</a><a id="9162" href="Graded.Modality.html#9162" class="Bound">p</a> <a id="9164" href="Graded.Modality.html#9164" class="Bound">q</a> <a id="9166" href="Graded.Modality.html#9166" class="Bound">r</a> <a id="9168" class="Symbol">:</a> <a id="9170" href="Graded.Modality.html#255" class="Bound">M</a><a id="9171" class="Symbol">)</a> <a id="9173" class="Symbol">→</a> <a id="9175" href="Graded.Modality.html#9162" class="Bound">p</a> <a id="9177" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="9179" href="Graded.Modality.html#9164" class="Bound">q</a> <a id="9181" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="9183" href="Graded.Modality.html#9166" class="Bound">r</a> <a id="9185" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="9187" href="Graded.Modality.html#9164" class="Bound">q</a> <a id="9189" href="Graded.Modality.html#921" class="Function Operator">+</a> <a id="9191" href="Graded.Modality.html#9166" class="Bound">r</a> <a id="9193" href="Graded.Modality.html#925" class="Function Operator">·</a> <a id="9195" class="Symbol">(</a><a id="9196" href="Graded.Modality.html#9162" class="Bound">p</a> <a id="9198" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="9200" href="Graded.Modality.html#9164" class="Bound">q</a> <a id="9202" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="9204" href="Graded.Modality.html#9166" class="Bound">r</a><a id="9205" class="Symbol">)</a>
  <a id="9209" href="Graded.Modality.html#9151" class="Function">⊛-ineq₁</a> <a id="9217" class="Symbol">=</a> <a id="9219" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9225" href="Graded.Modality.html#8593" class="Field">⊛-ineq</a>

  <a id="Has-star.⊛-ineq₂"></a><a id="9235" href="Graded.Modality.html#9235" class="Function">⊛-ineq₂</a> <a id="9243" class="Symbol">:</a> <a id="9245" class="Symbol">(</a><a id="9246" href="Graded.Modality.html#9246" class="Bound">p</a> <a id="9248" href="Graded.Modality.html#9248" class="Bound">q</a> <a id="9250" href="Graded.Modality.html#9250" class="Bound">r</a> <a id="9252" class="Symbol">:</a> <a id="9254" href="Graded.Modality.html#255" class="Bound">M</a><a id="9255" class="Symbol">)</a> <a id="9257" class="Symbol">→</a> <a id="9259" href="Graded.Modality.html#9246" class="Bound">p</a> <a id="9261" href="Graded.Modality.html#8511" class="Field Operator">⊛</a> <a id="9263" href="Graded.Modality.html#9248" class="Bound">q</a> <a id="9265" href="Graded.Modality.html#8511" class="Field Operator">▷</a> <a id="9267" href="Graded.Modality.html#9250" class="Bound">r</a> <a id="9269" href="Graded.Modality.html#1384" class="Function Operator">≤</a> <a id="9271" href="Graded.Modality.html#9246" class="Bound">p</a>
  <a id="9275" href="Graded.Modality.html#9235" class="Function">⊛-ineq₂</a> <a id="9283" class="Symbol">=</a> <a id="9285" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9291" href="Graded.Modality.html#8593" class="Field">⊛-ineq</a>

  <a id="Has-star.⊛-sub-distribˡ-∧"></a><a id="9301" href="Graded.Modality.html#9301" class="Function">⊛-sub-distribˡ-∧</a> <a id="9318" class="Symbol">:</a> <a id="9320" class="Symbol">(</a><a id="9321" href="Graded.Modality.html#9321" class="Bound">r</a> <a id="9323" class="Symbol">:</a> <a id="9325" href="Graded.Modality.html#255" class="Bound">M</a><a id="9326" class="Symbol">)</a> <a id="9328" class="Symbol">→</a> <a id="9330" class="Symbol">(</a><a id="9331" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷</a> <a id="9336" href="Graded.Modality.html#9321" class="Bound">r</a><a id="9337" class="Symbol">)</a> <a id="9339" href="Tools.Algebra.html#1459" class="Function Operator">SubDistributesOverˡ</a> <a id="9359" href="Graded.Modality.html#929" class="Function Operator">_∧_</a> <a id="9363" href="Tools.Algebra.html#1459" class="Function Operator">by</a> <a id="9366" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a>
  <a id="9372" href="Graded.Modality.html#9301" class="Function">⊛-sub-distribˡ-∧</a> <a id="9389" href="Graded.Modality.html#9389" class="Bound">r</a> <a id="9391" class="Symbol">=</a> <a id="9393" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9399" class="Symbol">(</a><a id="9400" href="Graded.Modality.html#9078" class="Field">⊛-sub-distrib-∧</a> <a id="9416" href="Graded.Modality.html#9389" class="Bound">r</a><a id="9417" class="Symbol">)</a>

  <a id="Has-star.⊛-sub-distribʳ-∧"></a><a id="9422" href="Graded.Modality.html#9422" class="Function">⊛-sub-distribʳ-∧</a> <a id="9439" class="Symbol">:</a> <a id="9441" class="Symbol">(</a><a id="9442" href="Graded.Modality.html#9442" class="Bound">r</a> <a id="9444" class="Symbol">:</a> <a id="9446" href="Graded.Modality.html#255" class="Bound">M</a><a id="9447" class="Symbol">)</a> <a id="9449" class="Symbol">→</a> <a id="9451" class="Symbol">(</a><a id="9452" href="Graded.Modality.html#8511" class="Field Operator">_⊛_▷</a> <a id="9457" href="Graded.Modality.html#9442" class="Bound">r</a><a id="9458" class="Symbol">)</a> <a id="9460" href="Tools.Algebra.html#1604" class="Function Operator">SubDistributesOverʳ</a> <a id="9480" href="Graded.Modality.html#929" class="Function Operator">_∧_</a> <a id="9484" href="Tools.Algebra.html#1604" class="Function Operator">by</a> <a id="9487" href="Graded.Modality.html#1384" class="Function Operator">_≤_</a>
  <a id="9493" href="Graded.Modality.html#9422" class="Function">⊛-sub-distribʳ-∧</a> <a id="9510" href="Graded.Modality.html#9510" class="Bound">r</a> <a id="9512" class="Symbol">=</a> <a id="9514" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Graded.Modality.html#9078" class="Field">⊛-sub-distrib-∧</a> <a id="9537" href="Graded.Modality.html#9510" class="Bound">r</a><a id="9538" class="Symbol">)</a>

<a id="9541" class="Comment">-- The modality structure</a>
<a id="9567" class="Keyword">record</a> <a id="Modality"></a><a id="9574" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="9583" class="Symbol">:</a> <a id="9585" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9589" class="Symbol">(</a><a id="9590" href="Agda.Primitive.html#931" class="Primitive">lsuc</a> <a id="9595" href="Graded.Modality.html#251" class="Bound">a</a><a id="9596" class="Symbol">)</a> <a id="9598" class="Keyword">where</a>
  <a id="9606" class="Keyword">no-eta-equality</a>
  <a id="9624" class="Keyword">pattern</a>
  <a id="9634" class="Keyword">field</a>
    <a id="9644" class="Comment">-- The modality variant.</a>
    <a id="Modality.variant"></a><a id="9673" href="Graded.Modality.html#9673" class="Field">variant</a>            <a id="9692" class="Symbol">:</a> <a id="9694" href="Graded.Modality.Variant.html#362" class="Record">Modality-variant</a>
    <a id="Modality.semiring-with-meet"></a><a id="9715" href="Graded.Modality.html#9715" class="Field">semiring-with-meet</a> <a id="9734" class="Symbol">:</a> <a id="9736" href="Graded.Modality.html#620" class="Record">Semiring-with-meet</a>

  <a id="9758" class="Keyword">open</a> <a id="9763" href="Graded.Modality.html#620" class="Module">Semiring-with-meet</a> <a id="9782" href="Graded.Modality.html#9715" class="Field">semiring-with-meet</a> <a id="9801" class="Keyword">public</a>
  <a id="9810" class="Keyword">open</a> <a id="9815" href="Graded.Modality.Variant.html#362" class="Module">Modality-variant</a> <a id="9832" href="Graded.Modality.html#9673" class="Field">variant</a> <a id="9840" class="Keyword">public</a>

  <a id="9850" class="Keyword">field</a>
    <a id="9860" class="Comment">-- If the mode 𝟘ᵐ is allowed, then the zero is well-behaved</a>
    <a id="Modality.𝟘-well-behaved"></a><a id="9924" href="Graded.Modality.html#9924" class="Field">𝟘-well-behaved</a> <a id="9939" class="Symbol">:</a> <a id="9941" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="9943" href="Graded.Modality.Variant.html#472" class="Function">𝟘ᵐ-allowed</a> <a id="9954" class="Symbol">→</a> <a id="9956" href="Graded.Modality.html#4341" class="Record">Has-well-behaved-zero</a> <a id="9978" href="Graded.Modality.html#9715" class="Field">semiring-with-meet</a>
</pre></body></html>