<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="226" class="Keyword">module</a> <a id="233" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="255" class="Symbol">{</a><a id="256" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="257" class="Symbol">}</a> <a id="259" class="Symbol">{</a><a id="260" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="262" class="Symbol">:</a> <a id="264" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="268" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="269" class="Symbol">}</a>
  <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="295" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Symbol">(</a><a id="301" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> <a id="303" class="Symbol">:</a> <a id="305" href="Graded.Modality.html#7187" class="Record">Modality</a><a id="313" class="Symbol">)</a>
  <a id="317" class="Keyword">where</a>

<a id="324" class="Keyword">open</a> <a id="329" href="Graded.Modality.html#7187" class="Module">Modality</a> <a id="338" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="465" class="Symbol">as</a> <a id="468" class="Module">Σ</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="537" class="Symbol">as</a> <a id="540" class="Module">Dec</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Graded.Modality.Dedicated-nr.html" class="Module">Graded.Modality.Dedicated-nr</a> <a id="609" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="650" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="652" class="Keyword">open</a> <a id="657" class="Keyword">import</a> <a id="664" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="676" href="Graded.Restrictions.html#301" class="Bound">𝕄</a> as <a id="Mode"></a><a id="681" href="Graded.Restrictions.html#681" class="Module">Mode</a> <a id="686" class="Keyword">hiding</a> <a id="693" class="Symbol">(</a><a id="694" href="Graded.Mode.html#5569" class="Function Operator">_≟_</a><a id="697" class="Symbol">)</a>
<a id="699" class="Keyword">import</a> <a id="706" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="741" class="Symbol">as</a> <a id="744" class="Module">UD</a>
<a id="747" class="Keyword">open</a> <a id="752" class="Keyword">import</a> <a id="759" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="825" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>

<a id="828" class="Keyword">import</a> <a id="835" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="881" class="Symbol">as</a> <a id="884" class="Module">TD</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="929" href="Graded.Restrictions.html#301" class="Bound">𝕄</a>
<a id="931" class="Keyword">open</a> <a id="936" class="Keyword">import</a> <a id="943" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="978" class="Keyword">open</a> <a id="983" class="Keyword">import</a> <a id="990" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1037" class="Keyword">private</a> <a id="1045" class="Keyword">variable</a>
  <a id="1056" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="1059" class="Symbol">:</a> <a id="1061" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
  <a id="1081" href="Graded.Restrictions.html#1081" class="Generalizable">UR</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
  <a id="1107" href="Graded.Restrictions.html#1107" class="Generalizable">b</a>  <a id="1110" class="Symbol">:</a> <a id="1112" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1119" href="Graded.Restrictions.html#1119" class="Generalizable">ok</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1126" class="Symbol">_</a>
  <a id="1130" href="Graded.Restrictions.html#1130" class="Generalizable">s</a>  <a id="1133" class="Symbol">:</a> <a id="1135" href="Definition.Untyped.NotParametrised.html#1394" class="Datatype">Strength</a>

<a id="1145" class="Comment">------------------------------------------------------------------------</a>
<a id="1218" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1265" class="Comment">-- No type restrictions except that if the modality is trivial, then</a>
<a id="1334" class="Comment">-- []-cong is not allowed, and the K rule is allowed if the boolean is</a>
<a id="1405" class="Comment">-- true.</a>

<a id="no-type-restrictions"></a><a id="1415" href="Graded.Restrictions.html#1415" class="Function">no-type-restrictions</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="1463" href="Graded.Restrictions.html#1415" class="Function">no-type-restrictions</a> <a id="1484" href="Graded.Restrictions.html#1484" class="Bound">allowed</a> <a id="1492" class="Symbol">=</a> <a id="1494" class="Symbol">λ</a> <a id="1496" class="Keyword">where</a>
    <a id="1506" class="Symbol">.</a><a id="1507" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a>     <a id="1524" class="Symbol">→</a> <a id="1526" class="Symbol">λ</a> <a id="1528" href="Graded.Restrictions.html#1528" class="Bound">_</a> <a id="1530" class="Symbol">→</a> <a id="1532" href="Level.html#409" class="Record">Lift</a> <a id="1537" class="Symbol">_</a> <a id="1539" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1545" class="Symbol">.</a><a id="1546" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>       <a id="1563" class="Symbol">→</a> <a id="1565" class="Symbol">λ</a> <a id="1567" href="Graded.Restrictions.html#1567" class="Bound">_</a> <a id="1569" href="Graded.Restrictions.html#1569" class="Bound">_</a> <a id="1571" href="Graded.Restrictions.html#1571" class="Bound">_</a> <a id="1573" class="Symbol">→</a> <a id="1575" href="Level.html#409" class="Record">Lift</a> <a id="1580" class="Symbol">_</a> <a id="1582" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1588" class="Symbol">.</a><a id="1589" href="Definition.Typed.Restrictions.html#1911" class="Field">K-allowed</a>        <a id="1606" class="Symbol">→</a> <a id="1608" href="Level.html#409" class="Record">Lift</a> <a id="1613" class="Symbol">_</a> <a id="1615" class="Symbol">(</a><a id="1616" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1618" href="Graded.Restrictions.html#1484" class="Bound">allowed</a><a id="1625" class="Symbol">)</a>
    <a id="1631" class="Symbol">.</a><a id="1632" href="Definition.Typed.Restrictions.html#2111" class="Field">[]-cong-allowed</a>  <a id="1649" class="Symbol">→</a> <a id="1651" class="Symbol">λ</a> <a id="1653" href="Graded.Restrictions.html#1653" class="Bound">_</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="1659" href="Graded.Modality.html#1927" class="Function">Trivial</a>
    <a id="1671" class="Symbol">.</a><a id="1672" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a>   <a id="1689" class="Symbol">→</a> <a id="1691" class="Symbol">_</a>
    <a id="1697" class="Symbol">.</a><a id="1698" href="Definition.Typed.Restrictions.html#2336" class="Field">[]-cong→¬Trivial</a> <a id="1715" class="Symbol">→</a> <a id="1717" href="Function.Base.html#704" class="Function">idᶠ</a>
  <a id="1723" class="Keyword">where</a>
  <a id="1731" class="Keyword">open</a> <a id="1736" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a>

<a id="1755" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="1824" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="1856" href="Graded.Restrictions.html#1856" class="Function">equal-binder-quantities</a> <a id="1880" class="Symbol">:</a> <a id="1882" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="1900" class="Symbol">→</a> <a id="1902" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="1920" href="Graded.Restrictions.html#1856" class="Function">equal-binder-quantities</a> <a id="1944" href="Graded.Restrictions.html#1944" class="Bound">R</a> <a id="1946" class="Symbol">=</a> <a id="1948" class="Keyword">record</a> <a id="1955" href="Graded.Restrictions.html#1944" class="Bound">R</a>
  <a id="1959" class="Symbol">{</a> <a id="1961" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>     <a id="1976" class="Symbol">=</a> <a id="1978" class="Symbol">λ</a> <a id="1980" href="Graded.Restrictions.html#1980" class="Bound">b</a> <a id="1982" href="Graded.Restrictions.html#1982" class="Bound">p</a> <a id="1984" href="Graded.Restrictions.html#1984" class="Bound">q</a> <a id="1986" class="Symbol">→</a> <a id="1988" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="1999" href="Graded.Restrictions.html#1980" class="Bound">b</a> <a id="2001" href="Graded.Restrictions.html#1982" class="Bound">p</a> <a id="2003" href="Graded.Restrictions.html#1984" class="Bound">q</a> <a id="2005" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2007" href="Graded.Restrictions.html#1982" class="Bound">p</a> <a id="2009" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2011" href="Graded.Restrictions.html#1984" class="Bound">q</a>
  <a id="2015" class="Symbol">;</a> <a id="2017" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2032" class="Symbol">=</a> <a id="2034" class="Symbol">λ</a> <a id="2036" href="Graded.Restrictions.html#2036" class="Bound">ok</a> <a id="2039" class="Symbol">→</a>
      <a id="2047" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2062" href="Graded.Restrictions.html#2036" class="Bound">ok</a> <a id="2065" class="Symbol">.</a><a id="2066" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2074" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2089" href="Graded.Restrictions.html#2036" class="Bound">ok</a> <a id="2092" class="Symbol">.</a><a id="2093" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2101" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2108" class="Symbol">}</a>
  <a id="2112" class="Keyword">where</a>
  <a id="2120" class="Keyword">open</a> <a id="2125" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="2143" href="Graded.Restrictions.html#1944" class="Bound">R</a>

<a id="2146" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2210" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2261" href="Graded.Restrictions.html#2261" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2284" class="Symbol">:</a>
  <a id="2288" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="2306" class="Symbol">→</a> <a id="2308" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="2326" href="Graded.Restrictions.html#2261" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2349" href="Graded.Restrictions.html#2349" class="Bound">R</a> <a id="2351" class="Symbol">=</a> <a id="2353" class="Keyword">record</a> <a id="2360" href="Graded.Restrictions.html#2349" class="Bound">R</a>
  <a id="2364" class="Symbol">{</a> <a id="2366" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a>     <a id="2381" class="Symbol">=</a> <a id="2383" class="Symbol">λ</a> <a id="2385" href="Graded.Restrictions.html#2385" class="Bound">b</a> <a id="2387" href="Graded.Restrictions.html#2387" class="Bound">p</a> <a id="2389" href="Graded.Restrictions.html#2389" class="Bound">q</a> <a id="2391" class="Symbol">→</a> <a id="2393" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2404" href="Graded.Restrictions.html#2385" class="Bound">b</a> <a id="2406" href="Graded.Restrictions.html#2387" class="Bound">p</a> <a id="2408" href="Graded.Restrictions.html#2389" class="Bound">q</a> <a id="2410" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2412" href="Graded.Restrictions.html#2389" class="Bound">q</a> <a id="2414" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2416" href="Graded.Modality.html#847" class="Function">𝟘</a>
  <a id="2420" class="Symbol">;</a> <a id="2422" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2437" class="Symbol">=</a> <a id="2439" class="Symbol">λ</a> <a id="2441" href="Graded.Restrictions.html#2441" class="Bound">ok</a> <a id="2444" class="Symbol">→</a>
      <a id="2452" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2467" href="Graded.Restrictions.html#2441" class="Bound">ok</a> <a id="2470" class="Symbol">.</a><a id="2471" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2479" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="2494" href="Graded.Restrictions.html#2441" class="Bound">ok</a> <a id="2497" class="Symbol">.</a><a id="2498" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2506" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2513" class="Symbol">}</a>
  <a id="2517" class="Keyword">where</a>
  <a id="2525" class="Keyword">open</a> <a id="2530" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="2548" href="Graded.Restrictions.html#2349" class="Bound">R</a>

<a id="2551" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="2618" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="2688" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="2756" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="2819" href="Graded.Restrictions.html#2819" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="2847" class="Symbol">:</a>
  <a id="2851" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="2869" class="Symbol">→</a> <a id="2871" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="2889" href="Graded.Restrictions.html#2819" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="2917" href="Graded.Restrictions.html#2917" class="Bound">R</a> <a id="2919" class="Symbol">=</a> <a id="2921" class="Keyword">record</a> <a id="2928" href="Graded.Restrictions.html#2917" class="Bound">R</a>
  <a id="2932" class="Symbol">{</a> <a id="2934" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2945" class="Symbol">=</a> <a id="2947" class="Symbol">λ</a> <a id="2949" href="Graded.Restrictions.html#2949" class="Bound">b</a> <a id="2951" href="Graded.Restrictions.html#2951" class="Bound">p</a> <a id="2953" href="Graded.Restrictions.html#2953" class="Bound">q</a> <a id="2955" class="Symbol">→</a>
      <a id="2963" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="2974" href="Graded.Restrictions.html#2949" class="Bound">b</a> <a id="2976" href="Graded.Restrictions.html#2951" class="Bound">p</a> <a id="2978" href="Graded.Restrictions.html#2953" class="Bound">q</a> <a id="2980" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="2988" class="Symbol">(</a><a id="2989" href="Graded.Restrictions.html#2951" class="Bound">p</a> <a id="2991" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2993" href="Graded.Modality.html#851" class="Function">ω</a> <a id="2995" class="Symbol">→</a> <a id="2997" href="Graded.Restrictions.html#2953" class="Bound">q</a> <a id="2999" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3001" href="Graded.Modality.html#851" class="Function">ω</a><a id="3002" class="Symbol">)</a> <a id="3004" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3012" class="Symbol">(</a><a id="3013" href="Graded.Restrictions.html#2951" class="Bound">p</a> <a id="3015" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3017" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3019" class="Symbol">→</a> <a id="3021" href="Graded.Restrictions.html#2953" class="Bound">q</a> <a id="3023" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3025" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3026" class="Symbol">)</a>
  <a id="3030" class="Symbol">;</a> <a id="3032" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3047" class="Symbol">=</a> <a id="3049" class="Symbol">λ</a> <a id="3051" href="Graded.Restrictions.html#3051" class="Bound">ok</a> <a id="3054" class="Symbol">→</a>
        <a id="3064" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3079" href="Graded.Restrictions.html#3051" class="Bound">ok</a> <a id="3082" class="Symbol">.</a><a id="3083" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3097" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3112" href="Graded.Restrictions.html#3051" class="Bound">ok</a> <a id="3115" class="Symbol">.</a><a id="3116" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3130" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3142" class="Symbol">λ</a> <a id="3144" href="Graded.Restrictions.html#3144" class="Bound">_</a> <a id="3146" class="Symbol">→</a> <a id="3148" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3155" class="Symbol">}</a>
  <a id="3159" class="Keyword">where</a>
  <a id="3167" class="Keyword">open</a> <a id="3172" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="3190" href="Graded.Restrictions.html#2917" class="Bound">R</a>

<a id="3193" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3265" href="Graded.Restrictions.html#3265" class="Function">strong-types-restricted′</a> <a id="3290" class="Symbol">:</a>
  <a id="3294" class="Symbol">(</a><a id="3295" href="Graded.Restrictions.html#3295" class="Bound">P</a> <a id="3297" class="Symbol">:</a> <a id="3299" href="Definition.Untyped.NotParametrised.html#1457" class="Datatype">BinderMode</a> <a id="3310" class="Symbol">→</a> <a id="3312" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="3314" class="Symbol">→</a> <a id="3316" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3320" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="3321" class="Symbol">)</a> <a id="3323" class="Symbol">→</a>
  <a id="3327" class="Symbol">(∀</a> <a id="3330" class="Symbol">{</a><a id="3331" href="Graded.Restrictions.html#3331" class="Bound">s</a><a id="3332" class="Symbol">}</a> <a id="3334" class="Symbol">→</a> <a id="3336" href="Graded.Restrictions.html#3331" class="Bound">s</a> <a id="3338" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3340" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Graded.Restrictions.html#3295" class="Bound">P</a> <a id="3346" class="Symbol">(</a><a id="3347" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="3351" href="Graded.Restrictions.html#3331" class="Bound">s</a><a id="3352" class="Symbol">)</a> <a id="3354" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3355" class="Symbol">)</a> <a id="3357" class="Symbol">→</a>
  <a id="3361" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="3379" class="Symbol">→</a> <a id="3381" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="3399" href="Graded.Restrictions.html#3265" class="Function">strong-types-restricted′</a> <a id="3424" href="Graded.Restrictions.html#3424" class="Bound">P</a> <a id="3426" href="Graded.Restrictions.html#3426" class="Bound">hyp</a> <a id="3430" href="Graded.Restrictions.html#3430" class="Bound">R</a> <a id="3432" class="Symbol">=</a> <a id="3434" class="Keyword">record</a> <a id="3441" href="Graded.Restrictions.html#3430" class="Bound">R</a>
  <a id="3445" class="Symbol">{</a> <a id="3447" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="3460" class="Symbol">=</a> <a id="3462" class="Symbol">λ</a> <a id="3464" href="Graded.Restrictions.html#3464" class="Bound">s</a> <a id="3466" class="Symbol">→</a>
      <a id="3474" href="Definition.Typed.Restrictions.html#683" class="Field">Unit-allowed</a> <a id="3487" href="Graded.Restrictions.html#3464" class="Bound">s</a> <a id="3489" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3491" href="Graded.Restrictions.html#3464" class="Bound">s</a> <a id="3493" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3495" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a>
  <a id="3499" class="Symbol">;</a> <a id="3501" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="3512" class="Symbol">=</a> <a id="3514" class="Symbol">λ</a> <a id="3516" href="Graded.Restrictions.html#3516" class="Bound">b</a> <a id="3518" href="Graded.Restrictions.html#3518" class="Bound">p</a> <a id="3520" href="Graded.Restrictions.html#3520" class="Bound">q</a> <a id="3522" class="Symbol">→</a>
      <a id="3530" href="Definition.Typed.Restrictions.html#769" class="Field">ΠΣ-allowed</a> <a id="3541" href="Graded.Restrictions.html#3516" class="Bound">b</a> <a id="3543" href="Graded.Restrictions.html#3518" class="Bound">p</a> <a id="3545" href="Graded.Restrictions.html#3520" class="Bound">q</a> <a id="3547" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3549" href="Graded.Restrictions.html#3424" class="Bound">P</a> <a id="3551" href="Graded.Restrictions.html#3516" class="Bound">b</a> <a id="3553" href="Graded.Restrictions.html#3518" class="Bound">p</a>
  <a id="3557" class="Symbol">;</a> <a id="3559" href="Definition.Typed.Restrictions.html#2111" class="Field">[]-cong-allowed</a> <a id="3575" class="Symbol">=</a> <a id="3577" class="Symbol">λ</a> <a id="3579" href="Graded.Restrictions.html#3579" class="Bound">s</a> <a id="3581" class="Symbol">→</a>
      <a id="3589" href="Definition.Typed.Restrictions.html#2111" class="Field">[]-cong-allowed</a> <a id="3605" href="Graded.Restrictions.html#3579" class="Bound">s</a> <a id="3607" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3609" href="Graded.Restrictions.html#3579" class="Bound">s</a> <a id="3611" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3613" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a>
  <a id="3617" class="Symbol">;</a> <a id="3619" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3634" class="Symbol">=</a> <a id="3636" class="Symbol">λ</a> <a id="3638" class="Symbol">(</a><a id="3639" href="Graded.Restrictions.html#3639" class="Bound">ok</a> <a id="3642" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3644" href="Graded.Restrictions.html#3644" class="Bound">s≢𝕤</a><a id="3647" class="Symbol">)</a> <a id="3649" class="Symbol">→</a>
        <a id="3659" class="Symbol">(</a><a id="3660" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3675" href="Graded.Restrictions.html#3639" class="Bound">ok</a> <a id="3678" class="Symbol">.</a><a id="3679" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Graded.Restrictions.html#3644" class="Bound">s≢𝕤</a><a id="3690" class="Symbol">)</a>
      <a id="3698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3700" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="3715" href="Graded.Restrictions.html#3639" class="Bound">ok</a> <a id="3718" class="Symbol">.</a><a id="3719" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3733" href="Graded.Restrictions.html#3426" class="Bound">hyp</a> <a id="3737" href="Graded.Restrictions.html#3644" class="Bound">s≢𝕤</a>
  <a id="3743" class="Symbol">;</a> <a id="3745" href="Definition.Typed.Restrictions.html#2336" class="Field">[]-cong→¬Trivial</a> <a id="3762" class="Symbol">=</a>
      <a id="3770" href="Definition.Typed.Restrictions.html#2336" class="Field">[]-cong→¬Trivial</a> <a id="3787" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="3790" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="3798" class="Symbol">}</a>
  <a id="3802" class="Keyword">where</a>
  <a id="3810" class="Keyword">open</a> <a id="3815" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="3833" href="Graded.Restrictions.html#3430" class="Bound">R</a>

<a id="3836" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="3895" class="Comment">-- restrictions:</a>
<a id="3912" class="Comment">--</a>
<a id="3915" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="3957" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4018" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4054" href="Graded.Restrictions.html#4054" class="Function">strong-types-restricted</a> <a id="4078" class="Symbol">:</a>
  <a id="4082" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4100" class="Symbol">→</a> <a id="4102" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4120" href="Graded.Restrictions.html#4054" class="Function">strong-types-restricted</a> <a id="4144" class="Symbol">=</a>
  <a id="4148" href="Graded.Restrictions.html#3265" class="Function">strong-types-restricted′</a> <a id="4173" class="Symbol">(λ</a> <a id="4176" href="Graded.Restrictions.html#4176" class="Bound">b</a> <a id="4178" href="Graded.Restrictions.html#4178" class="Bound">p</a> <a id="4180" class="Symbol">→</a> <a id="4182" href="Graded.Restrictions.html#4176" class="Bound">b</a> <a id="4184" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4186" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="4190" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a> <a id="4192" class="Symbol">→</a> <a id="4194" href="Graded.Restrictions.html#4178" class="Bound">p</a> <a id="4196" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4198" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="4199" class="Symbol">)</a>
    <a id="4205" class="Symbol">(λ</a> <a id="4208" class="Symbol">{</a> <a id="4210" href="Graded.Restrictions.html#4210" class="Bound">hyp</a> <a id="4214" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4219" class="Symbol">→</a> <a id="4221" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4228" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4230" href="Graded.Restrictions.html#4210" class="Bound">hyp</a> <a id="4234" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4239" class="Symbol">})</a>

<a id="4243" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4308" class="Comment">--</a>
<a id="4311" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4353" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4390" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4426" href="Graded.Restrictions.html#4426" class="Function">no-strong-types</a> <a id="4442" class="Symbol">:</a>
  <a id="4446" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4464" class="Symbol">→</a> <a id="4466" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4484" href="Graded.Restrictions.html#4426" class="Function">no-strong-types</a> <a id="4500" class="Symbol">=</a>
  <a id="4504" href="Graded.Restrictions.html#3265" class="Function">strong-types-restricted′</a> <a id="4529" class="Symbol">(λ</a> <a id="4532" href="Graded.Restrictions.html#4532" class="Bound">b</a> <a id="4534" href="Graded.Restrictions.html#4534" class="Bound">_</a> <a id="4536" class="Symbol">→</a> <a id="4538" href="Level.html#409" class="Record">Lift</a> <a id="4543" class="Symbol">_</a> <a id="4545" class="Symbol">(</a><a id="4546" href="Graded.Restrictions.html#4532" class="Bound">b</a> <a id="4548" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4550" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="4554" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="4555" class="Symbol">))</a>
    <a id="4562" class="Symbol">(λ</a> <a id="4565" href="Graded.Restrictions.html#4565" class="Bound">hyp</a> <a id="4569" class="Symbol">→</a> <a id="4571" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="4576" class="Symbol">(λ</a> <a id="4579" class="Symbol">{</a> <a id="4581" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4586" class="Symbol">→</a> <a id="4588" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4595" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4597" href="Graded.Restrictions.html#4565" class="Bound">hyp</a> <a id="4601" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4606" class="Symbol">}))</a>

<a id="4611" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="4676" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="4712" href="Graded.Restrictions.html#4712" class="Function">no-erased-matches-TR</a> <a id="4733" class="Symbol">:</a> <a id="4735" href="Definition.Untyped.NotParametrised.html#1394" class="Datatype">Strength</a> <a id="4744" class="Symbol">→</a> <a id="4746" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="4764" class="Symbol">→</a> <a id="4766" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a>
<a id="4784" href="Graded.Restrictions.html#4712" class="Function">no-erased-matches-TR</a> <a id="4805" href="Graded.Restrictions.html#4805" class="Bound">s</a> <a id="4807" href="Graded.Restrictions.html#4807" class="Bound">TR</a> <a id="4810" class="Symbol">=</a> <a id="4812" class="Keyword">record</a> <a id="4819" href="Graded.Restrictions.html#4807" class="Bound">TR</a>
  <a id="4824" class="Symbol">{</a> <a id="4826" href="Definition.Typed.Restrictions.html#2111" class="Field">[]-cong-allowed</a>  <a id="4843" class="Symbol">=</a> <a id="4845" class="Symbol">λ</a> <a id="4847" href="Graded.Restrictions.html#4847" class="Bound">s′</a> <a id="4850" class="Symbol">→</a> <a id="4852" href="Definition.Typed.Restrictions.html#2111" class="Field">[]-cong-allowed</a> <a id="4868" href="Graded.Restrictions.html#4847" class="Bound">s′</a> <a id="4871" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4873" href="Graded.Restrictions.html#4847" class="Bound">s′</a> <a id="4876" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4878" href="Graded.Restrictions.html#4805" class="Bound">s</a>
  <a id="4882" class="Symbol">;</a> <a id="4884" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a>   <a id="4901" class="Symbol">=</a> <a id="4903" href="Definition.Typed.Restrictions.html#2205" class="Field">[]-cong→Erased</a> <a id="4918" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4921" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4929" class="Symbol">;</a> <a id="4931" href="Definition.Typed.Restrictions.html#2336" class="Field">[]-cong→¬Trivial</a> <a id="4948" class="Symbol">=</a> <a id="4950" href="Definition.Typed.Restrictions.html#2336" class="Field">[]-cong→¬Trivial</a> <a id="4967" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4970" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4978" class="Symbol">}</a>
  <a id="4982" class="Keyword">where</a>
  <a id="4990" class="Keyword">open</a> <a id="4995" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="5013" href="Graded.Restrictions.html#4807" class="Bound">TR</a>

<a id="5017" class="Comment">------------------------------------------------------------------------</a>
<a id="5090" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5138" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5202" class="Comment">-- matches are allowed for J and K, Id-erased is inhabited if the</a>
<a id="5268" class="Comment">-- first boolean is true, and starˢ is treated as a sink if the second</a>
<a id="5339" class="Comment">-- boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="5360" href="Graded.Restrictions.html#5360" class="Function">no-usage-restrictions</a> <a id="5382" class="Symbol">:</a> <a id="5384" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5389" class="Symbol">→</a> <a id="5391" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5396" class="Symbol">→</a> <a id="5398" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="5417" href="Graded.Restrictions.html#5360" class="Function">no-usage-restrictions</a> <a id="5439" href="Graded.Restrictions.html#5439" class="Bound">erased</a> <a id="5446" href="Graded.Restrictions.html#5446" class="Bound">sink</a> <a id="5451" class="Symbol">=</a> <a id="5453" class="Symbol">λ</a> <a id="5455" class="Keyword">where</a>
    <a id="5465" class="Symbol">.</a><a id="5466" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a>                   <a id="5500" class="Symbol">→</a> <a id="5502" class="Symbol">λ</a> <a id="5504" href="Graded.Restrictions.html#5504" class="Bound">_</a> <a id="5506" href="Graded.Restrictions.html#5506" class="Bound">_</a> <a id="5508" href="Graded.Restrictions.html#5508" class="Bound">_</a> <a id="5510" href="Graded.Restrictions.html#5510" class="Bound">_</a> <a id="5512" class="Symbol">→</a> <a id="5514" href="Level.html#409" class="Record">Lift</a> <a id="5519" class="Symbol">_</a> <a id="5521" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5527" class="Symbol">.</a><a id="5528" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a>  <a id="5562" class="Symbol">→</a> <a id="5564" class="Symbol">_</a>
    <a id="5570" class="Symbol">.</a><a id="5571" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a>                   <a id="5605" class="Symbol">→</a> <a id="5607" class="Symbol">λ</a> <a id="5609" href="Graded.Restrictions.html#5609" class="Bound">_</a> <a id="5611" href="Graded.Restrictions.html#5611" class="Bound">_</a> <a id="5613" href="Graded.Restrictions.html#5613" class="Bound">_</a> <a id="5615" class="Symbol">→</a> <a id="5617" href="Level.html#409" class="Record">Lift</a> <a id="5622" class="Symbol">_</a> <a id="5624" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5630" class="Symbol">.</a><a id="5631" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a>  <a id="5665" class="Symbol">→</a> <a id="5667" class="Symbol">_</a>
    <a id="5673" class="Symbol">.</a><a id="5674" href="Graded.Usage.Restrictions.html#1576" class="Field">Emptyrec-allowed</a>                  <a id="5708" class="Symbol">→</a> <a id="5710" class="Symbol">λ</a> <a id="5712" href="Graded.Restrictions.html#5712" class="Bound">_</a> <a id="5714" href="Graded.Restrictions.html#5714" class="Bound">_</a> <a id="5716" class="Symbol">→</a> <a id="5718" href="Level.html#409" class="Record">Lift</a> <a id="5723" class="Symbol">_</a> <a id="5725" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="5731" class="Symbol">.</a><a id="5732" href="Graded.Usage.Restrictions.html#1718" class="Field">Emptyrec-allowed-downwards-closed</a> <a id="5766" class="Symbol">→</a> <a id="5768" class="Symbol">_</a>
    <a id="5774" class="Symbol">.</a><a id="5775" href="Graded.Usage.Restrictions.html#1869" class="Field">starˢ-sink</a>                        <a id="5809" class="Symbol">→</a> <a id="5811" href="Graded.Restrictions.html#5446" class="Bound">sink</a>
    <a id="5820" class="Symbol">.</a><a id="5821" href="Graded.Usage.Restrictions.html#1948" class="Field">Id-erased</a>                         <a id="5855" class="Symbol">→</a> <a id="5857" href="Level.html#409" class="Record">Lift</a> <a id="5862" class="Symbol">_</a> <a id="5864" class="Symbol">(</a><a id="5865" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="5867" href="Graded.Restrictions.html#5439" class="Bound">erased</a><a id="5873" class="Symbol">)</a>
    <a id="5879" class="Symbol">.</a><a id="5880" href="Graded.Usage.Restrictions.html#2000" class="Field">Id-erased?</a>                        <a id="5914" class="Symbol">→</a> <a id="5916" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="5924" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="5929" href="Level.html#479" class="Field">Lift.lower</a> <a id="5940" href="Function.Base.html#1974" class="Function Operator">$</a>
                                         <a id="5983" href="Relation.Nullary.Decidable.Core.html#2465" class="Function">T?</a> <a id="5986" href="Graded.Restrictions.html#5439" class="Bound">erased</a>
    <a id="5997" class="Symbol">.</a><a id="5998" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>              <a id="6032" class="Symbol">→</a> <a id="6034" class="Symbol">λ</a> <a id="6036" href="Graded.Restrictions.html#6036" class="Bound">_</a> <a id="6038" class="Symbol">→</a> <a id="6040" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6048" class="Symbol">.</a><a id="6049" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>          <a id="6083" class="Symbol">→</a> <a id="6085" class="Symbol">_</a>
    <a id="6091" class="Symbol">.</a><a id="6092" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>              <a id="6126" class="Symbol">→</a> <a id="6128" class="Symbol">λ</a> <a id="6130" href="Graded.Restrictions.html#6130" class="Bound">_</a> <a id="6132" class="Symbol">→</a> <a id="6134" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6142" class="Symbol">.</a><a id="6143" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>          <a id="6177" class="Symbol">→</a> <a id="6179" class="Symbol">_</a>
  <a id="6183" class="Keyword">where</a>
  <a id="6191" class="Keyword">open</a> <a id="6196" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a>

<a id="6216" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="6273" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="6288" class="Symbol">:</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6296" class="Symbol">→</a> <a id="6298" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="6312" class="Symbol">)</a> <a id="6314" class="Symbol">→</a> <a id="6316" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="6321" class="Symbol">→</a> <a id="6323" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="6338" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="6353" href="Graded.Restrictions.html#6353" class="Bound">f</a> <a id="6355" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="6358" class="Symbol">=</a> <a id="6360" href="Graded.Restrictions.html#6353" class="Bound">f</a> <a id="6362" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
<a id="6365" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="6380" href="Graded.Restrictions.html#6380" class="Bound">f</a> <a id="6382" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="6385" class="Keyword">with</a> <a id="6390" href="Graded.Restrictions.html#6380" class="Bound">f</a> <a id="6392" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
<a id="6395" class="Symbol">…</a> <a id="6397" class="Symbol">|</a> <a id="6399" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="6403" class="Symbol">=</a> <a id="6405" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="6410" class="CatchallClause Symbol">…</a><a id="6411" class="CatchallClause"> </a><a id="6412" class="CatchallClause Symbol">|</a><a id="6413" class="CatchallClause"> </a><a id="6414" href="Graded.Restrictions.html#6414" class="CatchallClause Bound">em</a>  <a id="6418" class="Symbol">=</a> <a id="6420" href="Graded.Restrictions.html#6414" class="Bound">em</a>

<a id="6424" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="6490" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="6538" href="Graded.Restrictions.html#6538" class="Function">not-all-erased-matches-JK</a> <a id="6564" class="Symbol">:</a> <a id="6566" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="6585" class="Symbol">→</a> <a id="6587" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="6606" href="Graded.Restrictions.html#6538" class="Function">not-all-erased-matches-JK</a> <a id="6632" href="Graded.Restrictions.html#6632" class="Bound">UR</a> <a id="6635" class="Symbol">=</a> <a id="6637" class="Keyword">record</a> <a id="6644" href="Graded.Restrictions.html#6632" class="Bound">UR</a>
  <a id="6649" class="Symbol">{</a> <a id="6651" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="6672" class="Symbol">=</a>
      <a id="6680" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="6695" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>
  <a id="6718" class="Symbol">;</a> <a id="6720" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="6745" class="Symbol">=</a>
      <a id="6753" href="Graded.Restrictions.html#7045" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="6772" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="6793" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="6820" class="Symbol">;</a> <a id="6822" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="6843" class="Symbol">=</a>
      <a id="6851" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="6866" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>
  <a id="6889" class="Symbol">;</a> <a id="6891" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="6916" class="Symbol">=</a>
      <a id="6924" href="Graded.Restrictions.html#7045" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="6943" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="6964" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="6991" class="Symbol">}</a>
  <a id="6995" class="Keyword">where</a>
  <a id="7003" class="Keyword">open</a> <a id="7008" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="7027" href="Graded.Restrictions.html#6632" class="Bound">UR</a>

  <a id="7033" class="Keyword">opaque</a>

    <a id="7045" href="Graded.Restrictions.html#7045" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7064" class="Symbol">:</a>
      <a id="7072" class="Symbol">(</a><a id="7073" href="Graded.Restrictions.html#7073" class="Bound">f</a> <a id="7075" class="Symbol">:</a> <a id="7077" href="Graded.Mode.html#1062" class="Datatype">Mode</a> <a id="7082" class="Symbol">→</a> <a id="7084" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7098" class="Symbol">)</a> <a id="7100" class="Symbol">→</a>
      <a id="7108" href="Graded.Restrictions.html#7073" class="Bound">f</a> <a id="7110" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7113" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7117" href="Graded.Restrictions.html#7073" class="Bound">f</a> <a id="7119" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7123" href="Graded.Restrictions.html#1119" class="Generalizable">ok</a> <a id="7126" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a> <a id="7128" class="Symbol">→</a>
      <a id="7136" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="7151" href="Graded.Restrictions.html#7073" class="Bound">f</a> <a id="7153" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7156" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7160" href="Graded.Restrictions.html#6273" class="Function">not-all-for-𝟙ᵐ</a> <a id="7175" href="Graded.Restrictions.html#7073" class="Bound">f</a> <a id="7177" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7181" href="Graded.Restrictions.html#1119" class="Generalizable">ok</a> <a id="7184" href="Graded.Mode.html#1136" class="InductiveConstructor Operator">]</a>
    <a id="7190" href="Graded.Restrictions.html#7045" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7209" href="Graded.Restrictions.html#7209" class="Bound">f</a> <a id="7211" href="Graded.Restrictions.html#7211" class="Bound">f-≤ᵉᵐ</a> <a id="7217" class="Keyword">with</a> <a id="7222" href="Graded.Restrictions.html#7209" class="Bound">f</a> <a id="7224" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="7231" class="Symbol">…</a> <a id="7233" class="Symbol">|</a> <a id="7235" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="7240" class="Symbol">=</a> <a id="7242" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="7257" class="Symbol">_</a> <a id="7259" class="Bound">f-≤ᵉᵐ</a>
    <a id="7269" class="Symbol">…</a> <a id="7271" class="Symbol">|</a> <a id="7273" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="7278" class="Symbol">=</a> <a id="7280" class="Bound">f-≤ᵉᵐ</a>
    <a id="7290" class="Symbol">…</a> <a id="7292" class="Symbol">|</a> <a id="7294" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="7299" class="Symbol">=</a> <a id="7301" class="Bound">f-≤ᵉᵐ</a>

<a id="7308" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="7377" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec,</a>
<a id="7447" class="Comment">-- and for prodrec and unitrec the added restriction only applies to</a>
<a id="7516" class="Comment">-- non-trivial modalities.</a>

<a id="no-erased-matches-UR"></a><a id="7544" href="Graded.Restrictions.html#7544" class="Function">no-erased-matches-UR</a> <a id="7565" class="Symbol">:</a> <a id="7567" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="7586" class="Symbol">→</a> <a id="7588" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="7607" href="Graded.Restrictions.html#7544" class="Function">no-erased-matches-UR</a> <a id="7628" href="Graded.Restrictions.html#7628" class="Bound">UR</a> <a id="7631" class="Symbol">=</a> <a id="7633" class="Keyword">record</a> <a id="7640" href="Graded.Restrictions.html#7628" class="Bound">UR</a>
  <a id="7645" class="Symbol">{</a> <a id="7647" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="7663" class="Symbol">=</a> <a id="7665" class="Symbol">λ</a> <a id="7667" href="Graded.Restrictions.html#7667" class="Bound">m</a> <a id="7669" href="Graded.Restrictions.html#7669" class="Bound">r</a> <a id="7671" href="Graded.Restrictions.html#7671" class="Bound">p</a> <a id="7673" href="Graded.Restrictions.html#7673" class="Bound">q</a> <a id="7675" class="Symbol">→</a>
      <a id="7683" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="7699" href="Graded.Restrictions.html#7667" class="Bound">m</a> <a id="7701" href="Graded.Restrictions.html#7669" class="Bound">r</a> <a id="7703" href="Graded.Restrictions.html#7671" class="Bound">p</a> <a id="7705" href="Graded.Restrictions.html#7673" class="Bound">q</a> <a id="7707" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="7715" class="Symbol">(</a><a id="7716" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="7718" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="7726" class="Symbol">→</a> <a id="7728" href="Graded.Restrictions.html#7667" class="Bound">m</a> <a id="7730" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7732" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7735" class="Symbol">→</a> <a id="7737" href="Graded.Restrictions.html#7669" class="Bound">r</a> <a id="7739" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7741" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="7742" class="Symbol">)</a>
  <a id="7746" class="Symbol">;</a> <a id="7748" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="7781" class="Symbol">=</a>
      <a id="7789" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="7795" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="7828" class="Symbol">(λ</a> <a id="7831" href="Graded.Restrictions.html#7831" class="Bound">_</a> <a id="7833" href="Graded.Restrictions.html#7833" class="Bound">_</a> <a id="7835" class="Symbol">())</a>
  <a id="7841" class="Symbol">;</a> <a id="7843" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="7859" class="Symbol">=</a> <a id="7861" class="Symbol">λ</a> <a id="7863" href="Graded.Restrictions.html#7863" class="Bound">m</a> <a id="7865" href="Graded.Restrictions.html#7865" class="Bound">p</a> <a id="7867" href="Graded.Restrictions.html#7867" class="Bound">q</a> <a id="7869" class="Symbol">→</a>
      <a id="7877" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="7893" href="Graded.Restrictions.html#7863" class="Bound">m</a> <a id="7895" href="Graded.Restrictions.html#7865" class="Bound">p</a> <a id="7897" href="Graded.Restrictions.html#7867" class="Bound">q</a> <a id="7899" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="7907" class="Symbol">(</a><a id="7908" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="7910" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="7918" class="Symbol">→</a> <a id="7920" href="Graded.Restrictions.html#7863" class="Bound">m</a> <a id="7922" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7924" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="7927" class="Symbol">→</a> <a id="7929" href="Graded.Restrictions.html#7865" class="Bound">p</a> <a id="7931" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="7933" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="7934" class="Symbol">)</a>
  <a id="7938" class="Symbol">;</a> <a id="7940" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="7973" class="Symbol">=</a>
      <a id="7981" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="7987" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="8020" class="Symbol">(λ</a> <a id="8023" href="Graded.Restrictions.html#8023" class="Bound">_</a> <a id="8025" href="Graded.Restrictions.html#8025" class="Bound">_</a> <a id="8027" class="Symbol">())</a>
  <a id="8033" class="Symbol">;</a> <a id="8035" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8056" class="Symbol">=</a> <a id="8058" class="Symbol">λ</a> <a id="8060" class="Keyword">where</a>
      <a id="8072" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8075" class="Symbol">→</a> <a id="8077" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8088" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8091" class="Symbol">→</a> <a id="8093" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8114" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8119" class="Symbol">;</a> <a id="8121" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8146" class="Symbol">=</a>
      <a id="8154" class="Symbol">_</a>
  <a id="8158" class="Symbol">;</a> <a id="8160" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8181" class="Symbol">=</a> <a id="8183" class="Symbol">λ</a> <a id="8185" class="Keyword">where</a>
      <a id="8197" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8200" class="Symbol">→</a> <a id="8202" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8213" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a> <a id="8216" class="Symbol">→</a> <a id="8218" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8239" href="Graded.Mode.html#1081" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8244" class="Symbol">;</a> <a id="8246" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8271" class="Symbol">=</a>
      <a id="8279" class="Symbol">_</a>
  <a id="8283" class="Symbol">}</a>
  <a id="8287" class="Keyword">where</a>
  <a id="8295" class="Keyword">open</a> <a id="8300" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="8319" href="Graded.Restrictions.html#7628" class="Bound">UR</a>

<a id="8323" class="Comment">------------------------------------------------------------------------</a>
<a id="8396" class="Comment">-- No-erased-matches</a>

<a id="8418" class="Comment">-- The property of not allowing (certain) erased matches.</a>
<a id="8476" class="Comment">--</a>
<a id="8479" class="Comment">-- Erased matches are allowed for emptyrec, and &quot;erased&quot; matches are</a>
<a id="8548" class="Comment">-- allowed for trivial modalities. Erased matches are also allowed</a>
<a id="8615" class="Comment">-- when the mode is not 𝟙ᵐ, except for []-cong. (Note that a variant</a>
<a id="8684" class="Comment">-- of []-cong that works when the mode is not 𝟙ᵐ can be defined</a>
<a id="8748" class="Comment">-- without the use of []-cong, see Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="8816" href="Graded.Restrictions.html#8816" class="Function">No-erased-matches</a> <a id="8834" class="Symbol">:</a> <a id="8836" href="Definition.Typed.Restrictions.html#524" class="Record">Type-restrictions</a> <a id="8854" class="Symbol">→</a> <a id="8856" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="8875" class="Symbol">→</a> <a id="8877" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="8881" href="Graded.Restrictions.html#256" class="Bound">a</a>
<a id="8883" href="Graded.Restrictions.html#8816" class="Function">No-erased-matches</a> <a id="8901" href="Graded.Restrictions.html#8901" class="Bound">TR</a> <a id="8904" href="Graded.Restrictions.html#8904" class="Bound">UR</a> <a id="8907" class="Symbol">=</a>
  <a id="8911" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="8913" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="8921" class="Symbol">→</a>
  <a id="8925" class="Symbol">(∀</a> <a id="8928" class="Symbol">{</a><a id="8929" href="Graded.Restrictions.html#8929" class="Bound">r</a> <a id="8931" href="Graded.Restrictions.html#8931" class="Bound">p</a> <a id="8933" href="Graded.Restrictions.html#8933" class="Bound">q</a><a id="8934" class="Symbol">}</a> <a id="8936" class="Symbol">→</a> <a id="8938" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8954" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="8957" href="Graded.Restrictions.html#8929" class="Bound">r</a> <a id="8959" href="Graded.Restrictions.html#8931" class="Bound">p</a> <a id="8961" href="Graded.Restrictions.html#8933" class="Bound">q</a> <a id="8963" class="Symbol">→</a> <a id="8965" href="Graded.Restrictions.html#8929" class="Bound">r</a> <a id="8967" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8969" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="8970" class="Symbol">)</a> <a id="8972" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="8976" class="Symbol">(∀</a> <a id="8979" class="Symbol">{</a><a id="8980" href="Graded.Restrictions.html#8980" class="Bound">p</a> <a id="8982" href="Graded.Restrictions.html#8982" class="Bound">q</a><a id="8983" class="Symbol">}</a>   <a id="8987" class="Symbol">→</a> <a id="8989" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9005" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9008" href="Graded.Restrictions.html#8980" class="Bound">p</a> <a id="9010" href="Graded.Restrictions.html#8982" class="Bound">q</a>   <a id="9014" class="Symbol">→</a> <a id="9016" href="Graded.Restrictions.html#8980" class="Bound">p</a> <a id="9018" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9020" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="9021" class="Symbol">)</a> <a id="9023" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9027" class="Symbol">(∀</a> <a id="9030" class="Symbol">{</a><a id="9031" href="Graded.Restrictions.html#9031" class="Bound">s</a><a id="9032" class="Symbol">}</a> <a id="9034" class="Symbol">→</a> <a id="9036" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9038" class="Symbol">(</a><a id="9039" href="Definition.Typed.Restrictions.html#2111" class="Function">[]-cong-allowed</a> <a id="9055" href="Graded.Restrictions.html#9031" class="Bound">s</a><a id="9056" class="Symbol">))</a> <a id="9059" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9063" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="9084" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9087" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9089" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="9094" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9098" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="9119" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a> <a id="9122" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9124" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="9131" class="Keyword">where</a>
  <a id="9139" class="Keyword">open</a> <a id="9144" href="Definition.Typed.Restrictions.html#524" class="Module">Type-restrictions</a> <a id="9162" href="Graded.Restrictions.html#8901" class="Bound">TR</a>
  <a id="9167" class="Keyword">open</a> <a id="9172" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="9191" href="Graded.Restrictions.html#8904" class="Bound">UR</a>

<a id="9195" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="9258" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="9310" href="Graded.Restrictions.html#9310" class="Function">No-erased-matches-no-erased-matches</a> <a id="9346" class="Symbol">:</a>
  <a id="9350" class="Symbol">∀</a> <a id="9352" href="Graded.Restrictions.html#9352" class="Bound">TR</a> <a id="9355" href="Graded.Restrictions.html#9355" class="Bound">UR</a> <a id="9358" class="Symbol">→</a>
  <a id="9362" href="Graded.Restrictions.html#8816" class="Function">No-erased-matches</a>
    <a id="9384" class="Symbol">(</a><a id="9385" href="Graded.Restrictions.html#4712" class="Function">no-erased-matches-TR</a> <a id="9406" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a> <a id="9408" class="Symbol">(</a><a id="9409" href="Graded.Restrictions.html#4712" class="Function">no-erased-matches-TR</a> <a id="9430" href="Definition.Untyped.NotParametrised.html#1419" class="InductiveConstructor">𝕨</a> <a id="9432" href="Graded.Restrictions.html#9352" class="Bound">TR</a><a id="9434" class="Symbol">))</a>
    <a id="9441" class="Symbol">(</a><a id="9442" href="Graded.Restrictions.html#7544" class="Function">no-erased-matches-UR</a> <a id="9463" href="Graded.Restrictions.html#9355" class="Bound">UR</a><a id="9465" class="Symbol">)</a>
<a id="9467" href="Graded.Restrictions.html#9310" class="Function">No-erased-matches-no-erased-matches</a> <a id="9503" class="Symbol">_</a> <a id="9505" class="Symbol">_</a> <a id="9507" href="Graded.Restrictions.html#9507" class="Bound">𝟙≢𝟘</a> <a id="9511" class="Symbol">=</a>
    <a id="9517" class="Symbol">(</a><a id="9518" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9521" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9525" class="Symbol">)</a> <a id="9527" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9530" class="Symbol">(</a><a id="9531" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9534" href="Graded.Restrictions.html#9507" class="Bound">𝟙≢𝟘</a><a id="9537" class="Symbol">)</a> <a id="9539" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9542" href="Data.Product.Base.html#650" class="Field">proj₂</a>
  <a id="9550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9552" class="Symbol">(</a><a id="9553" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9556" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9560" class="Symbol">)</a> <a id="9562" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9565" class="Symbol">(</a><a id="9566" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9569" href="Graded.Restrictions.html#9507" class="Bound">𝟙≢𝟘</a><a id="9572" class="Symbol">)</a> <a id="9574" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9577" href="Data.Product.Base.html#650" class="Field">proj₂</a>
  <a id="9585" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9587" class="Symbol">(λ</a> <a id="9590" class="Keyword">where</a>
       <a id="9603" class="Symbol">{</a><a id="9604" class="Argument">s</a> <a id="9606" class="Symbol">=</a> <a id="9608" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="9609" class="Symbol">}</a> <a id="9611" class="Symbol">→</a> <a id="9613" class="Symbol">(</a><a id="9614" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9617" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9621" class="Symbol">)</a> <a id="9623" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9626" href="Data.Product.Base.html#650" class="Field">proj₂</a>
       <a id="9639" class="Symbol">{</a><a id="9640" class="Argument">s</a> <a id="9642" class="Symbol">=</a> <a id="9644" href="Definition.Untyped.NotParametrised.html#1419" class="InductiveConstructor">𝕨</a><a id="9645" class="Symbol">}</a> <a id="9647" class="Symbol">→</a> <a id="9649" class="Symbol">(</a><a id="9650" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="9653" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9657" class="Symbol">)</a> <a id="9659" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9662" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="9668" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="9671" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="9676" class="Symbol">)</a>
  <a id="9680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9682" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="9689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9691" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9697" class="Comment">------------------------------------------------------------------------</a>
<a id="9770" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="9812" class="Keyword">opaque</a>

  <a id="9822" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="9889" class="Comment">-- no-type-restrictions b.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="9919" href="Graded.Restrictions.html#9919" class="Function">Assumptions-no-type-restrictions</a> <a id="9952" class="Symbol">:</a>
    <a id="9958" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="9968" class="Symbol">(</a><a id="9969" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="9973" class="Symbol">{</a><a id="9974" class="Argument">A</a> <a id="9976" class="Symbol">=</a> <a id="9978" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="9979" class="Symbol">})</a> <a id="9982" class="Symbol">→</a> <a id="9984" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="9999" class="Symbol">(</a><a id="10000" href="Graded.Restrictions.html#1415" class="Function">no-type-restrictions</a> <a id="10021" href="Graded.Restrictions.html#1107" class="Generalizable">b</a><a id="10022" class="Symbol">)</a>
  <a id="10026" href="Graded.Restrictions.html#9919" class="Function">Assumptions-no-type-restrictions</a> <a id="10059" class="Symbol">{</a><a id="10060" href="Graded.Restrictions.html#10060" class="Bound">b</a><a id="10061" class="Symbol">}</a> <a id="10063" href="Graded.Restrictions.html#10063" class="Bound">dec</a> <a id="10067" class="Symbol">=</a> <a id="10069" class="Symbol">λ</a> <a id="10071" class="Keyword">where</a>
      <a id="10083" class="Symbol">.</a><a id="10084" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="10103" class="Symbol">→</a> <a id="10105" href="Graded.Restrictions.html#10063" class="Bound">dec</a>
      <a id="10115" class="Symbol">.</a><a id="10116" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="10130" class="Symbol">_</a>    <a id="10135" class="Symbol">→</a> <a id="10137" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10141" class="Symbol">_</a>
      <a id="10149" class="Symbol">.</a><a id="10150" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="10162" class="Symbol">_</a> <a id="10164" class="Symbol">_</a> <a id="10166" class="Symbol">_</a>  <a id="10169" class="Symbol">→</a> <a id="10171" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10175" class="Symbol">_</a>
      <a id="10183" class="Symbol">.</a><a id="10184" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="10203" class="Symbol">→</a> <a id="10205" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="10210" href="Tools.PropositionalEquality.html#2136" class="Function">singleton</a> <a id="10220" href="Graded.Restrictions.html#10060" class="Bound">b</a> <a id="10222" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="10225" class="Symbol">λ</a> <a id="10227" class="Keyword">where</a>
        <a id="10241" class="Symbol">(</a><a id="10242" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="10248" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10250" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10254" class="Symbol">)</a> <a id="10256" class="Symbol">→</a> <a id="10258" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10262" class="Symbol">_</a>
        <a id="10272" class="Symbol">(</a><a id="10273" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="10279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10281" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10285" class="Symbol">)</a> <a id="10287" class="Symbol">→</a> <a id="10289" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10292" class="Symbol">(λ</a> <a id="10295" class="Symbol">())</a>
      <a id="10305" class="Symbol">.</a><a id="10306" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="10323" class="Symbol">_</a> <a id="10325" class="Symbol">→</a> <a id="10327" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="10332" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="10341" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="10344" class="Symbol">λ</a> <a id="10346" class="Keyword">where</a>
        <a id="10360" class="Symbol">(</a><a id="10361" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10365" href="Graded.Restrictions.html#10365" class="Bound">trivial</a><a id="10372" class="Symbol">)</a>    <a id="10377" class="Symbol">→</a> <a id="10379" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10382" class="Symbol">(</a><a id="10383" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10386" href="Graded.Restrictions.html#10365" class="Bound">trivial</a><a id="10393" class="Symbol">)</a>
        <a id="10403" class="Symbol">(</a><a id="10404" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="10407" href="Graded.Restrictions.html#10407" class="Bound">non-trivial</a><a id="10418" class="Symbol">)</a> <a id="10420" class="Symbol">→</a> <a id="10422" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="10426" href="Graded.Restrictions.html#10407" class="Bound">non-trivial</a>
    <a id="10442" class="Keyword">where</a>
    <a id="10452" class="Keyword">open</a> <a id="10457" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="10473" class="Keyword">opaque</a>

  <a id="10483" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="10552" href="Graded.Restrictions.html#10552" class="Function">Assumptions-equal-binder-quantities</a> <a id="10588" class="Symbol">:</a>
    <a id="10594" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="10609" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="10612" class="Symbol">→</a> <a id="10614" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="10629" class="Symbol">(</a><a id="10630" href="Graded.Restrictions.html#1856" class="Function">equal-binder-quantities</a> <a id="10654" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="10656" class="Symbol">)</a>
  <a id="10660" href="Graded.Restrictions.html#10552" class="Function">Assumptions-equal-binder-quantities</a> <a id="10696" href="Graded.Restrictions.html#10696" class="Bound">as</a> <a id="10699" class="Symbol">=</a> <a id="10701" class="Symbol">λ</a> <a id="10703" class="Keyword">where</a>
      <a id="10715" class="Symbol">.</a><a id="10716" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="10734" class="Symbol">→</a> <a id="10736" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="10748" class="Symbol">.</a><a id="10749" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="10767" class="Symbol">→</a> <a id="10769" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="10791" class="Symbol">.</a><a id="10792" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="10804" href="Graded.Restrictions.html#10804" class="Bound">b</a> <a id="10806" href="Graded.Restrictions.html#10806" class="Bound">p</a> <a id="10808" href="Graded.Restrictions.html#10808" class="Bound">q</a> <a id="10810" class="Symbol">→</a> <a id="10812" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="10826" href="Graded.Restrictions.html#10804" class="Bound">b</a> <a id="10828" href="Graded.Restrictions.html#10806" class="Bound">p</a> <a id="10830" href="Graded.Restrictions.html#10808" class="Bound">q</a> <a id="10832" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="10838" href="Graded.Restrictions.html#10806" class="Bound">p</a> <a id="10840" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="10844" href="Graded.Restrictions.html#10808" class="Bound">q</a>
      <a id="10852" class="Symbol">.</a><a id="10853" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="10871" class="Symbol">→</a> <a id="10873" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="10892" class="Symbol">.</a><a id="10893" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="10911" class="Symbol">→</a> <a id="10913" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="10936" class="Keyword">where</a>
    <a id="10946" class="Keyword">module</a> <a id="10953" href="Graded.Restrictions.html#10953" class="Module">A</a> <a id="10955" class="Symbol">=</a> <a id="10957" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="10972" href="Graded.Restrictions.html#10696" class="Bound">as</a>
    <a id="10979" class="Keyword">open</a> <a id="10984" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="11000" class="Keyword">opaque</a>

  <a id="11010" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="11078" href="Graded.Restrictions.html#11078" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="11113" class="Symbol">:</a>
    <a id="11119" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11134" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="11137" class="Symbol">→</a> <a id="11139" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11154" class="Symbol">(</a><a id="11155" href="Graded.Restrictions.html#2261" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="11178" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="11180" class="Symbol">)</a>
  <a id="11184" href="Graded.Restrictions.html#11078" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="11219" href="Graded.Restrictions.html#11219" class="Bound">as</a> <a id="11222" class="Symbol">=</a> <a id="11224" class="Symbol">λ</a> <a id="11226" class="Keyword">where</a>
      <a id="11238" class="Symbol">.</a><a id="11239" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="11257" class="Symbol">→</a> <a id="11259" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="11271" class="Symbol">.</a><a id="11272" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="11290" class="Symbol">→</a> <a id="11292" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="11314" class="Symbol">.</a><a id="11315" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="11327" href="Graded.Restrictions.html#11327" class="Bound">b</a> <a id="11329" href="Graded.Restrictions.html#11329" class="Bound">p</a> <a id="11331" href="Graded.Restrictions.html#11331" class="Bound">q</a> <a id="11333" class="Symbol">→</a> <a id="11335" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="11349" href="Graded.Restrictions.html#11327" class="Bound">b</a> <a id="11351" href="Graded.Restrictions.html#11329" class="Bound">p</a> <a id="11353" href="Graded.Restrictions.html#11331" class="Bound">q</a> <a id="11355" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="11361" href="Graded.Restrictions.html#11331" class="Bound">q</a> <a id="11363" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="11367" href="Graded.Modality.html#847" class="Function">𝟘</a>
      <a id="11375" class="Symbol">.</a><a id="11376" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="11394" class="Symbol">→</a> <a id="11396" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="11415" class="Symbol">.</a><a id="11416" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="11434" class="Symbol">→</a> <a id="11436" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="11459" class="Keyword">where</a>
    <a id="11469" class="Keyword">module</a> <a id="11476" href="Graded.Restrictions.html#11476" class="Module">A</a> <a id="11478" class="Symbol">=</a> <a id="11480" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="11495" href="Graded.Restrictions.html#11219" class="Bound">as</a>
    <a id="11502" class="Keyword">open</a> <a id="11507" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="11523" class="Keyword">opaque</a>

  <a id="11533" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="11589" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="11611" href="Graded.Restrictions.html#11611" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11651" class="Symbol">:</a>
    <a id="11657" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11672" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="11675" class="Symbol">→</a> <a id="11677" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="11692" class="Symbol">(</a><a id="11693" href="Graded.Restrictions.html#2819" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11721" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="11723" class="Symbol">)</a>
  <a id="11727" href="Graded.Restrictions.html#11611" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="11767" href="Graded.Restrictions.html#11767" class="Bound">as</a> <a id="11770" class="Symbol">=</a> <a id="11772" class="Symbol">λ</a> <a id="11774" class="Keyword">where</a>
      <a id="11786" class="Symbol">.</a><a id="11787" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="11805" class="Symbol">→</a> <a id="11807" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="11819" class="Symbol">.</a><a id="11820" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="11838" class="Symbol">→</a> <a id="11840" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="11862" class="Symbol">.</a><a id="11863" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="11875" href="Graded.Restrictions.html#11875" class="Bound">b</a> <a id="11877" href="Graded.Restrictions.html#11877" class="Bound">p</a> <a id="11879" href="Graded.Restrictions.html#11879" class="Bound">q</a> <a id="11881" class="Symbol">→</a> <a id="11883" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="11897" href="Graded.Restrictions.html#11875" class="Bound">b</a> <a id="11899" href="Graded.Restrictions.html#11877" class="Bound">p</a> <a id="11901" href="Graded.Restrictions.html#11879" class="Bound">q</a>
                             <a id="11932" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="11965" class="Symbol">(</a><a id="11966" href="Graded.Restrictions.html#11877" class="Bound">p</a> <a id="11968" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="11972" href="Graded.Modality.html#851" class="Function">ω</a> <a id="11974" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="11980" href="Graded.Restrictions.html#11879" class="Bound">q</a> <a id="11982" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="11986" href="Graded.Modality.html#851" class="Function">ω</a><a id="11987" class="Symbol">)</a>
                             <a id="12018" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="12051" class="Symbol">(</a><a id="12052" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="12055" class="Symbol">(</a><a id="12056" href="Graded.Restrictions.html#11877" class="Bound">p</a> <a id="12058" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12062" href="Graded.Modality.html#851" class="Function">ω</a><a id="12063" class="Symbol">)</a> <a id="12065" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="12071" href="Graded.Restrictions.html#11879" class="Bound">q</a> <a id="12073" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="12077" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="12078" class="Symbol">)</a>
      <a id="12086" class="Symbol">.</a><a id="12087" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="12105" class="Symbol">→</a> <a id="12107" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="12126" class="Symbol">.</a><a id="12127" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="12145" class="Symbol">→</a> <a id="12147" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="12170" class="Keyword">where</a>
    <a id="12180" class="Keyword">module</a> <a id="12187" href="Graded.Restrictions.html#12187" class="Module">A</a> <a id="12189" class="Symbol">=</a> <a id="12191" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="12206" href="Graded.Restrictions.html#11767" class="Bound">as</a>
    <a id="12213" class="Keyword">open</a> <a id="12218" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="12234" class="Keyword">opaque</a>

  <a id="12244" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="12302" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="12352" href="Graded.Restrictions.html#12352" class="Function">Assumptions-strong-types-restricted′</a> <a id="12389" class="Symbol">:</a>
    <a id="12395" class="Symbol">{</a><a id="12396" href="Graded.Restrictions.html#12396" class="Bound">P</a> <a id="12398" class="Symbol">:</a> <a id="12400" href="Definition.Untyped.NotParametrised.html#1457" class="Datatype">BinderMode</a> <a id="12411" class="Symbol">→</a> <a id="12413" href="Graded.Restrictions.html#260" class="Bound">M</a> <a id="12415" class="Symbol">→</a> <a id="12417" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="12421" href="Graded.Restrictions.html#256" class="Bound">a</a><a id="12422" class="Symbol">}</a>
    <a id="12428" class="Symbol">{</a><a id="12429" href="Graded.Restrictions.html#12429" class="Bound">ok</a> <a id="12432" class="Symbol">:</a> <a id="12434" class="Symbol">∀</a> <a id="12436" class="Symbol">{</a><a id="12437" href="Graded.Restrictions.html#12437" class="Bound">s</a><a id="12438" class="Symbol">}</a> <a id="12440" class="Symbol">→</a> <a id="12442" href="Graded.Restrictions.html#12437" class="Bound">s</a> <a id="12444" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12446" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a> <a id="12448" class="Symbol">→</a> <a id="12450" href="Graded.Restrictions.html#12396" class="Bound">P</a> <a id="12452" class="Symbol">(</a><a id="12453" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="12457" href="Graded.Restrictions.html#12437" class="Bound">s</a><a id="12458" class="Symbol">)</a> <a id="12460" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="12461" class="Symbol">}</a> <a id="12463" class="Symbol">→</a>
    <a id="12469" class="Symbol">(∀</a> <a id="12472" href="Graded.Restrictions.html#12472" class="Bound">b</a> <a id="12474" href="Graded.Restrictions.html#12474" class="Bound">p</a> <a id="12476" class="Symbol">→</a> <a id="12478" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="12482" class="Symbol">(</a><a id="12483" href="Graded.Restrictions.html#12396" class="Bound">P</a> <a id="12485" href="Graded.Restrictions.html#12472" class="Bound">b</a> <a id="12487" href="Graded.Restrictions.html#12474" class="Bound">p</a><a id="12488" class="Symbol">))</a> <a id="12491" class="Symbol">→</a>
    <a id="12497" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12512" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="12515" class="Symbol">→</a>
    <a id="12521" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12536" class="Symbol">(</a><a id="12537" href="Graded.Restrictions.html#3265" class="Function">strong-types-restricted′</a> <a id="12562" href="Graded.Restrictions.html#12396" class="Bound">P</a> <a id="12564" href="Graded.Restrictions.html#12429" class="Bound">ok</a> <a id="12567" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="12569" class="Symbol">)</a>
  <a id="12573" href="Graded.Restrictions.html#12352" class="Function">Assumptions-strong-types-restricted′</a> <a id="12610" href="Graded.Restrictions.html#12610" class="Bound">P-dec</a> <a id="12616" href="Graded.Restrictions.html#12616" class="Bound">as</a> <a id="12619" class="Symbol">=</a> <a id="12621" class="Symbol">λ</a> <a id="12623" class="Keyword">where</a>
      <a id="12635" class="Symbol">.</a><a id="12636" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="12655" class="Symbol">→</a> <a id="12657" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="12669" class="Symbol">.</a><a id="12670" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="12684" href="Graded.Restrictions.html#12684" class="Bound">s</a>    <a id="12689" class="Symbol">→</a> <a id="12691" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a> <a id="12707" href="Graded.Restrictions.html#12684" class="Bound">s</a> <a id="12709" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="12715" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="12718" class="Symbol">(</a><a id="12719" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="12731" href="Graded.Restrictions.html#12684" class="Bound">s</a> <a id="12733" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="12734" class="Symbol">)</a>
      <a id="12742" class="Symbol">.</a><a id="12743" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="12755" href="Graded.Restrictions.html#12755" class="Bound">b</a> <a id="12757" href="Graded.Restrictions.html#12757" class="Bound">p</a> <a id="12759" href="Graded.Restrictions.html#12759" class="Bound">q</a>  <a id="12762" class="Symbol">→</a> <a id="12764" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="12778" href="Graded.Restrictions.html#12755" class="Bound">b</a> <a id="12780" href="Graded.Restrictions.html#12757" class="Bound">p</a> <a id="12782" href="Graded.Restrictions.html#12759" class="Bound">q</a>
                              <a id="12814" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="12848" href="Graded.Restrictions.html#12610" class="Bound">P-dec</a> <a id="12854" href="Graded.Restrictions.html#12755" class="Bound">b</a> <a id="12856" href="Graded.Restrictions.html#12757" class="Bound">p</a>
      <a id="12864" class="Symbol">.</a><a id="12865" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="12884" class="Symbol">→</a> <a id="12886" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="12905" class="Symbol">.</a><a id="12906" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="12923" href="Graded.Restrictions.html#12923" class="Bound">s</a> <a id="12925" class="Symbol">→</a> <a id="12927" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="12946" href="Graded.Restrictions.html#12923" class="Bound">s</a>
                              <a id="12978" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="13012" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="13015" class="Symbol">(</a><a id="13016" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="13028" href="Graded.Restrictions.html#12923" class="Bound">s</a> <a id="13030" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="13031" class="Symbol">)</a>
    <a id="13037" class="Keyword">where</a>
    <a id="13047" class="Keyword">module</a> <a id="13054" href="Graded.Restrictions.html#13054" class="Module">A</a> <a id="13056" class="Symbol">=</a> <a id="13058" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13073" href="Graded.Restrictions.html#12616" class="Bound">as</a>
    <a id="13080" class="Keyword">open</a> <a id="13085" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13101" class="Keyword">opaque</a>

  <a id="13111" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="13180" href="Graded.Restrictions.html#13180" class="Function">Assumptions-strong-types-restricted</a> <a id="13216" class="Symbol">:</a>
    <a id="13222" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13237" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="13240" class="Symbol">→</a> <a id="13242" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13257" class="Symbol">(</a><a id="13258" href="Graded.Restrictions.html#4054" class="Function">strong-types-restricted</a> <a id="13282" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="13284" class="Symbol">)</a>
  <a id="13288" href="Graded.Restrictions.html#13180" class="Function">Assumptions-strong-types-restricted</a> <a id="13324" href="Graded.Restrictions.html#13324" class="Bound">as</a> <a id="13327" class="Symbol">=</a>
    <a id="13333" href="Graded.Restrictions.html#12352" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="13376" class="Symbol">(λ</a> <a id="13379" href="Graded.Restrictions.html#13379" class="Bound">b</a> <a id="13381" href="Graded.Restrictions.html#13381" class="Bound">p</a> <a id="13383" class="Symbol">→</a> <a id="13385" href="Definition.Untyped.Properties.NotParametrised.html#4381" class="Function">decBinderMode</a> <a id="13399" href="Graded.Restrictions.html#13379" class="Bound">b</a> <a id="13401" class="Symbol">(</a><a id="13402" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="13406" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="13407" class="Symbol">)</a> <a id="13409" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="13415" href="Graded.Restrictions.html#13381" class="Bound">p</a> <a id="13417" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">≟</a> <a id="13419" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="13420" class="Symbol">)</a>
      <a id="13428" href="Graded.Restrictions.html#13324" class="Bound">as</a>
    <a id="13435" class="Keyword">where</a>
    <a id="13445" class="Keyword">open</a> <a id="13450" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13465" href="Graded.Restrictions.html#13324" class="Bound">as</a>

<a id="13469" class="Keyword">opaque</a>

  <a id="13479" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="13540" href="Graded.Restrictions.html#13540" class="Function">Assumptions-no-strong-types</a> <a id="13568" class="Symbol">:</a>
    <a id="13574" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13589" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="13592" class="Symbol">→</a> <a id="13594" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13609" class="Symbol">(</a><a id="13610" href="Graded.Restrictions.html#4426" class="Function">no-strong-types</a> <a id="13626" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="13628" class="Symbol">)</a>
  <a id="13632" href="Graded.Restrictions.html#13540" class="Function">Assumptions-no-strong-types</a> <a id="13660" href="Graded.Restrictions.html#13660" class="Bound">as</a> <a id="13663" class="Symbol">=</a>
    <a id="13669" href="Graded.Restrictions.html#12352" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="13712" class="Symbol">(λ</a> <a id="13715" href="Graded.Restrictions.html#13715" class="Bound">b</a> <a id="13717" href="Graded.Restrictions.html#13717" class="Bound">_</a> <a id="13719" class="Symbol">→</a> <a id="13721" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="13729" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="13734" href="Level.html#479" class="Field">Lift.lower</a> <a id="13745" class="Symbol">(</a><a id="13746" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="13749" class="Symbol">(</a><a id="13750" href="Definition.Untyped.Properties.NotParametrised.html#4381" class="Function">decBinderMode</a> <a id="13764" href="Graded.Restrictions.html#13715" class="Bound">b</a> <a id="13766" class="Symbol">(</a><a id="13767" href="Definition.Untyped.NotParametrised.html#1501" class="InductiveConstructor">BMΣ</a> <a id="13771" href="Definition.Untyped.NotParametrised.html#1417" class="InductiveConstructor">𝕤</a><a id="13772" class="Symbol">))))</a>
      <a id="13783" href="Graded.Restrictions.html#13660" class="Bound">as</a>
    <a id="13790" class="Keyword">where</a>
    <a id="13800" class="Keyword">open</a> <a id="13805" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13820" href="Graded.Restrictions.html#13660" class="Bound">as</a>

<a id="13824" class="Keyword">opaque</a>

  <a id="13834" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="13902" href="Graded.Restrictions.html#13902" class="Function">Assumptions-no-erased-matches-TR</a> <a id="13935" class="Symbol">:</a>
    <a id="13941" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13956" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a> <a id="13959" class="Symbol">→</a> <a id="13961" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13976" class="Symbol">(</a><a id="13977" href="Graded.Restrictions.html#4712" class="Function">no-erased-matches-TR</a> <a id="13998" href="Graded.Restrictions.html#1130" class="Generalizable">s</a> <a id="14000" href="Graded.Restrictions.html#1056" class="Generalizable">TR</a><a id="14002" class="Symbol">)</a>
  <a id="14006" href="Graded.Restrictions.html#13902" class="Function">Assumptions-no-erased-matches-TR</a> <a id="14039" class="Symbol">{</a><a id="14040" href="Graded.Restrictions.html#14040" class="Bound">s</a><a id="14041" class="Symbol">}</a> <a id="14043" href="Graded.Restrictions.html#14043" class="Bound">as</a> <a id="14046" class="Symbol">=</a> <a id="14048" class="Symbol">λ</a> <a id="14050" class="Keyword">where</a>
      <a id="14062" class="Symbol">.</a><a id="14063" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                 <a id="14083" class="Symbol">→</a> <a id="14085" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14097" class="Symbol">.</a><a id="14098" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>       <a id="14118" class="Symbol">→</a> <a id="14120" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14142" class="Symbol">.</a><a id="14143" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a>         <a id="14163" class="Symbol">→</a> <a id="14165" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a>
      <a id="14185" class="Symbol">.</a><a id="14186" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>          <a id="14206" class="Symbol">→</a> <a id="14208" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14227" class="Symbol">.</a><a id="14228" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="14245" href="Graded.Restrictions.html#14245" class="Bound">s′</a> <a id="14248" class="Symbol">→</a> <a id="14250" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="14269" href="Graded.Restrictions.html#14245" class="Bound">s′</a>
                               <a id="14303" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                             <a id="14338" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="14341" class="Symbol">(</a><a id="14342" href="Definition.Untyped.Properties.NotParametrised.html#4183" class="Function">decStrength</a> <a id="14354" href="Graded.Restrictions.html#14245" class="Bound">s′</a> <a id="14357" href="Graded.Restrictions.html#14040" class="Bound">s</a><a id="14358" class="Symbol">)</a>
    <a id="14364" class="Keyword">where</a>
    <a id="14374" class="Keyword">module</a> <a id="14381" href="Graded.Restrictions.html#14381" class="Module">A</a> <a id="14383" class="Symbol">=</a> <a id="14385" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14400" href="Graded.Restrictions.html#14043" class="Bound">as</a>
    <a id="14407" class="Keyword">open</a> <a id="14412" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14428" class="Comment">------------------------------------------------------------------------</a>
<a id="14501" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="14543" class="Keyword">opaque</a>

  <a id="14553" class="Comment">-- If grade equality is decidable and the modality comes with a</a>
  <a id="14619" class="Comment">-- dedicated nr function, then UD.Assumptions holds for</a>
  <a id="14677" class="Comment">-- no-usage-restrictions b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="14714" href="Graded.Restrictions.html#14714" class="Function">Assumptions-no-usage-restrictions</a> <a id="14748" class="Symbol">:</a>
    <a id="14754" class="Symbol">⦃</a> <a id="14756" href="Graded.Restrictions.html#14756" class="Bound">has-nr</a> <a id="14763" class="Symbol">:</a> <a id="14765" href="Graded.Modality.Dedicated-nr.html#716" class="Record">Dedicated-nr</a> <a id="14778" class="Symbol">⦄</a> <a id="14780" class="Symbol">→</a>
    <a id="14786" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="14796" class="Symbol">(</a><a id="14797" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="14801" class="Symbol">{</a><a id="14802" class="Argument">A</a> <a id="14804" class="Symbol">=</a> <a id="14806" href="Graded.Restrictions.html#260" class="Bound">M</a><a id="14807" class="Symbol">})</a> <a id="14810" class="Symbol">→</a>
    <a id="14816" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="14831" class="Symbol">(</a><a id="14832" href="Graded.Restrictions.html#5360" class="Function">no-usage-restrictions</a> <a id="14854" href="Graded.Restrictions.html#1107" class="Generalizable">b</a> <a id="14856" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="14861" class="Symbol">)</a>
  <a id="14865" href="Graded.Restrictions.html#14714" class="Function">Assumptions-no-usage-restrictions</a> <a id="14899" href="Graded.Restrictions.html#14899" class="Bound">dec</a> <a id="14903" class="Symbol">=</a> <a id="14905" class="Symbol">λ</a> <a id="14907" class="Keyword">where</a>
      <a id="14919" class="Symbol">.</a><a id="14920" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="14945" class="Symbol">→</a> <a id="14947" href="Graded.Restrictions.html#14899" class="Bound">dec</a>
      <a id="14957" class="Symbol">.</a><a id="14958" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="14975" class="Symbol">_</a> <a id="14977" class="Symbol">_</a> <a id="14979" class="Symbol">_</a> <a id="14981" class="Symbol">_</a> <a id="14983" class="Symbol">→</a> <a id="14985" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="14989" class="Symbol">_</a>
      <a id="14997" class="Symbol">.</a><a id="14998" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="15016" class="Symbol">_</a> <a id="15018" class="Symbol">_</a> <a id="15020" class="Symbol">_</a>  <a id="15023" class="Symbol">→</a> <a id="15025" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="15029" class="Symbol">_</a>
      <a id="15037" class="Symbol">.</a><a id="15038" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="15056" class="Symbol">_</a> <a id="15058" class="Symbol">_</a>    <a id="15063" class="Symbol">→</a> <a id="15065" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="15069" class="Symbol">_</a>
    <a id="15075" class="Keyword">where</a>
    <a id="15085" class="Keyword">open</a> <a id="15090" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="15106" class="Keyword">opaque</a>

  <a id="15116" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="15187" href="Graded.Restrictions.html#15187" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="15225" class="Symbol">:</a>
    <a id="15231" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15246" href="Graded.Restrictions.html#1081" class="Generalizable">UR</a> <a id="15249" class="Symbol">→</a> <a id="15251" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15266" class="Symbol">(</a><a id="15267" href="Graded.Restrictions.html#6538" class="Function">not-all-erased-matches-JK</a> <a id="15293" href="Graded.Restrictions.html#1081" class="Generalizable">UR</a><a id="15295" class="Symbol">)</a>
  <a id="15299" href="Graded.Restrictions.html#15187" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="15337" href="Graded.Restrictions.html#15337" class="Bound">as</a> <a id="15340" class="Symbol">=</a> <a id="15342" class="Symbol">λ</a> <a id="15344" class="Keyword">where</a>
      <a id="15356" class="Symbol">.</a><a id="15357" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>               <a id="15375" class="Symbol">→</a> <a id="15377" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="15389" class="Symbol">.</a><a id="15390" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>  <a id="15408" class="Symbol">→</a> <a id="15410" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a>
      <a id="15435" class="Symbol">.</a><a id="15436" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="15454" class="Symbol">→</a> <a id="15456" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="15481" class="Symbol">.</a><a id="15482" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="15500" class="Symbol">→</a> <a id="15502" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="15526" class="Keyword">where</a>
    <a id="15536" class="Keyword">module</a> <a id="15543" href="Graded.Restrictions.html#15543" class="Module">A</a> <a id="15545" class="Symbol">=</a> <a id="15547" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="15562" href="Graded.Restrictions.html#15337" class="Bound">as</a>
    <a id="15569" class="Keyword">open</a> <a id="15574" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="15590" class="Keyword">opaque</a>

  <a id="15600" class="Comment">-- The function no-erased-matches-UR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="15666" href="Graded.Restrictions.html#15666" class="Function">Assumptions-no-erased-matches-UR</a> <a id="15699" class="Symbol">:</a>
    <a id="15705" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15720" href="Graded.Restrictions.html#1081" class="Generalizable">UR</a> <a id="15723" class="Symbol">→</a> <a id="15725" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="15740" class="Symbol">(</a><a id="15741" href="Graded.Restrictions.html#7544" class="Function">no-erased-matches-UR</a> <a id="15762" href="Graded.Restrictions.html#1081" class="Generalizable">UR</a><a id="15764" class="Symbol">)</a>
  <a id="15768" href="Graded.Restrictions.html#15666" class="Function">Assumptions-no-erased-matches-UR</a> <a id="15801" href="Graded.Restrictions.html#15801" class="Bound">as</a> <a id="15804" class="Symbol">=</a> <a id="15806" class="Symbol">λ</a> <a id="15808" class="Keyword">where</a>
      <a id="15820" class="Symbol">.</a><a id="15821" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="15846" class="Symbol">→</a> <a id="15848" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="15860" class="Symbol">.</a><a id="15861" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="15878" href="Graded.Restrictions.html#15878" class="Bound">m</a> <a id="15880" href="Graded.Restrictions.html#15880" class="Bound">r</a> <a id="15882" href="Graded.Restrictions.html#15882" class="Bound">p</a> <a id="15884" href="Graded.Restrictions.html#15884" class="Bound">q</a> <a id="15886" class="Symbol">→</a> <a id="15888" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a> <a id="15907" href="Graded.Restrictions.html#15878" class="Bound">m</a> <a id="15909" href="Graded.Restrictions.html#15880" class="Bound">r</a> <a id="15911" href="Graded.Restrictions.html#15882" class="Bound">p</a> <a id="15913" href="Graded.Restrictions.html#15884" class="Bound">q</a>
                                    <a id="15951" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="15991" class="Symbol">(</a><a id="15992" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="15995" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="16041" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16082" href="Graded.Restrictions.html#15878" class="Bound">m</a> <a id="16084" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="16091" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="16131" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16172" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16175" class="Symbol">(</a><a id="16176" href="Graded.Restrictions.html#15880" class="Bound">r</a> <a id="16178" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="16182" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="16183" class="Symbol">))</a>
      <a id="16192" class="Symbol">.</a><a id="16193" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a> <a id="16210" href="Graded.Restrictions.html#16210" class="Bound">m</a> <a id="16212" href="Graded.Restrictions.html#16212" class="Bound">p</a> <a id="16214" href="Graded.Restrictions.html#16214" class="Bound">q</a>   <a id="16218" class="Symbol">→</a> <a id="16220" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a> <a id="16239" href="Graded.Restrictions.html#16210" class="Bound">m</a> <a id="16241" href="Graded.Restrictions.html#16212" class="Bound">p</a> <a id="16243" href="Graded.Restrictions.html#16214" class="Bound">q</a>
                                    <a id="16281" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="16321" class="Symbol">(</a><a id="16322" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16325" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="16371" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16412" href="Graded.Restrictions.html#16210" class="Bound">m</a> <a id="16414" href="Graded.Mode.html#5569" class="Function Operator">Mode.≟</a> <a id="16421" href="Graded.Mode.html#1117" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="16461" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="16502" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16505" class="Symbol">(</a><a id="16506" href="Graded.Restrictions.html#16212" class="Bound">p</a> <a id="16508" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="16512" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="16513" class="Symbol">))</a>
      <a id="16522" class="Symbol">.</a><a id="16523" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>        <a id="16548" class="Symbol">→</a> <a id="16550" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="16574" class="Keyword">where</a>
    <a id="16584" class="Keyword">module</a> <a id="16591" href="Graded.Restrictions.html#16591" class="Module">A</a> <a id="16593" class="Symbol">=</a> <a id="16595" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="16610" href="Graded.Restrictions.html#15801" class="Bound">as</a>
    <a id="16617" class="Keyword">open</a> <a id="16622" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>
</pre></body></html>