<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Application.NegativeAxioms.NegativeContext</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Negative contexts (contexts containing only negative types).</a>
<a id="138" class="Comment">------------------------------------------------------------------------</a>

<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="283" class="Keyword">module</a> <a id="290" href="Application.NegativeAxioms.NegativeContext.html" class="Module">Application.NegativeAxioms.NegativeContext</a>
  <a id="335" class="Symbol">{</a><a id="336" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a><a id="337" class="Symbol">}</a> <a id="339" class="Symbol">{</a><a id="340" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a> <a id="342" class="Symbol">:</a> <a id="344" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="348" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a><a id="349" class="Symbol">}</a>
  <a id="353" class="Symbol">{</a><a id="354" href="Application.NegativeAxioms.NegativeContext.html#354" class="Bound">𝕄</a> <a id="356" class="Symbol">:</a> <a id="358" href="Graded.Modality.html#8202" class="Record">Modality</a> <a id="367" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a><a id="368" class="Symbol">}</a>
  <a id="372" class="Symbol">(</a><a id="373" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a> <a id="375" class="Symbol">:</a> <a id="377" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="395" href="Application.NegativeAxioms.NegativeContext.html#354" class="Bound">𝕄</a><a id="396" class="Symbol">)</a>
  <a id="400" class="Keyword">where</a>

<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="438" href="Application.NegativeAxioms.NegativeContext.html#340" class="Bound">M</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="469" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="511" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Definition.Typed.Weakening.html" class="Module">Definition.Typed.Weakening</a> <a id="552" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Application.NegativeAxioms.NegativeType.html" class="Module">Application.NegativeAxioms.NegativeType</a> <a id="606" href="Application.NegativeAxioms.NegativeContext.html#373" class="Bound">R</a>

<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="654" class="Keyword">private</a>
  <a id="Ctx"></a><a id="664" href="Application.NegativeAxioms.NegativeContext.html#664" class="Function">Ctx</a> <a id="668" class="Symbol">=</a> <a id="670" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="674" href="Definition.Untyped.html#1181" class="Datatype">Term</a>
  <a id="681" class="Keyword">variable</a>
    <a id="694" href="Application.NegativeAxioms.NegativeContext.html#694" class="Generalizable">m</a> <a id="696" class="Symbol">:</a> <a id="698" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="706" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="708" class="Symbol">:</a> <a id="710" href="Application.NegativeAxioms.NegativeContext.html#664" class="Function">Ctx</a> <a id="714" href="Application.NegativeAxioms.NegativeContext.html#694" class="Generalizable">m</a>
    <a id="720" href="Application.NegativeAxioms.NegativeContext.html#720" class="Generalizable">A</a> <a id="722" class="Symbol">:</a> <a id="724" href="Definition.Untyped.html#1181" class="Datatype">Term</a> <a id="729" href="Application.NegativeAxioms.NegativeContext.html#694" class="Generalizable">m</a>
    <a id="735" href="Application.NegativeAxioms.NegativeContext.html#735" class="Generalizable">x</a> <a id="737" class="Symbol">:</a> <a id="739" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="743" href="Application.NegativeAxioms.NegativeContext.html#694" class="Generalizable">m</a>

<a id="746" class="Comment">-- Negative contexts</a>
<a id="767" class="Comment">---------------------------------------------------------------------------</a>

<a id="844" class="Comment">-- A context is negative if all of its type entries are negative.</a>

<a id="911" class="Keyword">data</a> <a id="NegativeContext"></a><a id="916" href="Application.NegativeAxioms.NegativeContext.html#916" class="Datatype">NegativeContext</a> <a id="932" class="Symbol">:</a> <a id="934" href="Application.NegativeAxioms.NegativeContext.html#664" class="Function">Ctx</a> <a id="938" href="Application.NegativeAxioms.NegativeContext.html#694" class="Generalizable">m</a> <a id="940" class="Symbol">→</a> <a id="942" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="946" href="Application.NegativeAxioms.NegativeContext.html#336" class="Bound">a</a> <a id="948" class="Keyword">where</a>
  <a id="NegativeContext.ε"></a><a id="956" href="Application.NegativeAxioms.NegativeContext.html#956" class="InductiveConstructor">ε</a>   <a id="960" class="Symbol">:</a> <a id="962" href="Application.NegativeAxioms.NegativeContext.html#916" class="Datatype">NegativeContext</a> <a id="978" href="Definition.Untyped.NotParametrised.html#926" class="InductiveConstructor">ε</a>
  <a id="NegativeContext._∙_"></a><a id="982" href="Application.NegativeAxioms.NegativeContext.html#982" class="InductiveConstructor Operator">_∙_</a> <a id="986" class="Symbol">:</a> <a id="988" href="Application.NegativeAxioms.NegativeContext.html#916" class="Datatype">NegativeContext</a> <a id="1004" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1006" class="Symbol">→</a> <a id="1008" href="Application.NegativeAxioms.NegativeType.html#1369" class="Datatype">NegativeType</a> <a id="1021" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1023" href="Application.NegativeAxioms.NegativeContext.html#720" class="Generalizable">A</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="Application.NegativeAxioms.NegativeContext.html#916" class="Datatype">NegativeContext</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1046" href="Definition.Untyped.NotParametrised.html#995" class="InductiveConstructor Operator">∙</a> <a id="1048" href="Application.NegativeAxioms.NegativeContext.html#720" class="Generalizable">A</a><a id="1049" class="Symbol">)</a>

<a id="1052" class="Comment">-- Lemma: Any entry in negative context is a negative type (needs weakening).</a>

<a id="lookupNegative"></a><a id="1131" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Function">lookupNegative</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Definition.Typed.html#1164" class="Datatype Operator">⊢</a> <a id="1150" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Application.NegativeAxioms.NegativeContext.html#916" class="Datatype">NegativeContext</a> <a id="1170" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1172" class="Symbol">→</a> <a id="1174" class="Symbol">(</a><a id="1175" href="Application.NegativeAxioms.NegativeContext.html#735" class="Generalizable">x</a> <a id="1177" href="Definition.Typed.html#969" class="Datatype Operator">∷</a> <a id="1179" href="Application.NegativeAxioms.NegativeContext.html#720" class="Generalizable">A</a> <a id="1181" href="Definition.Typed.html#969" class="Datatype Operator">∈</a> <a id="1183" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a><a id="1184" class="Symbol">)</a> <a id="1186" class="Symbol">→</a> <a id="1188" href="Application.NegativeAxioms.NegativeType.html#1369" class="Datatype">NegativeType</a> <a id="1201" href="Application.NegativeAxioms.NegativeContext.html#706" class="Generalizable">Γ</a> <a id="1203" href="Application.NegativeAxioms.NegativeContext.html#720" class="Generalizable">A</a>
<a id="1205" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Function">lookupNegative</a> <a id="1220" class="Symbol">(</a><a id="1221" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="1223" href="Application.NegativeAxioms.NegativeContext.html#1223" class="Bound">⊢A</a><a id="1225" class="Symbol">)</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Application.NegativeAxioms.NegativeContext.html#1228" class="Bound">nΓ</a> <a id="1231" href="Application.NegativeAxioms.NegativeContext.html#982" class="InductiveConstructor Operator">∙</a> <a id="1233" href="Application.NegativeAxioms.NegativeContext.html#1233" class="Bound">nA</a><a id="1235" class="Symbol">)</a> <a id="1237" href="Definition.Typed.html#1035" class="InductiveConstructor">here</a>
  <a id="1244" class="Symbol">=</a> <a id="1246" href="Application.NegativeAxioms.NegativeType.html#1826" class="Function">wkNeg</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Definition.Typed.Weakening.html#3033" class="Function">stepʷ</a> <a id="1259" href="Definition.Typed.Weakening.html#1348" class="InductiveConstructor">id</a> <a id="1262" href="Application.NegativeAxioms.NegativeContext.html#1223" class="Bound">⊢A</a><a id="1264" class="Symbol">)</a> <a id="1266" href="Application.NegativeAxioms.NegativeContext.html#1233" class="Bound">nA</a>
<a id="1269" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Function">lookupNegative</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Definition.Typed.html#1211" class="InductiveConstructor Operator">∙</a> <a id="1287" href="Application.NegativeAxioms.NegativeContext.html#1287" class="Bound">⊢A</a><a id="1289" class="Symbol">)</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Application.NegativeAxioms.NegativeContext.html#1292" class="Bound">nΓ</a> <a id="1295" href="Application.NegativeAxioms.NegativeContext.html#982" class="InductiveConstructor Operator">∙</a> <a id="1297" href="Application.NegativeAxioms.NegativeContext.html#1297" class="Bound">nA</a><a id="1299" class="Symbol">)</a> <a id="1301" class="Symbol">(</a><a id="1302" href="Definition.Typed.html#1080" class="InductiveConstructor">there</a> <a id="1308" href="Application.NegativeAxioms.NegativeContext.html#1308" class="Bound">h</a><a id="1309" class="Symbol">)</a>
  <a id="1313" class="Symbol">=</a> <a id="1315" href="Application.NegativeAxioms.NegativeType.html#1826" class="Function">wkNeg</a> <a id="1321" class="Symbol">(</a><a id="1322" href="Definition.Typed.Weakening.html#3033" class="Function">stepʷ</a> <a id="1328" href="Definition.Typed.Weakening.html#1348" class="InductiveConstructor">id</a> <a id="1331" href="Application.NegativeAxioms.NegativeContext.html#1287" class="Bound">⊢A</a><a id="1333" class="Symbol">)</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Application.NegativeAxioms.NegativeContext.html#1131" class="Function">lookupNegative</a> <a id="1351" class="Symbol">(</a><a id="1352" href="Definition.Typed.Properties.Well-formed.html#10537" class="Function">wf</a> <a id="1355" href="Application.NegativeAxioms.NegativeContext.html#1287" class="Bound">⊢A</a><a id="1357" class="Symbol">)</a> <a id="1359" href="Application.NegativeAxioms.NegativeContext.html#1292" class="Bound">nΓ</a> <a id="1362" href="Application.NegativeAxioms.NegativeContext.html#1308" class="Bound">h</a><a id="1363" class="Symbol">)</a>
</pre></body></html>