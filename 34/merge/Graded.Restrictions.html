<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Restrictions</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Definitions related to type and usage restrictions</a>
<a id="128" class="Comment">------------------------------------------------------------------------</a>

<a id="202" class="Symbol">{-#</a> <a id="206" class="Keyword">OPTIONS</a> <a id="214" class="Pragma">--hidden-argument-puns</a> <a id="237" class="Symbol">#-}</a>

<a id="242" class="Keyword">import</a> <a id="249" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="266" class="Keyword">module</a> <a id="273" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a>
  <a id="295" class="Symbol">{</a><a id="296" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="297" class="Symbol">}</a> <a id="299" class="Symbol">{</a><a id="300" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="302" class="Symbol">:</a> <a id="304" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="308" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="309" class="Symbol">}</a>
  <a id="313" class="Symbol">(</a><a id="314" class="Keyword">open</a> <a id="319" href="Graded.Modality.html" class="Module">Graded.Modality</a> <a id="335" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="336" class="Symbol">)</a>
  <a id="340" class="Symbol">(</a><a id="341" href="Graded.Restrictions.html#341" class="Bound">𝕄</a> <a id="343" class="Symbol">:</a> <a id="345" href="Graded.Modality.html#7187" class="Record">Modality</a><a id="353" class="Symbol">)</a>
  <a id="357" class="Keyword">where</a>

<a id="364" class="Keyword">open</a> <a id="369" href="Graded.Modality.html#7187" class="Module">Modality</a> <a id="378" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>

<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="479" class="Keyword">open</a> <a id="484" class="Keyword">import</a> <a id="491" href="Tools.Product.html" class="Module">Tools.Product</a> <a id="505" class="Symbol">as</a> <a id="508" class="Module">Σ</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Tools.Relation.html" class="Module">Tools.Relation</a> <a id="577" class="Symbol">as</a> <a id="580" class="Module">Dec</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Graded.Modality.Dedicated-nr.html" class="Module">Graded.Modality.Dedicated-nr</a> <a id="649" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Graded.Modality.Properties.html" class="Module">Graded.Modality.Properties</a> <a id="690" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="716" href="Graded.Restrictions.html#341" class="Bound">𝕄</a> as <a id="Mode"></a><a id="721" href="Graded.Restrictions.html#721" class="Module">Mode</a> <a id="726" class="Keyword">hiding</a> <a id="733" class="Symbol">(</a><a id="734" href="Graded.Mode.html#5609" class="Function Operator">_≟_</a><a id="737" class="Symbol">)</a>
<a id="739" class="Keyword">import</a> <a id="746" href="Graded.Usage.Decidable.Assumptions.html" class="Module">Graded.Usage.Decidable.Assumptions</a> <a id="781" class="Symbol">as</a> <a id="784" class="Module">UD</a>
<a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Graded.Usage.Erased-matches.html" class="Module">Graded.Usage.Erased-matches</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a> <a id="865" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>

<a id="868" class="Keyword">import</a> <a id="875" href="Definition.Typechecking.Decidable.Assumptions.html" class="Module">Definition.Typechecking.Decidable.Assumptions</a> <a id="921" class="Symbol">as</a> <a id="924" class="Module">TD</a>
<a id="927" class="Keyword">open</a> <a id="932" class="Keyword">import</a> <a id="939" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="969" href="Graded.Restrictions.html#341" class="Bound">𝕄</a>
<a id="971" class="Keyword">open</a> <a id="976" class="Keyword">import</a> <a id="983" href="Definition.Typed.Variant.html" class="Module">Definition.Typed.Variant</a>
<a id="1008" class="Keyword">open</a> <a id="1013" class="Keyword">import</a> <a id="1020" href="Definition.Untyped.NotParametrised.html" class="Module">Definition.Untyped.NotParametrised</a>
<a id="1055" class="Keyword">open</a> <a id="1060" class="Keyword">import</a> <a id="1067" href="Definition.Untyped.Properties.NotParametrised.html" class="Module">Definition.Untyped.Properties.NotParametrised</a>

<a id="1114" class="Keyword">private</a> <a id="1122" class="Keyword">variable</a>
  <a id="1133" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
  <a id="1158" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
  <a id="1184" href="Graded.Restrictions.html#1184" class="Generalizable">b</a>  <a id="1187" class="Symbol">:</a> <a id="1189" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="1196" href="Graded.Restrictions.html#1196" class="Generalizable">ok</a> <a id="1199" class="Symbol">:</a> <a id="1201" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1203" class="Symbol">_</a>
  <a id="1207" href="Graded.Restrictions.html#1207" class="Generalizable">s</a>  <a id="1210" class="Symbol">:</a> <a id="1212" href="Definition.Untyped.NotParametrised.html#1514" class="Datatype">Strength</a>

<a id="1222" class="Comment">------------------------------------------------------------------------</a>
<a id="1295" class="Comment">-- Functions that construct Type-restrictions</a>

<a id="1342" class="Comment">-- No type restrictions except that</a>
<a id="1378" class="Comment">-- * if the modality is trivial, then []-cong is not allowed,</a>
<a id="1440" class="Comment">-- * the K rule is allowed if and only if the boolean is true, and</a>
<a id="1507" class="Comment">-- * η-equality is not allowed for the weak unit type.</a>

<a id="no-type-restrictions"></a><a id="1563" href="Graded.Restrictions.html#1563" class="Function">no-type-restrictions</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1591" class="Symbol">→</a> <a id="1593" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="1611" href="Graded.Restrictions.html#1563" class="Function">no-type-restrictions</a> <a id="1632" href="Graded.Restrictions.html#1632" class="Bound">allowed</a> <a id="1640" class="Symbol">=</a> <a id="1642" class="Symbol">λ</a> <a id="1644" class="Keyword">where</a>
    <a id="1654" class="Symbol">.</a><a id="1655" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a>     <a id="1672" class="Symbol">→</a> <a id="1674" class="Symbol">λ</a> <a id="1676" href="Graded.Restrictions.html#1676" class="Bound">_</a> <a id="1678" class="Symbol">→</a> <a id="1680" href="Level.html#409" class="Record">Lift</a> <a id="1685" class="Symbol">_</a> <a id="1687" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1693" class="Symbol">.</a><a id="1694" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>       <a id="1711" class="Symbol">→</a> <a id="1713" class="Symbol">λ</a> <a id="1715" href="Graded.Restrictions.html#1715" class="Bound">_</a> <a id="1717" href="Graded.Restrictions.html#1717" class="Bound">_</a> <a id="1719" href="Graded.Restrictions.html#1719" class="Bound">_</a> <a id="1721" class="Symbol">→</a> <a id="1723" href="Level.html#409" class="Record">Lift</a> <a id="1728" class="Symbol">_</a> <a id="1730" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1736" class="Symbol">.</a><a id="1737" href="Definition.Typed.Restrictions.html#2276" class="Field">K-allowed</a>        <a id="1754" class="Symbol">→</a> <a id="1756" href="Level.html#409" class="Record">Lift</a> <a id="1761" class="Symbol">_</a> <a id="1763" class="Symbol">(</a><a id="1764" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="1766" href="Graded.Restrictions.html#1632" class="Bound">allowed</a><a id="1773" class="Symbol">)</a>
    <a id="1779" class="Symbol">.</a><a id="1780" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a>  <a id="1797" class="Symbol">→</a> <a id="1799" class="Symbol">λ</a> <a id="1801" href="Graded.Restrictions.html#1801" class="Bound">_</a> <a id="1803" class="Symbol">→</a> <a id="1805" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="1807" href="Graded.Modality.html#1927" class="Function">Trivial</a>
    <a id="1819" class="Symbol">.</a><a id="1820" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a>   <a id="1837" class="Symbol">→</a> <a id="1839" class="Symbol">_</a>
    <a id="1845" class="Symbol">.</a><a id="1846" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="1863" class="Symbol">→</a> <a id="1865" href="Function.Base.html#704" class="Function">idᶠ</a>
    <a id="1873" class="Symbol">.</a><a id="1874" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>     <a id="1891" class="Symbol">→</a> <a id="1893" class="Symbol">λ</a> <a id="1895" class="Keyword">where</a>
      <a id="1907" class="Symbol">.</a><a id="1908" href="Definition.Typed.Variant.html#719" class="Field">Type-variant.η-for-Unitʷ</a> <a id="1933" class="Symbol">→</a> <a id="1935" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="1943" class="Keyword">where</a>
  <a id="1951" class="Keyword">open</a> <a id="1956" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a>

<a id="1975" class="Comment">-- The function adds the restriction that the two quantities on a Π-</a>
<a id="2044" class="Comment">-- or Σ-type have to be equal.</a>

<a id="equal-binder-quantities"></a><a id="2076" href="Graded.Restrictions.html#2076" class="Function">equal-binder-quantities</a> <a id="2100" class="Symbol">:</a> <a id="2102" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2120" class="Symbol">→</a> <a id="2122" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2140" href="Graded.Restrictions.html#2076" class="Function">equal-binder-quantities</a> <a id="2164" href="Graded.Restrictions.html#2164" class="Bound">R</a> <a id="2166" class="Symbol">=</a> <a id="2168" class="Keyword">record</a> <a id="2175" href="Graded.Restrictions.html#2164" class="Bound">R</a>
  <a id="2179" class="Symbol">{</a> <a id="2181" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2196" class="Symbol">=</a> <a id="2198" class="Symbol">λ</a> <a id="2200" href="Graded.Restrictions.html#2200" class="Bound">b</a> <a id="2202" href="Graded.Restrictions.html#2202" class="Bound">p</a> <a id="2204" href="Graded.Restrictions.html#2204" class="Bound">q</a> <a id="2206" class="Symbol">→</a> <a id="2208" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2219" href="Graded.Restrictions.html#2200" class="Bound">b</a> <a id="2221" href="Graded.Restrictions.html#2202" class="Bound">p</a> <a id="2223" href="Graded.Restrictions.html#2204" class="Bound">q</a> <a id="2225" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2227" href="Graded.Restrictions.html#2202" class="Bound">p</a> <a id="2229" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2231" href="Graded.Restrictions.html#2204" class="Bound">q</a>
  <a id="2235" class="Symbol">;</a> <a id="2237" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2252" class="Symbol">=</a> <a id="2254" class="Symbol">λ</a> <a id="2256" href="Graded.Restrictions.html#2256" class="Bound">ok</a> <a id="2259" class="Symbol">→</a>
      <a id="2267" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2282" href="Graded.Restrictions.html#2256" class="Bound">ok</a> <a id="2285" class="Symbol">.</a><a id="2286" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2294" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2309" href="Graded.Restrictions.html#2256" class="Bound">ok</a> <a id="2312" class="Symbol">.</a><a id="2313" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2321" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2328" class="Symbol">}</a>
  <a id="2332" class="Keyword">where</a>
  <a id="2340" class="Keyword">open</a> <a id="2345" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2363" href="Graded.Restrictions.html#2164" class="Bound">R</a>

<a id="2366" class="Comment">-- The function adds the restriction that the second quantities</a>
<a id="2430" class="Comment">-- associated with Π- and Σ-types are equal to 𝟘.</a>

<a id="second-ΠΣ-quantities-𝟘"></a><a id="2481" href="Graded.Restrictions.html#2481" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2504" class="Symbol">:</a>
  <a id="2508" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="2526" class="Symbol">→</a> <a id="2528" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="2546" href="Graded.Restrictions.html#2481" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="2569" href="Graded.Restrictions.html#2569" class="Bound">R</a> <a id="2571" class="Symbol">=</a> <a id="2573" class="Keyword">record</a> <a id="2580" href="Graded.Restrictions.html#2569" class="Bound">R</a>
  <a id="2584" class="Symbol">{</a> <a id="2586" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a>     <a id="2601" class="Symbol">=</a> <a id="2603" class="Symbol">λ</a> <a id="2605" href="Graded.Restrictions.html#2605" class="Bound">b</a> <a id="2607" href="Graded.Restrictions.html#2607" class="Bound">p</a> <a id="2609" href="Graded.Restrictions.html#2609" class="Bound">q</a> <a id="2611" class="Symbol">→</a> <a id="2613" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="2624" href="Graded.Restrictions.html#2605" class="Bound">b</a> <a id="2626" href="Graded.Restrictions.html#2607" class="Bound">p</a> <a id="2628" href="Graded.Restrictions.html#2609" class="Bound">q</a> <a id="2630" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2632" href="Graded.Restrictions.html#2609" class="Bound">q</a> <a id="2634" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2636" href="Graded.Modality.html#847" class="Function">𝟘</a>
  <a id="2640" class="Symbol">;</a> <a id="2642" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2657" class="Symbol">=</a> <a id="2659" class="Symbol">λ</a> <a id="2661" href="Graded.Restrictions.html#2661" class="Bound">ok</a> <a id="2664" class="Symbol">→</a>
      <a id="2672" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2687" href="Graded.Restrictions.html#2661" class="Bound">ok</a> <a id="2690" class="Symbol">.</a><a id="2691" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2699" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="2714" href="Graded.Restrictions.html#2661" class="Bound">ok</a> <a id="2717" class="Symbol">.</a><a id="2718" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2726" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2733" class="Symbol">}</a>
  <a id="2737" class="Keyword">where</a>
  <a id="2745" class="Keyword">open</a> <a id="2750" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="2768" href="Graded.Restrictions.html#2569" class="Bound">R</a>

<a id="2771" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω 𝕄 adds the restriction</a>
<a id="2838" class="Comment">-- that if the first quantity associated with a Π- or Σ-type is the ω</a>
<a id="2908" class="Comment">-- grade of 𝕄, then the second quantity is also ω, and if the first</a>
<a id="2976" class="Comment">-- quantity is not ω, then the second quantity is the 𝟘 of 𝕄.</a>

<a id="second-ΠΣ-quantities-𝟘-or-ω"></a><a id="3039" href="Graded.Restrictions.html#3039" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3067" class="Symbol">:</a>
  <a id="3071" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3089" class="Symbol">→</a> <a id="3091" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3109" href="Graded.Restrictions.html#3039" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="3137" href="Graded.Restrictions.html#3137" class="Bound">R</a> <a id="3139" class="Symbol">=</a> <a id="3141" class="Keyword">record</a> <a id="3148" href="Graded.Restrictions.html#3137" class="Bound">R</a>
  <a id="3152" class="Symbol">{</a> <a id="3154" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3165" class="Symbol">=</a> <a id="3167" class="Symbol">λ</a> <a id="3169" href="Graded.Restrictions.html#3169" class="Bound">b</a> <a id="3171" href="Graded.Restrictions.html#3171" class="Bound">p</a> <a id="3173" href="Graded.Restrictions.html#3173" class="Bound">q</a> <a id="3175" class="Symbol">→</a>
      <a id="3183" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3194" href="Graded.Restrictions.html#3169" class="Bound">b</a> <a id="3196" href="Graded.Restrictions.html#3171" class="Bound">p</a> <a id="3198" href="Graded.Restrictions.html#3173" class="Bound">q</a> <a id="3200" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3208" class="Symbol">(</a><a id="3209" href="Graded.Restrictions.html#3171" class="Bound">p</a> <a id="3211" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3213" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3215" class="Symbol">→</a> <a id="3217" href="Graded.Restrictions.html#3173" class="Bound">q</a> <a id="3219" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3221" href="Graded.Modality.html#851" class="Function">ω</a><a id="3222" class="Symbol">)</a> <a id="3224" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="3232" class="Symbol">(</a><a id="3233" href="Graded.Restrictions.html#3171" class="Bound">p</a> <a id="3235" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3237" href="Graded.Modality.html#851" class="Function">ω</a> <a id="3239" class="Symbol">→</a> <a id="3241" href="Graded.Restrictions.html#3173" class="Bound">q</a> <a id="3243" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3245" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3246" class="Symbol">)</a>
  <a id="3250" class="Symbol">;</a> <a id="3252" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3267" class="Symbol">=</a> <a id="3269" class="Symbol">λ</a> <a id="3271" href="Graded.Restrictions.html#3271" class="Bound">ok</a> <a id="3274" class="Symbol">→</a>
        <a id="3284" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3299" href="Graded.Restrictions.html#3271" class="Bound">ok</a> <a id="3302" class="Symbol">.</a><a id="3303" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="3315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3317" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3332" href="Graded.Restrictions.html#3271" class="Bound">ok</a> <a id="3335" class="Symbol">.</a><a id="3336" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3350" href="Function.Base.html#704" class="Function">idᶠ</a>
      <a id="3360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3362" class="Symbol">λ</a> <a id="3364" href="Graded.Restrictions.html#3364" class="Bound">_</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3375" class="Symbol">}</a>
  <a id="3379" class="Keyword">where</a>
  <a id="3387" class="Keyword">open</a> <a id="3392" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="3410" href="Graded.Restrictions.html#3137" class="Bound">R</a>

<a id="3413" class="Comment">-- A lemma used to define strong-types-restricted and no-strong-types.</a>

<a id="strong-types-restricted′"></a><a id="3485" href="Graded.Restrictions.html#3485" class="Function">strong-types-restricted′</a> <a id="3510" class="Symbol">:</a>
  <a id="3514" class="Symbol">(</a><a id="3515" href="Graded.Restrictions.html#3515" class="Bound">P</a> <a id="3517" class="Symbol">:</a> <a id="3519" href="Definition.Untyped.NotParametrised.html#1577" class="Datatype">BinderMode</a> <a id="3530" class="Symbol">→</a> <a id="3532" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="3534" class="Symbol">→</a> <a id="3536" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3540" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="3541" class="Symbol">)</a> <a id="3543" class="Symbol">→</a>
  <a id="3547" class="Symbol">(∀</a> <a id="3550" class="Symbol">{</a><a id="3551" href="Graded.Restrictions.html#3551" class="Bound">s</a><a id="3552" class="Symbol">}</a> <a id="3554" class="Symbol">→</a> <a id="3556" href="Graded.Restrictions.html#3551" class="Bound">s</a> <a id="3558" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3560" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a> <a id="3562" class="Symbol">→</a> <a id="3564" href="Graded.Restrictions.html#3515" class="Bound">P</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="3571" href="Graded.Restrictions.html#3551" class="Bound">s</a><a id="3572" class="Symbol">)</a> <a id="3574" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="3575" class="Symbol">)</a> <a id="3577" class="Symbol">→</a>
  <a id="3581" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="3599" class="Symbol">→</a> <a id="3601" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="3619" href="Graded.Restrictions.html#3485" class="Function">strong-types-restricted′</a> <a id="3644" href="Graded.Restrictions.html#3644" class="Bound">P</a> <a id="3646" href="Graded.Restrictions.html#3646" class="Bound">hyp</a> <a id="3650" href="Graded.Restrictions.html#3650" class="Bound">R</a> <a id="3652" class="Symbol">=</a> <a id="3654" class="Keyword">record</a> <a id="3661" href="Graded.Restrictions.html#3650" class="Bound">R</a>
  <a id="3665" class="Symbol">{</a> <a id="3667" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3680" class="Symbol">=</a> <a id="3682" class="Symbol">λ</a> <a id="3684" href="Graded.Restrictions.html#3684" class="Bound">s</a> <a id="3686" class="Symbol">→</a>
      <a id="3694" href="Definition.Typed.Restrictions.html#1048" class="Field">Unit-allowed</a> <a id="3707" href="Graded.Restrictions.html#3684" class="Bound">s</a> <a id="3709" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3711" href="Graded.Restrictions.html#3684" class="Bound">s</a> <a id="3713" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3715" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a>
  <a id="3719" class="Symbol">;</a> <a id="3721" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3732" class="Symbol">=</a> <a id="3734" class="Symbol">λ</a> <a id="3736" href="Graded.Restrictions.html#3736" class="Bound">b</a> <a id="3738" href="Graded.Restrictions.html#3738" class="Bound">p</a> <a id="3740" href="Graded.Restrictions.html#3740" class="Bound">q</a> <a id="3742" class="Symbol">→</a>
      <a id="3750" href="Definition.Typed.Restrictions.html#1134" class="Field">ΠΣ-allowed</a> <a id="3761" href="Graded.Restrictions.html#3736" class="Bound">b</a> <a id="3763" href="Graded.Restrictions.html#3738" class="Bound">p</a> <a id="3765" href="Graded.Restrictions.html#3740" class="Bound">q</a> <a id="3767" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3769" href="Graded.Restrictions.html#3644" class="Bound">P</a> <a id="3771" href="Graded.Restrictions.html#3736" class="Bound">b</a> <a id="3773" href="Graded.Restrictions.html#3738" class="Bound">p</a>
  <a id="3777" class="Symbol">;</a> <a id="3779" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="3795" class="Symbol">=</a> <a id="3797" class="Symbol">λ</a> <a id="3799" href="Graded.Restrictions.html#3799" class="Bound">s</a> <a id="3801" class="Symbol">→</a>
      <a id="3809" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="3825" href="Graded.Restrictions.html#3799" class="Bound">s</a> <a id="3827" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3829" href="Graded.Restrictions.html#3799" class="Bound">s</a> <a id="3831" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="3833" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a>
  <a id="3837" class="Symbol">;</a> <a id="3839" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3854" class="Symbol">=</a> <a id="3856" class="Symbol">λ</a> <a id="3858" class="Symbol">(</a><a id="3859" href="Graded.Restrictions.html#3859" class="Bound">ok</a> <a id="3862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3864" href="Graded.Restrictions.html#3864" class="Bound">s≢𝕤</a><a id="3867" class="Symbol">)</a> <a id="3869" class="Symbol">→</a>
        <a id="3879" class="Symbol">(</a><a id="3880" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3895" href="Graded.Restrictions.html#3859" class="Bound">ok</a> <a id="3898" class="Symbol">.</a><a id="3899" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3907" href="Graded.Restrictions.html#3864" class="Bound">s≢𝕤</a><a id="3910" class="Symbol">)</a>
      <a id="3918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3920" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="3935" href="Graded.Restrictions.html#3859" class="Bound">ok</a> <a id="3938" class="Symbol">.</a><a id="3939" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="3951" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3953" href="Graded.Restrictions.html#3646" class="Bound">hyp</a> <a id="3957" href="Graded.Restrictions.html#3864" class="Bound">s≢𝕤</a>
  <a id="3963" class="Symbol">;</a> <a id="3965" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="3982" class="Symbol">=</a>
      <a id="3990" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="4007" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="4010" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="4018" class="Symbol">}</a>
  <a id="4022" class="Keyword">where</a>
  <a id="4030" class="Keyword">open</a> <a id="4035" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="4053" href="Graded.Restrictions.html#3650" class="Bound">R</a>

<a id="4056" class="Comment">-- The function strong-types-restricted adds the following</a>
<a id="4115" class="Comment">-- restrictions:</a>
<a id="4132" class="Comment">--</a>
<a id="4135" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4177" class="Comment">-- * If strong Σ-types are allowed for p and q, then p is 𝟙.</a>
<a id="4238" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="strong-types-restricted"></a><a id="4274" href="Graded.Restrictions.html#4274" class="Function">strong-types-restricted</a> <a id="4298" class="Symbol">:</a>
  <a id="4302" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4320" class="Symbol">→</a> <a id="4322" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4340" href="Graded.Restrictions.html#4274" class="Function">strong-types-restricted</a> <a id="4364" class="Symbol">=</a>
  <a id="4368" href="Graded.Restrictions.html#3485" class="Function">strong-types-restricted′</a> <a id="4393" class="Symbol">(λ</a> <a id="4396" href="Graded.Restrictions.html#4396" class="Bound">b</a> <a id="4398" href="Graded.Restrictions.html#4398" class="Bound">p</a> <a id="4400" class="Symbol">→</a> <a id="4402" href="Graded.Restrictions.html#4396" class="Bound">b</a> <a id="4404" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4406" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="4410" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a> <a id="4412" class="Symbol">→</a> <a id="4414" href="Graded.Restrictions.html#4398" class="Bound">p</a> <a id="4416" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4418" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="4419" class="Symbol">)</a>
    <a id="4425" class="Symbol">(λ</a> <a id="4428" class="Symbol">{</a> <a id="4430" href="Graded.Restrictions.html#4430" class="Bound">hyp</a> <a id="4434" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4439" class="Symbol">→</a> <a id="4441" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4448" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4450" href="Graded.Restrictions.html#4430" class="Bound">hyp</a> <a id="4454" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4459" class="Symbol">})</a>

<a id="4463" class="Comment">-- The function no-strong-types adds the following restrictions:</a>
<a id="4528" class="Comment">--</a>
<a id="4531" class="Comment">-- * The strong unit type is not allowed.</a>
<a id="4573" class="Comment">-- * Strong Σ-types are not allowed.</a>
<a id="4610" class="Comment">-- * []-cong is not allowed for 𝕤.</a>

<a id="no-strong-types"></a><a id="4646" href="Graded.Restrictions.html#4646" class="Function">no-strong-types</a> <a id="4662" class="Symbol">:</a>
  <a id="4666" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4684" class="Symbol">→</a> <a id="4686" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="4704" href="Graded.Restrictions.html#4646" class="Function">no-strong-types</a> <a id="4720" class="Symbol">=</a>
  <a id="4724" href="Graded.Restrictions.html#3485" class="Function">strong-types-restricted′</a> <a id="4749" class="Symbol">(λ</a> <a id="4752" href="Graded.Restrictions.html#4752" class="Bound">b</a> <a id="4754" href="Graded.Restrictions.html#4754" class="Bound">_</a> <a id="4756" class="Symbol">→</a> <a id="4758" href="Level.html#409" class="Record">Lift</a> <a id="4763" class="Symbol">_</a> <a id="4765" class="Symbol">(</a><a id="4766" href="Graded.Restrictions.html#4752" class="Bound">b</a> <a id="4768" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="4770" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="4774" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="4775" class="Symbol">))</a>
    <a id="4782" class="Symbol">(λ</a> <a id="4785" href="Graded.Restrictions.html#4785" class="Bound">hyp</a> <a id="4789" class="Symbol">→</a> <a id="4791" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="4796" class="Symbol">(λ</a> <a id="4799" class="Symbol">{</a> <a id="4801" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4806" class="Symbol">→</a> <a id="4808" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="4815" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4817" href="Graded.Restrictions.html#4785" class="Bound">hyp</a> <a id="4821" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4826" class="Symbol">}))</a>

<a id="4831" class="Comment">-- The function adds the restriction that erased matches are not</a>
<a id="4896" class="Comment">-- allowed for the given strength.</a>

<a id="no-erased-matches-TR"></a><a id="4932" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="4953" class="Symbol">:</a> <a id="4955" href="Definition.Untyped.NotParametrised.html#1514" class="Datatype">Strength</a> <a id="4964" class="Symbol">→</a> <a id="4966" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="4984" class="Symbol">→</a> <a id="4986" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="5004" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="5025" href="Graded.Restrictions.html#5025" class="Bound">s</a> <a id="5027" href="Graded.Restrictions.html#5027" class="Bound">TR</a> <a id="5030" class="Symbol">=</a> <a id="5032" class="Keyword">record</a> <a id="5039" href="Graded.Restrictions.html#5027" class="Bound">TR</a>
  <a id="5044" class="Symbol">{</a> <a id="5046" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a>  <a id="5063" class="Symbol">=</a> <a id="5065" class="Symbol">λ</a> <a id="5067" href="Graded.Restrictions.html#5067" class="Bound">s′</a> <a id="5070" class="Symbol">→</a> <a id="5072" href="Definition.Typed.Restrictions.html#2476" class="Field">[]-cong-allowed</a> <a id="5088" href="Graded.Restrictions.html#5067" class="Bound">s′</a> <a id="5091" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5093" href="Graded.Restrictions.html#5067" class="Bound">s′</a> <a id="5096" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="5098" href="Graded.Restrictions.html#5025" class="Bound">s</a>
  <a id="5102" class="Symbol">;</a> <a id="5104" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a>   <a id="5121" class="Symbol">=</a> <a id="5123" href="Definition.Typed.Restrictions.html#2570" class="Field">[]-cong→Erased</a> <a id="5138" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5141" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5149" class="Symbol">;</a> <a id="5151" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="5168" class="Symbol">=</a> <a id="5170" href="Definition.Typed.Restrictions.html#2701" class="Field">[]-cong→¬Trivial</a> <a id="5187" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="5190" href="Data.Product.Base.html#636" class="Field">proj₁</a>
  <a id="5198" class="Symbol">}</a>
  <a id="5202" class="Keyword">where</a>
  <a id="5210" class="Keyword">open</a> <a id="5215" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5233" href="Graded.Restrictions.html#5027" class="Bound">TR</a>

<a id="5237" class="Comment">-- The function _with-η-for-Unitʷ enables η-equality for weak unit</a>
<a id="5304" class="Comment">-- types.</a>

<a id="_with-η-for-Unitʷ"></a><a id="5315" href="Graded.Restrictions.html#5315" class="Function Operator">_with-η-for-Unitʷ</a> <a id="5333" class="Symbol">:</a> <a id="5335" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="5353" class="Symbol">→</a> <a id="5355" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a>
<a id="5373" href="Graded.Restrictions.html#5373" class="Bound">TR</a> <a id="5376" href="Graded.Restrictions.html#5315" class="Function Operator">with-η-for-Unitʷ</a> <a id="5393" class="Symbol">=</a> <a id="5395" class="Keyword">record</a> <a id="5402" href="Graded.Restrictions.html#5373" class="Bound">TR</a>
  <a id="5407" class="Symbol">{</a> <a id="5409" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5422" class="Symbol">=</a> <a id="5424" class="Keyword">record</a> <a id="5431" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>
    <a id="5448" class="Symbol">{</a> <a id="5450" href="Definition.Typed.Variant.html#719" class="Field">η-for-Unitʷ</a> <a id="5462" class="Symbol">=</a> <a id="5464" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="5473" class="Symbol">}</a>
  <a id="5477" class="Symbol">}</a>
  <a id="5481" class="Keyword">where</a>
  <a id="5489" class="Keyword">open</a> <a id="5494" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="5512" href="Graded.Restrictions.html#5373" class="Bound">TR</a>

<a id="5516" class="Comment">------------------------------------------------------------------------</a>
<a id="5589" class="Comment">-- Functions that construct Usage-restrictions</a>

<a id="5637" class="Comment">-- No restrictions for prodrec, unitrec or emptyrec, all erased</a>
<a id="5701" class="Comment">-- matches are allowed for J and K, Id-erased is inhabited if the</a>
<a id="5767" class="Comment">-- first boolean is true, and starˢ is treated as a sink if the second</a>
<a id="5838" class="Comment">-- boolean is true.</a>

<a id="no-usage-restrictions"></a><a id="5859" href="Graded.Restrictions.html#5859" class="Function">no-usage-restrictions</a> <a id="5881" class="Symbol">:</a> <a id="5883" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5888" class="Symbol">→</a> <a id="5890" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5895" class="Symbol">→</a> <a id="5897" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="5916" href="Graded.Restrictions.html#5859" class="Function">no-usage-restrictions</a> <a id="5938" href="Graded.Restrictions.html#5938" class="Bound">erased</a> <a id="5945" href="Graded.Restrictions.html#5945" class="Bound">sink</a> <a id="5950" class="Symbol">=</a> <a id="5952" class="Symbol">λ</a> <a id="5954" class="Keyword">where</a>
    <a id="5964" class="Symbol">.</a><a id="5965" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a>                   <a id="5999" class="Symbol">→</a> <a id="6001" class="Symbol">λ</a> <a id="6003" href="Graded.Restrictions.html#6003" class="Bound">_</a> <a id="6005" href="Graded.Restrictions.html#6005" class="Bound">_</a> <a id="6007" href="Graded.Restrictions.html#6007" class="Bound">_</a> <a id="6009" href="Graded.Restrictions.html#6009" class="Bound">_</a> <a id="6011" class="Symbol">→</a> <a id="6013" href="Level.html#409" class="Record">Lift</a> <a id="6018" class="Symbol">_</a> <a id="6020" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6026" class="Symbol">.</a><a id="6027" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a>  <a id="6061" class="Symbol">→</a> <a id="6063" class="Symbol">_</a>
    <a id="6069" class="Symbol">.</a><a id="6070" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a>                   <a id="6104" class="Symbol">→</a> <a id="6106" class="Symbol">λ</a> <a id="6108" href="Graded.Restrictions.html#6108" class="Bound">_</a> <a id="6110" href="Graded.Restrictions.html#6110" class="Bound">_</a> <a id="6112" href="Graded.Restrictions.html#6112" class="Bound">_</a> <a id="6114" class="Symbol">→</a> <a id="6116" href="Level.html#409" class="Record">Lift</a> <a id="6121" class="Symbol">_</a> <a id="6123" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6129" class="Symbol">.</a><a id="6130" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a>  <a id="6164" class="Symbol">→</a> <a id="6166" class="Symbol">_</a>
    <a id="6172" class="Symbol">.</a><a id="6173" href="Graded.Usage.Restrictions.html#1576" class="Field">Emptyrec-allowed</a>                  <a id="6207" class="Symbol">→</a> <a id="6209" class="Symbol">λ</a> <a id="6211" href="Graded.Restrictions.html#6211" class="Bound">_</a> <a id="6213" href="Graded.Restrictions.html#6213" class="Bound">_</a> <a id="6215" class="Symbol">→</a> <a id="6217" href="Level.html#409" class="Record">Lift</a> <a id="6222" class="Symbol">_</a> <a id="6224" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="6230" class="Symbol">.</a><a id="6231" href="Graded.Usage.Restrictions.html#1718" class="Field">Emptyrec-allowed-downwards-closed</a> <a id="6265" class="Symbol">→</a> <a id="6267" class="Symbol">_</a>
    <a id="6273" class="Symbol">.</a><a id="6274" href="Graded.Usage.Restrictions.html#1869" class="Field">starˢ-sink</a>                        <a id="6308" class="Symbol">→</a> <a id="6310" href="Graded.Restrictions.html#5945" class="Bound">sink</a>
    <a id="6319" class="Symbol">.</a><a id="6320" href="Graded.Usage.Restrictions.html#1948" class="Field">Id-erased</a>                         <a id="6354" class="Symbol">→</a> <a id="6356" href="Level.html#409" class="Record">Lift</a> <a id="6361" class="Symbol">_</a> <a id="6363" class="Symbol">(</a><a id="6364" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6366" href="Graded.Restrictions.html#5938" class="Bound">erased</a><a id="6372" class="Symbol">)</a>
    <a id="6378" class="Symbol">.</a><a id="6379" href="Graded.Usage.Restrictions.html#2000" class="Field">Id-erased?</a>                        <a id="6413" class="Symbol">→</a> <a id="6415" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="6423" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="6428" href="Level.html#479" class="Field">Lift.lower</a> <a id="6439" href="Function.Base.html#1974" class="Function Operator">$</a>
                                         <a id="6482" href="Relation.Nullary.Decidable.Core.html#2465" class="Function">T?</a> <a id="6485" href="Graded.Restrictions.html#5938" class="Bound">erased</a>
    <a id="6496" class="Symbol">.</a><a id="6497" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>              <a id="6531" class="Symbol">→</a> <a id="6533" class="Symbol">λ</a> <a id="6535" href="Graded.Restrictions.html#6535" class="Bound">_</a> <a id="6537" class="Symbol">→</a> <a id="6539" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6547" class="Symbol">.</a><a id="6548" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>          <a id="6582" class="Symbol">→</a> <a id="6584" class="Symbol">_</a>
    <a id="6590" class="Symbol">.</a><a id="6591" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>              <a id="6625" class="Symbol">→</a> <a id="6627" class="Symbol">λ</a> <a id="6629" href="Graded.Restrictions.html#6629" class="Bound">_</a> <a id="6631" class="Symbol">→</a> <a id="6633" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>
    <a id="6641" class="Symbol">.</a><a id="6642" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>          <a id="6676" class="Symbol">→</a> <a id="6678" class="Symbol">_</a>
  <a id="6682" class="Keyword">where</a>
  <a id="6690" class="Keyword">open</a> <a id="6695" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a>

<a id="6715" class="Comment">-- A function used to define not-all-erased-matches-JK.</a>

<a id="not-all-for-𝟙ᵐ"></a><a id="6772" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="6787" class="Symbol">:</a> <a id="6789" class="Symbol">(</a><a id="6790" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="6795" class="Symbol">→</a> <a id="6797" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="6811" class="Symbol">)</a> <a id="6813" class="Symbol">→</a> <a id="6815" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="6820" class="Symbol">→</a> <a id="6822" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a>
<a id="6837" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="6852" href="Graded.Restrictions.html#6852" class="Bound">f</a> <a id="6854" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="6857" class="Symbol">=</a> <a id="6859" href="Graded.Restrictions.html#6852" class="Bound">f</a> <a id="6861" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
<a id="6864" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="6879" href="Graded.Restrictions.html#6879" class="Bound">f</a> <a id="6881" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="6884" class="Keyword">with</a> <a id="6889" href="Graded.Restrictions.html#6879" class="Bound">f</a> <a id="6891" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
<a id="6894" class="Symbol">…</a> <a id="6896" class="Symbol">|</a> <a id="6898" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a> <a id="6902" class="Symbol">=</a> <a id="6904" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a>
<a id="6909" class="CatchallClause Symbol">…</a><a id="6910" class="CatchallClause"> </a><a id="6911" class="CatchallClause Symbol">|</a><a id="6912" class="CatchallClause"> </a><a id="6913" href="Graded.Restrictions.html#6913" class="CatchallClause Bound">em</a>  <a id="6917" class="Symbol">=</a> <a id="6919" href="Graded.Restrictions.html#6913" class="Bound">em</a>

<a id="6923" class="Comment">-- The function adds the restriction that, for the mode 𝟙ᵐ, &quot;all&quot;</a>
<a id="6989" class="Comment">-- erased matches are not allowed for J and K.</a>

<a id="not-all-erased-matches-JK"></a><a id="7037" href="Graded.Restrictions.html#7037" class="Function">not-all-erased-matches-JK</a> <a id="7063" class="Symbol">:</a> <a id="7065" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="7084" class="Symbol">→</a> <a id="7086" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="7105" href="Graded.Restrictions.html#7037" class="Function">not-all-erased-matches-JK</a> <a id="7131" href="Graded.Restrictions.html#7131" class="Bound">UR</a> <a id="7134" class="Symbol">=</a> <a id="7136" class="Keyword">record</a> <a id="7143" href="Graded.Restrictions.html#7131" class="Bound">UR</a>
  <a id="7148" class="Symbol">{</a> <a id="7150" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="7171" class="Symbol">=</a>
      <a id="7179" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="7194" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a>
  <a id="7217" class="Symbol">;</a> <a id="7219" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="7244" class="Symbol">=</a>
      <a id="7252" href="Graded.Restrictions.html#7544" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7271" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="7292" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a>
  <a id="7319" class="Symbol">;</a> <a id="7321" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="7342" class="Symbol">=</a>
      <a id="7350" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="7365" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a>
  <a id="7388" class="Symbol">;</a> <a id="7390" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="7415" class="Symbol">=</a>
      <a id="7423" href="Graded.Restrictions.html#7544" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7442" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="7463" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a>
  <a id="7490" class="Symbol">}</a>
  <a id="7494" class="Keyword">where</a>
  <a id="7502" class="Keyword">open</a> <a id="7507" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="7526" href="Graded.Restrictions.html#7131" class="Bound">UR</a>

  <a id="7532" class="Keyword">opaque</a>

    <a id="7544" href="Graded.Restrictions.html#7544" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7563" class="Symbol">:</a>
      <a id="7571" class="Symbol">(</a><a id="7572" href="Graded.Restrictions.html#7572" class="Bound">f</a> <a id="7574" class="Symbol">:</a> <a id="7576" href="Graded.Mode.html#1102" class="Datatype">Mode</a> <a id="7581" class="Symbol">→</a> <a id="7583" href="Graded.Usage.Erased-matches.html#821" class="Datatype">Erased-matches</a><a id="7597" class="Symbol">)</a> <a id="7599" class="Symbol">→</a>
      <a id="7607" href="Graded.Restrictions.html#7572" class="Bound">f</a> <a id="7609" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7612" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7616" href="Graded.Restrictions.html#7572" class="Bound">f</a> <a id="7618" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7622" href="Graded.Restrictions.html#1196" class="Generalizable">ok</a> <a id="7625" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">]</a> <a id="7627" class="Symbol">→</a>
      <a id="7635" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="7650" href="Graded.Restrictions.html#7572" class="Bound">f</a> <a id="7652" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="7655" href="Graded.Usage.Erased-matches.html#1099" class="Function Operator">≤ᵉᵐ</a> <a id="7659" href="Graded.Restrictions.html#6772" class="Function">not-all-for-𝟙ᵐ</a> <a id="7674" href="Graded.Restrictions.html#7572" class="Bound">f</a> <a id="7676" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">𝟘ᵐ[</a> <a id="7680" href="Graded.Restrictions.html#1196" class="Generalizable">ok</a> <a id="7683" href="Graded.Mode.html#1176" class="InductiveConstructor Operator">]</a>
    <a id="7689" href="Graded.Restrictions.html#7544" class="Function">not-all-for-𝟙ᵐ-≤ᵉᵐ</a> <a id="7708" href="Graded.Restrictions.html#7708" class="Bound">f</a> <a id="7710" href="Graded.Restrictions.html#7710" class="Bound">f-≤ᵉᵐ</a> <a id="7716" class="Keyword">with</a> <a id="7721" href="Graded.Restrictions.html#7708" class="Bound">f</a> <a id="7723" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
    <a id="7730" class="Symbol">…</a> <a id="7732" class="Symbol">|</a> <a id="7734" href="Graded.Usage.Erased-matches.html#935" class="InductiveConstructor">all</a>  <a id="7739" class="Symbol">=</a> <a id="7741" href="Graded.Usage.Erased-matches.html#1440" class="Function">≤ᵉᵐ-transitive</a> <a id="7756" class="Symbol">_</a> <a id="7758" class="Bound">f-≤ᵉᵐ</a>
    <a id="7768" class="Symbol">…</a> <a id="7770" class="Symbol">|</a> <a id="7772" href="Graded.Usage.Erased-matches.html#964" class="InductiveConstructor">some</a> <a id="7777" class="Symbol">=</a> <a id="7779" class="Bound">f-≤ᵉᵐ</a>
    <a id="7789" class="Symbol">…</a> <a id="7791" class="Symbol">|</a> <a id="7793" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="7798" class="Symbol">=</a> <a id="7800" class="Bound">f-≤ᵉᵐ</a>

<a id="7807" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="7876" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec</a>
<a id="7945" class="Comment">-- or unitrec. For prodrec the added restriction only applies to</a>
<a id="8010" class="Comment">-- non-trivial modalities.</a>

<a id="only-some-erased-matches"></a><a id="8038" href="Graded.Restrictions.html#8038" class="Function">only-some-erased-matches</a> <a id="8063" class="Symbol">:</a> <a id="8065" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="8084" class="Symbol">→</a> <a id="8086" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="8105" href="Graded.Restrictions.html#8038" class="Function">only-some-erased-matches</a> <a id="8130" href="Graded.Restrictions.html#8130" class="Bound">UR</a> <a id="8133" class="Symbol">=</a> <a id="8135" class="Keyword">record</a> <a id="8142" href="Graded.Restrictions.html#8130" class="Bound">UR</a>
  <a id="8147" class="Symbol">{</a> <a id="8149" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8165" class="Symbol">=</a> <a id="8167" class="Symbol">λ</a> <a id="8169" href="Graded.Restrictions.html#8169" class="Bound">m</a> <a id="8171" href="Graded.Restrictions.html#8171" class="Bound">r</a> <a id="8173" href="Graded.Restrictions.html#8173" class="Bound">p</a> <a id="8175" href="Graded.Restrictions.html#8175" class="Bound">q</a> <a id="8177" class="Symbol">→</a>
      <a id="8185" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="8201" href="Graded.Restrictions.html#8169" class="Bound">m</a> <a id="8203" href="Graded.Restrictions.html#8171" class="Bound">r</a> <a id="8205" href="Graded.Restrictions.html#8173" class="Bound">p</a> <a id="8207" href="Graded.Restrictions.html#8175" class="Bound">q</a> <a id="8209" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="8217" class="Symbol">(</a><a id="8218" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="8220" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="8228" class="Symbol">→</a> <a id="8230" href="Graded.Restrictions.html#8169" class="Bound">m</a> <a id="8232" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8234" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8237" class="Symbol">→</a> <a id="8239" href="Graded.Restrictions.html#8171" class="Bound">r</a> <a id="8241" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="8243" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="8244" class="Symbol">)</a>
  <a id="8248" class="Symbol">;</a> <a id="8250" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8283" class="Symbol">=</a>
      <a id="8291" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="8297" href="Graded.Usage.Restrictions.html#1014" class="Field">Prodrec-allowed-downwards-closed</a> <a id="8330" class="Symbol">(λ</a> <a id="8333" href="Graded.Restrictions.html#8333" class="Bound">_</a> <a id="8335" href="Graded.Restrictions.html#8335" class="Bound">_</a> <a id="8337" class="Symbol">())</a>
  <a id="8343" class="Symbol">;</a> <a id="8345" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8366" class="Symbol">=</a> <a id="8368" class="Symbol">λ</a> <a id="8370" class="Keyword">where</a>
      <a id="8382" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8385" class="Symbol">→</a> <a id="8387" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8398" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="8401" class="Symbol">→</a> <a id="8403" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="8424" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8429" class="Symbol">;</a> <a id="8431" href="Graded.Usage.Restrictions.html#2361" class="Field">erased-matches-for-J-≤ᵉᵐ</a> <a id="8456" class="Symbol">=</a>
      <a id="8464" class="Symbol">_</a>
  <a id="8468" class="Symbol">;</a> <a id="8470" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8491" class="Symbol">=</a> <a id="8493" class="Symbol">λ</a> <a id="8495" class="Keyword">where</a>
      <a id="8507" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="8510" class="Symbol">→</a> <a id="8512" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
      <a id="8523" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a> <a id="8526" class="Symbol">→</a> <a id="8528" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="8549" href="Graded.Mode.html#1121" class="InductiveConstructor">𝟘ᵐ</a>
  <a id="8554" class="Symbol">;</a> <a id="8556" href="Graded.Usage.Restrictions.html#2786" class="Field">erased-matches-for-K-≤ᵉᵐ</a> <a id="8581" class="Symbol">=</a>
      <a id="8589" class="Symbol">_</a>
  <a id="8593" class="Symbol">}</a>
  <a id="8597" class="Keyword">where</a>
  <a id="8605" class="Keyword">open</a> <a id="8610" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="8629" href="Graded.Restrictions.html#8130" class="Bound">UR</a>

<a id="8633" class="Comment">-- The function adds the restriction that certain erased matches are</a>
<a id="8702" class="Comment">-- not allowed for the mode 𝟙ᵐ. No restriction is added for emptyrec.</a>
<a id="8772" class="Comment">-- For prodrec and unitrec the added restriction only applies to</a>
<a id="8837" class="Comment">-- non-trivial modalities, and for unitrec the added restriction only</a>
<a id="8907" class="Comment">-- applies if η-equality is not allowed for the weak unit type.</a>

<a id="no-erased-matches-UR"></a><a id="8972" href="Graded.Restrictions.html#8972" class="Function">no-erased-matches-UR</a> <a id="8993" class="Symbol">:</a>
  <a id="8997" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="9015" class="Symbol">→</a> <a id="9017" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="9036" class="Symbol">→</a> <a id="9038" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a>
<a id="9057" href="Graded.Restrictions.html#8972" class="Function">no-erased-matches-UR</a> <a id="9078" href="Graded.Restrictions.html#9078" class="Bound">TR</a> <a id="9081" href="Graded.Restrictions.html#9081" class="Bound">UR</a> <a id="9084" class="Symbol">=</a> <a id="9086" class="Keyword">record</a> <a id="9093" class="Symbol">(</a><a id="9094" href="Graded.Restrictions.html#8038" class="Function">only-some-erased-matches</a> <a id="9119" href="Graded.Restrictions.html#9081" class="Bound">UR</a><a id="9121" class="Symbol">)</a>
  <a id="9125" class="Symbol">{</a> <a id="9127" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9143" class="Symbol">=</a> <a id="9145" class="Symbol">λ</a> <a id="9147" href="Graded.Restrictions.html#9147" class="Bound">m</a> <a id="9149" href="Graded.Restrictions.html#9149" class="Bound">p</a> <a id="9151" href="Graded.Restrictions.html#9151" class="Bound">q</a> <a id="9153" class="Symbol">→</a>
      <a id="9161" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="9177" href="Graded.Restrictions.html#9147" class="Bound">m</a> <a id="9179" href="Graded.Restrictions.html#9149" class="Bound">p</a> <a id="9181" href="Graded.Restrictions.html#9151" class="Bound">q</a> <a id="9183" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
      <a id="9191" class="Symbol">(</a><a id="9192" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9194" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="9202" class="Symbol">→</a> <a id="9204" href="Graded.Restrictions.html#9147" class="Bound">m</a> <a id="9206" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9208" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9211" class="Symbol">→</a> <a id="9213" href="Graded.Restrictions.html#9149" class="Bound">p</a> <a id="9215" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9217" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="9219" class="Symbol">→</a> <a id="9221" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="9228" class="Symbol">)</a>
  <a id="9232" class="Symbol">;</a> <a id="9234" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9267" class="Symbol">=</a>
      <a id="9275" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="9281" href="Graded.Usage.Restrictions.html#1372" class="Field">Unitrec-allowed-downwards-closed</a> <a id="9314" class="Symbol">(λ</a> <a id="9317" href="Graded.Restrictions.html#9317" class="Bound">_</a> <a id="9319" href="Graded.Restrictions.html#9319" class="Bound">_</a> <a id="9321" class="Symbol">())</a>
  <a id="9327" class="Symbol">}</a>
  <a id="9331" class="Keyword">where</a>
  <a id="9339" class="Keyword">open</a> <a id="9344" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="9362" href="Graded.Restrictions.html#9078" class="Bound">TR</a>
  <a id="9367" class="Keyword">open</a> <a id="9372" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="9391" href="Graded.Restrictions.html#9081" class="Bound">UR</a>

<a id="9395" class="Comment">------------------------------------------------------------------------</a>
<a id="9468" class="Comment">-- Only-some-erased-matches</a>

<a id="9497" class="Comment">-- The property of not allowing certain erased matches:</a>
<a id="9553" class="Comment">-- * Erased matches are allowed for emptyrec and unitrec.</a>
<a id="9611" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="9669" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="9737" class="Comment">--   []-cong.</a>

<a id="Only-some-erased-matches"></a><a id="9752" href="Graded.Restrictions.html#9752" class="Function">Only-some-erased-matches</a> <a id="9777" class="Symbol">:</a>
  <a id="9781" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="9799" class="Symbol">→</a> <a id="9801" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="9820" class="Symbol">→</a> <a id="9822" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="9826" href="Graded.Restrictions.html#296" class="Bound">a</a>
<a id="9828" href="Graded.Restrictions.html#9752" class="Function">Only-some-erased-matches</a> <a id="9853" href="Graded.Restrictions.html#9853" class="Bound">TR</a> <a id="9856" href="Graded.Restrictions.html#9856" class="Bound">UR</a> <a id="9859" class="Symbol">=</a>
  <a id="9863" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9865" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="9873" class="Symbol">→</a>
  <a id="9877" class="Symbol">(∀</a> <a id="9880" class="Symbol">{</a><a id="9881" href="Graded.Restrictions.html#9881" class="Bound">r</a> <a id="9883" href="Graded.Restrictions.html#9883" class="Bound">p</a> <a id="9885" href="Graded.Restrictions.html#9885" class="Bound">q</a><a id="9886" class="Symbol">}</a> <a id="9888" class="Symbol">→</a> <a id="9890" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="9906" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9909" href="Graded.Restrictions.html#9881" class="Bound">r</a> <a id="9911" href="Graded.Restrictions.html#9883" class="Bound">p</a> <a id="9913" href="Graded.Restrictions.html#9885" class="Bound">q</a> <a id="9915" class="Symbol">→</a> <a id="9917" href="Graded.Restrictions.html#9881" class="Bound">r</a> <a id="9919" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="9921" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="9922" class="Symbol">)</a> <a id="9924" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9928" class="Symbol">(∀</a> <a id="9931" class="Symbol">{</a><a id="9932" href="Graded.Restrictions.html#9932" class="Bound">s</a><a id="9933" class="Symbol">}</a> <a id="9935" class="Symbol">→</a> <a id="9937" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="9939" class="Symbol">(</a><a id="9940" href="Definition.Typed.Restrictions.html#2476" class="Function">[]-cong-allowed</a> <a id="9956" href="Graded.Restrictions.html#9932" class="Bound">s</a><a id="9957" class="Symbol">))</a> <a id="9960" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9964" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="9985" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="9988" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9990" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="9995" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="9999" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="10020" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="10023" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10025" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="10032" class="Keyword">where</a>
  <a id="10040" class="Keyword">open</a> <a id="10045" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="10063" href="Graded.Restrictions.html#9853" class="Bound">TR</a>
  <a id="10068" class="Keyword">open</a> <a id="10073" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="10092" href="Graded.Restrictions.html#9856" class="Bound">UR</a>

<a id="10096" class="Keyword">opaque</a>

  <a id="10106" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
  <a id="10171" class="Comment">-- only-some-erased-matches satisfy Only-some-erased-matches.</a>

  <a id="Only-some-erased-matches-only-some-erased-matches"></a><a id="10236" href="Graded.Restrictions.html#10236" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10286" class="Symbol">:</a>
    <a id="10292" class="Symbol">∀</a> <a id="10294" href="Graded.Restrictions.html#10294" class="Bound">TR</a> <a id="10297" href="Graded.Restrictions.html#10297" class="Bound">UR</a> <a id="10300" class="Symbol">→</a>
    <a id="10306" href="Graded.Restrictions.html#9752" class="Function">Only-some-erased-matches</a>
      <a id="10337" class="Symbol">(</a><a id="10338" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="10359" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a> <a id="10361" class="Symbol">(</a><a id="10362" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="10383" href="Definition.Untyped.NotParametrised.html#1539" class="InductiveConstructor">𝕨</a> <a id="10385" href="Graded.Restrictions.html#10294" class="Bound">TR</a><a id="10387" class="Symbol">))</a>
      <a id="10396" class="Symbol">(</a><a id="10397" href="Graded.Restrictions.html#8038" class="Function">only-some-erased-matches</a> <a id="10422" href="Graded.Restrictions.html#10297" class="Bound">UR</a><a id="10424" class="Symbol">)</a>
  <a id="10428" href="Graded.Restrictions.html#10236" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="10478" class="Symbol">_</a> <a id="10480" class="Symbol">_</a> <a id="10482" href="Graded.Restrictions.html#10482" class="Bound">𝟙≢𝟘</a> <a id="10486" class="Symbol">=</a>
      <a id="10494" class="Symbol">(</a><a id="10495" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10498" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10502" class="Symbol">)</a> <a id="10504" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10507" class="Symbol">(</a><a id="10508" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10511" href="Graded.Restrictions.html#10482" class="Bound">𝟙≢𝟘</a><a id="10514" class="Symbol">)</a> <a id="10516" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10519" href="Data.Product.Base.html#650" class="Field">proj₂</a>
    <a id="10529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10531" class="Symbol">(λ</a> <a id="10534" class="Keyword">where</a>
         <a id="10549" class="Symbol">{</a><a id="10550" class="Argument">s</a> <a id="10552" class="Symbol">=</a> <a id="10554" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="10555" class="Symbol">}</a> <a id="10557" class="Symbol">→</a> <a id="10559" class="Symbol">(</a><a id="10560" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10563" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10567" class="Symbol">)</a> <a id="10569" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10572" href="Data.Product.Base.html#650" class="Field">proj₂</a>
         <a id="10587" class="Symbol">{</a><a id="10588" class="Argument">s</a> <a id="10590" class="Symbol">=</a> <a id="10592" href="Definition.Untyped.NotParametrised.html#1539" class="InductiveConstructor">𝕨</a><a id="10593" class="Symbol">}</a> <a id="10595" class="Symbol">→</a> <a id="10597" class="Symbol">(</a><a id="10598" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="10601" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="10605" class="Symbol">)</a> <a id="10607" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10610" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10616" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="10619" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="10624" class="Symbol">)</a>
    <a id="10630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10632" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="10641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10643" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="10649" class="Comment">------------------------------------------------------------------------</a>
<a id="10722" class="Comment">-- No-erased-matches</a>

<a id="10744" class="Comment">-- The property of not allowing (certain) erased matches:</a>
<a id="10802" class="Comment">-- * Erased matches are allowed for emptyrec.</a>
<a id="10848" class="Comment">-- * &quot;Erased&quot; matches are allowed for unitrec if η-equality is allowed</a>
<a id="10919" class="Comment">--   for the weak unit type.</a>
<a id="10948" class="Comment">-- * &quot;Erased&quot; matches are allowed for trivial modalities.</a>
<a id="11006" class="Comment">-- * Erased matches are allowed when the mode is not 𝟙ᵐ, except for</a>
<a id="11074" class="Comment">--   []-cong. (Note that a variant of []-cong that works when the mode</a>
<a id="11145" class="Comment">--   is not 𝟙ᵐ can be defined without the use of []-cong, see</a>
<a id="11207" class="Comment">--   Graded.Box-cong.▸[]-cong-J-𝟘ᵐ.)</a>

<a id="No-erased-matches"></a><a id="11245" href="Graded.Restrictions.html#11245" class="Function">No-erased-matches</a> <a id="11263" class="Symbol">:</a> <a id="11265" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="11283" class="Symbol">→</a> <a id="11285" href="Graded.Usage.Restrictions.html#688" class="Record">Usage-restrictions</a> <a id="11304" class="Symbol">→</a> <a id="11306" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="11310" href="Graded.Restrictions.html#296" class="Bound">a</a>
<a id="11312" href="Graded.Restrictions.html#11245" class="Function">No-erased-matches</a> <a id="11330" href="Graded.Restrictions.html#11330" class="Bound">TR</a> <a id="11333" href="Graded.Restrictions.html#11333" class="Bound">UR</a> <a id="11336" class="Symbol">=</a>
  <a id="11340" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="11342" href="Graded.Modality.html#1927" class="Function">Trivial</a> <a id="11350" class="Symbol">→</a>
  <a id="11354" class="Symbol">(∀</a> <a id="11357" class="Symbol">{</a><a id="11358" href="Graded.Restrictions.html#11358" class="Bound">r</a> <a id="11360" href="Graded.Restrictions.html#11360" class="Bound">p</a> <a id="11362" href="Graded.Restrictions.html#11362" class="Bound">q</a><a id="11363" class="Symbol">}</a> <a id="11365" class="Symbol">→</a> <a id="11367" href="Graded.Usage.Restrictions.html#864" class="Field">Prodrec-allowed</a> <a id="11383" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="11386" href="Graded.Restrictions.html#11358" class="Bound">r</a> <a id="11388" href="Graded.Restrictions.html#11360" class="Bound">p</a> <a id="11390" href="Graded.Restrictions.html#11362" class="Bound">q</a> <a id="11392" class="Symbol">→</a> <a id="11394" href="Graded.Restrictions.html#11358" class="Bound">r</a> <a id="11396" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="11398" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="11399" class="Symbol">)</a> <a id="11401" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11405" class="Symbol">(∀</a> <a id="11408" class="Symbol">{</a><a id="11409" href="Graded.Restrictions.html#11409" class="Bound">p</a> <a id="11411" href="Graded.Restrictions.html#11411" class="Bound">q</a><a id="11412" class="Symbol">}</a>   <a id="11416" class="Symbol">→</a> <a id="11418" href="Graded.Usage.Restrictions.html#1224" class="Field">Unitrec-allowed</a> <a id="11434" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="11437" href="Graded.Restrictions.html#11409" class="Bound">p</a> <a id="11439" href="Graded.Restrictions.html#11411" class="Bound">q</a>   <a id="11443" class="Symbol">→</a> <a id="11445" href="Graded.Restrictions.html#11409" class="Bound">p</a> <a id="11447" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11449" href="Graded.Modality.html#847" class="Function">𝟘</a> <a id="11451" class="Symbol">→</a> <a id="11453" href="Definition.Typed.Variant.html#795" class="Function">Unitʷ-η</a><a id="11460" class="Symbol">)</a> <a id="11462" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11466" class="Symbol">(∀</a> <a id="11469" class="Symbol">{</a><a id="11470" href="Graded.Restrictions.html#11470" class="Bound">s</a><a id="11471" class="Symbol">}</a> <a id="11473" class="Symbol">→</a> <a id="11475" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="11477" class="Symbol">(</a><a id="11478" href="Definition.Typed.Restrictions.html#2476" class="Function">[]-cong-allowed</a> <a id="11494" href="Graded.Restrictions.html#11470" class="Bound">s</a><a id="11495" class="Symbol">))</a> <a id="11498" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11502" href="Graded.Usage.Restrictions.html#2126" class="Field">erased-matches-for-J</a> <a id="11523" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="11526" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11528" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a> <a id="11533" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
  <a id="11537" href="Graded.Usage.Restrictions.html#2551" class="Field">erased-matches-for-K</a> <a id="11558" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a> <a id="11561" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11563" href="Graded.Usage.Erased-matches.html#850" class="InductiveConstructor">none</a>
  <a id="11570" class="Keyword">where</a>
  <a id="11578" class="Keyword">open</a> <a id="11583" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="11601" href="Graded.Restrictions.html#11330" class="Bound">TR</a>
  <a id="11606" class="Keyword">open</a> <a id="11611" href="Graded.Usage.Restrictions.html#688" class="Module">Usage-restrictions</a> <a id="11630" href="Graded.Restrictions.html#11333" class="Bound">UR</a>

<a id="11634" class="Comment">-- Certain restrictions obtained from no-erased-matches-TR and</a>
<a id="11697" class="Comment">-- no-erased-matches-UR satisfy No-erased-matches.</a>

<a id="No-erased-matches-no-erased-matches"></a><a id="11749" href="Graded.Restrictions.html#11749" class="Function">No-erased-matches-no-erased-matches</a> <a id="11785" class="Symbol">:</a>
  <a id="11789" class="Symbol">∀</a> <a id="11791" href="Graded.Restrictions.html#11791" class="Bound">TR</a> <a id="11794" href="Graded.Restrictions.html#11794" class="Bound">UR</a> <a id="11797" class="Symbol">→</a>
  <a id="11801" class="Keyword">let</a> <a id="11805" href="Graded.Restrictions.html#11805" class="Bound">TR′</a> <a id="11809" class="Symbol">=</a> <a id="11811" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="11832" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a> <a id="11834" class="Symbol">(</a><a id="11835" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="11856" href="Definition.Untyped.NotParametrised.html#1539" class="InductiveConstructor">𝕨</a> <a id="11858" href="Graded.Restrictions.html#11791" class="Bound">TR</a><a id="11860" class="Symbol">)</a> <a id="11862" class="Keyword">in</a>
  <a id="11867" href="Graded.Restrictions.html#11245" class="Function">No-erased-matches</a> <a id="11885" href="Graded.Restrictions.html#11805" class="Bound">TR′</a> <a id="11889" class="Symbol">(</a><a id="11890" href="Graded.Restrictions.html#8972" class="Function">no-erased-matches-UR</a> <a id="11911" href="Graded.Restrictions.html#11805" class="Bound">TR′</a> <a id="11915" href="Graded.Restrictions.html#11794" class="Bound">UR</a><a id="11917" class="Symbol">)</a>
<a id="11919" href="Graded.Restrictions.html#11749" class="Function">No-erased-matches-no-erased-matches</a> <a id="11955" href="Graded.Restrictions.html#11955" class="Bound">TR</a> <a id="11958" href="Graded.Restrictions.html#11958" class="Bound">UR</a> <a id="11961" href="Graded.Restrictions.html#11961" class="Bound">𝟙≢𝟘</a> <a id="11965" class="Symbol">=</a>
  <a id="11969" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="11974" href="Graded.Restrictions.html#10236" class="Function">Only-some-erased-matches-only-some-erased-matches</a> <a id="12024" href="Graded.Restrictions.html#11955" class="Bound">TR</a> <a id="12027" href="Graded.Restrictions.html#11958" class="Bound">UR</a> <a id="12030" href="Graded.Restrictions.html#11961" class="Bound">𝟙≢𝟘</a> <a id="12034" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="12037" class="Symbol">λ</a>
    <a id="12043" class="Symbol">(</a><a id="12044" href="Graded.Restrictions.html#12044" class="Bound">pr</a> <a id="12047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12049" href="Graded.Restrictions.html#12049" class="Bound">rest</a><a id="12053" class="Symbol">)</a> <a id="12055" class="Symbol">→</a>
    <a id="12061" class="Symbol">(λ</a> <a id="12064" class="Symbol">{</a><a id="12065" href="Graded.Restrictions.html#12065" class="Bound">_</a> <a id="12067" href="Graded.Restrictions.html#12067" class="Bound">_</a> <a id="12069" href="Graded.Restrictions.html#12069" class="Bound">_</a><a id="12070" class="Symbol">}</a> <a id="12072" class="Symbol">→</a> <a id="12074" href="Graded.Restrictions.html#12044" class="Bound">pr</a><a id="12076" class="Symbol">)</a>
  <a id="12080" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12082" class="Symbol">(λ</a> <a id="12085" class="Symbol">{</a><a id="12086" href="Graded.Restrictions.html#12086" class="Bound">_</a> <a id="12088" href="Graded.Restrictions.html#12088" class="Bound">_</a><a id="12089" class="Symbol">}</a> <a id="12091" class="Symbol">→</a> <a id="12093" class="Symbol">(</a><a id="12094" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12097" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="12101" class="Symbol">)</a> <a id="12103" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12106" class="Symbol">(</a><a id="12107" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="12110" href="Graded.Restrictions.html#11961" class="Bound">𝟙≢𝟘</a><a id="12113" class="Symbol">)</a> <a id="12115" href="Function.Base.html#1115" class="Function Operator">∘→</a> <a id="12118" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="12123" class="Symbol">)</a>
  <a id="12127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12129" href="Graded.Restrictions.html#12049" class="Bound">rest</a>

<a id="12135" class="Keyword">opaque</a>

  <a id="12145" class="Comment">-- If Unitʷ-η holds for TR, then Only-some-erased-matches TR UR</a>
  <a id="12211" class="Comment">-- implies No-erased-matches TR UR.</a>

  <a id="Only-some-erased-matches→No-erased-matches"></a><a id="12250" href="Graded.Restrictions.html#12250" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12293" class="Symbol">:</a>
    <a id="12299" class="Symbol">∀</a> <a id="12301" href="Graded.Restrictions.html#12301" class="Bound">TR</a> <a id="12304" href="Graded.Restrictions.html#12304" class="Bound">UR</a> <a id="12307" class="Symbol">→</a>
    <a id="12313" href="Definition.Typed.Variant.html#795" class="Function">Type-restrictions.Unitʷ-η</a> <a id="12339" href="Graded.Restrictions.html#12301" class="Bound">TR</a> <a id="12342" class="Symbol">→</a>
    <a id="12348" href="Graded.Restrictions.html#9752" class="Function">Only-some-erased-matches</a> <a id="12373" href="Graded.Restrictions.html#12301" class="Bound">TR</a> <a id="12376" href="Graded.Restrictions.html#12304" class="Bound">UR</a> <a id="12379" class="Symbol">→</a> <a id="12381" href="Graded.Restrictions.html#11245" class="Function">No-erased-matches</a> <a id="12399" href="Graded.Restrictions.html#12301" class="Bound">TR</a> <a id="12402" href="Graded.Restrictions.html#12304" class="Bound">UR</a>
  <a id="12407" href="Graded.Restrictions.html#12250" class="Function">Only-some-erased-matches→No-erased-matches</a> <a id="12450" class="Symbol">_</a> <a id="12452" class="Symbol">_</a> <a id="12454" href="Graded.Restrictions.html#12454" class="Bound">η</a> <a id="12456" class="Symbol">=</a>
    <a id="12462" href="Data.Product.Base.html#2173" class="Function">Σ.map</a> <a id="12468" href="Function.Base.html#704" class="Function">idᶠ</a> <a id="12472" class="Symbol">((λ</a> <a id="12476" class="Symbol">{</a><a id="12477" href="Graded.Restrictions.html#12477" class="Bound">_</a> <a id="12479" href="Graded.Restrictions.html#12479" class="Bound">_</a><a id="12480" class="Symbol">}</a> <a id="12482" href="Graded.Restrictions.html#12482" class="Bound">_</a> <a id="12484" href="Graded.Restrictions.html#12484" class="Bound">_</a> <a id="12486" class="Symbol">→</a> <a id="12488" href="Graded.Restrictions.html#12454" class="Bound">η</a><a id="12489" class="Symbol">)</a> <a id="12491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="12493" class="Symbol">)</a> <a id="12495" href="Function.Base.html#1115" class="Function Operator">∘→_</a>

<a id="12500" class="Comment">------------------------------------------------------------------------</a>
<a id="12573" class="Comment">-- Some lemmas related to TD.Assumptions</a>

<a id="12615" class="Keyword">opaque</a>

  <a id="12625" class="Comment">-- If grade equality is decidable, then TD.Assumptions holds for</a>
  <a id="12692" class="Comment">-- no-type-restrictions b.</a>

  <a id="Assumptions-no-type-restrictions"></a><a id="12722" href="Graded.Restrictions.html#12722" class="Function">Assumptions-no-type-restrictions</a> <a id="12755" class="Symbol">:</a>
    <a id="12761" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="12771" class="Symbol">(</a><a id="12772" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="12776" class="Symbol">{</a><a id="12777" class="Argument">A</a> <a id="12779" class="Symbol">=</a> <a id="12781" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="12782" class="Symbol">})</a> <a id="12785" class="Symbol">→</a> <a id="12787" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="12802" class="Symbol">(</a><a id="12803" href="Graded.Restrictions.html#1563" class="Function">no-type-restrictions</a> <a id="12824" href="Graded.Restrictions.html#1184" class="Generalizable">b</a><a id="12825" class="Symbol">)</a>
  <a id="12829" href="Graded.Restrictions.html#12722" class="Function">Assumptions-no-type-restrictions</a> <a id="12862" class="Symbol">{</a><a id="12863" href="Graded.Restrictions.html#12863" class="Bound">b</a><a id="12864" class="Symbol">}</a> <a id="12866" href="Graded.Restrictions.html#12866" class="Bound">dec</a> <a id="12870" class="Symbol">=</a> <a id="12872" class="Symbol">λ</a> <a id="12874" class="Keyword">where</a>
      <a id="12886" class="Symbol">.</a><a id="12887" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="12906" class="Symbol">→</a> <a id="12908" href="Graded.Restrictions.html#12866" class="Bound">dec</a>
      <a id="12918" class="Symbol">.</a><a id="12919" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="12933" class="Symbol">_</a>    <a id="12938" class="Symbol">→</a> <a id="12940" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="12944" class="Symbol">_</a>
      <a id="12952" class="Symbol">.</a><a id="12953" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="12965" class="Symbol">_</a> <a id="12967" class="Symbol">_</a> <a id="12969" class="Symbol">_</a>  <a id="12972" class="Symbol">→</a> <a id="12974" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="12978" class="Symbol">_</a>
      <a id="12986" class="Symbol">.</a><a id="12987" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="13006" class="Symbol">→</a> <a id="13008" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13013" href="Tools.PropositionalEquality.html#2041" class="Function">singleton</a> <a id="13023" href="Graded.Restrictions.html#12863" class="Bound">b</a> <a id="13025" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13028" class="Symbol">λ</a> <a id="13030" class="Keyword">where</a>
        <a id="13044" class="Symbol">(</a><a id="13045" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="13051" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13053" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13057" class="Symbol">)</a> <a id="13059" class="Symbol">→</a> <a id="13061" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13065" class="Symbol">_</a>
        <a id="13075" class="Symbol">(</a><a id="13076" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13084" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="13088" class="Symbol">)</a> <a id="13090" class="Symbol">→</a> <a id="13092" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13095" class="Symbol">(λ</a> <a id="13098" class="Symbol">())</a>
      <a id="13108" class="Symbol">.</a><a id="13109" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="13126" class="Symbol">_</a> <a id="13128" class="Symbol">→</a> <a id="13130" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13135" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a> <a id="13144" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13147" class="Symbol">λ</a> <a id="13149" class="Keyword">where</a>
        <a id="13163" class="Symbol">(</a><a id="13164" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13168" href="Graded.Restrictions.html#13168" class="Bound">trivial</a><a id="13175" class="Symbol">)</a>    <a id="13180" class="Symbol">→</a> <a id="13182" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13185" class="Symbol">(</a><a id="13186" href="Function.Base.html#1974" class="Function Operator">_$</a> <a id="13189" href="Graded.Restrictions.html#13168" class="Bound">trivial</a><a id="13196" class="Symbol">)</a>
        <a id="13206" class="Symbol">(</a><a id="13207" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="13210" href="Graded.Restrictions.html#13210" class="Bound">non-trivial</a><a id="13221" class="Symbol">)</a> <a id="13223" class="Symbol">→</a> <a id="13225" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="13229" href="Graded.Restrictions.html#13210" class="Bound">non-trivial</a>
    <a id="13245" class="Keyword">where</a>
    <a id="13255" class="Keyword">open</a> <a id="13260" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13276" class="Keyword">opaque</a>

  <a id="13286" class="Comment">-- The function equal-binder-quantities preserves TD.Assumptions.</a>

  <a id="Assumptions-equal-binder-quantities"></a><a id="13355" href="Graded.Restrictions.html#13355" class="Function">Assumptions-equal-binder-quantities</a> <a id="13391" class="Symbol">:</a>
    <a id="13397" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13412" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="13415" class="Symbol">→</a> <a id="13417" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13432" class="Symbol">(</a><a id="13433" href="Graded.Restrictions.html#2076" class="Function">equal-binder-quantities</a> <a id="13457" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="13459" class="Symbol">)</a>
  <a id="13463" href="Graded.Restrictions.html#13355" class="Function">Assumptions-equal-binder-quantities</a> <a id="13499" href="Graded.Restrictions.html#13499" class="Bound">as</a> <a id="13502" class="Symbol">=</a> <a id="13504" class="Symbol">λ</a> <a id="13506" class="Keyword">where</a>
      <a id="13518" class="Symbol">.</a><a id="13519" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="13537" class="Symbol">→</a> <a id="13539" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="13551" class="Symbol">.</a><a id="13552" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="13570" class="Symbol">→</a> <a id="13572" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="13594" class="Symbol">.</a><a id="13595" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="13607" href="Graded.Restrictions.html#13607" class="Bound">b</a> <a id="13609" href="Graded.Restrictions.html#13609" class="Bound">p</a> <a id="13611" href="Graded.Restrictions.html#13611" class="Bound">q</a> <a id="13613" class="Symbol">→</a> <a id="13615" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="13629" href="Graded.Restrictions.html#13607" class="Bound">b</a> <a id="13631" href="Graded.Restrictions.html#13609" class="Bound">p</a> <a id="13633" href="Graded.Restrictions.html#13611" class="Bound">q</a> <a id="13635" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="13641" href="Graded.Restrictions.html#13609" class="Bound">p</a> <a id="13643" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="13647" href="Graded.Restrictions.html#13611" class="Bound">q</a>
      <a id="13655" class="Symbol">.</a><a id="13656" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="13674" class="Symbol">→</a> <a id="13676" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="13695" class="Symbol">.</a><a id="13696" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="13714" class="Symbol">→</a> <a id="13716" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="13739" class="Keyword">where</a>
    <a id="13749" class="Keyword">module</a> <a id="13756" href="Graded.Restrictions.html#13756" class="Module">A</a> <a id="13758" class="Symbol">=</a> <a id="13760" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="13775" href="Graded.Restrictions.html#13499" class="Bound">as</a>
    <a id="13782" class="Keyword">open</a> <a id="13787" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="13803" class="Keyword">opaque</a>

  <a id="13813" class="Comment">-- The function second-ΠΣ-quantities-𝟘 preserves TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘"></a><a id="13881" href="Graded.Restrictions.html#13881" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="13916" class="Symbol">:</a>
    <a id="13922" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13937" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="13940" class="Symbol">→</a> <a id="13942" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="13957" class="Symbol">(</a><a id="13958" href="Graded.Restrictions.html#2481" class="Function">second-ΠΣ-quantities-𝟘</a> <a id="13981" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="13983" class="Symbol">)</a>
  <a id="13987" href="Graded.Restrictions.html#13881" class="Function">Assumptions-second-ΠΣ-quantities-𝟘</a> <a id="14022" href="Graded.Restrictions.html#14022" class="Bound">as</a> <a id="14025" class="Symbol">=</a> <a id="14027" class="Symbol">λ</a> <a id="14029" class="Keyword">where</a>
      <a id="14041" class="Symbol">.</a><a id="14042" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14060" class="Symbol">→</a> <a id="14062" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14074" class="Symbol">.</a><a id="14075" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14093" class="Symbol">→</a> <a id="14095" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14117" class="Symbol">.</a><a id="14118" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14130" href="Graded.Restrictions.html#14130" class="Bound">b</a> <a id="14132" href="Graded.Restrictions.html#14132" class="Bound">p</a> <a id="14134" href="Graded.Restrictions.html#14134" class="Bound">q</a> <a id="14136" class="Symbol">→</a> <a id="14138" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14152" href="Graded.Restrictions.html#14130" class="Bound">b</a> <a id="14154" href="Graded.Restrictions.html#14132" class="Bound">p</a> <a id="14156" href="Graded.Restrictions.html#14134" class="Bound">q</a> <a id="14158" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="14164" href="Graded.Restrictions.html#14134" class="Bound">q</a> <a id="14166" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14170" href="Graded.Modality.html#847" class="Function">𝟘</a>
      <a id="14178" class="Symbol">.</a><a id="14179" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14197" class="Symbol">→</a> <a id="14199" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14218" class="Symbol">.</a><a id="14219" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14237" class="Symbol">→</a> <a id="14239" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14262" class="Keyword">where</a>
    <a id="14272" class="Keyword">module</a> <a id="14279" href="Graded.Restrictions.html#14279" class="Module">A</a> <a id="14281" class="Symbol">=</a> <a id="14283" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="14298" href="Graded.Restrictions.html#14022" class="Bound">as</a>
    <a id="14305" class="Keyword">open</a> <a id="14310" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="14326" class="Keyword">opaque</a>

  <a id="14336" class="Comment">-- The function second-ΠΣ-quantities-𝟘-or-ω preserves</a>
  <a id="14392" class="Comment">-- TD.Assumptions.</a>

  <a id="Assumptions-second-ΠΣ-quantities-𝟘-or-ω"></a><a id="14414" href="Graded.Restrictions.html#14414" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14454" class="Symbol">:</a>
    <a id="14460" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14475" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="14478" class="Symbol">→</a> <a id="14480" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="14495" class="Symbol">(</a><a id="14496" href="Graded.Restrictions.html#3039" class="Function">second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14524" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="14526" class="Symbol">)</a>
  <a id="14530" href="Graded.Restrictions.html#14414" class="Function">Assumptions-second-ΠΣ-quantities-𝟘-or-ω</a> <a id="14570" href="Graded.Restrictions.html#14570" class="Bound">as</a> <a id="14573" class="Symbol">=</a> <a id="14575" class="Symbol">λ</a> <a id="14577" class="Keyword">where</a>
      <a id="14589" class="Symbol">.</a><a id="14590" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>               <a id="14608" class="Symbol">→</a> <a id="14610" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="14622" class="Symbol">.</a><a id="14623" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>     <a id="14641" class="Symbol">→</a> <a id="14643" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="14665" class="Symbol">.</a><a id="14666" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="14678" href="Graded.Restrictions.html#14678" class="Bound">b</a> <a id="14680" href="Graded.Restrictions.html#14680" class="Bound">p</a> <a id="14682" href="Graded.Restrictions.html#14682" class="Bound">q</a> <a id="14684" class="Symbol">→</a> <a id="14686" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="14700" href="Graded.Restrictions.html#14678" class="Bound">b</a> <a id="14702" href="Graded.Restrictions.html#14680" class="Bound">p</a> <a id="14704" href="Graded.Restrictions.html#14682" class="Bound">q</a>
                             <a id="14735" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="14768" class="Symbol">(</a><a id="14769" href="Graded.Restrictions.html#14680" class="Bound">p</a> <a id="14771" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14775" href="Graded.Modality.html#851" class="Function">ω</a> <a id="14777" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="14783" href="Graded.Restrictions.html#14682" class="Bound">q</a> <a id="14785" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14789" href="Graded.Modality.html#851" class="Function">ω</a><a id="14790" class="Symbol">)</a>
                             <a id="14821" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                           <a id="14854" class="Symbol">(</a><a id="14855" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="14858" class="Symbol">(</a><a id="14859" href="Graded.Restrictions.html#14680" class="Bound">p</a> <a id="14861" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14865" href="Graded.Modality.html#851" class="Function">ω</a><a id="14866" class="Symbol">)</a> <a id="14868" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="14874" href="Graded.Restrictions.html#14682" class="Bound">q</a> <a id="14876" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A.≟</a> <a id="14880" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="14881" class="Symbol">)</a>
      <a id="14889" class="Symbol">.</a><a id="14890" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>        <a id="14908" class="Symbol">→</a> <a id="14910" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="14929" class="Symbol">.</a><a id="14930" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a>  <a id="14948" class="Symbol">→</a> <a id="14950" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a>
    <a id="14973" class="Keyword">where</a>
    <a id="14983" class="Keyword">module</a> <a id="14990" href="Graded.Restrictions.html#14990" class="Module">A</a> <a id="14992" class="Symbol">=</a> <a id="14994" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="15009" href="Graded.Restrictions.html#14570" class="Bound">as</a>
    <a id="15016" class="Keyword">open</a> <a id="15021" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="15037" class="Keyword">opaque</a>

  <a id="15047" class="Comment">-- The function strong-types-restricted′ P ok preserves</a>
  <a id="15105" class="Comment">-- TD.Assumptions if P is pointwise decidable.</a>

  <a id="Assumptions-strong-types-restricted′"></a><a id="15155" href="Graded.Restrictions.html#15155" class="Function">Assumptions-strong-types-restricted′</a> <a id="15192" class="Symbol">:</a>
    <a id="15198" class="Symbol">{</a><a id="15199" href="Graded.Restrictions.html#15199" class="Bound">P</a> <a id="15201" class="Symbol">:</a> <a id="15203" href="Definition.Untyped.NotParametrised.html#1577" class="Datatype">BinderMode</a> <a id="15214" class="Symbol">→</a> <a id="15216" href="Graded.Restrictions.html#300" class="Bound">M</a> <a id="15218" class="Symbol">→</a> <a id="15220" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="15224" href="Graded.Restrictions.html#296" class="Bound">a</a><a id="15225" class="Symbol">}</a>
    <a id="15231" class="Symbol">{</a><a id="15232" href="Graded.Restrictions.html#15232" class="Bound">ok</a> <a id="15235" class="Symbol">:</a> <a id="15237" class="Symbol">∀</a> <a id="15239" class="Symbol">{</a><a id="15240" href="Graded.Restrictions.html#15240" class="Bound">s</a><a id="15241" class="Symbol">}</a> <a id="15243" class="Symbol">→</a> <a id="15245" href="Graded.Restrictions.html#15240" class="Bound">s</a> <a id="15247" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15249" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a> <a id="15251" class="Symbol">→</a> <a id="15253" href="Graded.Restrictions.html#15199" class="Bound">P</a> <a id="15255" class="Symbol">(</a><a id="15256" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="15260" href="Graded.Restrictions.html#15240" class="Bound">s</a><a id="15261" class="Symbol">)</a> <a id="15263" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="15264" class="Symbol">}</a> <a id="15266" class="Symbol">→</a>
    <a id="15272" class="Symbol">(∀</a> <a id="15275" href="Graded.Restrictions.html#15275" class="Bound">b</a> <a id="15277" href="Graded.Restrictions.html#15277" class="Bound">p</a> <a id="15279" class="Symbol">→</a> <a id="15281" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="15285" class="Symbol">(</a><a id="15286" href="Graded.Restrictions.html#15199" class="Bound">P</a> <a id="15288" href="Graded.Restrictions.html#15275" class="Bound">b</a> <a id="15290" href="Graded.Restrictions.html#15277" class="Bound">p</a><a id="15291" class="Symbol">))</a> <a id="15294" class="Symbol">→</a>
    <a id="15300" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15315" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="15318" class="Symbol">→</a>
    <a id="15324" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="15339" class="Symbol">(</a><a id="15340" href="Graded.Restrictions.html#3485" class="Function">strong-types-restricted′</a> <a id="15365" href="Graded.Restrictions.html#15199" class="Bound">P</a> <a id="15367" href="Graded.Restrictions.html#15232" class="Bound">ok</a> <a id="15370" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="15372" class="Symbol">)</a>
  <a id="15376" href="Graded.Restrictions.html#15155" class="Function">Assumptions-strong-types-restricted′</a> <a id="15413" href="Graded.Restrictions.html#15413" class="Bound">P-dec</a> <a id="15419" href="Graded.Restrictions.html#15419" class="Bound">as</a> <a id="15422" class="Symbol">=</a> <a id="15424" class="Symbol">λ</a> <a id="15426" class="Keyword">where</a>
      <a id="15438" class="Symbol">.</a><a id="15439" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                <a id="15458" class="Symbol">→</a> <a id="15460" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="15472" class="Symbol">.</a><a id="15473" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a> <a id="15487" href="Graded.Restrictions.html#15487" class="Bound">s</a>    <a id="15492" class="Symbol">→</a> <a id="15494" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a> <a id="15510" href="Graded.Restrictions.html#15487" class="Bound">s</a> <a id="15512" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a> <a id="15518" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="15521" class="Symbol">(</a><a id="15522" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="15534" href="Graded.Restrictions.html#15487" class="Bound">s</a> <a id="15536" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="15537" class="Symbol">)</a>
      <a id="15545" class="Symbol">.</a><a id="15546" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a> <a id="15558" href="Graded.Restrictions.html#15558" class="Bound">b</a> <a id="15560" href="Graded.Restrictions.html#15560" class="Bound">p</a> <a id="15562" href="Graded.Restrictions.html#15562" class="Bound">q</a>  <a id="15565" class="Symbol">→</a> <a id="15567" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a> <a id="15581" href="Graded.Restrictions.html#15558" class="Bound">b</a> <a id="15583" href="Graded.Restrictions.html#15560" class="Bound">p</a> <a id="15585" href="Graded.Restrictions.html#15562" class="Bound">q</a>
                              <a id="15617" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="15651" href="Graded.Restrictions.html#15413" class="Bound">P-dec</a> <a id="15657" href="Graded.Restrictions.html#15558" class="Bound">b</a> <a id="15659" href="Graded.Restrictions.html#15560" class="Bound">p</a>
      <a id="15667" class="Symbol">.</a><a id="15668" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>         <a id="15687" class="Symbol">→</a> <a id="15689" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="15708" class="Symbol">.</a><a id="15709" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="15726" href="Graded.Restrictions.html#15726" class="Bound">s</a> <a id="15728" class="Symbol">→</a> <a id="15730" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="15749" href="Graded.Restrictions.html#15726" class="Bound">s</a>
                              <a id="15781" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                            <a id="15815" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="15818" class="Symbol">(</a><a id="15819" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="15831" href="Graded.Restrictions.html#15726" class="Bound">s</a> <a id="15833" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="15834" class="Symbol">)</a>
    <a id="15840" class="Keyword">where</a>
    <a id="15850" class="Keyword">module</a> <a id="15857" href="Graded.Restrictions.html#15857" class="Module">A</a> <a id="15859" class="Symbol">=</a> <a id="15861" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="15876" href="Graded.Restrictions.html#15419" class="Bound">as</a>
    <a id="15883" class="Keyword">open</a> <a id="15888" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="15904" class="Keyword">opaque</a>

  <a id="15914" class="Comment">-- The function strong-types-restricted preserves TD.Assumptions.</a>

  <a id="Assumptions-strong-types-restricted"></a><a id="15983" href="Graded.Restrictions.html#15983" class="Function">Assumptions-strong-types-restricted</a> <a id="16019" class="Symbol">:</a>
    <a id="16025" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16040" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="16043" class="Symbol">→</a> <a id="16045" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16060" class="Symbol">(</a><a id="16061" href="Graded.Restrictions.html#4274" class="Function">strong-types-restricted</a> <a id="16085" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="16087" class="Symbol">)</a>
  <a id="16091" href="Graded.Restrictions.html#15983" class="Function">Assumptions-strong-types-restricted</a> <a id="16127" href="Graded.Restrictions.html#16127" class="Bound">as</a> <a id="16130" class="Symbol">=</a>
    <a id="16136" href="Graded.Restrictions.html#15155" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="16179" class="Symbol">(λ</a> <a id="16182" href="Graded.Restrictions.html#16182" class="Bound">b</a> <a id="16184" href="Graded.Restrictions.html#16184" class="Bound">p</a> <a id="16186" class="Symbol">→</a> <a id="16188" href="Definition.Untyped.Properties.NotParametrised.html#4421" class="Function">decBinderMode</a> <a id="16202" href="Graded.Restrictions.html#16182" class="Bound">b</a> <a id="16204" class="Symbol">(</a><a id="16205" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="16209" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="16210" class="Symbol">)</a> <a id="16212" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a> <a id="16218" href="Graded.Restrictions.html#16184" class="Bound">p</a> <a id="16220" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">≟</a> <a id="16222" href="Graded.Modality.html#849" class="Function">𝟙</a><a id="16223" class="Symbol">)</a>
      <a id="16231" href="Graded.Restrictions.html#16127" class="Bound">as</a>
    <a id="16238" class="Keyword">where</a>
    <a id="16248" class="Keyword">open</a> <a id="16253" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16268" href="Graded.Restrictions.html#16127" class="Bound">as</a>

<a id="16272" class="Keyword">opaque</a>

  <a id="16282" class="Comment">-- The function no-strong-types preserves TD.Assumptions.</a>

  <a id="Assumptions-no-strong-types"></a><a id="16343" href="Graded.Restrictions.html#16343" class="Function">Assumptions-no-strong-types</a> <a id="16371" class="Symbol">:</a>
    <a id="16377" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16392" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="16395" class="Symbol">→</a> <a id="16397" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16412" class="Symbol">(</a><a id="16413" href="Graded.Restrictions.html#4646" class="Function">no-strong-types</a> <a id="16429" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="16431" class="Symbol">)</a>
  <a id="16435" href="Graded.Restrictions.html#16343" class="Function">Assumptions-no-strong-types</a> <a id="16463" href="Graded.Restrictions.html#16463" class="Bound">as</a> <a id="16466" class="Symbol">=</a>
    <a id="16472" href="Graded.Restrictions.html#15155" class="Function">Assumptions-strong-types-restricted′</a>
      <a id="16515" class="Symbol">(λ</a> <a id="16518" href="Graded.Restrictions.html#16518" class="Bound">b</a> <a id="16520" href="Graded.Restrictions.html#16520" class="Bound">_</a> <a id="16522" class="Symbol">→</a> <a id="16524" href="Tools.Relation.html#560" class="Function">Dec.map</a> <a id="16532" href="Level.html#466" class="InductiveConstructor">lift</a> <a id="16537" href="Level.html#479" class="Field">Lift.lower</a> <a id="16548" class="Symbol">(</a><a id="16549" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="16552" class="Symbol">(</a><a id="16553" href="Definition.Untyped.Properties.NotParametrised.html#4421" class="Function">decBinderMode</a> <a id="16567" href="Graded.Restrictions.html#16518" class="Bound">b</a> <a id="16569" class="Symbol">(</a><a id="16570" href="Definition.Untyped.NotParametrised.html#1621" class="InductiveConstructor">BMΣ</a> <a id="16574" href="Definition.Untyped.NotParametrised.html#1537" class="InductiveConstructor">𝕤</a><a id="16575" class="Symbol">))))</a>
      <a id="16586" href="Graded.Restrictions.html#16463" class="Bound">as</a>
    <a id="16593" class="Keyword">where</a>
    <a id="16603" class="Keyword">open</a> <a id="16608" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="16623" href="Graded.Restrictions.html#16463" class="Bound">as</a>

<a id="16627" class="Keyword">opaque</a>

  <a id="16637" class="Comment">-- The function no-erased-matches-TR s preserves TD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-TR"></a><a id="16705" href="Graded.Restrictions.html#16705" class="Function">Assumptions-no-erased-matches-TR</a> <a id="16738" class="Symbol">:</a>
    <a id="16744" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16759" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a> <a id="16762" class="Symbol">→</a> <a id="16764" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Record">TD.Assumptions</a> <a id="16779" class="Symbol">(</a><a id="16780" href="Graded.Restrictions.html#4932" class="Function">no-erased-matches-TR</a> <a id="16801" href="Graded.Restrictions.html#1207" class="Generalizable">s</a> <a id="16803" href="Graded.Restrictions.html#1133" class="Generalizable">TR</a><a id="16805" class="Symbol">)</a>
  <a id="16809" href="Graded.Restrictions.html#16705" class="Function">Assumptions-no-erased-matches-TR</a> <a id="16842" class="Symbol">{</a><a id="16843" href="Graded.Restrictions.html#16843" class="Bound">s</a><a id="16844" class="Symbol">}</a> <a id="16846" href="Graded.Restrictions.html#16846" class="Bound">as</a> <a id="16849" class="Symbol">=</a> <a id="16851" class="Symbol">λ</a> <a id="16853" class="Keyword">where</a>
      <a id="16865" class="Symbol">.</a><a id="16866" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">_≟_</a>                 <a id="16886" class="Symbol">→</a> <a id="16888" href="Definition.Typechecking.Decidable.Assumptions.html#652" class="Field Operator">A._≟_</a>
      <a id="16900" class="Symbol">.</a><a id="16901" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">Unit-allowed?</a>       <a id="16921" class="Symbol">→</a> <a id="16923" href="Definition.Typechecking.Decidable.Assumptions.html#746" class="Field">A.Unit-allowed?</a>
      <a id="16945" class="Symbol">.</a><a id="16946" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">ΠΣ-allowed?</a>         <a id="16966" class="Symbol">→</a> <a id="16968" href="Definition.Typechecking.Decidable.Assumptions.html#836" class="Field">A.ΠΣ-allowed?</a>
      <a id="16988" class="Symbol">.</a><a id="16989" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">K-allowed?</a>          <a id="17009" class="Symbol">→</a> <a id="17011" href="Definition.Typechecking.Decidable.Assumptions.html#942" class="Field">A.K-allowed?</a>
      <a id="17030" class="Symbol">.</a><a id="17031" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">[]-cong-allowed?</a> <a id="17048" href="Graded.Restrictions.html#17048" class="Bound">s′</a> <a id="17051" class="Symbol">→</a> <a id="17053" href="Definition.Typechecking.Decidable.Assumptions.html#1053" class="Field">A.[]-cong-allowed?</a> <a id="17072" href="Graded.Restrictions.html#17048" class="Bound">s′</a>
                               <a id="17106" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                             <a id="17141" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="17144" class="Symbol">(</a><a id="17145" href="Definition.Untyped.Properties.NotParametrised.html#4223" class="Function">decStrength</a> <a id="17157" href="Graded.Restrictions.html#17048" class="Bound">s′</a> <a id="17160" href="Graded.Restrictions.html#16843" class="Bound">s</a><a id="17161" class="Symbol">)</a>
    <a id="17167" class="Keyword">where</a>
    <a id="17177" class="Keyword">module</a> <a id="17184" href="Graded.Restrictions.html#17184" class="Module">A</a> <a id="17186" class="Symbol">=</a> <a id="17188" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a> <a id="17203" href="Graded.Restrictions.html#16846" class="Bound">as</a>
    <a id="17210" class="Keyword">open</a> <a id="17215" href="Definition.Typechecking.Decidable.Assumptions.html#549" class="Module">TD.Assumptions</a>

<a id="17231" class="Comment">------------------------------------------------------------------------</a>
<a id="17304" class="Comment">-- Some lemmas related to UD.Assumptions</a>

<a id="17346" class="Keyword">opaque</a>

  <a id="17356" class="Comment">-- If grade equality is decidable and the modality comes with a</a>
  <a id="17422" class="Comment">-- dedicated nr function, then UD.Assumptions holds for</a>
  <a id="17480" class="Comment">-- no-usage-restrictions b false.</a>

  <a id="Assumptions-no-usage-restrictions"></a><a id="17517" href="Graded.Restrictions.html#17517" class="Function">Assumptions-no-usage-restrictions</a> <a id="17551" class="Symbol">:</a>
    <a id="17557" class="Symbol">⦃</a> <a id="17559" href="Graded.Restrictions.html#17559" class="Bound">has-nr</a> <a id="17566" class="Symbol">:</a> <a id="17568" href="Graded.Modality.Dedicated-nr.html#716" class="Record">Dedicated-nr</a> <a id="17581" class="Symbol">⦄</a> <a id="17583" class="Symbol">→</a>
    <a id="17589" href="Relation.Binary.Definitions.html#6161" class="Function">Decidable</a> <a id="17599" class="Symbol">(</a><a id="17600" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a> <a id="17604" class="Symbol">{</a><a id="17605" class="Argument">A</a> <a id="17607" class="Symbol">=</a> <a id="17609" href="Graded.Restrictions.html#300" class="Bound">M</a><a id="17610" class="Symbol">})</a> <a id="17613" class="Symbol">→</a>
    <a id="17619" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="17634" class="Symbol">(</a><a id="17635" href="Graded.Restrictions.html#5859" class="Function">no-usage-restrictions</a> <a id="17657" href="Graded.Restrictions.html#1184" class="Generalizable">b</a> <a id="17659" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="17664" class="Symbol">)</a>
  <a id="17668" href="Graded.Restrictions.html#17517" class="Function">Assumptions-no-usage-restrictions</a> <a id="17702" href="Graded.Restrictions.html#17702" class="Bound">dec</a> <a id="17706" class="Symbol">=</a> <a id="17708" class="Symbol">λ</a> <a id="17710" class="Keyword">where</a>
      <a id="17722" class="Symbol">.</a><a id="17723" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="17748" class="Symbol">→</a> <a id="17750" href="Graded.Restrictions.html#17702" class="Bound">dec</a>
      <a id="17760" class="Symbol">.</a><a id="17761" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="17778" class="Symbol">_</a> <a id="17780" class="Symbol">_</a> <a id="17782" class="Symbol">_</a> <a id="17784" class="Symbol">_</a> <a id="17786" class="Symbol">→</a> <a id="17788" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17792" class="Symbol">_</a>
      <a id="17800" class="Symbol">.</a><a id="17801" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="17819" class="Symbol">_</a> <a id="17821" class="Symbol">_</a> <a id="17823" class="Symbol">_</a>  <a id="17826" class="Symbol">→</a> <a id="17828" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17832" class="Symbol">_</a>
      <a id="17840" class="Symbol">.</a><a id="17841" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="17859" class="Symbol">_</a> <a id="17861" class="Symbol">_</a>    <a id="17866" class="Symbol">→</a> <a id="17868" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="17872" class="Symbol">_</a>
    <a id="17878" class="Keyword">where</a>
    <a id="17888" class="Keyword">open</a> <a id="17893" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="17909" class="Keyword">opaque</a>

  <a id="17919" class="Comment">-- The function not-all-erased-matches-JK preserves UD.Assumptions.</a>

  <a id="Assumptions-not-all-erased-matches-JK"></a><a id="17990" href="Graded.Restrictions.html#17990" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="18028" class="Symbol">:</a>
    <a id="18034" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18049" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a> <a id="18052" class="Symbol">→</a> <a id="18054" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18069" class="Symbol">(</a><a id="18070" href="Graded.Restrictions.html#7037" class="Function">not-all-erased-matches-JK</a> <a id="18096" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a><a id="18098" class="Symbol">)</a>
  <a id="18102" href="Graded.Restrictions.html#17990" class="Function">Assumptions-not-all-erased-matches-JK</a> <a id="18140" href="Graded.Restrictions.html#18140" class="Bound">as</a> <a id="18143" class="Symbol">=</a> <a id="18145" class="Symbol">λ</a> <a id="18147" class="Keyword">where</a>
      <a id="18159" class="Symbol">.</a><a id="18160" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>               <a id="18178" class="Symbol">→</a> <a id="18180" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="18192" class="Symbol">.</a><a id="18193" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>  <a id="18211" class="Symbol">→</a> <a id="18213" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a>
      <a id="18238" class="Symbol">.</a><a id="18239" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>  <a id="18257" class="Symbol">→</a> <a id="18259" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="18284" class="Symbol">.</a><a id="18285" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a> <a id="18303" class="Symbol">→</a> <a id="18305" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="18329" class="Keyword">where</a>
    <a id="18339" class="Keyword">module</a> <a id="18346" href="Graded.Restrictions.html#18346" class="Module">A</a> <a id="18348" class="Symbol">=</a> <a id="18350" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="18365" href="Graded.Restrictions.html#18140" class="Bound">as</a>
    <a id="18372" class="Keyword">open</a> <a id="18377" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="18393" class="Keyword">opaque</a>

  <a id="18403" class="Comment">-- The function only-some-erased-matches preserves UD.Assumptions.</a>

  <a id="Assumptions-only-some-erased-matches"></a><a id="18473" href="Graded.Restrictions.html#18473" class="Function">Assumptions-only-some-erased-matches</a> <a id="18510" class="Symbol">:</a>
    <a id="18516" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18531" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a> <a id="18534" class="Symbol">→</a> <a id="18536" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="18551" class="Symbol">(</a><a id="18552" href="Graded.Restrictions.html#8038" class="Function">only-some-erased-matches</a> <a id="18577" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a><a id="18579" class="Symbol">)</a>
  <a id="18583" href="Graded.Restrictions.html#18473" class="Function">Assumptions-only-some-erased-matches</a> <a id="18620" href="Graded.Restrictions.html#18620" class="Bound">as</a> <a id="18623" class="Symbol">=</a> <a id="18625" class="Symbol">λ</a> <a id="18627" class="Keyword">where</a>
      <a id="18639" class="Symbol">.</a><a id="18640" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                      <a id="18665" class="Symbol">→</a> <a id="18667" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A._≟_</a>
      <a id="18679" class="Symbol">.</a><a id="18680" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a> <a id="18697" href="Graded.Restrictions.html#18697" class="Bound">m</a> <a id="18699" href="Graded.Restrictions.html#18699" class="Bound">r</a> <a id="18701" href="Graded.Restrictions.html#18701" class="Bound">p</a> <a id="18703" href="Graded.Restrictions.html#18703" class="Bound">q</a> <a id="18705" class="Symbol">→</a> <a id="18707" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">A.Prodrec-allowed?</a> <a id="18726" href="Graded.Restrictions.html#18697" class="Bound">m</a> <a id="18728" href="Graded.Restrictions.html#18699" class="Bound">r</a> <a id="18730" href="Graded.Restrictions.html#18701" class="Bound">p</a> <a id="18732" href="Graded.Restrictions.html#18703" class="Bound">q</a>
                                    <a id="18770" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                  <a id="18810" class="Symbol">(</a><a id="18811" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="18814" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                     <a id="18860" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="18901" href="Graded.Restrictions.html#18697" class="Bound">m</a> <a id="18903" href="Graded.Mode.html#5609" class="Function Operator">Mode.≟</a> <a id="18910" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
                                     <a id="18950" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                   <a id="18991" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="18994" class="Symbol">(</a><a id="18995" href="Graded.Restrictions.html#18699" class="Bound">r</a> <a id="18997" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">A.≟</a> <a id="19001" href="Graded.Modality.html#847" class="Function">𝟘</a><a id="19002" class="Symbol">))</a>
      <a id="19011" class="Symbol">.</a><a id="19012" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a>         <a id="19037" class="Symbol">→</a> <a id="19039" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">A.Unitrec-allowed?</a>
      <a id="19064" class="Symbol">.</a><a id="19065" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>        <a id="19090" class="Symbol">→</a> <a id="19092" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">A.Emptyrec-allowed?</a>
    <a id="19116" class="Keyword">where</a>
    <a id="19126" class="Keyword">module</a> <a id="19133" href="Graded.Restrictions.html#19133" class="Module">A</a> <a id="19135" class="Symbol">=</a> <a id="19137" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19152" href="Graded.Restrictions.html#18620" class="Bound">as</a>
    <a id="19159" class="Keyword">open</a> <a id="19164" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>

<a id="19180" class="Keyword">opaque</a>

  <a id="19190" class="Comment">-- The function no-erased-matches-UR TR preserves UD.Assumptions.</a>

  <a id="Assumptions-no-erased-matches-UR"></a><a id="19259" href="Graded.Restrictions.html#19259" class="Function">Assumptions-no-erased-matches-UR</a> <a id="19292" class="Symbol">:</a>
    <a id="19298" class="Symbol">∀</a> <a id="19300" href="Graded.Restrictions.html#19300" class="Bound">TR</a> <a id="19303" class="Symbol">→</a> <a id="19305" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19320" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a> <a id="19323" class="Symbol">→</a>
    <a id="19329" href="Graded.Usage.Decidable.Assumptions.html#748" class="Record">UD.Assumptions</a> <a id="19344" class="Symbol">(</a><a id="19345" href="Graded.Restrictions.html#8972" class="Function">no-erased-matches-UR</a> <a id="19366" href="Graded.Restrictions.html#19300" class="Bound">TR</a> <a id="19369" href="Graded.Restrictions.html#1158" class="Generalizable">UR</a><a id="19371" class="Symbol">)</a>
  <a id="19375" href="Graded.Restrictions.html#19259" class="Function">Assumptions-no-erased-matches-UR</a> <a id="19408" href="Graded.Restrictions.html#19408" class="Bound">TR</a> <a id="19411" href="Graded.Restrictions.html#19411" class="Bound">as</a> <a id="19414" class="Symbol">=</a> <a id="19416" class="Symbol">λ</a> <a id="19418" class="Keyword">where</a>
      <a id="19430" class="Symbol">.</a><a id="19431" href="Graded.Usage.Decidable.Assumptions.html#862" class="Field Operator">_≟_</a>                    <a id="19454" class="Symbol">→</a> <a id="19456" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A._≟_</a>
      <a id="19468" class="Symbol">.</a><a id="19469" href="Graded.Usage.Decidable.Assumptions.html#961" class="Field">Prodrec-allowed?</a>       <a id="19492" class="Symbol">→</a> <a id="19494" href="Graded.Usage.Decidable.Assumptions.html#961" class="Function">A.Prodrec-allowed?</a>
      <a id="19519" class="Symbol">.</a><a id="19520" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Field">Unitrec-allowed?</a> <a id="19537" href="Graded.Restrictions.html#19537" class="Bound">m</a> <a id="19539" href="Graded.Restrictions.html#19539" class="Bound">p</a> <a id="19541" href="Graded.Restrictions.html#19541" class="Bound">q</a> <a id="19543" class="Symbol">→</a> <a id="19545" href="Graded.Usage.Decidable.Assumptions.html#1091" class="Function">A.Unitrec-allowed?</a> <a id="19564" href="Graded.Restrictions.html#19537" class="Bound">m</a> <a id="19566" href="Graded.Restrictions.html#19539" class="Bound">p</a> <a id="19568" href="Graded.Restrictions.html#19541" class="Bound">q</a>
                                  <a id="19604" href="Relation.Nullary.Decidable.Core.html#2609" class="Function Operator">×-dec</a>
                                <a id="19642" class="Symbol">(</a><a id="19643" href="Relation.Nullary.Decidable.Core.html#2517" class="Function">¬?</a> <a id="19646" href="Graded.Modality.Properties.Equivalence.html#1172" class="Function">trivial?</a>
                                   <a id="19690" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19729" href="Graded.Restrictions.html#19537" class="Bound">m</a> <a id="19731" href="Graded.Mode.html#5609" class="Function Operator">Mode.≟</a> <a id="19738" href="Graded.Mode.html#1157" class="InductiveConstructor">𝟙ᵐ</a>
                                   <a id="19776" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19815" href="Graded.Restrictions.html#19539" class="Bound">p</a> <a id="19817" href="Graded.Usage.Decidable.Assumptions.html#862" class="Function Operator">A.≟</a> <a id="19821" href="Graded.Modality.html#847" class="Function">𝟘</a>
                                   <a id="19858" href="Relation.Nullary.Decidable.Core.html#2869" class="Function Operator">→-dec</a>
                                 <a id="19897" href="Definition.Typed.Variant.html#878" class="Function">Unitʷ-η?</a><a id="19905" class="Symbol">)</a>
      <a id="19913" class="Symbol">.</a><a id="19914" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Field">Emptyrec-allowed?</a>      <a id="19937" class="Symbol">→</a> <a id="19939" href="Graded.Usage.Decidable.Assumptions.html#1218" class="Function">A.Emptyrec-allowed?</a>
    <a id="19963" class="Keyword">where</a>
    <a id="19973" class="Keyword">module</a> <a id="19980" href="Graded.Restrictions.html#19980" class="Module">A</a> <a id="19982" class="Symbol">=</a> <a id="19984" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a> <a id="19999" class="Symbol">(</a><a id="20000" href="Graded.Restrictions.html#18473" class="Function">Assumptions-only-some-erased-matches</a> <a id="20037" href="Graded.Restrictions.html#19411" class="Bound">as</a><a id="20039" class="Symbol">)</a>
    <a id="20045" class="Keyword">open</a> <a id="20050" href="Graded.Usage.Decidable.Assumptions.html#748" class="Module">UD.Assumptions</a>
    <a id="20069" class="Keyword">open</a> <a id="20074" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="20092" href="Graded.Restrictions.html#19408" class="Bound">TR</a>
</pre></body></html>