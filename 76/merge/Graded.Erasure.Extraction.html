<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Erasure.Extraction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The extraction function.</a>
<a id="102" class="Comment">------------------------------------------------------------------------</a>

<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Graded.Modality.html" class="Module">Graded.Modality</a>

<a id="205" class="Keyword">module</a> <a id="212" href="Graded.Erasure.Extraction.html" class="Module">Graded.Erasure.Extraction</a>
  <a id="240" class="Symbol">{</a><a id="241" href="Graded.Erasure.Extraction.html#241" class="Bound">a</a><a id="242" class="Symbol">}</a> <a id="244" class="Symbol">{</a><a id="245" href="Graded.Erasure.Extraction.html#245" class="Bound">M</a> <a id="247" class="Symbol">:</a> <a id="249" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="253" href="Graded.Erasure.Extraction.html#241" class="Bound">a</a><a id="254" class="Symbol">}</a>
  <a id="258" class="Symbol">(</a><a id="259" href="Graded.Erasure.Extraction.html#259" class="Bound">𝕄</a> <a id="261" class="Symbol">:</a> <a id="263" href="Graded.Modality.html#9574" class="Record">Modality</a> <a id="272" href="Graded.Erasure.Extraction.html#245" class="Bound">M</a><a id="273" class="Symbol">)</a>
  <a id="277" class="Keyword">where</a>

<a id="284" class="Keyword">open</a> <a id="289" href="Graded.Modality.html#9574" class="Module">Modality</a> <a id="298" href="Graded.Erasure.Extraction.html#259" class="Bound">𝕄</a>

<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Tools.Bool.html" class="Module">Tools.Bool</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="373" class="Keyword">using</a> <a id="379" class="Symbol">(</a><a id="380" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a><a id="383" class="Symbol">;</a> <a id="385" href="Tools.Nat.html#2191" class="InductiveConstructor">2+</a><a id="387" class="Symbol">)</a>
<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="448" href="Graded.Erasure.Extraction.html#245" class="Bound">M</a> <a id="450" class="Symbol">as</a> <a id="U"></a><a id="453" href="Graded.Erasure.Extraction.html#453" class="Module">U</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Graded.Erasure.Target.html" class="Module">Graded.Erasure.Target</a> <a id="489" class="Symbol">as</a> <a id="492" class="Module">T</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Graded.Erasure.Target.Non-terminating.html" class="Module">Graded.Erasure.Target.Non-terminating</a>

<a id="545" class="Keyword">private</a>
  <a id="555" class="Keyword">variable</a>
    <a id="568" href="Graded.Erasure.Extraction.html#568" class="Generalizable">m</a> <a id="570" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="572" href="Graded.Erasure.Extraction.html#572" class="Generalizable">l</a> <a id="574" class="Symbol">:</a> <a id="576" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
    <a id="584" href="Graded.Erasure.Extraction.html#584" class="Generalizable">Γ</a> <a id="586" class="Symbol">:</a> <a id="588" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="592" href="Definition.Untyped.html#1181" class="Datatype">U.Term</a> <a id="599" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
    <a id="605" href="Graded.Erasure.Extraction.html#605" class="Generalizable">A</a> <a id="607" href="Graded.Erasure.Extraction.html#607" class="Generalizable">t</a> <a id="609" href="Graded.Erasure.Extraction.html#609" class="Generalizable">t′</a> <a id="612" href="Graded.Erasure.Extraction.html#612" class="Generalizable">u</a> <a id="614" class="Symbol">:</a> <a id="616" href="Definition.Untyped.html#1181" class="Datatype">U.Term</a> <a id="623" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
    <a id="629" href="Graded.Erasure.Extraction.html#629" class="Generalizable">v</a> <a id="631" href="Graded.Erasure.Extraction.html#631" class="Generalizable">v′</a> <a id="634" href="Graded.Erasure.Extraction.html#634" class="Generalizable">w</a> <a id="636" class="Symbol">:</a> <a id="638" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="645" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
    <a id="651" href="Graded.Erasure.Extraction.html#651" class="Generalizable">p</a> <a id="653" class="Symbol">:</a> <a id="655" href="Graded.Erasure.Extraction.html#245" class="Bound">M</a>

<a id="658" class="Comment">-- If the first argument is strict, then the result is ↯ (which is a</a>
<a id="727" class="Comment">-- value), but if the first argument is non-strict, then the result is</a>
<a id="798" class="Comment">-- loop non-strict (which does not reduce to a value).</a>

<a id="loop?"></a><a id="854" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="860" class="Symbol">:</a> <a id="862" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="873" class="Symbol">→</a> <a id="875" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="882" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
<a id="884" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="890" href="Graded.Erasure.Target.html#679" class="InductiveConstructor">non-strict</a> <a id="901" class="Symbol">=</a> <a id="903" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="908" href="Graded.Erasure.Target.html#679" class="InductiveConstructor">non-strict</a>
<a id="919" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="925" href="Graded.Erasure.Target.html#672" class="InductiveConstructor">strict</a>     <a id="936" class="Symbol">=</a> <a id="938" href="Graded.Erasure.Target.html#1717" class="InductiveConstructor">↯</a>

<a id="941" class="Comment">-- Extraction for prodrec when the match is not erased.</a>

<a id="erase-prodrecω"></a><a id="998" href="Graded.Erasure.Extraction.html#998" class="Function">erase-prodrecω</a> <a id="1013" class="Symbol">:</a>
  <a id="1017" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="1028" class="Symbol">→</a> <a id="1030" href="Graded.Erasure.Extraction.html#245" class="Bound">M</a> <a id="1032" class="Symbol">→</a> <a id="1034" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1041" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="1043" class="Symbol">→</a> <a id="1045" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1052" class="Symbol">(</a><a id="1053" href="Tools.Nat.html#2191" class="InductiveConstructor">2+</a> <a id="1056" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a><a id="1057" class="Symbol">)</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1068" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
<a id="1070" href="Graded.Erasure.Extraction.html#998" class="Function">erase-prodrecω</a> <a id="1085" href="Graded.Erasure.Extraction.html#1085" class="Bound">s</a> <a id="1087" href="Graded.Erasure.Extraction.html#1087" class="Bound">p</a> <a id="1089" href="Graded.Erasure.Extraction.html#1089" class="Bound">t</a> <a id="1091" href="Graded.Erasure.Extraction.html#1091" class="Bound">u</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1100" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="1106" href="Graded.Erasure.Extraction.html#1087" class="Bound">p</a> <a id="1108" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="1111" class="Symbol">λ</a> <a id="1113" class="Keyword">where</a>
    <a id="1123" class="Symbol">(</a><a id="1124" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1128" href="Graded.Erasure.Extraction.html#1128" class="Bound">p≡𝟘</a><a id="1131" class="Symbol">)</a> <a id="1133" class="Symbol">→</a> <a id="1135" href="Graded.Erasure.Target.html#1285" class="InductiveConstructor">T.lam</a> <a id="1141" class="Symbol">(</a><a id="1142" href="Graded.Erasure.Extraction.html#1091" class="Bound">u</a> <a id="1144" href="Graded.Erasure.Target.html#4865" class="Function Operator">T.[</a> <a id="1148" href="Graded.Erasure.Target.html#4162" class="Function">T.liftSubst</a> <a id="1160" class="Symbol">(</a><a id="1161" href="Graded.Erasure.Target.html#4695" class="Function">T.sgSubst</a> <a id="1171" class="Symbol">(</a><a id="1172" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="1177" href="Graded.Erasure.Extraction.html#1085" class="Bound">s</a><a id="1178" class="Symbol">))</a> <a id="1181" href="Graded.Erasure.Target.html#4865" class="Function Operator">]</a><a id="1182" class="Symbol">)</a>
                  <a id="1202" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">T.∘⟨</a> <a id="1207" href="Graded.Erasure.Extraction.html#1085" class="Bound">s</a> <a id="1209" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">⟩</a> <a id="1211" href="Graded.Erasure.Extraction.html#1089" class="Bound">t</a>
    <a id="1217" class="Symbol">(</a><a id="1218" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1221" href="Graded.Erasure.Extraction.html#1221" class="Bound">p≢𝟘</a><a id="1224" class="Symbol">)</a> <a id="1226" class="Symbol">→</a> <a id="1228" href="Graded.Erasure.Target.html#1492" class="InductiveConstructor">T.prodrec</a> <a id="1238" href="Graded.Erasure.Extraction.html#1089" class="Bound">t</a> <a id="1240" href="Graded.Erasure.Extraction.html#1091" class="Bound">u</a>

<a id="1243" class="Comment">-- A function application that is used when the grade is 𝟘.</a>
<a id="1303" class="Comment">--</a>
<a id="1306" class="Comment">-- The argument is removed entirely if the boolean is true.</a>

<a id="app-𝟘′"></a><a id="1367" href="Graded.Erasure.Extraction.html#1367" class="Function">app-𝟘′</a> <a id="1374" class="Symbol">:</a> <a id="1376" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="1381" class="Symbol">→</a> <a id="1383" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1403" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1414" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
<a id="1416" href="Graded.Erasure.Extraction.html#1367" class="Function">app-𝟘′</a> <a id="1423" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="1429" href="Graded.Erasure.Extraction.html#1429" class="Bound">s</a> <a id="1431" href="Graded.Erasure.Extraction.html#1431" class="Bound">t</a> <a id="1433" class="Symbol">=</a> <a id="1435" href="Graded.Erasure.Extraction.html#1431" class="Bound">t</a> <a id="1437" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">T.∘⟨</a> <a id="1442" href="Graded.Erasure.Extraction.html#1429" class="Bound">s</a> <a id="1444" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">⟩</a> <a id="1446" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="1452" href="Graded.Erasure.Extraction.html#1429" class="Bound">s</a>
<a id="1454" href="Graded.Erasure.Extraction.html#1367" class="Function">app-𝟘′</a> <a id="1461" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="1467" class="Symbol">_</a> <a id="1469" href="Graded.Erasure.Extraction.html#1469" class="Bound">t</a> <a id="1471" class="Symbol">=</a> <a id="1473" href="Graded.Erasure.Extraction.html#1469" class="Bound">t</a>

<a id="1476" class="Comment">-- A variant of app-𝟘.</a>

<a id="app-𝟘"></a><a id="1500" href="Graded.Erasure.Extraction.html#1500" class="Function">app-𝟘</a> <a id="1506" class="Symbol">:</a> <a id="1508" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="1519" class="Symbol">→</a> <a id="1521" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1528" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="1530" class="Symbol">→</a> <a id="1532" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="1539" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
<a id="1541" href="Graded.Erasure.Extraction.html#1500" class="Function">app-𝟘</a> <a id="1547" href="Graded.Erasure.Extraction.html#1547" class="Bound">s</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Graded.Erasure.Extraction.html#1367" class="Function">app-𝟘′</a> <a id="1558" class="Symbol">(</a><a id="1559" href="Graded.Erasure.Extraction.html#1547" class="Bound">s</a> <a id="1561" href="Graded.Erasure.Target.html#1025" class="Function Operator">==</a> <a id="1564" href="Graded.Erasure.Target.html#679" class="InductiveConstructor">non-strict</a><a id="1574" class="Symbol">)</a> <a id="1576" href="Graded.Erasure.Extraction.html#1547" class="Bound">s</a>

<a id="1579" class="Keyword">mutual</a>

  <a id="1589" class="Comment">-- The extraction function.</a>
  <a id="1619" class="Comment">--</a>
  <a id="1624" class="Comment">-- Function and constructor applications are made strict if the</a>
  <a id="1690" class="Comment">-- first argument is &quot;strict&quot;.</a>
  <a id="1723" class="Comment">--</a>
  <a id="1728" class="Comment">-- Erasable arguments are removed entirely if the first argument is</a>
  <a id="1798" class="Comment">-- &quot;non-strict&quot;.</a>
  <a id="1817" class="Comment">--</a>
  <a id="1822" class="Comment">-- A non-terminating term, loop s, is used in some places. The idea</a>
  <a id="1892" class="Comment">-- is that it should be safe to replace this term with, say, a term</a>
  <a id="1962" class="Comment">-- that throws an exception. The term loop? s is equal to loop s</a>
  <a id="2029" class="Comment">-- when s is non-strict, but if s is strict, then loop? s is ↯,</a>
  <a id="2095" class="Comment">-- which is a value.</a>

  <a id="erase"></a><a id="2119" href="Graded.Erasure.Extraction.html#2119" class="Function">erase</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="2138" class="Symbol">→</a> <a id="2140" href="Definition.Untyped.html#1181" class="Datatype">U.Term</a> <a id="2147" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="2149" class="Symbol">→</a> <a id="2151" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="2158" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
  <a id="2162" href="Graded.Erasure.Extraction.html#2119" class="Function">erase</a> <a id="2168" href="Graded.Erasure.Extraction.html#2168" class="Bound">s</a> <a id="2170" class="Symbol">=</a> <a id="2172" href="Graded.Erasure.Extraction.html#2331" class="Function">erase′</a> <a id="2179" class="Symbol">(</a><a id="2180" href="Graded.Erasure.Extraction.html#2168" class="Bound">s</a> <a id="2182" href="Graded.Erasure.Target.html#1025" class="Function Operator">==</a> <a id="2185" href="Graded.Erasure.Target.html#679" class="InductiveConstructor">non-strict</a><a id="2195" class="Symbol">)</a> <a id="2197" href="Graded.Erasure.Extraction.html#2168" class="Bound">s</a>

  <a id="2202" class="Comment">-- A variant of the extraction function.</a>
  <a id="2245" class="Comment">--</a>
  <a id="2250" class="Comment">-- If the boolean is true, then erasable arguments are removed</a>
  <a id="2315" class="Comment">-- entirely.</a>

  <a id="erase′"></a><a id="2331" href="Graded.Erasure.Extraction.html#2331" class="Function">erase′</a> <a id="2338" class="Symbol">:</a> <a id="2340" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2345" class="Symbol">→</a> <a id="2347" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="2358" class="Symbol">→</a> <a id="2360" href="Definition.Untyped.html#1181" class="Datatype">U.Term</a> <a id="2367" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="2369" class="Symbol">→</a> <a id="2371" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="2378" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
  <a id="2382" href="Graded.Erasure.Extraction.html#2331" class="Function">erase′</a> <a id="2389" href="Graded.Erasure.Extraction.html#2389" class="Bound">remove</a> <a id="2396" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="2398" class="Symbol">=</a> <a id="2400" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a>
    <a id="2411" class="Keyword">where</a>
    <a id="2421" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2428" class="Symbol">:</a> <a id="2430" href="Definition.Untyped.html#1181" class="Datatype">U.Term</a> <a id="2437" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="2439" class="Symbol">→</a> <a id="2441" href="Graded.Erasure.Target.html#1227" class="Datatype">T.Term</a> <a id="2448" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
    <a id="2454" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2461" class="Symbol">(</a><a id="2462" href="Definition.Untyped.html#1212" class="InductiveConstructor">var</a> <a id="2466" href="Graded.Erasure.Extraction.html#2466" class="Bound">x</a><a id="2467" class="Symbol">)</a>                 <a id="2485" class="Symbol">=</a> <a id="2487" href="Graded.Erasure.Target.html#1252" class="InductiveConstructor">T.var</a> <a id="2493" href="Graded.Erasure.Extraction.html#2466" class="Bound">x</a>
    <a id="2499" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2506" class="Symbol">(</a><a id="2507" href="Definition.Untyped.html#1241" class="InductiveConstructor">U</a> <a id="2509" class="Symbol">_)</a>                   <a id="2530" class="Symbol">=</a> <a id="2532" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="2538" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="2544" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2551" class="Symbol">(</a><a id="2552" href="Definition.Untyped.html#1514" class="InductiveConstructor Operator">ΠΣ⟨</a> <a id="2556" class="Symbol">_</a> <a id="2558" href="Definition.Untyped.html#1514" class="InductiveConstructor Operator">⟩</a> <a id="2560" class="Symbol">_</a> <a id="2562" href="Definition.Untyped.html#1514" class="InductiveConstructor Operator">,</a> <a id="2564" class="Symbol">_</a> <a id="2566" href="Definition.Untyped.html#1514" class="InductiveConstructor Operator">▷</a> <a id="2568" class="Symbol">_</a> <a id="2570" href="Definition.Untyped.html#1514" class="InductiveConstructor Operator">▹</a> <a id="2572" class="Symbol">_)</a> <a id="2575" class="Symbol">=</a> <a id="2577" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="2583" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="2589" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Definition.Untyped.html#1613" class="InductiveConstructor">U.lam</a> <a id="2603" href="Graded.Erasure.Extraction.html#2603" class="Bound">p</a> <a id="2605" href="Graded.Erasure.Extraction.html#2605" class="Bound">t</a><a id="2606" class="Symbol">)</a>             <a id="2620" class="Symbol">=</a> <a id="2622" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2627" href="Graded.Erasure.Extraction.html#2389" class="Bound">remove</a> <a id="2634" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2637" class="Symbol">λ</a> <a id="2639" class="Keyword">where</a>
      <a id="2651" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2657" class="Symbol">→</a> <a id="2659" href="Graded.Erasure.Target.html#1285" class="InductiveConstructor">T.lam</a> <a id="2665" class="Symbol">(</a><a id="2666" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2673" href="Graded.Erasure.Extraction.html#2605" class="Bound">t</a><a id="2674" class="Symbol">)</a>
      <a id="2682" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="2688" class="Symbol">→</a> <a id="2690" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2695" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="2701" href="Graded.Erasure.Extraction.html#2603" class="Bound">p</a> <a id="2703" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2706" class="Symbol">λ</a> <a id="2708" class="Keyword">where</a>
        <a id="2722" class="Symbol">(</a><a id="2723" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2726" class="Symbol">_)</a>  <a id="2730" class="Symbol">→</a> <a id="2732" href="Graded.Erasure.Target.html#1285" class="InductiveConstructor">T.lam</a> <a id="2738" class="Symbol">(</a><a id="2739" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2746" href="Graded.Erasure.Extraction.html#2605" class="Bound">t</a><a id="2747" class="Symbol">)</a>
        <a id="2757" class="Symbol">(</a><a id="2758" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2762" class="Symbol">_)</a> <a id="2765" class="Symbol">→</a> <a id="2767" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2774" href="Graded.Erasure.Extraction.html#2605" class="Bound">t</a> <a id="2776" href="Graded.Erasure.Target.html#5782" class="Function Operator">T.[</a> <a id="2780" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="2785" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="2787" href="Graded.Erasure.Target.html#5782" class="Function Operator">]₀</a>
    <a id="2794" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Graded.Erasure.Extraction.html#2802" class="Bound">t</a> <a id="2804" href="Definition.Untyped.html#1656" class="InductiveConstructor Operator">U.∘⟨</a> <a id="2809" href="Graded.Erasure.Extraction.html#2809" class="Bound">p</a> <a id="2811" href="Definition.Untyped.html#1656" class="InductiveConstructor Operator">⟩</a> <a id="2813" href="Graded.Erasure.Extraction.html#2813" class="Bound">u</a><a id="2814" class="Symbol">)</a> <a id="2816" class="Symbol">=</a> <a id="2818" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2823" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="2829" href="Graded.Erasure.Extraction.html#2809" class="Bound">p</a> <a id="2831" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2834" class="Symbol">λ</a> <a id="2836" class="Keyword">where</a>
      <a id="2848" class="Symbol">(</a><a id="2849" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2852" class="Symbol">_)</a>  <a id="2856" class="Symbol">→</a> <a id="2858" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2865" href="Graded.Erasure.Extraction.html#2802" class="Bound">t</a> <a id="2867" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">T.∘⟨</a> <a id="2872" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="2874" href="Graded.Erasure.Target.html#1324" class="InductiveConstructor Operator">⟩</a> <a id="2876" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2883" href="Graded.Erasure.Extraction.html#2813" class="Bound">u</a>
      <a id="2891" class="Symbol">(</a><a id="2892" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2896" class="Symbol">_)</a> <a id="2899" class="Symbol">→</a> <a id="2901" href="Graded.Erasure.Extraction.html#1367" class="Function">app-𝟘′</a> <a id="2908" href="Graded.Erasure.Extraction.html#2389" class="Bound">remove</a> <a id="2915" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2925" href="Graded.Erasure.Extraction.html#2802" class="Bound">t</a><a id="2926" class="Symbol">)</a>
    <a id="2932" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="2939" class="Symbol">(</a><a id="2940" href="Definition.Untyped.html#1710" class="InductiveConstructor">U.prod</a> <a id="2947" class="Symbol">_</a> <a id="2949" href="Graded.Erasure.Extraction.html#2949" class="Bound">p</a> <a id="2951" href="Graded.Erasure.Extraction.html#2951" class="Bound">t</a> <a id="2953" href="Graded.Erasure.Extraction.html#2953" class="Bound">u</a><a id="2954" class="Symbol">)</a> <a id="2956" class="Symbol">=</a> <a id="2958" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2963" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="2969" href="Graded.Erasure.Extraction.html#2949" class="Bound">p</a> <a id="2971" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2974" class="Symbol">λ</a> <a id="2976" class="Keyword">where</a>
      <a id="2988" class="Symbol">(</a><a id="2989" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2992" class="Symbol">_)</a>  <a id="2996" class="Symbol">→</a> <a id="2998" href="Graded.Erasure.Target.html#1982" class="Function Operator">prod⟨</a> <a id="3004" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="3006" href="Graded.Erasure.Target.html#1982" class="Function Operator">⟩</a> <a id="3008" class="Symbol">(</a><a id="3009" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3016" href="Graded.Erasure.Extraction.html#2951" class="Bound">t</a><a id="3017" class="Symbol">)</a> <a id="3019" class="Symbol">(</a><a id="3020" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3027" href="Graded.Erasure.Extraction.html#2953" class="Bound">u</a><a id="3028" class="Symbol">)</a>
      <a id="3036" class="Symbol">(</a><a id="3037" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3041" class="Symbol">_)</a> <a id="3044" class="Symbol">→</a> <a id="3046" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3053" href="Graded.Erasure.Extraction.html#2953" class="Bound">u</a>
    <a id="3059" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3066" class="Symbol">(</a><a id="3067" href="Definition.Untyped.html#1762" class="InductiveConstructor">U.fst</a> <a id="3073" href="Graded.Erasure.Extraction.html#3073" class="Bound">p</a> <a id="3075" href="Graded.Erasure.Extraction.html#3075" class="Bound">t</a><a id="3076" class="Symbol">)</a> <a id="3078" class="Symbol">=</a> <a id="3080" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3085" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="3091" href="Graded.Erasure.Extraction.html#3073" class="Bound">p</a> <a id="3093" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3096" class="Symbol">λ</a> <a id="3098" class="Keyword">where</a>
      <a id="3110" class="Symbol">(</a><a id="3111" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3114" class="Symbol">_)</a>  <a id="3118" class="Symbol">→</a> <a id="3120" href="Graded.Erasure.Target.html#1424" class="InductiveConstructor">T.fst</a> <a id="3126" class="Symbol">(</a><a id="3127" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3134" href="Graded.Erasure.Extraction.html#3075" class="Bound">t</a><a id="3135" class="Symbol">)</a>
      <a id="3143" class="Symbol">(</a><a id="3144" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3148" class="Symbol">_)</a> <a id="3151" class="Symbol">→</a> <a id="3153" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="3158" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="3164" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3171" class="Symbol">(</a><a id="3172" href="Definition.Untyped.html#1800" class="InductiveConstructor">U.snd</a> <a id="3178" href="Graded.Erasure.Extraction.html#3178" class="Bound">p</a> <a id="3180" href="Graded.Erasure.Extraction.html#3180" class="Bound">t</a><a id="3181" class="Symbol">)</a> <a id="3183" class="Symbol">=</a> <a id="3185" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3190" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="3196" href="Graded.Erasure.Extraction.html#3178" class="Bound">p</a> <a id="3198" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3201" class="Symbol">λ</a> <a id="3203" class="Keyword">where</a>
      <a id="3215" class="Symbol">(</a><a id="3216" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3219" class="Symbol">_)</a>  <a id="3223" class="Symbol">→</a> <a id="3225" href="Graded.Erasure.Target.html#1458" class="InductiveConstructor">T.snd</a> <a id="3231" class="Symbol">(</a><a id="3232" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3239" href="Graded.Erasure.Extraction.html#3180" class="Bound">t</a><a id="3240" class="Symbol">)</a>
      <a id="3248" class="Symbol">(</a><a id="3249" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3253" class="Symbol">_)</a> <a id="3256" class="Symbol">→</a> <a id="3258" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3265" href="Graded.Erasure.Extraction.html#3180" class="Bound">t</a>
    <a id="3271" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3278" class="Symbol">(</a><a id="3279" href="Definition.Untyped.html#1838" class="InductiveConstructor">U.prodrec</a> <a id="3289" href="Graded.Erasure.Extraction.html#3289" class="Bound">r</a> <a id="3291" href="Graded.Erasure.Extraction.html#3291" class="Bound">p</a> <a id="3293" class="Symbol">_</a> <a id="3295" class="Symbol">_</a> <a id="3297" href="Graded.Erasure.Extraction.html#3297" class="Bound">t</a> <a id="3299" href="Graded.Erasure.Extraction.html#3299" class="Bound">u</a><a id="3300" class="Symbol">)</a> <a id="3302" class="Symbol">=</a> <a id="3304" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3309" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="3315" href="Graded.Erasure.Extraction.html#3289" class="Bound">r</a> <a id="3317" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3320" class="Symbol">λ</a> <a id="3322" class="Keyword">where</a>
      <a id="3334" class="Symbol">(</a><a id="3335" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3338" class="Symbol">_)</a>  <a id="3342" class="Symbol">→</a> <a id="3344" href="Graded.Erasure.Extraction.html#998" class="Function">erase-prodrecω</a> <a id="3359" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="3361" href="Graded.Erasure.Extraction.html#3291" class="Bound">p</a> <a id="3363" class="Symbol">(</a><a id="3364" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3371" href="Graded.Erasure.Extraction.html#3297" class="Bound">t</a><a id="3372" class="Symbol">)</a> <a id="3374" class="Symbol">(</a><a id="3375" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3382" href="Graded.Erasure.Extraction.html#3299" class="Bound">u</a><a id="3383" class="Symbol">)</a>
      <a id="3391" class="Symbol">(</a><a id="3392" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3396" class="Symbol">_)</a> <a id="3399" class="Symbol">→</a> <a id="3401" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3408" href="Graded.Erasure.Extraction.html#3299" class="Bound">u</a> <a id="3410" href="Graded.Erasure.Target.html#5927" class="Function Operator">T.[</a> <a id="3414" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="3419" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="3421" href="Graded.Erasure.Target.html#5927" class="Function Operator">,</a> <a id="3423" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="3428" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="3430" href="Graded.Erasure.Target.html#5927" class="Function Operator">]₁₀</a>
    <a id="3438" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3445" href="Definition.Untyped.html#1932" class="InductiveConstructor">ℕ</a>                        <a id="3470" class="Symbol">=</a> <a id="3472" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="3478" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="3484" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3491" href="Definition.Untyped.html#1945" class="InductiveConstructor">U.zero</a>                   <a id="3516" class="Symbol">=</a> <a id="3518" href="Graded.Erasure.Target.html#1544" class="InductiveConstructor">T.zero</a>
    <a id="3529" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3536" class="Symbol">(</a><a id="3537" href="Definition.Untyped.html#1961" class="InductiveConstructor">U.suc</a> <a id="3543" href="Graded.Erasure.Extraction.html#3543" class="Bound">t</a><a id="3544" class="Symbol">)</a>                <a id="3561" class="Symbol">=</a> <a id="3563" href="Graded.Erasure.Target.html#1821" class="Function Operator">suc⟨</a> <a id="3568" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a> <a id="3570" href="Graded.Erasure.Target.html#1821" class="Function Operator">⟩</a> <a id="3572" class="Symbol">(</a><a id="3573" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3580" href="Graded.Erasure.Extraction.html#3543" class="Bound">t</a><a id="3581" class="Symbol">)</a>
    <a id="3587" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Definition.Untyped.html#1991" class="InductiveConstructor">U.natrec</a> <a id="3604" href="Graded.Erasure.Extraction.html#3604" class="Bound">p</a> <a id="3606" href="Graded.Erasure.Extraction.html#3606" class="Bound">q</a> <a id="3608" href="Graded.Erasure.Extraction.html#3608" class="Bound">r</a> <a id="3610" href="Graded.Erasure.Extraction.html#3610" class="Bound">A</a> <a id="3612" href="Graded.Erasure.Extraction.html#3612" class="Bound">t</a> <a id="3614" href="Graded.Erasure.Extraction.html#3614" class="Bound">u</a> <a id="3616" href="Graded.Erasure.Extraction.html#3616" class="Bound">v</a><a id="3617" class="Symbol">)</a> <a id="3619" class="Symbol">=</a>
      <a id="3627" href="Graded.Erasure.Target.html#1597" class="InductiveConstructor">T.natrec</a> <a id="3636" class="Symbol">(</a><a id="3637" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3644" href="Graded.Erasure.Extraction.html#3612" class="Bound">t</a><a id="3645" class="Symbol">)</a> <a id="3647" class="Symbol">(</a><a id="3648" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3655" href="Graded.Erasure.Extraction.html#3614" class="Bound">u</a><a id="3656" class="Symbol">)</a> <a id="3658" class="Symbol">(</a><a id="3659" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3666" href="Graded.Erasure.Extraction.html#3616" class="Bound">v</a><a id="3667" class="Symbol">)</a>
    <a id="3673" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3680" href="Definition.Untyped.html#2360" class="InductiveConstructor">Unit!</a>                 <a id="3702" class="Symbol">=</a> <a id="3704" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="3710" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="3716" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3723" href="Definition.Untyped.html#2845" class="InductiveConstructor">U.star!</a>               <a id="3745" class="Symbol">=</a> <a id="3747" href="Graded.Erasure.Target.html#1662" class="InductiveConstructor">T.star</a>
    <a id="3758" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3765" class="Symbol">(</a><a id="3766" href="Definition.Untyped.html#1421" class="InductiveConstructor">U.unitrec</a> <a id="3776" class="Symbol">_</a> <a id="3778" href="Graded.Erasure.Extraction.html#3778" class="Bound">p</a> <a id="3780" class="Symbol">_</a> <a id="3782" class="Symbol">_</a> <a id="3784" href="Graded.Erasure.Extraction.html#3784" class="Bound">t</a> <a id="3786" href="Graded.Erasure.Extraction.html#3786" class="Bound">u</a><a id="3787" class="Symbol">)</a> <a id="3789" class="Symbol">=</a> <a id="3791" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3796" href="Graded.Modality.html#1814" class="Function">is-𝟘?</a> <a id="3802" href="Graded.Erasure.Extraction.html#3778" class="Bound">p</a> <a id="3804" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3807" class="Symbol">λ</a> <a id="3809" class="Keyword">where</a>
      <a id="3821" class="Symbol">(</a><a id="3822" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3825" class="Symbol">_)</a>  <a id="3829" class="Symbol">→</a> <a id="3831" href="Graded.Erasure.Target.html#1681" class="InductiveConstructor">T.unitrec</a> <a id="3841" class="Symbol">(</a><a id="3842" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3849" href="Graded.Erasure.Extraction.html#3784" class="Bound">t</a><a id="3850" class="Symbol">)</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3860" href="Graded.Erasure.Extraction.html#3786" class="Bound">u</a><a id="3861" class="Symbol">)</a>
      <a id="3869" class="Symbol">(</a><a id="3870" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3874" class="Symbol">_)</a> <a id="3877" class="Symbol">→</a> <a id="3879" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3886" href="Graded.Erasure.Extraction.html#3786" class="Bound">u</a>
    <a id="3892" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3899" href="Definition.Untyped.html#1271" class="InductiveConstructor">Empty</a>               <a id="3919" class="Symbol">=</a> <a id="3921" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="3927" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="3933" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3940" class="Symbol">(</a><a id="3941" href="Definition.Untyped.html#1288" class="InductiveConstructor">emptyrec</a> <a id="3950" href="Graded.Erasure.Extraction.html#3950" class="Bound">p</a> <a id="3952" href="Graded.Erasure.Extraction.html#3952" class="Bound">A</a> <a id="3954" href="Graded.Erasure.Extraction.html#3954" class="Bound">t</a><a id="3955" class="Symbol">)</a>    <a id="3960" class="Symbol">=</a> <a id="3962" href="Graded.Erasure.Target.Non-terminating.html#751" class="Function">loop</a> <a id="3967" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="3973" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="3980" class="Symbol">(</a><a id="3981" href="Definition.Untyped.html#2096" class="InductiveConstructor">Id</a> <a id="3984" class="Symbol">_</a> <a id="3986" class="Symbol">_</a> <a id="3988" class="Symbol">_)</a>          <a id="4000" class="Symbol">=</a> <a id="4002" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="4008" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="4014" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4021" href="Definition.Untyped.html#2129" class="InductiveConstructor">U.rfl</a>               <a id="4041" class="Symbol">=</a> <a id="4043" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="4049" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>
    <a id="4055" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Definition.Untyped.html#2144" class="InductiveConstructor">J</a> <a id="4065" class="Symbol">_</a> <a id="4067" class="Symbol">_</a> <a id="4069" class="Symbol">_</a> <a id="4071" class="Symbol">_</a> <a id="4073" class="Symbol">_</a> <a id="4075" href="Graded.Erasure.Extraction.html#4075" class="Bound">u</a> <a id="4077" class="Symbol">_</a> <a id="4079" class="Symbol">_)</a> <a id="4082" class="Symbol">=</a> <a id="4084" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4091" href="Graded.Erasure.Extraction.html#4075" class="Bound">u</a>
    <a id="4097" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4104" class="Symbol">(</a><a id="4105" href="Definition.Untyped.html#2225" class="InductiveConstructor">K</a> <a id="4107" class="Symbol">_</a> <a id="4109" class="Symbol">_</a> <a id="4111" class="Symbol">_</a> <a id="4113" class="Symbol">_</a> <a id="4115" href="Graded.Erasure.Extraction.html#4115" class="Bound">u</a> <a id="4117" class="Symbol">_)</a>     <a id="4124" class="Symbol">=</a> <a id="4126" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4133" href="Graded.Erasure.Extraction.html#4115" class="Bound">u</a>
    <a id="4139" href="Graded.Erasure.Extraction.html#2421" class="Function">erase″</a> <a id="4146" class="Symbol">(</a><a id="4147" href="Definition.Untyped.html#2302" class="InductiveConstructor">[]-cong</a> <a id="4155" class="Symbol">_</a> <a id="4157" class="Symbol">_</a> <a id="4159" class="Symbol">_</a> <a id="4161" class="Symbol">_</a> <a id="4163" class="Symbol">_)</a> <a id="4166" class="Symbol">=</a> <a id="4168" href="Graded.Erasure.Extraction.html#854" class="Function">loop?</a> <a id="4174" href="Graded.Erasure.Extraction.html#2396" class="Bound">s</a>

<a id="4177" class="Keyword">mutual</a>

  <a id="4187" class="Comment">-- Extraction of substitutions.</a>

  <a id="eraseSubst"></a><a id="4222" href="Graded.Erasure.Extraction.html#4222" class="Function">eraseSubst</a> <a id="4233" class="Symbol">:</a> <a id="4235" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="4246" class="Symbol">→</a> <a id="4248" href="Definition.Untyped.html#11546" class="Function">U.Subst</a> <a id="4256" href="Graded.Erasure.Extraction.html#568" class="Generalizable">m</a> <a id="4258" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="4260" class="Symbol">→</a> <a id="4262" href="Graded.Erasure.Target.html#3570" class="Function">T.Subst</a> <a id="4270" href="Graded.Erasure.Extraction.html#568" class="Generalizable">m</a> <a id="4272" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
  <a id="4276" href="Graded.Erasure.Extraction.html#4222" class="Function">eraseSubst</a> <a id="4287" class="Symbol">=</a> <a id="4289" href="Graded.Erasure.Extraction.html#4341" class="Function">eraseSubst′</a> <a id="4301" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="4310" class="Comment">-- A variant of eraseSubst.</a>

  <a id="eraseSubst′"></a><a id="4341" href="Graded.Erasure.Extraction.html#4341" class="Function">eraseSubst′</a> <a id="4353" class="Symbol">:</a> <a id="4355" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="4360" class="Symbol">→</a> <a id="4362" href="Graded.Erasure.Target.html#647" class="Datatype">Strictness</a> <a id="4373" class="Symbol">→</a> <a id="4375" href="Definition.Untyped.html#11546" class="Function">U.Subst</a> <a id="4383" href="Graded.Erasure.Extraction.html#568" class="Generalizable">m</a> <a id="4385" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a> <a id="4387" class="Symbol">→</a> <a id="4389" href="Graded.Erasure.Target.html#3570" class="Function">T.Subst</a> <a id="4397" href="Graded.Erasure.Extraction.html#568" class="Generalizable">m</a> <a id="4399" href="Graded.Erasure.Extraction.html#570" class="Generalizable">n</a>
  <a id="4403" href="Graded.Erasure.Extraction.html#4341" class="Function">eraseSubst′</a> <a id="4415" href="Graded.Erasure.Extraction.html#4415" class="Bound">b</a> <a id="4417" href="Graded.Erasure.Extraction.html#4417" class="Bound">s</a> <a id="4419" href="Graded.Erasure.Extraction.html#4419" class="Bound">σ</a> <a id="4421" href="Graded.Erasure.Extraction.html#4421" class="Bound">x</a> <a id="4423" class="Symbol">=</a> <a id="4425" href="Graded.Erasure.Extraction.html#2331" class="Function">erase′</a> <a id="4432" href="Graded.Erasure.Extraction.html#4415" class="Bound">b</a> <a id="4434" href="Graded.Erasure.Extraction.html#4417" class="Bound">s</a> <a id="4436" class="Symbol">(</a><a id="4437" href="Graded.Erasure.Extraction.html#4419" class="Bound">σ</a> <a id="4439" href="Graded.Erasure.Extraction.html#4421" class="Bound">x</a><a id="4440" class="Symbol">)</a>
</pre></body></html>