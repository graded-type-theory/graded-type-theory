<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Graded.Heap.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Resource correctness of the heap semantics.</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Graded.Modality.html" class="Module">Graded.Modality</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Graded.Usage.Restrictions.html" class="Module">Graded.Usage.Restrictions</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a>
<a id="303" class="Keyword">import</a> <a id="310" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Tools.Sum.html" class="Module">Tools.Sum</a> <a id="357" class="Keyword">hiding</a> <a id="364" class="Symbol">(</a><a id="365" href="Tools.Sum.html#315" class="Function">id</a><a id="367" class="Symbol">;</a> <a id="369" href="Tools.Sum.html#397" class="Function">sym</a><a id="372" class="Symbol">)</a>

<a id="375" class="Keyword">module</a> <a id="382" href="Graded.Heap.Soundness.html" class="Module">Graded.Heap.Soundness</a>
  <a id="406" class="Symbol">{</a><a id="407" href="Graded.Heap.Soundness.html#407" class="Bound">a</a><a id="408" class="Symbol">}</a> <a id="410" class="Symbol">{</a><a id="411" href="Graded.Heap.Soundness.html#411" class="Bound">M</a> <a id="413" class="Symbol">:</a> <a id="415" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="419" href="Graded.Heap.Soundness.html#407" class="Bound">a</a><a id="420" class="Symbol">}</a> <a id="422" class="Symbol">{</a><a id="423" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="425" class="Symbol">:</a> <a id="427" href="Graded.Modality.html#8202" class="Record">Modality</a> <a id="436" href="Graded.Heap.Soundness.html#411" class="Bound">M</a><a id="437" class="Symbol">}</a>
  <a id="441" class="Symbol">{</a><a id="442" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="445" class="Symbol">:</a> <a id="447" href="Graded.Usage.Restrictions.html#750" class="Record">Usage-restrictions</a> <a id="466" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a><a id="467" class="Symbol">}</a>
  <a id="471" class="Symbol">(</a><a id="472" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a> <a id="475" class="Symbol">:</a> <a id="477" href="Definition.Typed.Restrictions.html#752" class="Record">Type-restrictions</a> <a id="495" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a><a id="496" class="Symbol">)</a>
  <a id="500" class="Symbol">(</a><a id="501" class="Keyword">open</a> <a id="506" href="Graded.Heap.Bisimilarity.html" class="Module">Graded.Heap.Bisimilarity</a> <a id="531" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="534" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a><a id="536" class="Symbol">)</a>
  <a id="540" class="Symbol">(</a><a id="541" class="Keyword">open</a> <a id="546" href="Definition.Typed.Restrictions.html#752" class="Module">Type-restrictions</a> <a id="564" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a><a id="566" class="Symbol">)</a>
  <a id="570" class="Symbol">(</a><a id="571" href="Graded.Heap.Soundness.html#571" class="Bound">As</a> <a id="574" class="Symbol">:</a> <a id="576" href="Graded.Heap.Bisimilarity.html#2151" class="Record">Assumptions</a><a id="587" class="Symbol">)</a>
  <a id="591" class="Keyword">where</a>

<a id="598" class="Keyword">open</a> <a id="603" href="Graded.Usage.Restrictions.html#750" class="Module">Usage-restrictions</a> <a id="622" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="625" class="Keyword">open</a> <a id="630" href="Graded.Modality.html#8202" class="Module">Modality</a> <a id="639" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="641" class="Keyword">open</a> <a id="646" href="Graded.Heap.Bisimilarity.html#2151" class="Module">Assumptions</a> <a id="658" href="Graded.Heap.Soundness.html#571" class="Bound">As</a>

<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Tools.Function.html" class="Module">Tools.Function</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="761" class="Keyword">import</a> <a id="768" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="796" class="Symbol">as</a> <a id="799" class="Module">PE</a>
<a id="802" class="Keyword">open</a> <a id="807" class="Keyword">import</a> <a id="814" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="829" class="Keyword">import</a> <a id="836" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="865" class="Symbol">as</a> <a id="868" class="Module">RPo</a>

<a id="873" class="Keyword">open</a> <a id="878" class="Keyword">import</a> <a id="885" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="904" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Definition.Untyped.Neutral.html" class="Module">Definition.Untyped.Neutral</a> <a id="945" href="Graded.Heap.Soundness.html#411" class="Bound">M</a> <a id="947" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a>
<a id="960" class="Keyword">open</a> <a id="965" class="Keyword">import</a> <a id="972" href="Definition.Untyped.Inversion.html" class="Module">Definition.Untyped.Inversion</a> <a id="1001" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="1003" class="Keyword">open</a> <a id="1008" class="Keyword">import</a> <a id="1015" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a> <a id="1045" href="Graded.Heap.Soundness.html#411" class="Bound">M</a>
<a id="1047" class="Keyword">open</a> <a id="1052" class="Keyword">import</a> <a id="1059" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="1076" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Definition.Typed.Consequences.Canonicity.html" class="Module">Definition.Typed.Consequences.Canonicity</a> <a id="1132" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1135" class="Keyword">open</a> <a id="1140" class="Keyword">import</a> <a id="1147" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a> <a id="1178" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1181" class="Keyword">open</a> <a id="1186" class="Keyword">import</a> <a id="1193" href="Definition.Typed.Inversion.html" class="Module">Definition.Typed.Inversion</a> <a id="1220" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1223" class="Keyword">open</a> <a id="1228" class="Keyword">import</a> <a id="1235" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="1262" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1265" class="Keyword">open</a> <a id="1270" class="Keyword">import</a> <a id="1277" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a> <a id="1329" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="1332" class="Keyword">open</a> <a id="1337" class="Keyword">import</a> <a id="1344" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html" class="Module">Definition.LogicalRelation.Substitution.Introductions.Nat</a> <a id="1402" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>

<a id="1406" class="Keyword">open</a> <a id="1411" class="Keyword">import</a> <a id="1418" href="Graded.Context.html" class="Module">Graded.Context</a> <a id="1433" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1435" class="Keyword">open</a> <a id="1440" class="Keyword">import</a> <a id="1447" href="Graded.Context.Properties.html" class="Module">Graded.Context.Properties</a> <a id="1473" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1475" class="Keyword">open</a> <a id="1480" class="Keyword">import</a> <a id="1487" href="Graded.Context.Weakening.html" class="Module">Graded.Context.Weakening</a> <a id="1512" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1514" class="Keyword">open</a> <a id="1519" class="Keyword">import</a> <a id="1526" href="Graded.Mode.html" class="Module">Graded.Mode</a> <a id="1538" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1540" class="Keyword">open</a> <a id="1545" class="Keyword">import</a> <a id="1552" href="Graded.Restrictions.html" class="Module">Graded.Restrictions</a> <a id="1572" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a>
<a id="1574" class="Keyword">open</a> <a id="1579" class="Keyword">import</a> <a id="1586" href="Graded.Usage.html" class="Module">Graded.Usage</a> <a id="1599" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="1601" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1604" class="Keyword">open</a> <a id="1609" class="Keyword">import</a> <a id="1616" href="Graded.Usage.Inversion.html" class="Module">Graded.Usage.Inversion</a> <a id="1639" href="Graded.Heap.Soundness.html#423" class="Bound">𝕄</a> <a id="1641" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>

<a id="1645" class="Keyword">open</a> <a id="1650" class="Keyword">import</a> <a id="1657" href="Graded.Heap.Untyped.html" class="Module">Graded.Heap.Untyped</a> <a id="1677" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1690" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1693" class="Keyword">open</a> <a id="1698" class="Keyword">import</a> <a id="1705" href="Graded.Heap.Untyped.Properties.html" class="Module">Graded.Heap.Untyped.Properties</a> <a id="1736" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1749" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1752" class="Keyword">open</a> <a id="1757" class="Keyword">import</a> <a id="1764" href="Graded.Heap.Usage.html" class="Module">Graded.Heap.Usage</a> <a id="1782" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1795" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1798" class="Keyword">open</a> <a id="1803" class="Keyword">import</a> <a id="1810" href="Graded.Heap.Usage.Inversion.html" class="Module">Graded.Heap.Usage.Inversion</a> <a id="1838" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1851" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1854" class="Keyword">open</a> <a id="1859" class="Keyword">import</a> <a id="1866" href="Graded.Heap.Usage.Properties.html" class="Module">Graded.Heap.Usage.Properties</a> <a id="1895" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1908" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="1911" class="Keyword">open</a> <a id="1916" class="Keyword">import</a> <a id="1923" href="Graded.Heap.Usage.Reduction.html" class="Module">Graded.Heap.Usage.Reduction</a> <a id="1951" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="1964" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="1967" href="Graded.Heap.Bisimilarity.html#2231" class="Field">Unitʷ-η→</a>
<a id="1976" class="Keyword">open</a> <a id="1981" class="Keyword">import</a> <a id="1988" href="Graded.Heap.Termination.html" class="Module">Graded.Heap.Termination</a> <a id="2012" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2015" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a> <a id="2018" href="Graded.Heap.Soundness.html#571" class="Bound">As</a>
<a id="2021" class="Keyword">open</a> <a id="2026" class="Keyword">import</a> <a id="2033" href="Graded.Heap.Typed.html" class="Module">Graded.Heap.Typed</a> <a id="2051" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2054" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2057" class="Keyword">open</a> <a id="2062" class="Keyword">import</a> <a id="2069" href="Graded.Heap.Typed.Inversion.html" class="Module">Graded.Heap.Typed.Inversion</a> <a id="2097" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2100" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2103" class="Keyword">open</a> <a id="2108" class="Keyword">import</a> <a id="2115" href="Graded.Heap.Typed.Reduction.html" class="Module">Graded.Heap.Typed.Reduction</a> <a id="2143" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2146" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2149" class="Keyword">open</a> <a id="2154" class="Keyword">import</a> <a id="2161" href="Graded.Heap.Typed.Properties.html" class="Module">Graded.Heap.Typed.Properties</a> <a id="2190" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a> <a id="2193" href="Graded.Heap.Soundness.html#472" class="Bound">TR</a>
<a id="2196" class="Keyword">open</a> <a id="2201" class="Keyword">import</a> <a id="2208" href="Graded.Heap.Reduction.html" class="Module">Graded.Heap.Reduction</a> <a id="2230" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2243" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
<a id="2246" class="Keyword">open</a> <a id="2251" class="Keyword">import</a> <a id="2258" href="Graded.Heap.Reduction.Properties.html" class="Module">Graded.Heap.Reduction.Properties</a> <a id="2291" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2304" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>

<a id="2308" class="Keyword">private</a> <a id="2316" class="Keyword">variable</a>
  <a id="2327" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a> <a id="2329" class="Symbol">:</a> <a id="2331" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a>
  <a id="2337" href="Graded.Heap.Soundness.html#2337" class="Generalizable">n</a> <a id="2339" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="2341" href="Graded.Heap.Soundness.html#2341" class="Generalizable">A</a> <a id="2343" class="Symbol">:</a> <a id="2345" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2350" class="Symbol">_</a>
  <a id="2354" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="2356" class="Symbol">:</a> <a id="2358" href="Graded.Heap.Untyped.html#8839" class="Record">State</a> <a id="2364" class="Symbol">_</a> <a id="2366" class="Symbol">_</a> <a id="2368" class="Symbol">_</a>
  <a id="2372" href="Graded.Heap.Soundness.html#2372" class="Generalizable">γ</a> <a id="2374" href="Graded.Heap.Soundness.html#2374" class="Generalizable">δ</a> <a id="2376" href="Graded.Heap.Soundness.html#2376" class="Generalizable">η</a> <a id="2378" class="Symbol">:</a> <a id="2380" href="Graded.Context.html#692" class="Datatype">Conₘ</a> <a id="2385" class="Symbol">_</a>
  <a id="2389" href="Graded.Heap.Soundness.html#2389" class="Generalizable">Γ</a> <a id="2391" href="Graded.Heap.Soundness.html#2391" class="Generalizable">Δ</a> <a id="2393" class="Symbol">:</a> <a id="2395" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2399" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2404" class="Symbol">_</a>
  <a id="2408" href="Graded.Heap.Soundness.html#2408" class="Generalizable">H</a> <a id="2410" class="Symbol">:</a> <a id="2412" href="Graded.Heap.Untyped.html#5903" class="Datatype">Heap</a> <a id="2417" class="Symbol">_</a> <a id="2419" class="Symbol">_</a>
  <a id="2423" href="Graded.Heap.Soundness.html#2423" class="Generalizable">ρ</a> <a id="2425" class="Symbol">:</a> <a id="2427" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="2430" class="Symbol">_</a> <a id="2432" class="Symbol">_</a>
  <a id="2436" href="Graded.Heap.Soundness.html#2436" class="Generalizable">S</a> <a id="2438" class="Symbol">:</a> <a id="2440" href="Graded.Heap.Untyped.html#4634" class="Datatype">Stack</a> <a id="2446" class="Symbol">_</a>
  <a id="2450" href="Graded.Heap.Soundness.html#2450" class="Generalizable">m</a> <a id="2452" class="Symbol">:</a> <a id="2454" href="Graded.Mode.html#1062" class="Datatype">Mode</a>

<a id="2460" class="Keyword">opaque</a>

  <a id="2470" class="Comment">-- All well-resourced states of type ℕ that are in</a>
  <a id="2523" class="Comment">-- the logical relation reduce to numerals.</a>

  <a id="redNumeral′"></a><a id="2570" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a> <a id="2582" class="Symbol">:</a> <a id="2584" class="Symbol">{</a><a id="2585" href="Graded.Heap.Soundness.html#2585" class="Bound">Δ</a> <a id="2587" class="Symbol">:</a> <a id="2589" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="2593" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="2598" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a><a id="2599" class="Symbol">}</a>
             <a id="2614" class="Symbol">→</a> <a id="2616" class="Symbol">(</a><a id="2617" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="2634" class="InductiveConstructor">𝟙ᵐ</a> <a id="2637" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="2639" class="Symbol">→</a> <a id="2641" href="Definition.Typed.html#20137" class="Function">Consistent</a> <a id="2652" href="Graded.Heap.Soundness.html#2585" class="Bound">Δ</a><a id="2653" class="Symbol">)</a>
             <a id="2668" class="Symbol">→</a> <a id="2670" class="Symbol">(</a><a id="2671" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a> <a id="2673" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="2678" class="Number">0</a> <a id="2680" class="Symbol">→</a> <a id="2682" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="2701" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="2714" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="2716" class="Symbol">)</a>
             <a id="2731" class="Symbol">→</a> <a id="2733" href="Graded.Heap.Soundness.html#2585" class="Bound">Δ</a> <a id="2735" href="Definition.LogicalRelation.html#3032" class="Record Operator">⊩ℕ</a> <a id="2738" href="Graded.Heap.Soundness.html#2337" class="Generalizable">n</a> <a id="2740" href="Definition.LogicalRelation.html#3032" class="Record Operator">∷ℕ</a> <a id="2743" class="Symbol">→</a> <a id="2745" href="Graded.Heap.Soundness.html#2337" class="Generalizable">n</a> <a id="2747" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">PE.≡</a> <a id="2752" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="2754" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="2756" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="2758" class="Symbol">→</a> <a id="2760" href="Graded.Heap.Soundness.html#2585" class="Bound">Δ</a> <a id="2762" href="Graded.Heap.Typed.html#3723" class="Datatype Operator">⊢ₛ</a> <a id="2765" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="2767" href="Graded.Heap.Typed.html#3723" class="Datatype Operator">∷</a> <a id="2769" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="2771" class="Symbol">→</a> <a id="2773" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="2775" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a>
             <a id="2790" class="Symbol">→</a> <a id="2792" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="2795" class="Symbol">λ</a> <a id="2797" href="Graded.Heap.Soundness.html#2797" class="Bound">m</a> <a id="2799" href="Graded.Heap.Soundness.html#2799" class="Bound">n</a> <a id="2801" href="Graded.Heap.Soundness.html#2801" class="Bound">H</a> <a id="2803" class="Symbol">(</a><a id="2804" href="Graded.Heap.Soundness.html#2804" class="Bound">ρ</a> <a id="2806" class="Symbol">:</a> <a id="2808" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="2811" href="Graded.Heap.Soundness.html#2797" class="Bound">m</a> <a id="2813" href="Graded.Heap.Soundness.html#2799" class="Bound">n</a><a id="2814" class="Symbol">)</a> <a id="2816" href="Graded.Heap.Soundness.html#2816" class="Bound">t</a> <a id="2818" class="Symbol">→</a> <a id="2820" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="2822" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="2825" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="2827" href="Graded.Heap.Soundness.html#2801" class="Bound">H</a> <a id="2829" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2831" href="Graded.Heap.Soundness.html#2816" class="Bound">t</a> <a id="2833" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2835" href="Graded.Heap.Soundness.html#2804" class="Bound">ρ</a> <a id="2837" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2839" class="InductiveConstructor">ε</a> <a id="2841" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="2843" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="2860" href="Definition.Untyped.html#3454" class="Datatype">Numeral</a> <a id="2868" href="Graded.Heap.Soundness.html#2816" class="Bound">t</a> <a id="2870" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2872" href="Graded.Heap.Soundness.html#2585" class="Bound">Δ</a> <a id="2874" href="Definition.Typed.html#5259" class="Datatype Operator">⊢</a> <a id="2876" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="2878" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="2880" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="2882" href="Definition.Typed.html#5259" class="Datatype Operator">≡</a> <a id="2884" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="2887" href="Graded.Heap.Soundness.html#2804" class="Bound">ρ</a> <a id="2889" href="Graded.Heap.Soundness.html#2816" class="Bound">t</a> <a id="2891" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="2893" href="Graded.Heap.Soundness.html#2801" class="Bound">H</a> <a id="2895" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a> <a id="2898" href="Definition.Typed.html#5259" class="Datatype Operator">∷</a> <a id="2900" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="2902" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="2919" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="2921" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="2923" href="Graded.Heap.Soundness.html#2801" class="Bound">H</a> <a id="2925" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2927" href="Graded.Heap.Soundness.html#2816" class="Bound">t</a> <a id="2929" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2931" href="Graded.Heap.Soundness.html#2804" class="Bound">ρ</a> <a id="2933" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="2935" class="InductiveConstructor">ε</a> <a id="2937" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a>
  <a id="2941" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a> <a id="2953" href="Graded.Heap.Soundness.html#2953" class="Bound">consistent</a> <a id="2964" href="Graded.Heap.Soundness.html#2964" class="Bound">nem</a> <a id="2968" class="Symbol">(</a><a id="2969" href="Definition.LogicalRelation.html#3145" class="InductiveConstructor">ℕₜ</a> <a id="2972" class="Symbol">_</a> <a id="2974" href="Graded.Heap.Soundness.html#2974" class="Bound">d</a> <a id="2976" href="Graded.Heap.Soundness.html#2976" class="Bound">n≡n</a> <a id="2980" class="Symbol">(</a><a id="2981" href="Definition.LogicalRelation.html#3367" class="InductiveConstructor">sucᵣ</a> <a id="2986" href="Graded.Heap.Soundness.html#2986" class="Bound">x</a><a id="2987" class="Symbol">))</a> <a id="2990" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="2998" href="Graded.Heap.Soundness.html#2998" class="Bound">⊢s</a> <a id="3001" href="Graded.Heap.Soundness.html#3001" class="Bound">▸s</a> <a id="3004" class="Symbol">=</a>
    <a id="3010" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3015" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="3023" href="Graded.Heap.Soundness.html#2953" class="Bound">consistent</a> <a id="3034" href="Graded.Heap.Soundness.html#2964" class="Bound">nem</a> <a id="3038" href="Graded.Heap.Soundness.html#2998" class="Bound">⊢s</a> <a id="3041" href="Graded.Heap.Soundness.html#3001" class="Bound">▸s</a> <a id="3044" class="Symbol">(</a><a id="3045" href="Graded.Heap.Soundness.html#2974" class="Bound">d</a> <a id="3047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3049" href="Definition.Untyped.Neutral.html#2535" class="InductiveConstructor">sucₙ</a><a id="3053" class="Symbol">)</a> <a id="3055" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3058" class="Symbol">λ</a>
      <a id="3066" class="Symbol">(_</a> <a id="3069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3071" class="Symbol">_</a> <a id="3073" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3075" href="Graded.Heap.Soundness.html#3075" class="Bound">H</a> <a id="3077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3079" href="Graded.Heap.Soundness.html#3079" class="Bound">t</a> <a id="3081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3083" href="Graded.Heap.Soundness.html#3083" class="Bound">ρ</a> <a id="3085" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3087" class="Symbol">(</a><a id="3088" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a> <a id="3091" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3093" class="Symbol">_)</a> <a id="3096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3098" href="Graded.Heap.Soundness.html#3098" class="Bound">≡u</a> <a id="3101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3103" href="Graded.Heap.Soundness.html#3103" class="Bound">v</a><a id="3104" class="Symbol">)</a> <a id="3106" class="Symbol">→</a>
    <a id="3112" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3117" href="Definition.Untyped.Inversion.html#6493" class="Function">subst-suc</a> <a id="3127" class="Symbol">{</a><a id="3128" class="Argument">t</a> <a id="3130" class="Symbol">=</a> <a id="3132" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="3135" href="Graded.Heap.Soundness.html#3083" class="Bound">ρ</a> <a id="3137" href="Graded.Heap.Soundness.html#3079" class="Bound">t</a><a id="3138" class="Symbol">}</a> <a id="3140" href="Graded.Heap.Soundness.html#3098" class="Bound">≡u</a> <a id="3143" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3146" class="Symbol">λ</a> <a id="3148" class="Symbol">{</a>
      <a id="3156" class="Symbol">(</a><a id="3157" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3162" class="Symbol">(</a><a id="3163" href="Graded.Heap.Soundness.html#3163" class="Bound">x</a> <a id="3165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3167" href="Graded.Heap.Soundness.html#3167" class="Bound">≡x</a><a id="3169" class="Symbol">))</a> <a id="3172" class="Symbol">→</a>
    <a id="3178" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3183" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="3190" href="Graded.Heap.Soundness.html#3167" class="Bound">≡x</a> <a id="3193" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3196" class="Symbol">λ</a> <a id="3198" class="Symbol">{</a>
      <a id="3206" class="Symbol">(_</a> <a id="3209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3211" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3221" class="Symbol">_)</a> <a id="3224" class="Symbol">→</a>
    <a id="3230" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3235" href="Graded.Heap.Soundness.html#3103" class="Bound">v</a> <a id="3237" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3240" class="Symbol">λ</a> <a id="3242" class="Symbol">()};</a>
      <a id="3253" class="Symbol">(</a><a id="3254" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3259" class="Symbol">(</a><a id="3260" href="Graded.Heap.Soundness.html#3260" class="Bound">n′</a> <a id="3263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3265" href="Graded.Heap.Soundness.html#3265" class="Bound">≡suc</a> <a id="3270" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3272" href="Graded.Heap.Soundness.html#3272" class="Bound">≡n</a><a id="3274" class="Symbol">))</a> <a id="3277" class="Symbol">→</a>
    <a id="3283" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3288" href="Definition.Untyped.Inversion.html#6386" class="Function">wk-suc</a> <a id="3295" href="Graded.Heap.Soundness.html#3265" class="Bound">≡suc</a> <a id="3300" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3303" class="Symbol">λ</a> <a id="3305" class="Symbol">{</a>
      <a id="3313" class="Symbol">(</a><a id="3314" href="Graded.Heap.Soundness.html#3314" class="Bound">n″</a> <a id="3317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3319" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="3327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3329" href="Graded.Heap.Soundness.html#3329" class="Bound">≡n′</a><a id="3332" class="Symbol">)</a> <a id="3334" class="Symbol">→</a>
    <a id="3340" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3345" href="Graded.Heap.Typed.Reduction.html#27197" class="Function">⇾*→≡</a> <a id="3350" href="Graded.Heap.Soundness.html#2998" class="Bound">⊢s</a> <a id="3353" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a> <a id="3356" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3359" class="Symbol">λ</a>
      <a id="3367" href="Graded.Heap.Soundness.html#3367" class="Bound">s≡</a> <a id="3370" class="Symbol">→</a>
    <a id="3376" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3381" href="Definition.Untyped.Properties.html#72148" class="Function">isNumeral?</a> <a id="3392" href="Graded.Heap.Soundness.html#3314" class="Bound">n″</a> <a id="3395" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3398" class="Symbol">λ</a> <a id="3400" class="Symbol">{</a>
      <a id="3408" class="Symbol">(</a><a id="3409" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3413" href="Graded.Heap.Soundness.html#3413" class="Bound">num</a><a id="3416" class="Symbol">)</a> <a id="3418" class="Symbol">→</a>
    <a id="3424" class="Symbol">_</a> <a id="3426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3428" class="Symbol">_</a> <a id="3430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3432" class="Symbol">_</a> <a id="3434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3436" class="Symbol">_</a> <a id="3438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3440" class="Symbol">_</a> <a id="3442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3444" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="3450" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a> <a id="3453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3455" href="Definition.Untyped.html#3520" class="InductiveConstructor">sucₙ</a> <a id="3460" href="Graded.Heap.Soundness.html#3413" class="Bound">num</a> <a id="3464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3466" href="Graded.Heap.Soundness.html#3367" class="Bound">s≡</a> <a id="3469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3471" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="3476" href="Graded.Heap.Soundness.html#3001" class="Bound">▸s</a> <a id="3479" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a> <a id="3482" class="Symbol">;</a>
      <a id="3490" class="Symbol">(</a><a id="3491" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3494" href="Graded.Heap.Soundness.html#3494" class="Bound">¬num</a><a id="3498" class="Symbol">)</a> <a id="3500" class="Symbol">→</a>
    <a id="3506" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3511" href="Graded.Heap.Typed.Inversion.html#7554" class="Function">⊢ₛ-inv</a> <a id="3518" class="Symbol">(</a><a id="3519" href="Graded.Heap.Typed.Reduction.html#19013" class="Function">⊢ₛ-⇾*</a> <a id="3525" href="Graded.Heap.Soundness.html#2998" class="Bound">⊢s</a> <a id="3528" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a><a id="3530" class="Symbol">)</a> <a id="3532" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3535" class="Symbol">λ</a>
      <a id="3543" class="Symbol">(_</a> <a id="3546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3548" class="Symbol">_</a> <a id="3550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3552" href="Graded.Heap.Soundness.html#3552" class="Bound">⊢H</a> <a id="3555" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3557" href="Graded.Heap.Soundness.html#3557" class="Bound">⊢t</a> <a id="3560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3562" href="Graded.Heap.Soundness.html#3562" class="Bound">⊢S</a><a id="3564" class="Symbol">)</a> <a id="3566" class="Symbol">→</a>
    <a id="3572" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3577" href="Definition.Typed.Inversion.Primitive.html#3186" class="Function">inversion-suc</a> <a id="3591" href="Graded.Heap.Soundness.html#3557" class="Bound">⊢t</a> <a id="3594" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3597" class="Symbol">λ</a>
      <a id="3605" class="Symbol">(</a><a id="3606" href="Graded.Heap.Soundness.html#3606" class="Bound">⊢n″</a> <a id="3610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3612" href="Graded.Heap.Soundness.html#3612" class="Bound">≡ℕ</a><a id="3614" class="Symbol">)</a> <a id="3616" class="Symbol">→</a>
    <a id="3622" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3627" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="3634" class="Symbol">(</a><a id="3635" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="3640" href="Graded.Heap.Soundness.html#3001" class="Bound">▸s</a> <a id="3643" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a><a id="3645" class="Symbol">)</a> <a id="3647" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3650" class="Symbol">λ</a>
      <a id="3658" class="Symbol">(_</a> <a id="3661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3663" class="Symbol">_</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" class="Symbol">_</a> <a id="3669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3671" href="Graded.Heap.Soundness.html#3671" class="Bound">▸H</a> <a id="3674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3676" href="Graded.Heap.Soundness.html#3676" class="Bound">▸t</a> <a id="3679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3681" href="Graded.Heap.Soundness.html#3681" class="Bound">▸ε</a> <a id="3684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3686" href="Graded.Heap.Soundness.html#3686" class="Bound">γ≤</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">→</a>
    <a id="3696" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3701" href="Graded.Usage.Inversion.html#8458" class="Function">inv-usage-suc</a> <a id="3715" href="Graded.Heap.Soundness.html#3676" class="Bound">▸t</a> <a id="3718" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3721" class="Symbol">λ</a>
      <a id="3729" class="Symbol">(</a><a id="3730" href="Graded.Usage.Inversion.html#8332" class="InductiveConstructor">invUsageSuc</a> <a id="3742" href="Graded.Heap.Soundness.html#3742" class="Bound">▸n″</a> <a id="3746" href="Graded.Heap.Soundness.html#3746" class="Bound">δ≤</a><a id="3748" class="Symbol">)</a>  <a id="3751" class="Symbol">→</a>
    <a id="3757" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3762" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a> <a id="3774" class="Symbol">{</a><a id="3775" class="Argument">s</a> <a id="3777" class="Symbol">=</a> <a id="3779" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="3781" href="Graded.Heap.Soundness.html#3075" class="Bound">H</a> <a id="3783" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3785" href="Graded.Heap.Soundness.html#3314" class="Bound">n″</a> <a id="3788" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3790" href="Graded.Heap.Soundness.html#3083" class="Bound">ρ</a> <a id="3792" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="3794" href="Graded.Heap.Untyped.html#4666" class="InductiveConstructor">ε</a> <a id="3796" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a><a id="3797" class="Symbol">}</a> <a id="3799" href="Graded.Heap.Soundness.html#2953" class="Bound">consistent</a> <a id="3810" href="Graded.Heap.Soundness.html#2964" class="Bound">nem</a> <a id="3814" href="Graded.Heap.Soundness.html#2986" class="Bound">x</a>
          <a id="3826" class="Symbol">(</a><a id="3827" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">PE.sym</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Graded.Heap.Untyped.html#7996" class="Function Operator">_[</a> <a id="3857" href="Graded.Heap.Soundness.html#3075" class="Bound">H</a> <a id="3859" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="3861" class="Symbol">)</a> <a id="3863" href="Graded.Heap.Soundness.html#3329" class="Bound">≡n′</a><a id="3866" class="Symbol">)</a> <a id="3868" href="Graded.Heap.Soundness.html#3272" class="Bound">≡n</a><a id="3870" class="Symbol">))</a>
          <a id="3883" class="Symbol">(</a><a id="3884" href="Graded.Heap.Typed.html#3802" class="InductiveConstructor">⊢ₛ</a> <a id="3887" href="Graded.Heap.Soundness.html#3552" class="Bound">⊢H</a> <a id="3890" href="Graded.Heap.Soundness.html#3606" class="Bound">⊢n″</a> <a id="3894" href="Graded.Heap.Typed.html#3537" class="InductiveConstructor">ε</a><a id="3895" class="Symbol">)</a>
          <a id="3907" class="Symbol">(</a><a id="3908" href="Graded.Heap.Usage.html#3242" class="InductiveConstructor">▸ₛ</a> <a id="3911" href="Graded.Heap.Soundness.html#3671" class="Bound">▸H</a> <a id="3914" href="Graded.Heap.Soundness.html#3742" class="Bound">▸n″</a> <a id="3918" href="Graded.Heap.Soundness.html#3681" class="Bound">▸ε</a> <a id="3921" class="Symbol">(</a><a id="3922" href="Graded.Context.Properties.PartialOrder.html#790" class="Function">≤ᶜ-trans</a> <a id="3931" href="Graded.Heap.Soundness.html#3686" class="Bound">γ≤</a> <a id="3934" class="Symbol">(</a><a id="3935" href="Graded.Context.Properties.Addition.html#2897" class="Function">+ᶜ-monotoneˡ</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Graded.Context.Properties.Multiplication.html#3380" class="Function">·ᶜ-monotoneʳ</a> <a id="3962" class="Symbol">(</a><a id="3963" href="Graded.Context.Weakening.html#3188" class="Function">wk-≤ᶜ</a> <a id="3969" href="Graded.Heap.Soundness.html#3083" class="Bound">ρ</a> <a id="3971" href="Graded.Heap.Soundness.html#3746" class="Bound">δ≤</a><a id="3973" class="Symbol">)))))</a> <a id="3979" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3982" class="Symbol">λ</a>
      <a id="3990" class="Symbol">(_</a> <a id="3993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3995" class="Symbol">_</a> <a id="3997" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3999" href="Graded.Heap.Soundness.html#3999" class="Bound">H′</a> <a id="4002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4004" href="Graded.Heap.Soundness.html#4004" class="Bound">ρ′</a> <a id="4007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4009" href="Graded.Heap.Soundness.html#4009" class="Bound">t′</a> <a id="4012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4014" href="Graded.Heap.Soundness.html#4014" class="Bound">d₀</a> <a id="4017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4019" href="Graded.Heap.Soundness.html#4019" class="Bound">n</a> <a id="4021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4023" href="Graded.Heap.Soundness.html#4023" class="Bound">s′≡</a> <a id="4027" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4029" href="Graded.Heap.Soundness.html#4029" class="Bound">▸s′</a><a id="4032" class="Symbol">)</a> <a id="4034" class="Symbol">→</a>
    <a id="4040" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4045" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="4052" href="Graded.Heap.Soundness.html#4029" class="Bound">▸s′</a> <a id="4056" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4059" class="Symbol">λ</a>
      <a id="4067" class="Symbol">(_</a> <a id="4070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4072" class="Symbol">_</a> <a id="4074" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4076" class="Symbol">_</a> <a id="4078" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4080" href="Graded.Heap.Soundness.html#4080" class="Bound">▸H</a> <a id="4083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4085" href="Graded.Heap.Soundness.html#4085" class="Bound">▸t</a> <a id="4088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4090" href="Graded.Heap.Soundness.html#4090" class="Bound">▸S</a> <a id="4093" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4095" href="Graded.Heap.Soundness.html#4095" class="Bound">γ≤</a><a id="4097" class="Symbol">)</a> <a id="4099" class="Symbol">→</a>
    <a id="4105" class="Symbol">_</a> <a id="4107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4109" class="Symbol">_</a> <a id="4111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4113" class="Symbol">_</a> <a id="4115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4117" class="Symbol">_</a> <a id="4119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4121" class="Symbol">_</a>
      <a id="4129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4131" href="Graded.Heap.Reduction.Properties.html#1553" class="Function">↠*-concat</a> <a id="4141" class="Symbol">(</a><a id="4142" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="4148" href="Graded.Heap.Soundness.html#3088" class="Bound">d′</a><a id="4150" class="Symbol">)</a>
          <a id="4162" class="Symbol">(</a><a id="4163" href="Graded.Heap.Reduction.html#6427" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4166" href="Graded.Heap.Reduction.html#5752" class="InductiveConstructor">sucₕ</a> <a id="4171" href="Graded.Heap.Soundness.html#3494" class="Bound">¬num</a> <a id="4176" href="Graded.Heap.Reduction.html#6963" class="InductiveConstructor Operator">⇨</a> <a id="4178" href="Graded.Heap.Reduction.Properties.html#1553" class="Function">↠*-concat</a> <a id="4188" class="Symbol">(</a><a id="4189" href="Graded.Heap.Reduction.Properties.html#15755" class="Function">++sucₛ-↠*</a> <a id="4199" href="Graded.Heap.Soundness.html#4014" class="Bound">d₀</a><a id="4201" class="Symbol">)</a> <a id="4203" class="Symbol">(</a><a id="4204" href="Graded.Heap.Reduction.html#6427" class="InductiveConstructor Operator">⇒ₙ</a> <a id="4207" class="Symbol">(</a><a id="4208" href="Graded.Heap.Reduction.html#5844" class="InductiveConstructor">numₕ</a> <a id="4213" href="Graded.Heap.Soundness.html#4019" class="Bound">n</a><a id="4214" class="Symbol">)</a> <a id="4216" href="Graded.Heap.Reduction.html#6963" class="InductiveConstructor Operator">⇨</a> <a id="4218" href="Graded.Heap.Reduction.html#6946" class="InductiveConstructor">id</a><a id="4220" class="Symbol">))</a>
      <a id="4229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4231" href="Definition.Untyped.html#3520" class="InductiveConstructor">sucₙ</a> <a id="4236" href="Graded.Heap.Soundness.html#4019" class="Bound">n</a> <a id="4238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4240" href="Definition.Typed.html#5487" class="InductiveConstructor">trans</a> <a id="4246" href="Graded.Heap.Soundness.html#3367" class="Bound">s≡</a> <a id="4249" class="Symbol">(</a><a id="4250" href="Definition.Typed.html#8707" class="InductiveConstructor">suc-cong</a> <a id="4259" href="Graded.Heap.Soundness.html#4023" class="Bound">s′≡</a><a id="4262" class="Symbol">)</a>
      <a id="4270" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4272" href="Graded.Heap.Usage.html#3242" class="InductiveConstructor">▸ₛ</a> <a id="4275" href="Graded.Heap.Soundness.html#4080" class="Bound">▸H</a> <a id="4278" class="Symbol">(</a><a id="4279" href="Graded.Usage.html#9380" class="InductiveConstructor">sucₘ</a> <a id="4284" href="Graded.Heap.Soundness.html#4085" class="Bound">▸t</a><a id="4286" class="Symbol">)</a> <a id="4288" href="Graded.Heap.Soundness.html#4090" class="Bound">▸S</a> <a id="4291" href="Graded.Heap.Soundness.html#4095" class="Bound">γ≤</a> <a id="4294" class="Symbol">}}}</a>

  <a id="4301" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a> <a id="4313" href="Graded.Heap.Soundness.html#4313" class="Bound">consistent</a> <a id="4324" href="Graded.Heap.Soundness.html#4324" class="Bound">nem</a> <a id="4328" class="Symbol">(</a><a id="4329" href="Definition.LogicalRelation.html#3145" class="InductiveConstructor">ℕₜ</a> <a id="4332" class="Symbol">_</a> <a id="4334" href="Graded.Heap.Soundness.html#4334" class="Bound">d</a> <a id="4336" href="Graded.Heap.Soundness.html#4336" class="Bound">n≡n</a> <a id="4340" href="Definition.LogicalRelation.html#3422" class="InductiveConstructor">zeroᵣ</a><a id="4345" class="Symbol">)</a> <a id="4347" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4355" href="Graded.Heap.Soundness.html#4355" class="Bound">⊢s</a> <a id="4358" href="Graded.Heap.Soundness.html#4358" class="Bound">▸s</a> <a id="4361" class="Symbol">=</a>
    <a id="4367" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4372" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="4380" href="Graded.Heap.Soundness.html#4313" class="Bound">consistent</a> <a id="4391" href="Graded.Heap.Soundness.html#4324" class="Bound">nem</a> <a id="4395" href="Graded.Heap.Soundness.html#4355" class="Bound">⊢s</a> <a id="4398" href="Graded.Heap.Soundness.html#4358" class="Bound">▸s</a> <a id="4401" class="Symbol">(</a><a id="4402" href="Graded.Heap.Soundness.html#4334" class="Bound">d</a> <a id="4404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4406" href="Definition.Untyped.Neutral.html#2515" class="InductiveConstructor">zeroₙ</a><a id="4411" class="Symbol">)</a> <a id="4413" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4416" class="Symbol">λ</a>
      <a id="4424" class="Symbol">(_</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" class="Symbol">_</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" href="Graded.Heap.Soundness.html#4433" class="Bound">H</a> <a id="4435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4437" href="Graded.Heap.Soundness.html#4437" class="Bound">t</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" href="Graded.Heap.Soundness.html#4441" class="Bound">ρ</a> <a id="4443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4445" class="Symbol">(</a><a id="4446" href="Graded.Heap.Soundness.html#4446" class="Bound">d′</a> <a id="4449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4451" class="Symbol">_)</a> <a id="4454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4456" href="Graded.Heap.Soundness.html#4456" class="Bound">≡u</a> <a id="4459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4461" href="Graded.Heap.Soundness.html#4461" class="Bound">v</a><a id="4462" class="Symbol">)</a> <a id="4464" class="Symbol">→</a>
    <a id="4470" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4475" href="Definition.Untyped.Inversion.html#6219" class="Function">subst-zero</a> <a id="4486" class="Symbol">{</a><a id="4487" class="Argument">t</a> <a id="4489" class="Symbol">=</a> <a id="4491" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="4494" href="Graded.Heap.Soundness.html#4441" class="Bound">ρ</a> <a id="4496" href="Graded.Heap.Soundness.html#4437" class="Bound">t</a><a id="4497" class="Symbol">}</a> <a id="4499" href="Graded.Heap.Soundness.html#4456" class="Bound">≡u</a> <a id="4502" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4505" class="Symbol">λ</a> <a id="4507" class="Symbol">{</a>
      <a id="4515" class="Symbol">(</a><a id="4516" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="4521" class="Symbol">(</a><a id="4522" href="Graded.Heap.Soundness.html#4522" class="Bound">x</a> <a id="4524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4526" href="Graded.Heap.Soundness.html#4526" class="Bound">≡x</a><a id="4528" class="Symbol">))</a> <a id="4531" class="Symbol">→</a>
    <a id="4537" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4542" href="Definition.Untyped.Inversion.html#674" class="Function">wk-var</a> <a id="4549" href="Graded.Heap.Soundness.html#4526" class="Bound">≡x</a> <a id="4552" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4555" class="Symbol">λ</a> <a id="4557" class="Symbol">{</a>
      <a id="4565" class="Symbol">(_</a> <a id="4568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4570" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4580" href="Graded.Heap.Soundness.html#4580" class="Bound">w</a><a id="4581" class="Symbol">)</a> <a id="4583" class="Symbol">→</a>
    <a id="4589" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4594" href="Graded.Heap.Soundness.html#4461" class="Bound">v</a> <a id="4596" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4599" class="Symbol">λ</a> <a id="4601" class="Symbol">()}</a> <a id="4605" class="Symbol">;</a>
      <a id="4613" class="Symbol">(</a><a id="4614" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4619" href="Graded.Heap.Soundness.html#4619" class="Bound">≡zero</a><a id="4624" class="Symbol">)</a> <a id="4626" class="Symbol">→</a>
    <a id="4632" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4637" href="Definition.Untyped.Inversion.html#6152" class="Function">wk-zero</a> <a id="4645" href="Graded.Heap.Soundness.html#4619" class="Bound">≡zero</a> <a id="4651" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4654" class="Symbol">λ</a> <a id="4656" class="Symbol">{</a>
      <a id="4664" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4672" class="Symbol">→</a>
    <a id="4678" class="Symbol">_</a> <a id="4680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4682" class="Symbol">_</a> <a id="4684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4686" class="Symbol">_</a> <a id="4688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4690" class="Symbol">_</a> <a id="4692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4694" class="Symbol">_</a> <a id="4696" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4698" href="Graded.Heap.Reduction.Properties.html#19621" class="Function">⇾*→↠*</a> <a id="4704" href="Graded.Heap.Soundness.html#4446" class="Bound">d′</a> <a id="4707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4709" href="Definition.Untyped.html#3497" class="InductiveConstructor">zeroₙ</a> <a id="4715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4717" href="Graded.Heap.Typed.Reduction.html#27197" class="Function">⇾*→≡</a> <a id="4722" href="Graded.Heap.Soundness.html#4355" class="Bound">⊢s</a> <a id="4725" href="Graded.Heap.Soundness.html#4446" class="Bound">d′</a> <a id="4728" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4730" href="Graded.Heap.Usage.Reduction.html#49307" class="Function">▸-⇾*</a> <a id="4735" href="Graded.Heap.Soundness.html#4358" class="Bound">▸s</a> <a id="4738" href="Graded.Heap.Soundness.html#4446" class="Bound">d′</a> <a id="4741" class="Symbol">}}</a>

  <a id="4747" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a>
    <a id="4763" class="Symbol">{</a><a id="4764" href="Graded.Heap.Soundness.html#4764" class="Bound">s</a><a id="4765" class="Symbol">}</a> <a id="4767" href="Graded.Heap.Soundness.html#4767" class="Bound">consistent</a> <a id="4778" href="Graded.Heap.Soundness.html#4778" class="Bound">nem</a> <a id="4782" class="Symbol">(</a><a id="4783" href="Definition.LogicalRelation.html#3145" class="InductiveConstructor">ℕₜ</a> <a id="4786" class="Symbol">_</a> <a id="4788" href="Graded.Heap.Soundness.html#4788" class="Bound">d</a> <a id="4790" href="Graded.Heap.Soundness.html#4790" class="Bound">n≡n</a> <a id="4794" class="Symbol">(</a><a id="4795" href="Definition.LogicalRelation.html#3454" class="InductiveConstructor">ne</a> <a id="4798" class="Symbol">(</a><a id="4799" href="Definition.LogicalRelation.html#1943" class="InductiveConstructor">neNfₜ</a> <a id="4805" href="Graded.Heap.Soundness.html#4805" class="Bound">neK</a> <a id="4809" href="Graded.Heap.Soundness.html#4809" class="Bound">k≡k</a><a id="4812" class="Symbol">)))</a> <a id="4816" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4824" href="Graded.Heap.Soundness.html#4824" class="Bound">⊢s</a> <a id="4827" href="Graded.Heap.Soundness.html#4827" class="Bound">▸s</a> <a id="4830" class="Symbol">=</a>
    <a id="4836" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4841" href="Graded.Heap.Termination.html#3557" class="Function">whBisim</a> <a id="4849" class="Symbol">{</a><a id="4850" class="Argument">s</a> <a id="4852" class="Symbol">=</a> <a id="4854" href="Graded.Heap.Soundness.html#4764" class="Bound">s</a><a id="4855" class="Symbol">}</a> <a id="4857" href="Graded.Heap.Soundness.html#4767" class="Bound">consistent</a> <a id="4868" href="Graded.Heap.Soundness.html#4778" class="Bound">nem</a> <a id="4872" href="Graded.Heap.Soundness.html#4824" class="Bound">⊢s</a> <a id="4875" href="Graded.Heap.Soundness.html#4827" class="Bound">▸s</a> <a id="4878" class="Symbol">(</a><a id="4879" href="Graded.Heap.Soundness.html#4788" class="Bound">d</a> <a id="4881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4883" href="Definition.Untyped.Neutral.html#2659" class="InductiveConstructor">ne</a> <a id="4886" href="Graded.Heap.Soundness.html#4805" class="Bound">neK</a><a id="4889" class="Symbol">)</a> <a id="4891" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="4894" class="Symbol">λ</a> <a id="4896" class="Symbol">{</a>
      <a id="4904" class="Symbol">(_</a> <a id="4907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4909" class="Symbol">_</a> <a id="4911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4913" href="Graded.Heap.Soundness.html#4913" class="Bound">H</a> <a id="4915" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4917" href="Graded.Heap.Soundness.html#4917" class="Bound">t</a> <a id="4919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4921" href="Graded.Heap.Soundness.html#4921" class="Bound">ρ</a> <a id="4923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4925" href="Graded.Heap.Soundness.html#4925" class="Bound">d′</a> <a id="4928" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4930" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="4938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4940" href="Graded.Heap.Soundness.html#4940" class="Bound">v</a><a id="4941" class="Symbol">)</a> <a id="4943" class="Symbol">→</a>
    <a id="4949" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="4956" class="Symbol">(</a><a id="4957" href="Graded.Heap.Untyped.Properties.html#2725" class="Function">Value→¬Neutral</a> <a id="4972" class="Symbol">(</a><a id="4973" href="Graded.Heap.Untyped.Properties.html#2258" class="Function">substValue</a> <a id="4984" class="Symbol">(</a><a id="4985" href="Graded.Heap.Untyped.html#7769" class="Function">toSubstₕ</a> <a id="4994" href="Graded.Heap.Soundness.html#4913" class="Bound">H</a><a id="4995" class="Symbol">)</a> <a id="4997" class="Symbol">(</a><a id="4998" href="Graded.Heap.Untyped.Properties.html#1818" class="Function">wkValue</a> <a id="5006" href="Graded.Heap.Soundness.html#4921" class="Bound">ρ</a> <a id="5008" href="Graded.Heap.Soundness.html#4940" class="Bound">v</a><a id="5009" class="Symbol">))</a> <a id="5012" href="Graded.Heap.Soundness.html#4805" class="Bound">neK</a><a id="5015" class="Symbol">)</a> <a id="5017" class="Symbol">}</a>


<a id="5021" class="Keyword">opaque</a>

  <a id="5031" class="Comment">-- All well-resourced, well-typed states of type ℕ reduce to numerals.</a>

  <a id="redNumeral"></a><a id="5105" href="Graded.Heap.Soundness.html#5105" class="Function">redNumeral</a> <a id="5116" class="Symbol">:</a> <a id="5118" class="Symbol">{</a><a id="5119" href="Graded.Heap.Soundness.html#5119" class="Bound">Δ</a> <a id="5121" class="Symbol">:</a> <a id="5123" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5127" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="5132" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a><a id="5133" class="Symbol">}</a>
             <a id="5148" class="Symbol">→</a> <a id="5150" class="Symbol">(</a><a id="5151" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="5168" class="InductiveConstructor">𝟙ᵐ</a> <a id="5171" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5173" class="Symbol">→</a> <a id="5175" href="Definition.Typed.html#20137" class="Function">Consistent</a> <a id="5186" href="Graded.Heap.Soundness.html#5119" class="Bound">Δ</a><a id="5187" class="Symbol">)</a>
             <a id="5202" class="Symbol">→</a> <a id="5204" class="Symbol">(</a><a id="5205" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a> <a id="5207" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5212" class="Number">0</a> <a id="5214" class="Symbol">→</a> <a id="5216" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="5235" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5248" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="5250" class="Symbol">)</a>
             <a id="5265" class="Symbol">→</a> <a id="5267" href="Graded.Heap.Soundness.html#5119" class="Bound">Δ</a> <a id="5269" href="Graded.Heap.Typed.html#3723" class="Datatype Operator">⊢ₛ</a> <a id="5272" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="5274" href="Graded.Heap.Typed.html#3723" class="Datatype Operator">∷</a> <a id="5276" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="5278" class="Symbol">→</a> <a id="5280" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="5282" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a>
             <a id="5297" class="Symbol">→</a> <a id="5299" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="5302" class="Symbol">λ</a> <a id="5304" href="Graded.Heap.Soundness.html#5304" class="Bound">m</a> <a id="5306" href="Graded.Heap.Soundness.html#5306" class="Bound">n</a> <a id="5308" href="Graded.Heap.Soundness.html#5308" class="Bound">H</a> <a id="5310" class="Symbol">(</a><a id="5311" href="Graded.Heap.Soundness.html#5311" class="Bound">ρ</a> <a id="5313" class="Symbol">:</a> <a id="5315" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="5318" href="Graded.Heap.Soundness.html#5304" class="Bound">m</a> <a id="5320" href="Graded.Heap.Soundness.html#5306" class="Bound">n</a><a id="5321" class="Symbol">)</a> <a id="5323" href="Graded.Heap.Soundness.html#5323" class="Bound">t</a> <a id="5325" class="Symbol">→</a> <a id="5327" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="5329" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="5332" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="5334" href="Graded.Heap.Soundness.html#5308" class="Bound">H</a> <a id="5336" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5338" href="Graded.Heap.Soundness.html#5323" class="Bound">t</a> <a id="5340" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5342" href="Graded.Heap.Soundness.html#5311" class="Bound">ρ</a> <a id="5344" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5346" class="InductiveConstructor">ε</a> <a id="5348" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="5350" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5367" href="Definition.Untyped.html#3454" class="Datatype">Numeral</a> <a id="5375" href="Graded.Heap.Soundness.html#5323" class="Bound">t</a> <a id="5377" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5379" href="Graded.Heap.Soundness.html#5119" class="Bound">Δ</a> <a id="5381" href="Definition.Typed.html#5259" class="Datatype Operator">⊢</a> <a id="5383" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦅</a> <a id="5385" href="Graded.Heap.Soundness.html#2354" class="Generalizable">s</a> <a id="5387" href="Graded.Heap.Untyped.html#9924" class="Function Operator">⦆</a> <a id="5389" href="Definition.Typed.html#5259" class="Datatype Operator">≡</a> <a id="5391" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="5394" href="Graded.Heap.Soundness.html#5311" class="Bound">ρ</a> <a id="5396" href="Graded.Heap.Soundness.html#5323" class="Bound">t</a> <a id="5398" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="5400" href="Graded.Heap.Soundness.html#5308" class="Bound">H</a> <a id="5402" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a> <a id="5405" href="Definition.Typed.html#5259" class="Datatype Operator">∷</a> <a id="5407" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="5409" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
               <a id="5426" href="Graded.Heap.Usage.html#3195" class="Datatype Operator">▸</a> <a id="5428" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="5430" href="Graded.Heap.Soundness.html#5308" class="Bound">H</a> <a id="5432" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5434" href="Graded.Heap.Soundness.html#5323" class="Bound">t</a> <a id="5436" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5438" href="Graded.Heap.Soundness.html#5311" class="Bound">ρ</a> <a id="5440" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="5442" class="InductiveConstructor">ε</a> <a id="5444" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a>
  <a id="5448" href="Graded.Heap.Soundness.html#5105" class="Function">redNumeral</a> <a id="5459" class="Symbol">{</a><a id="5460" href="Graded.Heap.Soundness.html#5460" class="Bound">s</a><a id="5461" class="Symbol">}</a> <a id="5463" href="Graded.Heap.Soundness.html#5463" class="Bound">consistent</a> <a id="5474" href="Graded.Heap.Soundness.html#5474" class="Bound">nem</a> <a id="5478" href="Graded.Heap.Soundness.html#5478" class="Bound">⊢s</a> <a id="5481" href="Graded.Heap.Soundness.html#5481" class="Bound">▸s</a> <a id="5484" class="Symbol">=</a>
    <a id="5490" href="Graded.Heap.Soundness.html#2570" class="Function">redNumeral′</a> <a id="5502" href="Graded.Heap.Soundness.html#5463" class="Bound">consistent</a> <a id="5513" href="Graded.Heap.Soundness.html#5474" class="Bound">nem</a>
      <a id="5523" class="Symbol">(</a><a id="5524" href="Definition.LogicalRelation.Substitution.Introductions.Nat.html#2445" class="Function">⊩∷ℕ⇔</a> <a id="5529" class="Symbol">.</a><a id="5530" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5536" class="Symbol">(</a><a id="5537" href="Definition.LogicalRelation.Fundamental.Reducibility.html#1446" class="Function">reducible-⊩∷</a> <a id="5550" class="Symbol">(</a><a id="5551" href="Graded.Heap.Typed.Properties.html#3145" class="Function">⊢⦅⦆</a> <a id="5555" class="Symbol">{</a><a id="5556" class="Argument">s</a> <a id="5558" class="Symbol">=</a> <a id="5560" href="Graded.Heap.Soundness.html#5460" class="Bound">s</a><a id="5561" class="Symbol">}</a> <a id="5563" href="Graded.Heap.Soundness.html#5478" class="Bound">⊢s</a><a id="5565" class="Symbol">)</a> <a id="5567" class="Symbol">.</a><a id="5568" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5573" class="Symbol">))</a>
      <a id="5582" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a> <a id="5590" href="Graded.Heap.Soundness.html#5478" class="Bound">⊢s</a> <a id="5593" href="Graded.Heap.Soundness.html#5481" class="Bound">▸s</a>

<a id="5597" class="Keyword">opaque</a>

  <a id="5607" class="Comment">-- Given some assumptions, all well-typed and erased terms of type ℕ reduce to some</a>
  <a id="5693" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="5770" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness"></a><a id="5852" href="Graded.Heap.Soundness.html#5852" class="Function">soundness</a> <a id="5862" class="Symbol">:</a> <a id="5864" class="Symbol">{</a><a id="5865" href="Graded.Heap.Soundness.html#5865" class="Bound">Δ</a> <a id="5867" class="Symbol">:</a> <a id="5869" href="Definition.Untyped.NotParametrised.html#882" class="Datatype">Con</a> <a id="5873" href="Definition.Untyped.html#1160" class="Datatype">Term</a> <a id="5878" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a><a id="5879" class="Symbol">}</a>
            <a id="5893" class="Symbol">→</a> <a id="5895" class="Symbol">(</a><a id="5896" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="5913" class="InductiveConstructor">𝟙ᵐ</a> <a id="5916" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="5918" class="Symbol">→</a> <a id="5920" href="Definition.Typed.html#20137" class="Function">Consistent</a> <a id="5931" href="Graded.Heap.Soundness.html#5865" class="Bound">Δ</a><a id="5932" class="Symbol">)</a>
            <a id="5946" class="Symbol">→</a> <a id="5948" class="Symbol">(</a><a id="5949" href="Graded.Heap.Soundness.html#2327" class="Generalizable">k</a> <a id="5951" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">PE.≢</a> <a id="5956" class="Number">0</a> <a id="5958" class="Symbol">→</a> <a id="5960" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="5979" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="5992" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a><a id="5994" class="Symbol">)</a>
            <a id="6008" class="Symbol">→</a> <a id="6010" href="Graded.Heap.Soundness.html#5865" class="Bound">Δ</a> <a id="6012" href="Definition.Typed.html#1725" class="Datatype Operator">⊢</a> <a id="6014" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="6016" href="Definition.Typed.html#1725" class="Datatype Operator">∷</a> <a id="6018" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="6020" class="Symbol">→</a> <a id="6022" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="6025" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="6027" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a>
            <a id="6041" class="Symbol">→</a> <a id="6043" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="6046" class="Symbol">λ</a> <a id="6048" href="Graded.Heap.Soundness.html#6048" class="Bound">m</a> <a id="6050" href="Graded.Heap.Soundness.html#6050" class="Bound">n</a> <a id="6052" href="Graded.Heap.Soundness.html#6052" class="Bound">H</a> <a id="6054" href="Graded.Heap.Soundness.html#6054" class="Bound">k</a> <a id="6056" class="Symbol">(</a><a id="6057" href="Graded.Heap.Soundness.html#6057" class="Bound">ρ</a> <a id="6059" class="Symbol">:</a> <a id="6061" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="6064" href="Graded.Heap.Soundness.html#6048" class="Bound">m</a> <a id="6066" href="Graded.Heap.Soundness.html#6050" class="Bound">n</a><a id="6067" class="Symbol">)</a> <a id="6069" class="Symbol">→</a>
              <a id="6085" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="6093" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="6095" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="6098" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="6100" href="Graded.Heap.Soundness.html#6052" class="Bound">H</a> <a id="6102" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6104" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="6109" href="Graded.Heap.Soundness.html#6054" class="Bound">k</a> <a id="6111" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6113" href="Graded.Heap.Soundness.html#6057" class="Bound">ρ</a> <a id="6115" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6117" class="InductiveConstructor">ε</a> <a id="6119" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="6121" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6137" class="Symbol">(</a><a id="6138" href="Graded.Heap.Soundness.html#5865" class="Bound">Δ</a> <a id="6140" href="Definition.Typed.html#5259" class="Datatype Operator">⊢</a> <a id="6142" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="6144" href="Definition.Typed.html#5259" class="Datatype Operator">≡</a> <a id="6146" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="6151" href="Graded.Heap.Soundness.html#6054" class="Bound">k</a> <a id="6153" href="Definition.Typed.html#5259" class="Datatype Operator">∷</a> <a id="6155" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="6156" class="Symbol">)</a> <a id="6158" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
              <a id="6174" href="Graded.Heap.Soundness.html#6052" class="Bound">H</a> <a id="6176" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="6179" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="6183" href="Graded.Heap.Soundness.html#5852" class="Function">soundness</a> <a id="6193" class="Symbol">{</a><a id="6194" href="Graded.Heap.Soundness.html#6194" class="Bound">k</a><a id="6195" class="Symbol">}</a> <a id="6197" class="Symbol">{</a><a id="6198" href="Graded.Heap.Soundness.html#6198" class="Bound">t</a><a id="6199" class="Symbol">}</a> <a id="6201" class="Symbol">{</a><a id="6202" href="Graded.Heap.Soundness.html#6202" class="Bound">Δ</a><a id="6203" class="Symbol">}</a> <a id="6205" href="Graded.Heap.Soundness.html#6205" class="Bound">consistent</a> <a id="6216" href="Graded.Heap.Soundness.html#6216" class="Bound">nem</a> <a id="6220" href="Graded.Heap.Soundness.html#6220" class="Bound">⊢t</a> <a id="6223" href="Graded.Heap.Soundness.html#6223" class="Bound">▸t</a> <a id="6226" class="Symbol">=</a>
    <a id="6232" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6237" href="Graded.Heap.Usage.Properties.html#1864" class="Function">▸initial</a> <a id="6246" href="Graded.Heap.Soundness.html#6223" class="Bound">▸t</a> <a id="6249" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6252" class="Symbol">λ</a>
      <a id="6260" href="Graded.Heap.Soundness.html#6260" class="Bound">▸s</a> <a id="6263" class="Symbol">→</a>
    <a id="6269" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6274" href="Graded.Heap.Soundness.html#5105" class="Function">redNumeral</a> <a id="6285" href="Graded.Heap.Soundness.html#6205" class="Bound">consistent</a> <a id="6296" href="Graded.Heap.Soundness.html#6216" class="Bound">nem</a> <a id="6300" class="Symbol">(</a><a id="6301" href="Graded.Heap.Typed.Properties.html#1799" class="Function">⊢initial</a> <a id="6310" href="Graded.Heap.Soundness.html#6220" class="Bound">⊢t</a><a id="6312" class="Symbol">)</a> <a id="6314" href="Graded.Heap.Soundness.html#6260" class="Bound">▸s</a> <a id="6317" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6320" class="Symbol">λ</a>
      <a id="6328" class="Symbol">(_</a> <a id="6331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6333" class="Symbol">_</a> <a id="6335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6337" href="Graded.Heap.Soundness.html#6337" class="Bound">H</a> <a id="6339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6341" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="6343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6345" href="Graded.Heap.Soundness.html#6345" class="Bound">t</a> <a id="6347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6349" href="Graded.Heap.Soundness.html#6349" class="Bound">d</a> <a id="6351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6353" href="Graded.Heap.Soundness.html#6353" class="Bound">num</a> <a id="6357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6359" href="Graded.Heap.Soundness.html#6359" class="Bound">s≡</a> <a id="6362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6364" href="Graded.Heap.Soundness.html#6364" class="Bound">▸s′</a><a id="6367" class="Symbol">)</a> <a id="6369" class="Symbol">→</a>
    <a id="6375" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6380" href="Graded.Heap.Usage.Inversion.html#1665" class="Function">▸ₛ-inv</a> <a id="6387" href="Graded.Heap.Soundness.html#6364" class="Bound">▸s′</a> <a id="6391" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6394" class="Symbol">λ</a>
    <a id="6400" class="Comment">-- case ▸-↠* ▸s d of λ {</a>
      <a id="6431" class="Symbol">(</a><a id="6432" href="Graded.Heap.Soundness.html#6432" class="Bound">γ</a> <a id="6434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6436" href="Graded.Heap.Soundness.html#6436" class="Bound">δ</a> <a id="6438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6440" href="Graded.Heap.Soundness.html#6440" class="Bound">η</a> <a id="6442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6444" href="Graded.Heap.Soundness.html#6444" class="Bound">▸H</a> <a id="6447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6449" href="Graded.Heap.Soundness.html#6449" class="Bound">▸n</a> <a id="6452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6454" href="Graded.Heap.Soundness.html#6454" class="Bound">▸ε</a> <a id="6457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6459" href="Graded.Heap.Soundness.html#6459" class="Bound">γ≤</a><a id="6461" class="Symbol">)</a> <a id="6463" class="Symbol">→</a>
    <a id="6469" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6474" href="Definition.Untyped.Properties.html#73520" class="Function">Numeral→sucᵏ</a> <a id="6487" href="Graded.Heap.Soundness.html#6353" class="Bound">num</a> <a id="6491" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6494" class="Symbol">λ</a>
      <a id="6502" class="Symbol">(</a><a id="6503" href="Graded.Heap.Soundness.html#6503" class="Bound">k</a> <a id="6505" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6507" href="Graded.Heap.Soundness.html#6507" class="Bound">≡sucᵏ</a><a id="6512" class="Symbol">)</a> <a id="6514" class="Symbol">→</a>
    <a id="6520" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6525" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">PE.subst</a> <a id="6534" class="Symbol">(λ</a> <a id="6537" href="Graded.Heap.Soundness.html#6537" class="Bound">x</a> <a id="6539" class="Symbol">→</a> <a id="6541" class="Symbol">_</a> <a id="6543" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="6546" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="6548" class="Symbol">_</a> <a id="6550" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6552" href="Graded.Heap.Soundness.html#6537" class="Bound">x</a> <a id="6554" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6556" class="Symbol">_</a> <a id="6558" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="6560" class="Symbol">_</a> <a id="6562" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a><a id="6563" class="Symbol">)</a> <a id="6565" href="Graded.Heap.Soundness.html#6507" class="Bound">≡sucᵏ</a> <a id="6571" href="Graded.Heap.Soundness.html#6349" class="Bound">d</a> <a id="6573" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6576" class="Symbol">λ</a>
      <a id="6584" href="Graded.Heap.Soundness.html#6584" class="Bound">d′</a> <a id="6587" class="Symbol">→</a>
    <a id="6593" class="Keyword">let</a> <a id="6597" class="Keyword">open</a> <a id="6602" href="Tools.Reasoning.PartialOrder.html" class="Module">RPo</a> <a id="6606" href="Graded.Context.Properties.PartialOrder.html#1875" class="Function">≤ᶜ-poset</a> <a id="6615" class="Keyword">in</a>
    <a id="6622" class="Symbol">_</a> <a id="6624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6626" class="Symbol">_</a> <a id="6628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6630" class="Symbol">_</a> <a id="6632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6634" class="Symbol">_</a> <a id="6636" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6638" class="Symbol">_</a>
      <a id="6646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6648" href="Graded.Heap.Soundness.html#6584" class="Bound">d′</a>
      <a id="6657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6659" href="Relation.Binary.PropositionalEquality.Core.html#2044" class="Function">PE.subst₂</a> <a id="6669" class="Symbol">(_</a> <a id="6672" href="Definition.Typed.html#5259" class="Datatype Operator">⊢_≡_∷</a> <a id="6678" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="6679" class="Symbol">)</a>
          <a id="6691" class="Symbol">(</a><a id="6692" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6701" class="Symbol">(</a><a id="6702" href="Graded.Heap.Untyped.Properties.html#23063" class="Function">erasedHeap-subst</a> <a id="6719" class="Symbol">(</a><a id="6720" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="6723" href="Definition.Untyped.NotParametrised.html#2630" class="InductiveConstructor">id</a> <a id="6726" class="Symbol">_))</a> <a id="6730" class="Symbol">(</a><a id="6731" href="Definition.Untyped.Properties.html#9557" class="Function">wk-id</a> <a id="6737" class="Symbol">_))</a>
          <a id="6751" class="Symbol">(</a><a id="6752" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="6770" class="Symbol">(λ</a> <a id="6773" href="Graded.Heap.Soundness.html#6773" class="Bound">x</a> <a id="6775" class="Symbol">→</a> <a id="6777" href="Definition.Untyped.html#9219" class="Function">wk</a> <a id="6780" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="6782" href="Graded.Heap.Soundness.html#6773" class="Bound">x</a> <a id="6784" href="Graded.Heap.Untyped.html#7996" class="Function Operator">[</a> <a id="6786" href="Graded.Heap.Soundness.html#6337" class="Bound">H</a> <a id="6788" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="6790" class="Symbol">)</a> <a id="6792" href="Graded.Heap.Soundness.html#6507" class="Bound">≡sucᵏ</a><a id="6797" class="Symbol">)</a>
            <a id="6811" class="Symbol">(</a><a id="6812" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">PE.trans</a> <a id="6821" class="Symbol">(</a><a id="6822" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">PE.cong</a> <a id="6830" class="Symbol">(</a><a id="6831" href="Graded.Heap.Untyped.html#7996" class="Function Operator">_[</a> <a id="6834" href="Graded.Heap.Soundness.html#6337" class="Bound">H</a> <a id="6836" href="Graded.Heap.Untyped.html#7996" class="Function Operator">]ₕ</a><a id="6838" class="Symbol">)</a> <a id="6840" class="Symbol">(</a><a id="6841" href="Definition.Untyped.Properties.html#73931" class="Function">wk-sucᵏ</a> <a id="6849" href="Graded.Heap.Soundness.html#6503" class="Bound">k</a><a id="6850" class="Symbol">))</a> <a id="6853" class="Symbol">(</a><a id="6854" href="Definition.Untyped.Properties.html#73760" class="Function">subst-sucᵏ</a> <a id="6865" href="Graded.Heap.Soundness.html#6503" class="Bound">k</a><a id="6866" class="Symbol">)))</a>
          <a id="6880" href="Graded.Heap.Soundness.html#6359" class="Bound">s≡</a>
      <a id="6889" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6891" href="Graded.Heap.Usage.Properties.html#3776" class="Function">𝟘▸H→H≤𝟘</a> <a id="6899" class="Symbol">(</a><a id="6900" href="Graded.Heap.Usage.Properties.html#3227" class="Function">subₕ</a> <a id="6905" href="Graded.Heap.Soundness.html#6444" class="Bound">▸H</a> <a id="6908" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6910" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
          <a id="6926" href="Graded.Heap.Soundness.html#6432" class="Bound">γ</a>                      <a id="6949" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="6952" href="Graded.Heap.Soundness.html#6459" class="Bound">γ≤</a> <a id="6955" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="6967" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="6969" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="6972" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="6979" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="6981" href="Graded.Heap.Soundness.html#6436" class="Bound">δ</a> <a id="6983" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="6986" href="Graded.Heap.Soundness.html#6440" class="Bound">η</a>   <a id="6990" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="6993" href="Graded.Context.Properties.Addition.html#2641" class="Function">+ᶜ-congˡ</a> <a id="7002" class="Symbol">(</a><a id="7003" href="Graded.Heap.Usage.Inversion.html#1571" class="Function">▸ˢ-ε-inv</a> <a id="7012" href="Graded.Heap.Soundness.html#6454" class="Bound">▸ε</a><a id="7014" class="Symbol">)</a> <a id="7016" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7028" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="7030" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="7033" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7040" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7042" href="Graded.Heap.Soundness.html#6436" class="Bound">δ</a> <a id="7044" href="Graded.Context.html#1501" class="Function Operator">+ᶜ</a> <a id="7047" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>  <a id="7051" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7054" href="Graded.Context.Properties.Addition.html#926" class="Function">+ᶜ-identityʳ</a> <a id="7067" class="Symbol">_</a> <a id="7069" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7081" href="Graded.Modality.html#928" class="Function">𝟙</a> <a id="7083" href="Graded.Context.html#1733" class="Function Operator">·ᶜ</a> <a id="7086" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7093" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7095" href="Graded.Heap.Soundness.html#6436" class="Bound">δ</a>        <a id="7104" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="7107" href="Graded.Context.Properties.Multiplication.html#701" class="Function">·ᶜ-identityˡ</a> <a id="7120" class="Symbol">_</a> <a id="7122" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
          <a id="7134" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7141" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7143" href="Graded.Heap.Soundness.html#6436" class="Bound">δ</a>             <a id="7157" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="7160" href="Graded.Context.Weakening.html#3188" class="Function">wk-≤ᶜ</a> <a id="7166" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7168" class="Symbol">(</a><a id="7169" href="Graded.Usage.Inversion.html#8729" class="Function">inv-usage-numeral</a> <a id="7187" href="Graded.Heap.Soundness.html#6449" class="Bound">▸n</a> <a id="7190" href="Graded.Heap.Soundness.html#6353" class="Bound">num</a><a id="7193" class="Symbol">)</a> <a id="7195" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
          <a id="7207" href="Graded.Context.Weakening.html#958" class="Function">wkConₘ</a> <a id="7214" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7216" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>            <a id="7230" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7233" href="Graded.Context.Weakening.html#1158" class="Function">wk-𝟘ᶜ</a> <a id="7239" href="Graded.Heap.Soundness.html#6341" class="Bound">ρ</a> <a id="7241" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
          <a id="7253" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a>                     <a id="7276" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7278" class="Symbol">)</a>

<a id="7281" class="Keyword">opaque</a>

  <a id="7291" class="Comment">-- The soundness property above specialized to closed terms</a>
  <a id="7353" class="Comment">-- All closed, well-typed and well-resourced terms of type ℕ reduce to some</a>
  <a id="7431" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘.</a>

  <a id="7508" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-closed"></a><a id="7590" href="Graded.Heap.Soundness.html#7590" class="Function">soundness-closed</a> <a id="7607" class="Symbol">:</a> <a id="7609" class="InductiveConstructor">ε</a> <a id="7611" href="Definition.Typed.html#1725" class="Datatype Operator">⊢</a> <a id="7613" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="7615" href="Definition.Typed.html#1725" class="Datatype Operator">∷</a> <a id="7617" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="7619" class="Symbol">→</a> <a id="7621" class="InductiveConstructor">ε</a> <a id="7623" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="7625" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a>
                   <a id="7646" class="Symbol">→</a> <a id="7648" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="7651" class="Symbol">λ</a> <a id="7653" href="Graded.Heap.Soundness.html#7653" class="Bound">m</a> <a id="7655" href="Graded.Heap.Soundness.html#7655" class="Bound">n</a> <a id="7657" href="Graded.Heap.Soundness.html#7657" class="Bound">H</a> <a id="7659" href="Graded.Heap.Soundness.html#7659" class="Bound">k</a> <a id="7661" class="Symbol">(</a><a id="7662" href="Graded.Heap.Soundness.html#7662" class="Bound">ρ</a> <a id="7664" class="Symbol">:</a> <a id="7666" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="7669" href="Graded.Heap.Soundness.html#7653" class="Bound">m</a> <a id="7671" href="Graded.Heap.Soundness.html#7655" class="Bound">n</a><a id="7672" class="Symbol">)</a> <a id="7674" class="Symbol">→</a>
                   <a id="7695" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="7703" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="7705" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="7708" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="7710" href="Graded.Heap.Soundness.html#7657" class="Bound">H</a> <a id="7712" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7714" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="7719" href="Graded.Heap.Soundness.html#7659" class="Bound">k</a> <a id="7721" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7723" href="Graded.Heap.Soundness.html#7662" class="Bound">ρ</a> <a id="7725" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="7727" class="InductiveConstructor">ε</a> <a id="7729" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="7731" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="7752" class="Symbol">(</a><a id="7753" class="InductiveConstructor">ε</a> <a id="7755" href="Definition.Typed.html#5259" class="Datatype Operator">⊢</a> <a id="7757" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="7759" href="Definition.Typed.html#5259" class="Datatype Operator">≡</a> <a id="7761" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="7766" href="Graded.Heap.Soundness.html#7659" class="Bound">k</a> <a id="7768" href="Definition.Typed.html#5259" class="Datatype Operator">∷</a> <a id="7770" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="7771" class="Symbol">)</a> <a id="7773" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="7794" href="Graded.Heap.Soundness.html#7657" class="Bound">H</a> <a id="7796" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="7799" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="7803" href="Graded.Heap.Soundness.html#7590" class="Function">soundness-closed</a> <a id="7820" class="Symbol">=</a> <a id="7822" href="Graded.Heap.Soundness.html#5852" class="Function">soundness</a> <a id="7832" class="Symbol">(λ</a> <a id="7835" href="Graded.Heap.Soundness.html#7835" class="Bound">_</a> <a id="7837" href="Graded.Heap.Soundness.html#7837" class="Bound">_</a> <a id="7839" class="Symbol">→</a> <a id="7841" href="Definition.Typed.Consequences.Canonicity.html#1889" class="Function">¬Empty</a><a id="7847" class="Symbol">)</a> <a id="7849" class="Symbol">(λ</a> <a id="7852" href="Graded.Heap.Soundness.html#7852" class="Bound">0≢0</a> <a id="7856" class="Symbol">→</a> <a id="7858" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="7865" class="Symbol">(</a><a id="7866" href="Graded.Heap.Soundness.html#7852" class="Bound">0≢0</a> <a id="7870" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">PE.refl</a><a id="7877" class="Symbol">))</a>

<a id="7881" class="Keyword">opaque</a>

  <a id="7891" class="Comment">-- The soundness property above specialized to open terms</a>
  <a id="7951" class="Comment">-- Given some assumptions, all well-typed and erased types of type ℕ reduce to some</a>
  <a id="8037" class="Comment">-- numeral and the resulting heap has all grades less than or equal to 𝟘</a>

  <a id="8113" class="Comment">-- Note that some assumptions to this theorem are given as a module parameter.</a>

  <a id="soundness-open"></a><a id="8195" href="Graded.Heap.Soundness.html#8195" class="Function">soundness-open</a> <a id="8210" class="Symbol">:</a> <a id="8212" class="Symbol">(</a><a id="8213" href="Graded.Usage.Restrictions.html#1638" class="Function">Emptyrec-allowed</a> <a id="8230" class="InductiveConstructor">𝟙ᵐ</a> <a id="8233" href="Graded.Modality.html#926" class="Function">𝟘</a> <a id="8235" class="Symbol">→</a> <a id="8237" href="Definition.Typed.html#20137" class="Function">Consistent</a> <a id="8248" href="Graded.Heap.Soundness.html#2391" class="Generalizable">Δ</a><a id="8249" class="Symbol">)</a>
                   <a id="8270" class="Symbol">→</a> <a id="8272" href="Graded.Restrictions.html#12751" class="Function">No-erased-matches′</a> <a id="8291" href="Definition.Typed.Restrictions.html#876" class="Field">type-variant</a> <a id="8304" href="Graded.Heap.Soundness.html#442" class="Bound">UR</a>
                   <a id="8326" class="Symbol">→</a> <a id="8328" href="Graded.Heap.Soundness.html#2391" class="Generalizable">Δ</a> <a id="8330" href="Definition.Typed.html#1725" class="Datatype Operator">⊢</a> <a id="8332" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="8334" href="Definition.Typed.html#1725" class="Datatype Operator">∷</a> <a id="8336" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a> <a id="8338" class="Symbol">→</a> <a id="8340" href="Graded.Context.html#2498" class="Function">𝟘ᶜ</a> <a id="8343" href="Graded.Usage.html#14461" class="Function Operator">▸</a> <a id="8345" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a>
                   <a id="8366" class="Symbol">→</a> <a id="8368" href="Tools.Product.html#1014" class="Function">∃₅</a> <a id="8371" class="Symbol">λ</a> <a id="8373" href="Graded.Heap.Soundness.html#8373" class="Bound">m</a> <a id="8375" href="Graded.Heap.Soundness.html#8375" class="Bound">n</a> <a id="8377" href="Graded.Heap.Soundness.html#8377" class="Bound">H</a> <a id="8379" href="Graded.Heap.Soundness.html#8379" class="Bound">k</a> <a id="8381" class="Symbol">(</a><a id="8382" href="Graded.Heap.Soundness.html#8382" class="Bound">ρ</a> <a id="8384" class="Symbol">:</a> <a id="8386" href="Definition.Untyped.NotParametrised.html#2601" class="Datatype">Wk</a> <a id="8389" href="Graded.Heap.Soundness.html#8373" class="Bound">m</a> <a id="8391" href="Graded.Heap.Soundness.html#8375" class="Bound">n</a><a id="8392" class="Symbol">)</a> <a id="8394" class="Symbol">→</a>
                   <a id="8415" href="Graded.Heap.Untyped.html#10096" class="Function">initial</a> <a id="8423" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="8425" href="Graded.Heap.Reduction.html#6890" class="Datatype Operator">↠*</a> <a id="8428" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟨</a> <a id="8430" href="Graded.Heap.Soundness.html#8377" class="Bound">H</a> <a id="8432" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8434" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="8439" href="Graded.Heap.Soundness.html#8379" class="Bound">k</a> <a id="8441" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8443" href="Graded.Heap.Soundness.html#8382" class="Bound">ρ</a> <a id="8445" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">,</a> <a id="8447" class="InductiveConstructor">ε</a> <a id="8449" href="Graded.Heap.Untyped.html#8915" class="InductiveConstructor Operator">⟩</a> <a id="8451" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8472" class="Symbol">(</a><a id="8473" href="Graded.Heap.Soundness.html#2391" class="Generalizable">Δ</a> <a id="8475" href="Definition.Typed.html#5259" class="Datatype Operator">⊢</a> <a id="8477" href="Graded.Heap.Soundness.html#2339" class="Generalizable">t</a> <a id="8479" href="Definition.Typed.html#5259" class="Datatype Operator">≡</a> <a id="8481" href="Definition.Untyped.html#3622" class="Function">sucᵏ</a> <a id="8486" href="Graded.Heap.Soundness.html#8379" class="Bound">k</a> <a id="8488" href="Definition.Typed.html#5259" class="Datatype Operator">∷</a> <a id="8490" href="Definition.Untyped.html#1668" class="InductiveConstructor">ℕ</a><a id="8491" class="Symbol">)</a> <a id="8493" href="Data.Product.Base.html#1618" class="Function Operator">×</a>
                   <a id="8514" href="Graded.Heap.Soundness.html#8377" class="Bound">H</a> <a id="8516" href="Graded.Heap.Usage.html#1271" class="Datatype Operator">≤ʰ</a> <a id="8519" href="Graded.Modality.html#926" class="Function">𝟘</a>
  <a id="8523" href="Graded.Heap.Soundness.html#8195" class="Function">soundness-open</a> <a id="8538" href="Graded.Heap.Soundness.html#8538" class="Bound">consistent</a> <a id="8549" href="Graded.Heap.Soundness.html#8549" class="Bound">erased</a> <a id="8556" class="Symbol">=</a> <a id="8558" href="Graded.Heap.Soundness.html#5852" class="Function">soundness</a> <a id="8568" href="Graded.Heap.Soundness.html#8538" class="Bound">consistent</a> <a id="8579" class="Symbol">λ</a> <a id="8581" href="Graded.Heap.Soundness.html#8581" class="Bound">_</a> <a id="8583" class="Symbol">→</a> <a id="8585" href="Graded.Heap.Soundness.html#8549" class="Bound">erased</a>
</pre></body></html>