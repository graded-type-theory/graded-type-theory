<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Instances.Linearity</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- A modality for linear types.</a>
<a id="106" class="Comment">------------------------------------------------------------------------</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Tools.Bool.html" class="Module">Tools.Bool</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Definition.Modality.Instances.Zero-one-many.html" class="Module">Definition.Modality.Instances.Zero-one-many</a> <a id="260" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> as <a id="𝟘𝟙ω"></a><a id="269" href="Definition.Modality.Instances.Linearity.html#269" class="Module">𝟘𝟙ω</a>

<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Definition.Modality.Restrictions.html" class="Module">Definition.Modality.Restrictions</a> <a id="319" href="Definition.Modality.Instances.Zero-one-many.html#1304" class="Datatype">Zero-one-many</a>

<a id="334" class="Keyword">module</a> <a id="341" href="Definition.Modality.Instances.Linearity.html" class="Module">Definition.Modality.Instances.Linearity</a>
  <a id="383" class="Symbol">(</a><a id="384" href="Definition.Modality.Instances.Linearity.html#384" class="Bound">restrictions</a> <a id="397" class="Symbol">:</a> <a id="399" href="Definition.Modality.Restrictions.html#723" class="Record">Restrictions</a><a id="411" class="Symbol">)</a>
  <a id="415" class="Keyword">where</a>

<a id="422" class="Keyword">open</a> <a id="427" href="Definition.Modality.Instances.Linearity.html#269" class="Module">𝟘𝟙ω</a> <a id="431" class="Keyword">renaming</a> <a id="440" class="Symbol">(</a><a id="441" href="Definition.Modality.Instances.Zero-one-many.html#1304" class="Datatype">Zero-one-many</a> <a id="455" class="Symbol">to</a> <a id="458" class="Datatype">Linearity</a><a id="467" class="Symbol">)</a> <a id="469" class="Keyword">public</a>

<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Definition.Modality.html" class="Module">Definition.Modality</a> <a id="509" href="Definition.Modality.Instances.Linearity.html#458" class="Datatype">Linearity</a>
<a id="519" class="Keyword">open</a> <a id="524" class="Keyword">import</a> <a id="531" href="Definition.Modality.FullReduction.Assumptions.html" class="Module">Definition.Modality.FullReduction.Assumptions</a>
<a id="577" class="Keyword">import</a> <a id="584" href="Definition.Modality.Properties.html" class="Module">Definition.Modality.Properties</a>

<a id="616" class="Keyword">open</a> <a id="621" class="Keyword">import</a> <a id="628" href="Definition.Typed.Restrictions.html" class="Module">Definition.Typed.Restrictions</a> <a id="658" href="Definition.Modality.Instances.Linearity.html#458" class="Datatype">Linearity</a>

<a id="669" class="Keyword">open</a> <a id="674" class="Keyword">import</a> <a id="681" href="Tools.Empty.html" class="Module">Tools.Empty</a>
<a id="693" class="Keyword">import</a> <a id="700" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a>
<a id="729" class="Keyword">open</a> <a id="734" class="Keyword">import</a> <a id="741" href="Tools.Unit.html" class="Module">Tools.Unit</a>

<a id="753" class="Comment">-- A &quot;linear types&quot; modality.</a>

<a id="linearityModality"></a><a id="784" href="Definition.Modality.Instances.Linearity.html#784" class="Function">linearityModality</a> <a id="802" class="Symbol">:</a> <a id="804" href="Definition.Modality.html#5116" class="Record">Modality</a>
<a id="813" href="Definition.Modality.Instances.Linearity.html#784" class="Function">linearityModality</a> <a id="831" class="Symbol">=</a> <a id="833" href="Definition.Modality.Instances.Zero-one-many.html#30295" class="Function">zero-one-many-greatest</a> <a id="856" href="Definition.Modality.Instances.Linearity.html#384" class="Bound">restrictions</a>

<a id="870" class="Keyword">open</a> <a id="875" href="Definition.Modality.Properties.html" class="Module">Definition.Modality.Properties</a> <a id="906" href="Definition.Modality.Instances.Linearity.html#784" class="Function">linearityModality</a>

<a id="925" class="Comment">-- Type restrictions that disallow the following types:</a>
<a id="981" class="Comment">-- * Unit types with η-equality.</a>
<a id="1014" class="Comment">-- * Σ-types with η-equality for which the first component&#39;s quantity</a>
<a id="1084" class="Comment">--   is 𝟘 or ω.</a>

<a id="linearity-restrictions"></a><a id="1101" href="Definition.Modality.Instances.Linearity.html#1101" class="Function">linearity-restrictions</a> <a id="1124" class="Symbol">:</a> <a id="1126" href="Definition.Typed.Restrictions.html#379" class="Record">Type-restrictions</a>
<a id="1144" href="Definition.Modality.Instances.Linearity.html#1101" class="Function">linearity-restrictions</a> <a id="1167" class="Symbol">=</a> <a id="1169" class="Keyword">record</a>
  <a id="1178" class="Symbol">{</a> <a id="1180" href="Definition.Typed.Restrictions.html#511" class="Field">Unit-restriction</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="Data.Empty.html#526" class="Datatype">⊥</a>
  <a id="1203" class="Symbol">;</a> <a id="1205" href="Definition.Typed.Restrictions.html#670" class="Field">Σₚ-restriction</a>   <a id="1222" class="Symbol">=</a> <a id="1224" class="Symbol">λ</a> <a id="1226" class="Keyword">where</a>
      <a id="1238" href="Definition.Modality.Instances.Zero-one-many.html#1332" class="InductiveConstructor">𝟘</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="Data.Empty.html#526" class="Datatype">⊥</a>
      <a id="1250" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">ω</a> <a id="1252" class="Symbol">→</a> <a id="1254" href="Data.Empty.html#526" class="Datatype">⊥</a>
      <a id="1262" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a> <a id="1264" class="Symbol">→</a> <a id="1266" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
  <a id="1270" class="Symbol">}</a>

<a id="1273" class="Comment">-- The full reduction assumptions hold for linearityModality and</a>
<a id="1338" class="Comment">-- linearity-restrictions.</a>

<a id="full-reduction-assumptions"></a><a id="1366" href="Definition.Modality.Instances.Linearity.html#1366" class="Function">full-reduction-assumptions</a> <a id="1393" class="Symbol">:</a>
  <a id="1397" href="Definition.Modality.FullReduction.Assumptions.html#705" class="Record">Full-reduction-assumptions</a> <a id="1424" href="Definition.Modality.Instances.Linearity.html#784" class="Function">linearityModality</a> <a id="1442" href="Definition.Modality.Instances.Linearity.html#1101" class="Function">linearity-restrictions</a>
<a id="1465" href="Definition.Modality.Instances.Linearity.html#1366" class="Function">full-reduction-assumptions</a> <a id="1492" class="Symbol">=</a> <a id="1494" class="Keyword">record</a>
  <a id="1503" class="Symbol">{</a> <a id="1505" href="Definition.Modality.FullReduction.Assumptions.html#889" class="Field">≤𝟘</a>           <a id="1518" class="Symbol">=</a> <a id="1520" class="Symbol">λ</a> <a id="1522" class="Symbol">()</a>
  <a id="1527" class="Symbol">;</a> <a id="1529" href="Definition.Modality.FullReduction.Assumptions.html#1060" class="Field">·-increasing</a> <a id="1542" class="Symbol">=</a> <a id="1544" class="Symbol">λ</a> <a id="1546" class="Keyword">where</a>
      <a id="1558" class="Symbol">{</a><a id="1559" class="Argument">p</a> <a id="1561" class="Symbol">=</a> <a id="1563" href="Definition.Modality.Instances.Zero-one-many.html#1332" class="InductiveConstructor">𝟘</a><a id="1564" class="Symbol">}</a>         <a id="1574" class="Symbol">()</a>
      <a id="1583" class="Symbol">{</a><a id="1584" class="Argument">p</a> <a id="1586" class="Symbol">=</a> <a id="1588" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">ω</a><a id="1589" class="Symbol">}</a>         <a id="1599" class="Symbol">()</a>
      <a id="1608" class="Symbol">{</a><a id="1609" class="Argument">p</a> <a id="1611" class="Symbol">=</a> <a id="1613" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a><a id="1614" class="Symbol">}</a> <a id="1616" class="Symbol">{</a><a id="1617" class="Argument">q</a> <a id="1619" class="Symbol">=</a> <a id="1621" href="Definition.Modality.Instances.Linearity.html#1621" class="Bound">q</a><a id="1622" class="Symbol">}</a> <a id="1624" class="Symbol">_</a>  <a id="1627" class="Symbol">→</a> <a id="1629" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="1643" href="Definition.Modality.Instances.Linearity.html#1621" class="Bound">q</a>      <a id="1650" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">≡˘⟨</a> <a id="1654" href="Definition.Modality.html#2141" class="Function">·-identityˡ</a> <a id="1666" class="Symbol">_</a> <a id="1668" href="Relation.Binary.Reasoning.Base.Triple.html#4870" class="Function">⟩</a>
        <a id="1678" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a> <a id="1680" href="Definition.Modality.Instances.Zero-one-many.html#7238" class="Function Operator">·</a> <a id="1682" href="Definition.Modality.Instances.Linearity.html#1621" class="Bound">q</a>  <a id="1685" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="1689" class="Symbol">;</a> <a id="1691" href="Definition.Modality.FullReduction.Assumptions.html#1254" class="Field">⌞⌟≡𝟙ᵐ→≤𝟙</a> <a id="1700" class="Symbol">=</a> <a id="1702" class="Symbol">λ</a> <a id="1704" class="Keyword">where</a>
      <a id="1716" class="Symbol">{</a><a id="1717" class="Argument">p</a> <a id="1719" class="Symbol">=</a> <a id="1721" href="Definition.Modality.Instances.Zero-one-many.html#1332" class="InductiveConstructor">𝟘</a><a id="1722" class="Symbol">}</a> <a id="1724" class="Symbol">()</a>
      <a id="1733" class="Symbol">{</a><a id="1734" class="Argument">p</a> <a id="1736" class="Symbol">=</a> <a id="1738" href="Definition.Modality.Instances.Zero-one-many.html#1336" class="InductiveConstructor">ω</a><a id="1739" class="Symbol">}</a> <a id="1741" class="Symbol">()</a>
      <a id="1750" class="Symbol">{</a><a id="1751" class="Argument">p</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a><a id="1756" class="Symbol">}</a> <a id="1758" class="Symbol">_</a>  <a id="1761" class="Symbol">_</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="Relation.Binary.Reasoning.Base.Triple.html#3010" class="Function Operator">begin</a>
        <a id="1779" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a>  <a id="1782" href="Relation.Binary.Reasoning.Base.Triple.html#5023" class="Function Operator">≡⟨⟩</a>
        <a id="1794" href="Definition.Modality.Instances.Zero-one-many.html#1334" class="InductiveConstructor">𝟙</a>  <a id="1797" href="Relation.Binary.Reasoning.Base.Triple.html#5119" class="Function Operator">∎</a>
  <a id="1801" class="Symbol">}</a>
  <a id="1805" class="Keyword">where</a>
  <a id="1813" class="Keyword">open</a> <a id="1818" href="Definition.Modality.html#5116" class="Module">Modality</a> <a id="1827" href="Definition.Modality.Instances.Linearity.html#784" class="Function">linearityModality</a> <a id="1845" class="Keyword">using</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Definition.Modality.html#2141" class="Function">·-identityˡ</a><a id="1863" class="Symbol">)</a>
  <a id="1867" class="Keyword">open</a> <a id="1872" href="Tools.Reasoning.PartialOrder.html" class="Module">Tools.Reasoning.PartialOrder</a> <a id="1901" href="Definition.Modality.Properties.PartialOrder.html#1507" class="Function">≤-poset</a>
</pre></body></html>