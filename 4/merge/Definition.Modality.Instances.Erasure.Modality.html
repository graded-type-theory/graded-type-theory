<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Instances.Erasure.Modality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The erasure modality.</a>
<a id="99" class="Comment">------------------------------------------------------------------------</a>

<a id="173" class="Keyword">open</a> <a id="178" class="Keyword">import</a> <a id="185" href="Definition.Modality.Instances.Erasure.html" class="Module">Definition.Modality.Instances.Erasure</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Definition.Modality.Restrictions.html" class="Module">Definition.Modality.Restrictions</a>

<a id="269" class="Keyword">module</a> <a id="276" href="Definition.Modality.Instances.Erasure.Modality.html" class="Module">Definition.Modality.Instances.Erasure.Modality</a>
  <a id="325" class="Symbol">(</a><a id="326" href="Definition.Modality.Instances.Erasure.Modality.html#326" class="Bound">restrictions</a> <a id="339" class="Symbol">:</a> <a id="341" href="Definition.Modality.Restrictions.html#723" class="Record">Restrictions</a> <a id="354" href="Definition.Modality.Instances.Erasure.html#397" class="Datatype">Erasure</a><a id="361" class="Symbol">)</a>
  <a id="365" class="Keyword">where</a>

<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="466" class="Keyword">open</a> <a id="471" class="Keyword">import</a> <a id="478" href="Definition.Modality.html" class="Module">Definition.Modality</a> <a id="498" href="Definition.Modality.Instances.Erasure.html#397" class="Datatype">Erasure</a> <a id="506" class="Keyword">public</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Tools.Sum.html" class="Module">Tools.Sum</a>

<a id="536" class="Comment">-- Erasure annotations forms a semiring with meet</a>

<a id="erasure-semiring-with-meet"></a><a id="587" href="Definition.Modality.Instances.Erasure.Modality.html#587" class="Function">erasure-semiring-with-meet</a> <a id="614" class="Symbol">:</a> <a id="616" href="Definition.Modality.html#504" class="Record">Semiring-with-meet</a>
<a id="635" href="Definition.Modality.Instances.Erasure.Modality.html#587" class="Function">erasure-semiring-with-meet</a> <a id="662" class="Symbol">=</a> <a id="664" class="Keyword">record</a>
  <a id="673" class="Symbol">{</a> <a id="675" href="Definition.Modality.html#690" class="Field Operator">_+_</a> <a id="679" class="Symbol">=</a> <a id="681" href="Definition.Modality.Instances.Erasure.html#699" class="Function Operator">_+_</a>
  <a id="687" class="Symbol">;</a> <a id="689" href="Definition.Modality.html#718" class="Field Operator">_·_</a> <a id="693" class="Symbol">=</a> <a id="695" href="Definition.Modality.Instances.Erasure.html#780" class="Function Operator">_·_</a>
  <a id="701" class="Symbol">;</a> <a id="703" href="Definition.Modality.html#752" class="Field Operator">_∧_</a> <a id="707" class="Symbol">=</a> <a id="709" href="Definition.Modality.Instances.Erasure.html#876" class="Function Operator">_∧_</a>
  <a id="715" class="Symbol">;</a> <a id="717" href="Definition.Modality.html#813" class="Field">𝟘</a> <a id="719" class="Symbol">=</a> <a id="721" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a>
  <a id="725" class="Symbol">;</a> <a id="727" href="Definition.Modality.html#823" class="Field">𝟙</a> <a id="729" class="Symbol">=</a> <a id="731" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a>
  <a id="735" class="Symbol">;</a> <a id="737" href="Definition.Modality.html#908" class="Field">+-·-Semiring</a> <a id="750" class="Symbol">=</a> <a id="752" href="Definition.Modality.Instances.Erasure.html#8162" class="Function">+-·-Semiring</a>
  <a id="767" class="Symbol">;</a> <a id="769" href="Definition.Modality.html#980" class="Field">∧-Semilattice</a> <a id="783" class="Symbol">=</a> <a id="785" href="Definition.Modality.Instances.Erasure.html#7072" class="Function">+-Semilattice</a>
  <a id="801" class="Symbol">;</a> <a id="803" href="Definition.Modality.html#1067" class="Field">·-distrib-∧</a> <a id="815" class="Symbol">=</a> <a id="817" href="Definition.Modality.Instances.Erasure.html#5447" class="Function">·-distrib-+</a>
  <a id="831" class="Symbol">;</a> <a id="833" href="Definition.Modality.html#1155" class="Field">+-distrib-∧</a> <a id="845" class="Symbol">=</a> <a id="847" href="Definition.Modality.Instances.Erasure.html#6047" class="Function">+-distrib-+</a>
  <a id="861" class="Symbol">}</a>

<a id="864" class="Comment">-- The zero of the erasure semiring is well-behaved</a>

<a id="erasure-has-well-behaved-zero"></a><a id="917" href="Definition.Modality.Instances.Erasure.Modality.html#917" class="Function">erasure-has-well-behaved-zero</a> <a id="947" class="Symbol">:</a> <a id="949" href="Definition.Modality.html#2705" class="Record">Has-well-behaved-zero</a> <a id="971" href="Definition.Modality.Instances.Erasure.Modality.html#587" class="Function">erasure-semiring-with-meet</a>
<a id="998" href="Definition.Modality.Instances.Erasure.Modality.html#917" class="Function">erasure-has-well-behaved-zero</a> <a id="1028" class="Symbol">=</a> <a id="1030" class="Keyword">record</a>
  <a id="1039" class="Symbol">{</a> <a id="1041" href="Definition.Modality.html#2839" class="Field">𝟙≉𝟘</a> <a id="1045" class="Symbol">=</a> <a id="1047" class="Symbol">λ</a> <a id="1049" class="Symbol">()</a>
  <a id="1054" class="Symbol">;</a> <a id="1056" href="Definition.Modality.html#2915" class="Field">is-𝟘?</a> <a id="1062" class="Symbol">=</a> <a id="1064" class="Symbol">λ</a> <a id="1066" class="Keyword">where</a>
      <a id="1078" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a> <a id="1080" class="Symbol">→</a> <a id="1082" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1086" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1097" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a> <a id="1099" class="Symbol">→</a> <a id="1101" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1104" class="Symbol">(λ</a> <a id="1107" class="Symbol">())</a>
  <a id="1113" class="Symbol">;</a> <a id="1115" href="Definition.Modality.html#3192" class="Field">zero-product</a> <a id="1128" class="Symbol">=</a> <a id="1130" class="Symbol">λ</a> <a id="1132" class="Keyword">where</a>
      <a id="1144" class="Symbol">{</a><a id="1145" class="Argument">p</a> <a id="1147" class="Symbol">=</a> <a id="1149" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1150" class="Symbol">}</a> <a id="1152" class="Symbol">{</a><a id="1153" class="Argument">q</a> <a id="1155" class="Symbol">=</a> <a id="1157" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1158" class="Symbol">}</a> <a id="1160" class="Symbol">_</a>  <a id="1163" class="Symbol">→</a> <a id="1165" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1170" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1181" class="Symbol">{</a><a id="1182" class="Argument">p</a> <a id="1184" class="Symbol">=</a> <a id="1186" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1187" class="Symbol">}</a> <a id="1189" class="Symbol">{</a><a id="1190" class="Argument">q</a> <a id="1192" class="Symbol">=</a> <a id="1194" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1195" class="Symbol">}</a> <a id="1197" class="Symbol">_</a>  <a id="1200" class="Symbol">→</a> <a id="1202" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1207" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1218" class="Symbol">{</a><a id="1219" class="Argument">p</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1224" class="Symbol">}</a> <a id="1226" class="Symbol">{</a><a id="1227" class="Argument">q</a> <a id="1229" class="Symbol">=</a> <a id="1231" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1232" class="Symbol">}</a> <a id="1234" class="Symbol">_</a>  <a id="1237" class="Symbol">→</a> <a id="1239" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1244" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1255" class="Symbol">{</a><a id="1256" class="Argument">p</a> <a id="1258" class="Symbol">=</a> <a id="1260" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1261" class="Symbol">}</a> <a id="1263" class="Symbol">{</a><a id="1264" class="Argument">q</a> <a id="1266" class="Symbol">=</a> <a id="1268" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1269" class="Symbol">}</a> <a id="1271" class="Symbol">()</a>
  <a id="1276" class="Symbol">;</a> <a id="1278" href="Definition.Modality.html#3486" class="Field">+-positiveˡ</a> <a id="1290" class="Symbol">=</a> <a id="1292" class="Symbol">λ</a> <a id="1294" class="Keyword">where</a>
      <a id="1306" class="Symbol">{</a><a id="1307" class="Argument">p</a> <a id="1309" class="Symbol">=</a> <a id="1311" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1312" class="Symbol">}</a>         <a id="1322" class="Symbol">_</a>  <a id="1325" class="Symbol">→</a> <a id="1327" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1338" class="Symbol">{</a><a id="1339" class="Argument">p</a> <a id="1341" class="Symbol">=</a> <a id="1343" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1344" class="Symbol">}</a> <a id="1346" class="Symbol">{</a><a id="1347" class="Argument">q</a> <a id="1349" class="Symbol">=</a> <a id="1351" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1352" class="Symbol">}</a> <a id="1354" class="Symbol">()</a>
      <a id="1363" class="Symbol">{</a><a id="1364" class="Argument">p</a> <a id="1366" class="Symbol">=</a> <a id="1368" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1369" class="Symbol">}</a> <a id="1371" class="Symbol">{</a><a id="1372" class="Argument">q</a> <a id="1374" class="Symbol">=</a> <a id="1376" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1377" class="Symbol">}</a> <a id="1379" class="Symbol">()</a>
  <a id="1384" class="Symbol">;</a> <a id="1386" href="Definition.Modality.html#3736" class="Field">∧-positiveˡ</a> <a id="1398" class="Symbol">=</a> <a id="1400" class="Symbol">λ</a> <a id="1402" class="Keyword">where</a>
      <a id="1414" class="Symbol">{</a><a id="1415" class="Argument">p</a> <a id="1417" class="Symbol">=</a> <a id="1419" href="Definition.Modality.Instances.Erasure.html#419" class="InductiveConstructor">𝟘</a><a id="1420" class="Symbol">}</a> <a id="1422" class="Symbol">_</a> <a id="1424" class="Symbol">→</a> <a id="1426" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="1437" class="Symbol">{</a><a id="1438" class="Argument">p</a> <a id="1440" class="Symbol">=</a> <a id="1442" href="Definition.Modality.Instances.Erasure.html#421" class="InductiveConstructor">ω</a><a id="1443" class="Symbol">}</a> <a id="1445" class="Symbol">()</a>
  <a id="1450" class="Symbol">}</a>

<a id="1453" class="Comment">-- Erasure annotations forms a semiring with meet and star</a>

<a id="erasure-semiring-with-meet-and-star"></a><a id="1513" href="Definition.Modality.Instances.Erasure.Modality.html#1513" class="Function">erasure-semiring-with-meet-and-star</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="Definition.Modality.html#3840" class="Record">Semiring-with-meet-and-star</a>
<a id="1579" href="Definition.Modality.Instances.Erasure.Modality.html#1513" class="Function">erasure-semiring-with-meet-and-star</a> <a id="1615" class="Symbol">=</a> <a id="1617" class="Keyword">record</a>
  <a id="1626" class="Symbol">{</a> <a id="1628" href="Definition.Modality.html#3912" class="Field">semiring-with-meet</a> <a id="1647" class="Symbol">=</a> <a id="1649" href="Definition.Modality.Instances.Erasure.Modality.html#587" class="Function">erasure-semiring-with-meet</a>
  <a id="1678" class="Symbol">;</a> <a id="1680" href="Definition.Modality.html#4053" class="Field Operator">_⊛_▷_</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Definition.Modality.Instances.Erasure.html#931" class="Function Operator">_⊛_▷_</a>
  <a id="1696" class="Symbol">;</a> <a id="1698" href="Definition.Modality.html#4135" class="Field">⊛-ineq</a> <a id="1705" class="Symbol">=</a> <a id="1707" href="Definition.Modality.Instances.Erasure.html#3157" class="Function">⊛-ineq₁</a> <a id="1715" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1717" href="Definition.Modality.Instances.Erasure.html#3369" class="Function">⊛-ineq₂</a>
  <a id="1727" class="Symbol">;</a> <a id="1729" href="Definition.Modality.html#4314" class="Field">+-sub-interchangeable-⊛</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="Definition.Modality.Instances.Erasure.html#3569" class="Function">+-sub-interchangeable-⊛</a>
  <a id="1781" class="Symbol">;</a> <a id="1783" href="Definition.Modality.html#4478" class="Field">·-sub-distribʳ-⊛</a> <a id="1800" class="Symbol">=</a> <a id="1802" href="Definition.Modality.Instances.Erasure.html#3947" class="Function">·-sub-distribʳ-⊛</a>
  <a id="1821" class="Symbol">;</a> <a id="1823" href="Definition.Modality.html#4620" class="Field">⊛-sub-distrib-∧</a> <a id="1839" class="Symbol">=</a> <a id="1841" class="Symbol">λ</a> <a id="1843" href="Definition.Modality.Instances.Erasure.Modality.html#1843" class="Bound">r</a> <a id="1845" class="Symbol">→</a> <a id="1847" href="Definition.Modality.Instances.Erasure.html#4254" class="Function">⊛-sub-distribˡ-∧</a> <a id="1864" href="Definition.Modality.Instances.Erasure.Modality.html#1843" class="Bound">r</a> <a id="1866" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1868" href="Definition.Modality.Instances.Erasure.html#4497" class="Function">⊛-sub-distribʳ-∧</a> <a id="1885" href="Definition.Modality.Instances.Erasure.Modality.html#1843" class="Bound">r</a>
  <a id="1889" class="Symbol">}</a>

<a id="1892" class="Comment">-- The erasure modality instance</a>

<a id="ErasureModality"></a><a id="1926" href="Definition.Modality.Instances.Erasure.Modality.html#1926" class="Function">ErasureModality</a> <a id="1942" class="Symbol">:</a> <a id="1944" href="Definition.Modality.html#5116" class="Record">Modality</a>
<a id="1953" href="Definition.Modality.Instances.Erasure.Modality.html#1926" class="Function">ErasureModality</a> <a id="1969" class="Symbol">=</a> <a id="1971" class="Keyword">record</a>
  <a id="1980" class="Symbol">{</a> <a id="1982" href="Definition.Modality.html#5158" class="Field">semiring-with-meet-and-star</a> <a id="2010" class="Symbol">=</a> <a id="2012" href="Definition.Modality.Instances.Erasure.Modality.html#1513" class="Function">erasure-semiring-with-meet-and-star</a>
  <a id="2050" class="Symbol">;</a> <a id="2052" href="Definition.Modality.html#5363" class="Field">restrictions</a> <a id="2065" class="Symbol">=</a> <a id="2067" href="Definition.Modality.Instances.Erasure.Modality.html#326" class="Bound">restrictions</a>
  <a id="2082" class="Symbol">;</a> <a id="2084" href="Definition.Modality.html#5508" class="Field">𝟘-well-behaved</a> <a id="2099" class="Symbol">=</a> <a id="2101" class="Symbol">λ</a> <a id="2103" href="Definition.Modality.Instances.Erasure.Modality.html#2103" class="Bound">_</a> <a id="2105" class="Symbol">→</a> <a id="2107" href="Definition.Modality.Instances.Erasure.Modality.html#917" class="Function">erasure-has-well-behaved-zero</a>
  <a id="2139" class="Symbol">}</a>
</pre></body></html>